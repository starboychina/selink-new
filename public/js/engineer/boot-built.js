(function(e,t){typeof module=="object"&&typeof module.exports=="object"?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)})(typeof window!="undefined"?window:this,function(window,noGlobal){function isArraylike(e){var t=e.length,n=jQuery.type(e);return n==="function"||jQuery.isWindow(e)?!1:e.nodeType===1&&t?!0:n==="array"||t===0||typeof t=="number"&&t>0&&t-1 in e}function winnow(e,t,n){if(jQuery.isFunction(t))return jQuery.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return jQuery.grep(e,function(e){return e===t!==n});if(typeof t=="string"){if(risSimple.test(t))return jQuery.filter(t,e,n);t=jQuery.filter(t,e)}return jQuery.grep(e,function(e){return indexOf.call(t,e)>=0!==n})}function sibling(e,t){while((e=e[t])&&e.nodeType!==1);return e}function createOptions(e){var t=optionsCache[e]={};return jQuery.each(e.match(rnotwhite)||[],function(e,n){t[n]=!0}),t}function completed(){document.removeEventListener("DOMContentLoaded",completed,!1),window.removeEventListener("load",completed,!1),jQuery.ready()}function Data(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=jQuery.expando+Math.random()}function dataAttr(e,t,n){var r;if(n===undefined&&e.nodeType===1){r="data-"+t.replace(rmultiDash,"-$1").toLowerCase(),n=e.getAttribute(r);if(typeof n=="string"){try{n=n==="true"?!0:n==="false"?!1:n==="null"?null:+n+""===n?+n:rbrace.test(n)?jQuery.parseJSON(n):n}catch(i){}data_user.set(e,t,n)}else n=undefined}return n}function returnTrue(){return!0}function returnFalse(){return!1}function safeActiveElement(){try{return document.activeElement}catch(e){}}function manipulationTarget(e,t){return jQuery.nodeName(e,"table")&&jQuery.nodeName(t.nodeType!==11?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function disableScript(e){return e.type=(e.getAttribute("type")!==null)+"/"+e.type,e}function restoreScript(e){var t=rscriptTypeMasked.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function setGlobalEval(e,t){var n=0,r=e.length;for(;n<r;n++)data_priv.set(e[n],"globalEval",!t||data_priv.get(t[n],"globalEval"))}function cloneCopyEvent(e,t){var n,r,i,s,o,u,a,f;if(t.nodeType!==1)return;if(data_priv.hasData(e)){s=data_priv.access(e),o=data_priv.set(t,s),f=s.events;if(f){delete o.handle,o.events={};for(i in f)for(n=0,r=f[i].length;n<r;n++)jQuery.event.add(t,i,f[i][n])}}data_user.hasData(e)&&(u=data_user.access(e),a=jQuery.extend({},u),data_user.set(t,a))}function getAll(e,t){var n=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return t===undefined||t&&jQuery.nodeName(e,t)?jQuery.merge([e],n):n}function fixInput(e,t){var n=t.nodeName.toLowerCase();if(n==="input"&&rcheckableType.test(e.type))t.checked=e.checked;else if(n==="input"||n==="textarea")t.defaultValue=e.defaultValue}function actualDisplay(e,t){var n=jQuery(t.createElement(e)).appendTo(t.body),r=window.getDefaultComputedStyle?window.getDefaultComputedStyle(n[0]).display:jQuery.css(n[0],"display");return n.detach(),r}function defaultDisplay(e){var t=document,n=elemdisplay[e];if(!n){n=actualDisplay(e,t);if(n==="none"||!n)iframe=(iframe||jQuery("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement),t=iframe[0].contentDocument,t.write(),t.close(),n=actualDisplay(e,t),iframe.detach();elemdisplay[e]=n}return n}function curCSS(e,t,n){var r,i,s,o,u=e.style;return n=n||getStyles(e),n&&(o=n.getPropertyValue(t)||n[t]),n&&(o===""&&!jQuery.contains(e.ownerDocument,e)&&(o=jQuery.style(e,t)),rnumnonpx.test(o)&&rmargin.test(t)&&(r=u.width,i=u.minWidth,s=u.maxWidth,u.minWidth=u.maxWidth=u.width=o,o=n.width,u.width=r,u.minWidth=i,u.maxWidth=s)),o!==undefined?o+"":o}function addGetHookIf(e,t){return{get:function(){if(e()){delete this.get;return}return(this.get=t).apply(this,arguments)}}}function vendorPropName(e,t){if(t in e)return t;var n=t[0].toUpperCase()+t.slice(1),r=t,i=cssPrefixes.length;while(i--){t=cssPrefixes[i]+n;if(t in e)return t}return r}function setPositiveNumber(e,t,n){var r=rnumsplit.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function augmentWidthOrHeight(e,t,n,r,i){var s=n===(r?"border":"content")?4:t==="width"?1:0,o=0;for(;s<4;s+=2)n==="margin"&&(o+=jQuery.css(e,n+cssExpand[s],!0,i)),r?(n==="content"&&(o-=jQuery.css(e,"padding"+cssExpand[s],!0,i)),n!=="margin"&&(o-=jQuery.css(e,"border"+cssExpand[s]+"Width",!0,i))):(o+=jQuery.css(e,"padding"+cssExpand[s],!0,i),n!=="padding"&&(o+=jQuery.css(e,"border"+cssExpand[s]+"Width",!0,i)));return o}function getWidthOrHeight(e,t,n){var r=!0,i=t==="width"?e.offsetWidth:e.offsetHeight,s=getStyles(e),o=jQuery.css(e,"boxSizing",!1,s)==="border-box";if(i<=0||i==null){i=curCSS(e,t,s);if(i<0||i==null)i=e.style[t];if(rnumnonpx.test(i))return i;r=o&&(support.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+augmentWidthOrHeight(e,t,n||(o?"border":"content"),r,s)+"px"}function showHide(e,t){var n,r,i,s=[],o=0,u=e.length;for(;o<u;o++){r=e[o];if(!r.style)continue;s[o]=data_priv.get(r,"olddisplay"),n=r.style.display,t?(!s[o]&&n==="none"&&(r.style.display=""),r.style.display===""&&isHidden(r)&&(s[o]=data_priv.access(r,"olddisplay",defaultDisplay(r.nodeName)))):s[o]||(i=isHidden(r),(n&&n!=="none"||!i)&&data_priv.set(r,"olddisplay",i?n:jQuery.css(r,"display")))}for(o=0;o<u;o++){r=e[o];if(!r.style)continue;if(!t||r.style.display==="none"||r.style.display==="")r.style.display=t?s[o]||"":"none"}return e}function Tween(e,t,n,r,i){return new Tween.prototype.init(e,t,n,r,i)}function createFxNow(){return setTimeout(function(){fxNow=undefined}),fxNow=jQuery.now()}function genFx(e,t){var n,r=0,i={height:e};t=t?1:0;for(;r<4;r+=2-t)n=cssExpand[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function createTween(e,t,n){var r,i=(tweeners[t]||[]).concat(tweeners["*"]),s=0,o=i.length;for(;s<o;s++)if(r=i[s].call(n,t,e))return r}function defaultPrefilter(e,t,n){var r,i,s,o,u,a,f,l=this,c={},h=e.style,p=e.nodeType&&isHidden(e),d=data_priv.get(e,"fxshow");n.queue||(u=jQuery._queueHooks(e,"fx"),u.unqueued==null&&(u.unqueued=0,a=u.empty.fire,u.empty.fire=function(){u.unqueued||a()}),u.unqueued++,l.always(function(){l.always(function(){u.unqueued--,jQuery.queue(e,"fx").length||u.empty.fire()})})),e.nodeType===1&&("height"in t||"width"in t)&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],f=jQuery.css(e,"display"),f==="none"&&(f=defaultDisplay(e.nodeName)),f==="inline"&&jQuery.css(e,"float")==="none"&&(h.display="inline-block")),n.overflow&&(h.overflow="hidden",l.always(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]}));for(r in t){i=t[r];if(rfxtypes.exec(i)){delete t[r],s=s||i==="toggle";if(i===(p?"hide":"show")){if(i!=="show"||!d||d[r]===undefined)continue;p=!0}c[r]=d&&d[r]||jQuery.style(e,r)}}if(!jQuery.isEmptyObject(c)){d?"hidden"in d&&(p=d.hidden):d=data_priv.access(e,"fxshow",{}),s&&(d.hidden=!p),p?jQuery(e).show():l.done(function(){jQuery(e).hide()}),l.done(function(){var t;data_priv.remove(e,"fxshow");for(t in c)jQuery.style(e,t,c[t])});for(r in c)o=createTween(p?d[r]:0,r,l),r in d||(d[r]=o.start,p&&(o.end=o.start,o.start=r==="width"||r==="height"?1:0))}}function propFilter(e,t){var n,r,i,s,o;for(n in e){r=jQuery.camelCase(n),i=t[r],s=e[n],jQuery.isArray(s)&&(i=s[1],s=e[n]=s[0]),n!==r&&(e[r]=s,delete e[n]),o=jQuery.cssHooks[r];if(o&&"expand"in o){s=o.expand(s),delete e[r];for(n in s)n in e||(e[n]=s[n],t[n]=i)}else t[r]=i}}function Animation(e,t,n){var r,i,s=0,o=animationPrefilters.length,u=jQuery.Deferred().always(function(){delete a.elem}),a=function(){if(i)return!1;var t=fxNow||createFxNow(),n=Math.max(0,f.startTime+f.duration-t),r=n/f.duration||0,s=1-r,o=0,a=f.tweens.length;for(;o<a;o++)f.tweens[o].run(s);return u.notifyWith(e,[f,s,n]),s<1&&a?n:(u.resolveWith(e,[f]),!1)},f=u.promise({elem:e,props:jQuery.extend({},t),opts:jQuery.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:fxNow||createFxNow(),duration:n.duration,tweens:[],createTween:function(t,n){var r=jQuery.Tween(e,f.opts,t,n,f.opts.specialEasing[t]||f.opts.easing);return f.tweens.push(r),r},stop:function(t){var n=0,r=t?f.tweens.length:0;if(i)return this;i=!0;for(;n<r;n++)f.tweens[n].run(1);return t?u.resolveWith(e,[f,t]):u.rejectWith(e,[f,t]),this}}),l=f.props;propFilter(l,f.opts.specialEasing);for(;s<o;s++){r=animationPrefilters[s].call(f,e,l,f.opts);if(r)return r}return jQuery.map(l,createTween,f),jQuery.isFunction(f.opts.start)&&f.opts.start.call(e,f),jQuery.fx.timer(jQuery.extend(a,{elem:e,anim:f,queue:f.opts.queue})),f.progress(f.opts.progress).done(f.opts.done,f.opts.complete).fail(f.opts.fail).always(f.opts.always)}function addToPrefiltersOrTransports(e){return function(t,n){typeof t!="string"&&(n=t,t="*");var r,i=0,s=t.toLowerCase().match(rnotwhite)||[];if(jQuery.isFunction(n))while(r=s[i++])r[0]==="+"?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function inspectPrefiltersOrTransports(e,t,n,r){function o(u){var a;return i[u]=!0,jQuery.each(e[u]||[],function(e,u){var f=u(t,n,r);if(typeof f=="string"&&!s&&!i[f])return t.dataTypes.unshift(f),o(f),!1;if(s)return!(a=f)}),a}var i={},s=e===transports;return o(t.dataTypes[0])||!i["*"]&&o("*")}function ajaxExtend(e,t){var n,r,i=jQuery.ajaxSettings.flatOptions||{};for(n in t)t[n]!==undefined&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&jQuery.extend(!0,e,r),e}function ajaxHandleResponses(e,t,n){var r,i,s,o,u=e.contents,a=e.dataTypes;while(a[0]==="*")a.shift(),r===undefined&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in u)if(u[i]&&u[i].test(r)){a.unshift(i);break}if(a[0]in n)s=a[0];else{for(i in n){if(!a[0]||e.converters[i+" "+a[0]]){s=i;break}o||(o=i)}s=s||o}if(s)return s!==a[0]&&a.unshift(s),n[s]}function ajaxConvert(e,t,n,r){var i,s,o,u,a,f={},l=e.dataTypes.slice();if(l[1])for(o in e.converters)f[o.toLowerCase()]=e.converters[o];s=l.shift();while(s){e.responseFields[s]&&(n[e.responseFields[s]]=t),!a&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),a=s,s=l.shift();if(s)if(s==="*")s=a;else if(a!=="*"&&a!==s){o=f[a+" "+s]||f["* "+s];if(!o)for(i in f){u=i.split(" ");if(u[1]===s){o=f[a+" "+u[0]]||f["* "+u[0]];if(o){o===!0?o=f[i]:f[i]!==!0&&(s=u[0],l.unshift(u[1]));break}}}if(o!==!0)if(o&&e["throws"])t=o(t);else try{t=o(t)}catch(c){return{state:"parsererror",error:o?c:"No conversion from "+a+" to "+s}}}}return{state:"success",data:t}}function buildParams(e,t,n,r){var i;if(jQuery.isArray(t))jQuery.each(t,function(t,i){n||rbracket.test(e)?r(e,i):buildParams(e+"["+(typeof i=="object"?t:"")+"]",i,n,r)});else if(!n&&jQuery.type(t)==="object")for(i in t)buildParams(e+"["+i+"]",t[i],n,r);else r(e,t)}function getWindow(e){return jQuery.isWindow(e)?e:e.nodeType===9&&e.defaultView}var arr=[],slice=arr.slice,concat=arr.concat,push=arr.push,indexOf=arr.indexOf,class2type={},toString=class2type.toString,hasOwn=class2type.hasOwnProperty,trim="".trim,support={},document=window.document,version="2.1.0",jQuery=function(e,t){return new jQuery.fn.init(e,t)},rmsPrefix=/^-ms-/,rdashAlpha=/-([\da-z])/gi,fcamelCase=function(e,t){return t.toUpperCase()};jQuery.fn=jQuery.prototype={jquery:version,constructor:jQuery,selector:"",length:0,toArray:function(){return slice.call(this)},get:function(e){return e!=null?e<0?this[e+this.length]:this[e]:slice.call(this)},pushStack:function(e){var t=jQuery.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return jQuery.each(this,e,t)},map:function(e){return this.pushStack(jQuery.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(slice.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:push,sort:arr.sort,splice:arr.splice},jQuery.extend=jQuery.fn.extend=function(){var e,t,n,r,i,s,o=arguments[0]||{},u=1,a=arguments.length,f=!1;typeof o=="boolean"&&(f=o,o=arguments[u]||{},u++),typeof o!="object"&&!jQuery.isFunction(o)&&(o={}),u===a&&(o=this,u--);for(;u<a;u++)if((e=arguments[u])!=null)for(t in e){n=o[t],r=e[t];if(o===r)continue;f&&r&&(jQuery.isPlainObject(r)||(i=jQuery.isArray(r)))?(i?(i=!1,s=n&&jQuery.isArray(n)?n:[]):s=n&&jQuery.isPlainObject(n)?n:{},o[t]=jQuery.extend(f,s,r)):r!==undefined&&(o[t]=r)}return o},jQuery.extend({expando:"jQuery"+(version+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return jQuery.type(e)==="function"},isArray:Array.isArray,isWindow:function(e){return e!=null&&e===e.window},isNumeric:function(e){return e-parseFloat(e)>=0},isPlainObject:function(e){if(jQuery.type(e)!=="object"||e.nodeType||jQuery.isWindow(e))return!1;try{if(e.constructor&&!hasOwn.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(t){return!1}return!0},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return e==null?e+"":typeof e=="object"||typeof e=="function"?class2type[toString.call(e)]||"object":typeof e},globalEval:function(code){var script,indirect=eval;code=jQuery.trim(code),code&&(code.indexOf("use strict")===1?(script=document.createElement("script"),script.text=code,document.head.appendChild(script).parentNode.removeChild(script)):indirect(code))},camelCase:function(e){return e.replace(rmsPrefix,"ms-").replace(rdashAlpha,fcamelCase)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var r,i=0,s=e.length,o=isArraylike(e);if(n)if(o)for(;i<s;i++){r=t.apply(e[i],n);if(r===!1)break}else for(i in e){r=t.apply(e[i],n);if(r===!1)break}else if(o)for(;i<s;i++){r=t.call(e[i],i,e[i]);if(r===!1)break}else for(i in e){r=t.call(e[i],i,e[i]);if(r===!1)break}return e},trim:function(e){return e==null?"":trim.call(e)},makeArray:function(e,t){var n=t||[];return e!=null&&(isArraylike(Object(e))?jQuery.merge(n,typeof e=="string"?[e]:e):push.call(n,e)),n},inArray:function(e,t,n){return t==null?-1:indexOf.call(t,e,n)},merge:function(e,t){var n=+t.length,r=0,i=e.length;for(;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){var r,i=[],s=0,o=e.length,u=!n;for(;s<o;s++)r=!t(e[s],s),r!==u&&i.push(e[s]);return i},map:function(e,t,n){var r,i=0,s=e.length,o=isArraylike(e),u=[];if(o)for(;i<s;i++)r=t(e[i],i,n),r!=null&&u.push(r);else for(i in e)r=t(e[i],i,n),r!=null&&u.push(r);return concat.apply([],u)},guid:1,proxy:function(e,t){var n,r,i;return typeof t=="string"&&(n=e[t],t=e,e=n),jQuery.isFunction(e)?(r=slice.call(arguments,2),i=function(){return e.apply(t||this,r.concat(slice.call(arguments)))},i.guid=e.guid=e.guid||jQuery.guid++,i):undefined},now:Date.now,support:support}),jQuery.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){class2type["[object "+t+"]"]=t.toLowerCase()});var Sizzle=function(e){function rt(e,t,r,i){var s,o,u,a,f,h,v,m,w,E;(t?t.ownerDocument||t:b)!==c&&l(t),t=t||c,r=r||[];if(!e||typeof e!="string")return r;if((a=t.nodeType)!==1&&a!==9)return[];if(p&&!i){if(s=G.exec(e))if(u=s[1]){if(a===9){o=t.getElementById(u);if(!o||!o.parentNode)return r;if(o.id===u)return r.push(o),r}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(u))&&g(t,o)&&o.id===u)return r.push(o),r}else{if(s[2])return _.apply(r,t.getElementsByTagName(e)),r;if((u=s[3])&&n.getElementsByClassName&&t.getElementsByClassName)return _.apply(r,t.getElementsByClassName(u)),r}if(n.qsa&&(!d||!d.test(e))){m=v=y,w=t,E=a===9&&e;if(a===1&&t.nodeName.toLowerCase()!=="object"){h=dt(e),(v=t.getAttribute("id"))?m=v.replace(Z,"\\$&"):t.setAttribute("id",m),m="[id='"+m+"'] ",f=h.length;while(f--)h[f]=m+vt(h[f]);w=Y.test(e)&&ht(t.parentNode)||t,E=h.join(",")}if(E)try{return _.apply(r,w.querySelectorAll(E)),r}catch(S){}finally{v||t.removeAttribute("id")}}}return xt(e.replace(R,"$1"),t,r,i)}function it(){function t(n,i){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=i}var e=[];return t}function st(e){return e[y]=!0,e}function ot(e){var t=c.createElement("div");try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ut(e,t){var n=e.split("|"),i=e.length;while(i--)r.attrHandle[n[i]]=t}function at(e,t){var n=t&&e,r=n&&e.nodeType===1&&t.nodeType===1&&(~t.sourceIndex||k)-(~e.sourceIndex||k);if(r)return r;if(n)while(n=n.nextSibling)if(n===t)return-1;return e?1:-1}function ft(e){return function(t){var n=t.nodeName.toLowerCase();return n==="input"&&t.type===e}}function lt(e){return function(t){var n=t.nodeName.toLowerCase();return(n==="input"||n==="button")&&t.type===e}}function ct(e){return st(function(t){return t=+t,st(function(n,r){var i,s=e([],n.length,t),o=s.length;while(o--)n[i=s[o]]&&(n[i]=!(r[i]=n[i]))})})}function ht(e){return e&&typeof e.getElementsByTagName!==C&&e}function pt(){}function dt(e,t){var n,i,s,o,u,a,f,l=x[e+" "];if(l)return t?0:l.slice(0);u=e,a=[],f=r.preFilter;while(u){if(!n||(i=U.exec(u)))i&&(u=u.slice(i[0].length)||u),a.push(s=[]);n=!1;if(i=z.exec(u))n=i.shift(),s.push({value:n,type:i[0].replace(R," ")}),u=u.slice(n.length);for(o in r.filter)(i=$[o].exec(u))&&(!f[o]||(i=f[o](i)))&&(n=i.shift(),s.push({value:n,type:o,matches:i}),u=u.slice(n.length));if(!n)break}return t?u.length:u?rt.error(e):x(e,a).slice(0)}function vt(e){var t=0,n=e.length,r="";for(;t<n;t++)r+=e[t].value;return r}function mt(e,t,n){var r=t.dir,i=n&&r==="parentNode",s=E++;return t.first?function(t,n,s){while(t=t[r])if(t.nodeType===1||i)return e(t,n,s)}:function(t,n,o){var u,a,f=[w,s];if(o){while(t=t[r])if(t.nodeType===1||i)if(e(t,n,o))return!0}else while(t=t[r])if(t.nodeType===1||i){a=t[y]||(t[y]={});if((u=a[r])&&u[0]===w&&u[1]===s)return f[2]=u[2];a[r]=f;if(f[2]=e(t,n,o))return!0}}}function gt(e){return e.length>1?function(t,n,r){var i=e.length;while(i--)if(!e[i](t,n,r))return!1;return!0}:e[0]}function yt(e,t,n,r,i){var s,o=[],u=0,a=e.length,f=t!=null;for(;u<a;u++)if(s=e[u])if(!n||n(s,r,i))o.push(s),f&&t.push(u);return o}function bt(e,t,n,r,i,s){return r&&!r[y]&&(r=bt(r)),i&&!i[y]&&(i=bt(i,s)),st(function(s,o,u,a){var f,l,c,h=[],p=[],d=o.length,v=s||St(t||"*",u.nodeType?[u]:u,[]),m=e&&(s||!t)?yt(v,h,e,u,a):v,g=n?i||(s?e:d||r)?[]:o:m;n&&n(m,g,u,a);if(r){f=yt(g,p),r(f,[],u,a),l=f.length;while(l--)if(c=f[l])g[p[l]]=!(m[p[l]]=c)}if(s){if(i||e){if(i){f=[],l=g.length;while(l--)(c=g[l])&&f.push(m[l]=c);i(null,g=[],f,a)}l=g.length;while(l--)(c=g[l])&&(f=i?P.call(s,c):h[l])>-1&&(s[f]=!(o[f]=c))}}else g=yt(g===o?g.splice(d,g.length):g),i?i(null,o,g,a):_.apply(o,g)})}function wt(e){var t,n,i,s=e.length,o=r.relative[e[0].type],a=o||r.relative[" "],f=o?1:0,l=mt(function(e){return e===t},a,!0),c=mt(function(e){return P.call(t,e)>-1},a,!0),h=[function(e,n,r){return!o&&(r||n!==u)||((t=n).nodeType?l(e,n,r):c(e,n,r))}];for(;f<s;f++)if(n=r.relative[e[f].type])h=[mt(gt(h),n)];else{n=r.filter[e[f].type].apply(null,e[f].matches);if(n[y]){i=++f;for(;i<s;i++)if(r.relative[e[i].type])break;return bt(f>1&&gt(h),f>1&&vt(e.slice(0,f-1).concat({value:e[f-2].type===" "?"*":""})).replace(R,"$1"),n,f<i&&wt(e.slice(f,i)),i<s&&wt(e=e.slice(i)),i<s&&vt(e))}h.push(n)}return gt(h)}function Et(e,t){var n=t.length>0,i=e.length>0,s=function(s,o,a,f,l){var h,p,d,v=0,m="0",g=s&&[],y=[],b=u,E=s||i&&r.find.TAG("*",l),S=w+=b==null?1:Math.random()||.1,x=E.length;l&&(u=o!==c&&o);for(;m!==x&&(h=E[m])!=null;m++){if(i&&h){p=0;while(d=e[p++])if(d(h,o,a)){f.push(h);break}l&&(w=S)}n&&((h=!d&&h)&&v--,s&&g.push(h))}v+=m;if(n&&m!==v){p=0;while(d=t[p++])d(g,y,o,a);if(s){if(v>0)while(m--)!g[m]&&!y[m]&&(y[m]=O.call(f));y=yt(y)}_.apply(f,y),l&&!s&&y.length>0&&v+t.length>1&&rt.uniqueSort(f)}return l&&(w=S,u=b),g};return n?st(s):s}function St(e,t,n){var r=0,i=t.length;for(;r<i;r++)rt(e,t[r],n);return n}function xt(e,t,i,s){var u,a,f,l,c,h=dt(e);if(!s&&h.length===1){a=h[0]=h[0].slice(0);if(a.length>2&&(f=a[0]).type==="ID"&&n.getById&&t.nodeType===9&&p&&r.relative[a[1].type]){t=(r.find.ID(f.matches[0].replace(et,tt),t)||[])[0];if(!t)return i;e=e.slice(a.shift().value.length)}u=$.needsContext.test(e)?0:a.length;while(u--){f=a[u];if(r.relative[l=f.type])break;if(c=r.find[l])if(s=c(f.matches[0].replace(et,tt),Y.test(a[0].type)&&ht(t.parentNode)||t)){a.splice(u,1),e=s.length&&vt(a);if(!e)return _.apply(i,s),i;break}}}return o(e,h)(s,t,!p,i,Y.test(e)&&ht(t.parentNode)||t),i}var t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y="sizzle"+ -(new Date),b=e.document,w=0,E=0,S=it(),x=it(),T=it(),N=function(e,t){return e===t&&(f=!0),0},C=typeof undefined,k=1<<31,L={}.hasOwnProperty,A=[],O=A.pop,M=A.push,_=A.push,D=A.slice,P=A.indexOf||function(e){var t=0,n=this.length;for(;t<n;t++)if(this[t]===e)return t;return-1},H="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",B="[\\x20\\t\\r\\n\\f]",j="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",F=j.replace("w","w#"),I="\\["+B+"*("+j+")"+B+"*(?:([*^$|!~]?=)"+B+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+F+")|)|)"+B+"*\\]",q=":("+j+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+I.replace(3,8)+")*)|.*)\\)|)",R=new RegExp("^"+B+"+|((?:^|[^\\\\])(?:\\\\.)*)"+B+"+$","g"),U=new RegExp("^"+B+"*,"+B+"*"),z=new RegExp("^"+B+"*([>+~]|"+B+")"+B+"*"),W=new RegExp("="+B+"*([^\\]'\"]*?)"+B+"*\\]","g"),X=new RegExp(q),V=new RegExp("^"+F+"$"),$={ID:new RegExp("^#("+j+")"),CLASS:new RegExp("^\\.("+j+")"),TAG:new RegExp("^("+j.replace("w","w*")+")"),ATTR:new RegExp("^"+I),PSEUDO:new RegExp("^"+q),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+B+"*(even|odd|(([+-]|)(\\d*)n|)"+B+"*(?:([+-]|)"+B+"*(\\d+)|))"+B+"*\\)|)","i"),bool:new RegExp("^(?:"+H+")$","i"),needsContext:new RegExp("^"+B+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+B+"*((?:-\\d)?\\d*)"+B+"*\\)|)(?=[^-]|$)","i")},J=/^(?:input|select|textarea|button)$/i,K=/^h\d$/i,Q=/^[^{]+\{\s*\[native \w/,G=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Y=/[+~]/,Z=/'|\\/g,et=new RegExp("\\\\([\\da-f]{1,6}"+B+"?|("+B+")|.)","ig"),tt=function(e,t,n){var r="0x"+t-65536;return r!==r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,r&1023|56320)};try{_.apply(A=D.call(b.childNodes),b.childNodes),A[b.childNodes.length].nodeType}catch(nt){_={apply:A.length?function(e,t){M.apply(e,D.call(t))}:function(e,t){var n=e.length,r=0;while(e[n++]=t[r++]);e.length=n-1}}}n=rt.support={},s=rt.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?t.nodeName!=="HTML":!1},l=rt.setDocument=function(e){var t,i=e?e.ownerDocument||e:b,o=i.defaultView;if(i===c||i.nodeType!==9||!i.documentElement)return c;c=i,h=i.documentElement,p=!s(i),o&&o!==o.top&&(o.addEventListener?o.addEventListener("unload",function(){l()},!1):o.attachEvent&&o.attachEvent("onunload",function(){l()})),n.attributes=ot(function(e){return e.className="i",!e.getAttribute("className")}),n.getElementsByTagName=ot(function(e){return e.appendChild(i.createComment("")),!e.getElementsByTagName("*").length}),n.getElementsByClassName=Q.test(i.getElementsByClassName)&&ot(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",e.getElementsByClassName("i").length===2}),n.getById=ot(function(e){return h.appendChild(e).id=y,!i.getElementsByName||!i.getElementsByName(y).length}),n.getById?(r.find.ID=function(e,t){if(typeof t.getElementById!==C&&p){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},r.filter.ID=function(e){var t=e.replace(et,tt);return function(e){return e.getAttribute("id")===t}}):(delete r.find.ID,r.filter.ID=function(e){var t=e.replace(et,tt);return function(e){var n=typeof e.getAttributeNode!==C&&e.getAttributeNode("id");return n&&n.value===t}}),r.find.TAG=n.getElementsByTagName?function(e,t){if(typeof t.getElementsByTagName!==C)return t.getElementsByTagName(e)}:function(e,t){var n,r=[],i=0,s=t.getElementsByTagName(e);if(e==="*"){while(n=s[i++])n.nodeType===1&&r.push(n);return r}return s},r.find.CLASS=n.getElementsByClassName&&function(e,t){if(typeof t.getElementsByClassName!==C&&p)return t.getElementsByClassName(e)},v=[],d=[];if(n.qsa=Q.test(i.querySelectorAll))ot(function(e){e.innerHTML="<select t=''><option selected=''></option></select>",e.querySelectorAll("[t^='']").length&&d.push("[*^$]="+B+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||d.push("\\["+B+"*(?:value|"+H+")"),e.querySelectorAll(":checked").length||d.push(":checked")}),ot(function(e){var t=i.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&d.push("name"+B+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||d.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),d.push(",.*:")});return(n.matchesSelector=Q.test(m=h.webkitMatchesSelector||h.mozMatchesSelector||h.oMatchesSelector||h.msMatchesSelector))&&ot(function(e){n.disconnectedMatch=m.call(e,"div"),m.call(e,"[s!='']:x"),v.push("!=",q)}),d=d.length&&new RegExp(d.join("|")),v=v.length&&new RegExp(v.join("|")),t=Q.test(h.compareDocumentPosition),g=t||Q.test(h.contains)?function(e,t){var n=e.nodeType===9?e.documentElement:e,r=t&&t.parentNode;return e===r||!!r&&r.nodeType===1&&!!(n.contains?n.contains(r):e.compareDocumentPosition&&e.compareDocumentPosition(r)&16)}:function(e,t){if(t)while(t=t.parentNode)if(t===e)return!0;return!1},N=t?function(e,t){if(e===t)return f=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r?r:(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1,r&1||!n.sortDetached&&t.compareDocumentPosition(e)===r?e===i||e.ownerDocument===b&&g(b,e)?-1:t===i||t.ownerDocument===b&&g(b,t)?1:a?P.call(a,e)-P.call(a,t):0:r&4?-1:1)}:function(e,t){if(e===t)return f=!0,0;var n,r=0,s=e.parentNode,o=t.parentNode,u=[e],l=[t];if(!s||!o)return e===i?-1:t===i?1:s?-1:o?1:a?P.call(a,e)-P.call(a,t):0;if(s===o)return at(e,t);n=e;while(n=n.parentNode)u.unshift(n);n=t;while(n=n.parentNode)l.unshift(n);while(u[r]===l[r])r++;return r?at(u[r],l[r]):u[r]===b?-1:l[r]===b?1:0},i},rt.matches=function(e,t){return rt(e,null,null,t)},rt.matchesSelector=function(e,t){(e.ownerDocument||e)!==c&&l(e),t=t.replace(W,"='$1']");if(n.matchesSelector&&p&&(!v||!v.test(t))&&(!d||!d.test(t)))try{var r=m.call(e,t);if(r||n.disconnectedMatch||e.document&&e.document.nodeType!==11)return r}catch(i){}return rt(t,c,null,[e]).length>0},rt.contains=function(e,t){return(e.ownerDocument||e)!==c&&l(e),g(e,t)},rt.attr=function(e,t){(e.ownerDocument||e)!==c&&l(e);var i=r.attrHandle[t.toLowerCase()],s=i&&L.call(r.attrHandle,t.toLowerCase())?i(e,t,!p):undefined;return s!==undefined?s:n.attributes||!p?e.getAttribute(t):(s=e.getAttributeNode(t))&&s.specified?s.value:null},rt.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},rt.uniqueSort=function(e){var t,r=[],i=0,s=0;f=!n.detectDuplicates,a=!n.sortStable&&e.slice(0),e.sort(N);if(f){while(t=e[s++])t===e[s]&&(i=r.push(s));while(i--)e.splice(r[i],1)}return a=null,e},i=rt.getText=function(e){var t,n="",r=0,s=e.nodeType;if(!s)while(t=e[r++])n+=i(t);else if(s===1||s===9||s===11){if(typeof e.textContent=="string")return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=i(e)}else if(s===3||s===4)return e.nodeValue;return n},r=rt.selectors={cacheLength:50,createPseudo:st,match:$,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(et,tt),e[3]=(e[4]||e[5]||"").replace(et,tt),e[2]==="~="&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),e[1].slice(0,3)==="nth"?(e[3]||rt.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*(e[3]==="even"||e[3]==="odd")),e[5]=+(e[7]+e[8]||e[3]==="odd")):e[3]&&rt.error(e[0]),e},PSEUDO:function(e){var t,n=!e[5]&&e[2];return $.CHILD.test(e[0])?null:(e[3]&&e[4]!==undefined?e[2]=e[4]:n&&X.test(n)&&(t=dt(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(et,tt).toLowerCase();return e==="*"?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=S[e+" "];return t||(t=new RegExp("(^|"+B+")"+e+"("+B+"|$)"))&&S(e,function(e){return t.test(typeof e.className=="string"&&e.className||typeof e.getAttribute!==C&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=rt.attr(r,e);return i==null?t==="!=":t?(i+="",t==="="?i===n:t==="!="?i!==n:t==="^="?n&&i.indexOf(n)===0:t==="*="?n&&i.indexOf(n)>-1:t==="$="?n&&i.slice(-n.length)===n:t==="~="?(" "+i+" ").indexOf(n)>-1:t==="|="?i===n||i.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,n,r,i){var s=e.slice(0,3)!=="nth",o=e.slice(-4)!=="last",u=t==="of-type";return r===1&&i===0?function(e){return!!e.parentNode}:function(t,n,a){var f,l,c,h,p,d,v=s!==o?"nextSibling":"previousSibling",m=t.parentNode,g=u&&t.nodeName.toLowerCase(),b=!a&&!u;if(m){if(s){while(v){c=t;while(c=c[v])if(u?c.nodeName.toLowerCase()===g:c.nodeType===1)return!1;d=v=e==="only"&&!d&&"nextSibling"}return!0}d=[o?m.firstChild:m.lastChild];if(o&&b){l=m[y]||(m[y]={}),f=l[e]||[],p=f[0]===w&&f[1],h=f[0]===w&&f[2],c=p&&m.childNodes[p];while(c=++p&&c&&c[v]||(h=p=0)||d.pop())if(c.nodeType===1&&++h&&c===t){l[e]=[w,p,h];break}}else if(b&&(f=(t[y]||(t[y]={}))[e])&&f[0]===w)h=f[1];else while(c=++p&&c&&c[v]||(h=p=0)||d.pop())if((u?c.nodeName.toLowerCase()===g:c.nodeType===1)&&++h){b&&((c[y]||(c[y]={}))[e]=[w,h]);if(c===t)break}return h-=i,h===r||h%r===0&&h/r>=0}}},PSEUDO:function(e,t){var n,i=r.pseudos[e]||r.setFilters[e.toLowerCase()]||rt.error("unsupported pseudo: "+e);return i[y]?i(t):i.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?st(function(e,n){var r,s=i(e,t),o=s.length;while(o--)r=P.call(e,s[o]),e[r]=!(n[r]=s[o])}):function(e){return i(e,0,n)}):i}},pseudos:{not:st(function(e){var t=[],n=[],r=o(e.replace(R,"$1"));return r[y]?st(function(e,t,n,i){var s,o=r(e,null,i,[]),u=e.length;while(u--)if(s=o[u])e[u]=!(t[u]=s)}):function(e,i,s){return t[0]=e,r(t,null,s,n),!n.pop()}}),has:st(function(e){return function(t){return rt(e,t).length>0}}),contains:st(function(e){return function(t){return(t.textContent||t.innerText||i(t)).indexOf(e)>-1}}),lang:st(function(e){return V.test(e||"")||rt.error("unsupported lang: "+e),e=e.replace(et,tt).toLowerCase(),function(t){var n;do if(n=p?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||n.indexOf(e+"-")===0;while((t=t.parentNode)&&t.nodeType===1);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===h},focus:function(e){return e===c.activeElement&&(!c.hasFocus||c.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&!!e.checked||t==="option"&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return K.test(e.nodeName)},input:function(e){return J.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&e.type==="button"||t==="button"},text:function(e){var t;return e.nodeName.toLowerCase()==="input"&&e.type==="text"&&((t=e.getAttribute("type"))==null||t.toLowerCase()==="text")},first:ct(function(){return[0]}),last:ct(function(e,t){return[t-1]}),eq:ct(function(e,t,n){return[n<0?n+t:n]}),even:ct(function(e,t){var n=0;for(;n<t;n+=2)e.push(n);return e}),odd:ct(function(e,t){var n=1;for(;n<t;n+=2)e.push(n);return e}),lt:ct(function(e,t,n){var r=n<0?n+t:n;for(;--r>=0;)e.push(r);return e}),gt:ct(function(e,t,n){var r=n<0?n+t:n;for(;++r<t;)e.push(r);return e})}},r.pseudos.nth=r.pseudos.eq;for(t in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=ft(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=lt(t);return pt.prototype=r.filters=r.pseudos,r.setFilters=new pt,o=rt.compile=function(e,t){var n,r=[],i=[],s=T[e+" "];if(!s){t||(t=dt(e)),n=t.length;while(n--)s=wt(t[n]),s[y]?r.push(s):i.push(s);s=T(e,Et(i,r))}return s},n.sortStable=y.split("").sort(N).join("")===y,n.detectDuplicates=!!f,l(),n.sortDetached=ot(function(e){return e.compareDocumentPosition(c.createElement("div"))&1}),ot(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild.getAttribute("href")==="#"})||ut("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,t.toLowerCase()==="type"?1:2)}),(!n.attributes||!ot(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),e.firstChild.getAttribute("value")===""}))&&ut("value",function(e,t,n){if(!n&&e.nodeName.toLowerCase()==="input")return e.defaultValue}),ot(function(e){return e.getAttribute("disabled")==null})||ut(H,function(e,t,n){var r;if(!n)return e[t]===!0?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),rt}(window);jQuery.find=Sizzle,jQuery.expr=Sizzle.selectors,jQuery.expr[":"]=jQuery.expr.pseudos,jQuery.unique=Sizzle.uniqueSort,jQuery.text=Sizzle.getText,jQuery.isXMLDoc=Sizzle.isXML,jQuery.contains=Sizzle.contains;var rneedsContext=jQuery.expr.match.needsContext,rsingleTag=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,risSimple=/^.[^:#\[\.,]*$/;jQuery.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),t.length===1&&r.nodeType===1?jQuery.find.matchesSelector(r,e)?[r]:[]:jQuery.find.matches(e,jQuery.grep(t,function(e){return e.nodeType===1}))},jQuery.fn.extend({find:function(e){var t,n=this.length,r=[],i=this;if(typeof e!="string")return this.pushStack(jQuery(e).filter(function(){for(t=0;t<n;t++)if(jQuery.contains(i[t],this))return!0}));for(t=0;t<n;t++)jQuery.find(e,i[t],r);return r=this.pushStack(n>1?jQuery.unique(r):r),r.selector=this.selector?this.selector+" "+e:e,r},filter:function(e){return this.pushStack(winnow(this,e||[],!1))},not:function(e){return this.pushStack(winnow(this,e||[],!0))},is:function(e){return!!winnow(this,typeof e=="string"&&rneedsContext.test(e)?jQuery(e):e||[],!1).length}});var rootjQuery,rquickExpr=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,init=jQuery.fn.init=function(e,t){var n,r;if(!e)return this;if(typeof e=="string"){e[0]==="<"&&e[e.length-1]===">"&&e.length>=3?n=[null,e,null]:n=rquickExpr.exec(e);if(n&&(n[1]||!t)){if(n[1]){t=t instanceof jQuery?t[0]:t,jQuery.merge(this,jQuery.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:document,!0));if(rsingleTag.test(n[1])&&jQuery.isPlainObject(t))for(n in t)jQuery.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return r=document.getElementById(n[2]),r&&r.parentNode&&(this.length=1,this[0]=r),this.context=document,this.selector=e,this}return!t||t.jquery?(t||rootjQuery).find(e):this.constructor(t).find(e)}return e.nodeType?(this.context=this[0]=e,this.length=1,this):jQuery.isFunction(e)?typeof rootjQuery.ready!="undefined"?rootjQuery.ready(e):e(jQuery):(e.selector!==undefined&&(this.selector=e.selector,this.context=e.context),jQuery.makeArray(e,this))};init.prototype=jQuery.fn,rootjQuery=jQuery(document);var rparentsprev=/^(?:parents|prev(?:Until|All))/,guaranteedUnique={children:!0,contents:!0,next:!0,prev:!0};jQuery.extend({dir:function(e,t,n){var r=[],i=n!==undefined;while((e=e[t])&&e.nodeType!==9)if(e.nodeType===1){if(i&&jQuery(e).is(n))break;r.push(e)}return r},sibling:function(e,t){var n=[];for(;e;e=e.nextSibling)e.nodeType===1&&e!==t&&n.push(e);return n}}),jQuery.fn.extend({has:function(e){var t=jQuery(e,this),n=t.length;return this.filter(function(){var e=0;for(;e<n;e++)if(jQuery.contains(this,t[e]))return!0})},closest:function(e,t){var n,r=0,i=this.length,s=[],o=rneedsContext.test(e)||typeof e!="string"?jQuery(e,t||this.context):0;for(;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(o?o.index(n)>-1:n.nodeType===1&&jQuery.find.matchesSelector(n,e))){s.push(n);break}return this.pushStack(s.length>1?jQuery.unique(s):s)},index:function(e){return e?typeof e=="string"?indexOf.call(jQuery(e),this[0]):indexOf.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(jQuery.unique(jQuery.merge(this.get(),jQuery(e,t))))},addBack:function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}}),jQuery.each({parent:function(e){var t=e.parentNode;return t&&t.nodeType!==11?t:null},parents:function(e){return jQuery.dir(e,"parentNode")},parentsUntil:function(e,t,n){return jQuery.dir(e,"parentNode",n)},next:function(e){return sibling(e,"nextSibling")},prev:function(e){return sibling(e,"previousSibling")},nextAll:function(e){return jQuery.dir(e,"nextSibling")},prevAll:function(e){return jQuery.dir(e,"previousSibling")},nextUntil:function(e,t,n){return jQuery.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return jQuery.dir(e,"previousSibling",n)},siblings:function(e){return jQuery.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return jQuery.sibling(e.firstChild)},contents:function(e){return e.contentDocument||jQuery.merge([],e.childNodes)}},function(e,t){jQuery.fn[e]=function(n,r){var i=jQuery.map(this,t,n);return e.slice(-5)!=="Until"&&(r=n),r&&typeof r=="string"&&(i=jQuery.filter(r,i)),this.length>1&&(guaranteedUnique[e]||jQuery.unique(i),rparentsprev.test(e)&&i.reverse()),this.pushStack(i)}});var rnotwhite=/\S+/g,optionsCache={};jQuery.Callbacks=function(e){e=typeof e=="string"?optionsCache[e]||createOptions(e):jQuery.extend({},e);var t,n,r,i,s,o,u=[],a=!e.once&&[],f=function(c){t=e.memory&&c,n=!0,o=i||0,i=0,s=u.length,r=!0;for(;u&&o<s;o++)if(u[o].apply(c[0],c[1])===!1&&e.stopOnFalse){t=!1;break}r=!1,u&&(a?a.length&&f(a.shift()):t?u=[]:l.disable())},l={add:function(){if(u){var n=u.length;(function o(t){jQuery.each(t,function(t,n){var r=jQuery.type(n);r==="function"?(!e.unique||!l.has(n))&&u.push(n):n&&n.length&&r!=="string"&&o(n)})})(arguments),r?s=u.length:t&&(i=n,f(t))}return this},remove:function(){return u&&jQuery.each(arguments,function(e,t){var n;while((n=jQuery.inArray(t,u,n))>-1)u.splice(n,1),r&&(n<=s&&s--,n<=o&&o--)}),this},has:function(e){return e?jQuery.inArray(e,u)>-1:!!u&&!!u.length},empty:function(){return u=[],s=0,this},disable:function(){return u=a=t=undefined,this},disabled:function(){return!u},lock:function(){return a=undefined,t||l.disable(),this},locked:function(){return!a},fireWith:function(e,t){return u&&(!n||a)&&(t=t||[],t=[e,t.slice?t.slice():t],r?a.push(t):f(t)),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!n}};return l},jQuery.extend({Deferred:function(e){var t=[["resolve","done",jQuery.Callbacks("once memory"),"resolved"],["reject","fail",jQuery.Callbacks("once memory"),"rejected"],["notify","progress",jQuery.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return jQuery.Deferred(function(n){jQuery.each(t,function(t,s){var o=jQuery.isFunction(e[t])&&e[t];i[s[1]](function(){var e=o&&o.apply(this,arguments);e&&jQuery.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[s[0]+"With"](this===r?n.promise():this,o?[e]:arguments)})}),e=null}).promise()},promise:function(e){return e!=null?jQuery.extend(e,r):r}},i={};return r.pipe=r.then,jQuery.each(t,function(e,s){var o=s[2],u=s[3];r[s[1]]=o.add,u&&o.add(function(){n=u},t[e^1][2].disable,t[2][2].lock),i[s[0]]=function(){return i[s[0]+"With"](this===i?r:this,arguments),this},i[s[0]+"With"]=o.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t=0,n=slice.call(arguments),r=n.length,i=r!==1||e&&jQuery.isFunction(e.promise)?r:0,s=i===1?e:jQuery.Deferred(),o=function(e,t,n){return function(r){t[e]=this,n[e]=arguments.length>1?slice.call(arguments):r,n===u?s.notifyWith(t,n):--i||s.resolveWith(t,n)}},u,a,f;if(r>1){u=new Array(r),a=new Array(r),f=new Array(r);for(;t<r;t++)n[t]&&jQuery.isFunction(n[t].promise)?n[t].promise().done(o(t,f,n)).fail(s.reject).progress(o(t,a,u)):--i}return i||s.resolveWith(f,n),s.promise()}});var readyList;jQuery.fn.ready=function(e){return jQuery.ready.promise().done(e),this},jQuery.extend({isReady:!1,readyWait:1,holdReady:function(e){e?jQuery.readyWait++:jQuery.ready(!0)},ready:function(e){if(e===!0?--jQuery.readyWait:jQuery.isReady)return;jQuery.isReady=!0;if(e!==!0&&--jQuery.readyWait>0)return;readyList.resolveWith(document,[jQuery]),jQuery.fn.trigger&&jQuery(document).trigger("ready").off("ready")}}),jQuery.ready.promise=function(e){return readyList||(readyList=jQuery.Deferred(),document.readyState==="complete"?setTimeout(jQuery.ready):(document.addEventListener("DOMContentLoaded",completed,!1),window.addEventListener("load",completed,!1))),readyList.promise(e)},jQuery.ready.promise();var access=jQuery.access=function(e,t,n,r,i,s,o){var u=0,a=e.length,f=n==null;if(jQuery.type(n)==="object"){i=!0;for(u in n)jQuery.access(e,t,u,n[u],!0,s,o)}else if(r!==undefined){i=!0,jQuery.isFunction(r)||(o=!0),f&&(o?(t.call(e,r),t=null):(f=t,t=function(e,t,n){return f.call(jQuery(e),n)}));if(t)for(;u<a;u++)t(e[u],n,o?r:r.call(e[u],u,t(e[u],n)))}return i?e:f?t.call(e):a?t(e[0],n):s};jQuery.acceptData=function(e){return e.nodeType===1||e.nodeType===9||!+e.nodeType},Data.uid=1,Data.accepts=jQuery.acceptData,Data.prototype={key:function(e){if(!Data.accepts(e))return 0;var t={},n=e[this.expando];if(!n){n=Data.uid++;try{t[this.expando]={value:n},Object.defineProperties(e,t)}catch(r){t[this.expando]=n,jQuery.extend(e,t)}}return this.cache[n]||(this.cache[n]={}),n},set:function(e,t,n){var r,i=this.key(e),s=this.cache[i];if(typeof t=="string")s[t]=n;else if(jQuery.isEmptyObject(s))jQuery.extend(this.cache[i],t);else for(r in t)s[r]=t[r];return s},get:function(e,t){var n=this.cache[this.key(e)];return t===undefined?n:n[t]},access:function(e,t,n){var r;return t===undefined||t&&typeof t=="string"&&n===undefined?(r=this.get(e,t),r!==undefined?r:this.get(e,jQuery.camelCase(t))):(this.set(e,t,n),n!==undefined?n:t)},remove:function(e,t){var n,r,i,s=this.key(e),o=this.cache[s];if(t===undefined)this.cache[s]={};else{jQuery.isArray(t)?r=t.concat(t.map(jQuery.camelCase)):(i=jQuery.camelCase(t),t in o?r=[t,i]:(r=i,r=r in o?[r]:r.match(rnotwhite)||[])),n=r.length;while(n--)delete o[r[n]]}},hasData:function(e){return!jQuery.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var data_priv=new Data,data_user=new Data,rbrace=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,rmultiDash=/([A-Z])/g;jQuery.extend({hasData:function(e){return data_user.hasData(e)||data_priv.hasData(e)},data:function(e,t,n){return data_user.access(e,t,n)},removeData:function(e,t){data_user.remove(e,t)},_data:function(e,t,n){return data_priv.access(e,t,n)},_removeData:function(e,t){data_priv.remove(e,t)}}),jQuery.fn.extend({data:function(e,t){var n,r,i,s=this[0],o=s&&s.attributes;if(e===undefined){if(this.length){i=data_user.get(s);if(s.nodeType===1&&!data_priv.get(s,"hasDataAttrs")){n=o.length;while(n--)r=o[n].name,r.indexOf("data-")===0&&(r=jQuery.camelCase(r.slice(5)),dataAttr(s,r,i[r]));data_priv.set(s,"hasDataAttrs",!0)}}return i}return typeof e=="object"?this.each(function(){data_user.set(this,e)}):access(this,function(t){var n,r=jQuery.camelCase(e);if(s&&t===undefined){n=data_user.get(s,e);if(n!==undefined)return n;n=data_user.get(s,r);if(n!==undefined)return n;n=dataAttr(s,r,undefined);if(n!==undefined)return n;return}this.each(function(){var n=data_user.get(this,r);data_user.set(this,r,t),e.indexOf("-")!==-1&&n!==undefined&&data_user.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){data_user.remove(this,e)})}}),jQuery.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=data_priv.get(e,t),n&&(!r||jQuery.isArray(n)?r=data_priv.access(e,t,jQuery.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=jQuery.queue(e,t),r=n.length,i=n.shift(),s=jQuery._queueHooks(e,t),o=function(){jQuery.dequeue(e,t)};i==="inprogress"&&(i=n.shift(),r--),i&&(t==="fx"&&n.unshift("inprogress"),delete s.stop,i.call(e,o,s)),!r&&s&&s.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return data_priv.get(e,n)||data_priv.access(e,n,{empty:jQuery.Callbacks("once memory").add(function(){data_priv.remove(e,[t+"queue",n])})})}}),jQuery.fn.extend({queue:function(e,t){var n=2;return typeof e!="string"&&(t=e,e="fx",n--),arguments.length<n?jQuery.queue(this[0],e):t===undefined?this:this.each(function(){var n=jQuery.queue(this,e,t);jQuery._queueHooks(this,e),e==="fx"&&n[0]!=="inprogress"&&jQuery.dequeue(this,e)})},dequeue:function(e){return this.each(function(){jQuery.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=jQuery.Deferred(),s=this,o=this.length,u=function(){--r||i.resolveWith(s,[s])};typeof e!="string"&&(t=e,e=undefined),e=e||"fx";while(o--)n=data_priv.get(s[o],e+"queueHooks"),n&&n.empty&&(r++,n.empty.add(u));return u(),i.promise(t)}});var pnum=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,cssExpand=["Top","Right","Bottom","Left"],isHidden=function(e,t){return e=t||e,jQuery.css(e,"display")==="none"||!jQuery.contains(e.ownerDocument,e)},rcheckableType=/^(?:checkbox|radio)$/i;(function(){var e=document.createDocumentFragment(),t=e.appendChild(document.createElement("div"));t.innerHTML="<input type='radio' checked='checked' name='t'/>",support.checkClone=t.cloneNode(!0).cloneNode(!0).lastChild.checked,t.innerHTML="<textarea>x</textarea>",support.noCloneChecked=!!t.cloneNode(!0).lastChild.defaultValue})();var strundefined=typeof undefined;support.focusinBubbles="onfocusin"in window;var rkeyEvent=/^key/,rmouseEvent=/^(?:mouse|contextmenu)|click/,rfocusMorph=/^(?:focusinfocus|focusoutblur)$/,rtypenamespace=/^([^.]*)(?:\.(.+)|)$/;jQuery.event={global:{},add:function(e,t,n,r,i){var s,o,u,a,f,l,c,h,p,d,v,m=data_priv.get(e);if(!m)return;n.handler&&(s=n,n=s.handler,i=s.selector),n.guid||(n.guid=jQuery.guid++),(a=m.events)||(a=m.events={}),(o=m.handle)||(o=m.handle=function(t){return typeof jQuery!==strundefined&&jQuery.event.triggered!==t.type?jQuery.event.dispatch.apply(e,arguments):undefined}),t=(t||"").match(rnotwhite)||[""],f=t.length;while(f--){u=rtypenamespace.exec(t[f])||[],p=v=u[1],d=(u[2]||"").split(".").sort();if(!p)continue;c=jQuery.event.special[p]||{},p=(i?c.delegateType:c.bindType)||p,c=jQuery.event.special[p]||{},l=jQuery.extend({type:p,origType:v,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&jQuery.expr.match.needsContext.test(i),namespace:d.join(".")},s),(h=a[p])||(h=a[p]=[],h.delegateCount=0,(!c.setup||c.setup.call(e,r,d,o)===!1)&&e.addEventListener&&e.addEventListener(p,o,!1)),c.add&&(c.add.call(e,l),l.handler.guid||(l.handler.guid=n.guid)),i?h.splice(h.delegateCount++,0,l):h.push(l),jQuery.event.global[p]=!0}},remove:function(e,t,n,r,i){var s,o,u,a,f,l,c,h,p,d,v,m=data_priv.hasData(e)&&data_priv.get(e);if(!m||!(a=m.events))return;t=(t||"").match(rnotwhite)||[""],f=t.length;while(f--){u=rtypenamespace.exec(t[f])||[],p=v=u[1],d=(u[2]||"").split(".").sort();if(!p){for(p in a)jQuery.event.remove(e,p+t[f],n,r,!0);continue}c=jQuery.event.special[p]||{},p=(r?c.delegateType:c.bindType)||p,h=a[p]||[],u=u[2]&&new RegExp("(^|\\.)"+d.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=s=h.length;while(s--)l=h[s],(i||v===l.origType)&&(!n||n.guid===l.guid)&&(!u||u.test(l.namespace))&&(!r||r===l.selector||r==="**"&&l.selector)&&(h.splice(s,1),l.selector&&h.delegateCount--,c.remove&&c.remove.call(e,l));o&&!h.length&&((!c.teardown||c.teardown.call(e,d,m.handle)===!1)&&jQuery.removeEvent(e,p,m.handle),delete a[p])}jQuery.isEmptyObject(a)&&(delete m.handle,data_priv.remove(e,"events"))},trigger:function(e,t,n,r){var i,s,o,u,a,f,l,c=[n||document],h=hasOwn.call(e,"type")?e.type:e,p=hasOwn.call(e,"namespace")?e.namespace.split("."):[];s=o=n=n||document;if(n.nodeType===3||n.nodeType===8)return;if(rfocusMorph.test(h+jQuery.event.triggered))return;h.indexOf(".")>=0&&(p=h.split("."),h=p.shift(),p.sort()),a=h.indexOf(":")<0&&"on"+h,e=e[jQuery.expando]?e:new jQuery.Event(h,typeof e=="object"&&e),e.isTrigger=r?2:3,e.namespace=p.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=undefined,e.target||(e.target=n),t=t==null?[e]:jQuery.makeArray(t,[e]),l=jQuery.event.special[h]||{};if(!r&&l.trigger&&l.trigger.apply(n,t)===!1)return;if(!r&&!l.noBubble&&!jQuery.isWindow(n)){u=l.delegateType||h,rfocusMorph.test(u+h)||(s=s.parentNode);for(;s;s=s.parentNode)c.push(s),o=s;o===(n.ownerDocument||document)&&c.push(o.defaultView||o.parentWindow||window)}i=0;while((s=c[i++])&&!e.isPropagationStopped())e.type=i>1?u:l.bindType||h,f=(data_priv.get(s,"events")||{})[e.type]&&data_priv.get(s,"handle"),f&&f.apply(s,t),f=a&&s[a],f&&f.apply&&jQuery.acceptData(s)&&(e.result=f.apply(s,t),e.result===!1&&e.preventDefault());return e.type=h,!r&&!e.isDefaultPrevented()&&(!l._default||l._default.apply(c.pop(),t)===!1)&&jQuery.acceptData(n)&&a&&jQuery.isFunction(n[h])&&!jQuery.isWindow(n)&&(o=n[a],o&&(n[a]=null),jQuery.event.triggered=h,n[h](),jQuery.event.triggered=undefined,o&&(n[a]=o)),e.result},dispatch:function(e){e=jQuery.event.fix(e);var t,n,r,i,s,o=[],u=slice.call(arguments),a=(data_priv.get(this,"events")||{})[e.type]||[],f=jQuery.event.special[e.type]||{};u[0]=e,e.delegateTarget=this;if(f.preDispatch&&f.preDispatch.call(this,e)===!1)return;o=jQuery.event.handlers.call(this,e,a),t=0;while((i=o[t++])&&!e.isPropagationStopped()){e.currentTarget=i.elem,n=0;while((s=i.handlers[n++])&&!e.isImmediatePropagationStopped())if(!e.namespace_re||e.namespace_re.test(s.namespace))e.handleObj=s,e.data=s.data,r=((jQuery.event.special[s.origType]||{}).handle||s.handler).apply(i.elem,u),r!==undefined&&(e.result=r)===!1&&(e.preventDefault(),e.stopPropagation())}return f.postDispatch&&f.postDispatch.call(this,e),e.result},handlers:function(e,t){var n,r,i,s,o=[],u=t.delegateCount,a=e.target;if(u&&a.nodeType&&(!e.button||e.type!=="click"))for(;a!==this;a=a.parentNode||this)if(a.disabled!==!0||e.type!=="click"){r=[];for(n=0;n<u;n++)s=t[n],i=s.selector+" ",r[i]===undefined&&(r[i]=s.needsContext?jQuery(i,this).index(a)>=0:jQuery.find(i,this,null,[a]).length),r[i]&&r.push(s);r.length&&o.push({elem:a,handlers:r})}return u<t.length&&o.push({elem:this,handlers:t.slice(u)}),o},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return e.which==null&&(e.which=t.charCode!=null?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,s=t.button;return e.pageX==null&&t.clientX!=null&&(n=e.target.ownerDocument||document,r=n.documentElement,i=n.body,e.pageX=t.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),!e.which&&s!==undefined&&(e.which=s&1?1:s&2?3:s&4?2:0),e}},fix:function(e){if(e[jQuery.expando])return e;var t,n,r,i=e.type,s=e,o=this.fixHooks[i];o||(this.fixHooks[i]=o=rmouseEvent.test(i)?this.mouseHooks:rkeyEvent.test(i)?this.keyHooks:{}),r=o.props?this.props.concat(o.props):this.props,e=new jQuery.Event(s),t=r.length;while(t--)n=r[t],e[n]=s[n];return e.target||(e.target=document),e.target.nodeType===3&&(e.target=e.target.parentNode),o.filter?o.filter(e,s):e},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==safeActiveElement()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===safeActiveElement()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if(this.type==="checkbox"&&this.click&&jQuery.nodeName(this,"input"))return this.click(),!1},_default:function(e){return jQuery.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){e.result!==undefined&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=jQuery.extend(new jQuery.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?jQuery.event.trigger(i,null,t):jQuery.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},jQuery.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},jQuery.Event=function(e,t){if(!(this instanceof jQuery.Event))return new jQuery.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.defaultPrevented===undefined&&e.getPreventDefault&&e.getPreventDefault()?returnTrue:returnFalse):this.type=e,t&&jQuery.extend(this,t),this.timeStamp=e&&e.timeStamp||jQuery.now(),this[jQuery.expando]=!0},jQuery.Event.prototype={isDefaultPrevented:returnFalse,isPropagationStopped:returnFalse,isImmediatePropagationStopped:returnFalse,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=returnTrue,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=returnTrue,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=returnTrue,this.stopPropagation()}},jQuery.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){jQuery.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,s=e.handleObj;if(!i||i!==r&&!jQuery.contains(r,i))e.type=s.origType,n=s.handler.apply(this,arguments),e.type=t;return n}}}),support.focusinBubbles||jQuery.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){jQuery.event.simulate(t,e.target,jQuery.event.fix(e),!0)};jQuery.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=data_priv.access(r,t);i||r.addEventListener(e,n,!0),data_priv.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=data_priv.access(r,t)-1;i?data_priv.access(r,t,i):(r.removeEventListener(e,n,!0),data_priv.remove(r,t))}}}),jQuery.fn.extend({on:function(e,t,n,r,i){var s,o;if(typeof e=="object"){typeof t!="string"&&(n=n||t,t=undefined);for(o in e)this.on(o,t,n,e[o],i);return this}n==null&&r==null?(r=t,n=t=undefined):r==null&&(typeof t=="string"?(r=n,n=undefined):(r=n,n=t,t=undefined));if(r===!1)r=returnFalse;else if(!r)return this;return i===1&&(s=r,r=function(e){return jQuery().off(e),s.apply(this,arguments)},r.guid=s.guid||(s.guid=jQuery.guid++)),this.each(function(){jQuery.event.add(this,e,r,n,t)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,jQuery(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if(typeof e=="object"){for(i in e)this.off(i,t,e[i]);return this}if(t===!1||typeof t=="function")n=t,t=undefined;return n===!1&&(n=returnFalse),this.each(function(){jQuery.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){jQuery.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return jQuery.event.trigger(e,t,n,!0)}});var rxhtmlTag=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,rtagName=/<([\w:]+)/,rhtml=/<|&#?\w+;/,rnoInnerhtml=/<(?:script|style|link)/i,rchecked=/checked\s*(?:[^=]|=\s*.checked.)/i,rscriptType=/^$|\/(?:java|ecma)script/i,rscriptTypeMasked=/^true\/(.*)/,rcleanScript=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,wrapMap={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};wrapMap.optgroup=wrapMap.option,wrapMap.tbody=wrapMap.tfoot=wrapMap.colgroup=wrapMap.caption=wrapMap.thead,wrapMap.th=wrapMap.td,jQuery.extend({clone:function(e,t,n){var r,i,s,o,u=e.cloneNode(!0),a=jQuery.contains(e.ownerDocument,e);if(!support.noCloneChecked&&(e.nodeType===1||e.nodeType===11)&&!jQuery.isXMLDoc(e)){o=getAll(u),s=getAll(e);for(r=0,i=s.length;r<i;r++)fixInput(s[r],o[r])}if(t)if(n){s=s||getAll(e),o=o||getAll(u);for(r=0,i=s.length;r<i;r++)cloneCopyEvent(s[r],o[r])}else cloneCopyEvent(e,u);return o=getAll(u,"script"),o.length>0&&setGlobalEval(o,!a&&getAll(e,"script")),u},buildFragment:function(e,t,n,r){var i,s,o,u,a,f,l=t.createDocumentFragment(),c=[],h=0,p=e.length;for(;h<p;h++){i=e[h];if(i||i===0)if(jQuery.type(i)==="object")jQuery.merge(c,i.nodeType?[i]:i);else if(!rhtml.test(i))c.push(t.createTextNode(i));else{s=s||l.appendChild(t.createElement("div")),o=(rtagName.exec(i)||["",""])[1].toLowerCase(),u=wrapMap[o]||wrapMap._default,s.innerHTML=u[1]+i.replace(rxhtmlTag,"<$1></$2>")+u[2],f=u[0];while(f--)s=s.lastChild;jQuery.merge(c,s.childNodes),s=l.firstChild,s.textContent=""}}l.textContent="",h=0;while(i=c[h++]){if(r&&jQuery.inArray(i,r)!==-1)continue;a=jQuery.contains(i.ownerDocument,i),s=getAll(l.appendChild(i),"script"),a&&setGlobalEval(s);if(n){f=0;while(i=s[f++])rscriptType.test(i.type||"")&&n.push(i)}}return l},cleanData:function(e){var t,n,r,i,s,o,u=jQuery.event.special,a=0;for(;(n=e[a])!==undefined;a++){if(jQuery.acceptData(n)){s=n[data_priv.expando];if(s&&(t=data_priv.cache[s])){r=Object.keys(t.events||{});if(r.length)for(o=0;(i=r[o])!==undefined;o++)u[i]?jQuery.event.remove(n,i):jQuery.removeEvent(n,i,t.handle);data_priv.cache[s]&&delete data_priv.cache[s]}}delete data_user.cache[n[data_user.expando]]}}}),jQuery.fn.extend({text:function(e){return access(this,function(e){return e===undefined?jQuery.text(this):this.empty().each(function(){if(this.nodeType===1||this.nodeType===11||this.nodeType===9)this.textContent=e})},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var t=manipulationTarget(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(this.nodeType===1||this.nodeType===11||this.nodeType===9){var t=manipulationTarget(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){var n,r=e?jQuery.filter(e,this):this,i=0;for(;(n=r[i])!=null;i++)!t&&n.nodeType===1&&jQuery.cleanData(getAll(n)),n.parentNode&&(t&&jQuery.contains(n.ownerDocument,n)&&setGlobalEval(getAll(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){var e,t=0;for(;(e=this[t])!=null;t++)e.nodeType===1&&(jQuery.cleanData(getAll(e,!1)),e.textContent="");return this},clone:function(e,t){return e=e==null?!1:e,t=t==null?e:t,this.map(function(){return jQuery.clone(this,e,t)})},html:function(e){return access(this,function(e){var t=this[0]||{},n=0,r=this.length;if(e===undefined&&t.nodeType===1)return t.innerHTML;if(typeof e=="string"&&!rnoInnerhtml.test(e)&&!wrapMap[(rtagName.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(rxhtmlTag,"<$1></$2>");try{for(;n<r;n++)t=this[n]||{},t.nodeType===1&&(jQuery.cleanData(getAll(t,!1)),t.innerHTML=e);t=0}catch(i){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,jQuery.cleanData(getAll(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=concat.apply([],e);var n,r,i,s,o,u,a=0,f=this.length,l=this,c=f-1,h=e[0],p=jQuery.isFunction(h);if(p||f>1&&typeof h=="string"&&!support.checkClone&&rchecked.test(h))return this.each(function(n){var r=l.eq(n);p&&(e[0]=h.call(this,n,r.html())),r.domManip(e,t)});if(f){n=jQuery.buildFragment(e,this[0].ownerDocument,!1,this),r=n.firstChild,n.childNodes.length===1&&(n=r);if(r){i=jQuery.map(getAll(n,"script"),disableScript),s=i.length;for(;a<f;a++)o=n,a!==c&&(o=jQuery.clone(o,!0,!0),s&&jQuery.merge(i,getAll(o,"script"))),t.call(this[a],o,a);if(s){u=i[i.length-1].ownerDocument,jQuery.map(i,restoreScript);for(a=0;a<s;a++)o=i[a],rscriptType.test(o.type||"")&&!data_priv.access(o,"globalEval")&&jQuery.contains(u,o)&&(o.src?jQuery._evalUrl&&jQuery._evalUrl(o.src):jQuery.globalEval(o.textContent.replace(rcleanScript,"")))}}}return this}}),jQuery.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){jQuery.fn[e]=function(e){var n,r=[],i=jQuery(e),s=i.length-1,o=0;for(;o<=s;o++)n=o===s?this:this.clone(!0),jQuery(i[o])[t](n),push.apply(r,n.get());return this.pushStack(r)}});var iframe,elemdisplay={},rmargin=/^margin/,rnumnonpx=new RegExp("^("+pnum+")(?!px)[a-z%]+$","i"),getStyles=function(e){return e.ownerDocument.defaultView.getComputedStyle(e,null)};(function(){function o(){s.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%",r.appendChild(i);var n=window.getComputedStyle(s,null);e=n.top!=="1%",t=n.width==="4px",r.removeChild(i)}var e,t,n="padding:0;margin:0;border:0;display:block;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box",r=document.documentElement,i=document.createElement("div"),s=document.createElement("div");s.style.backgroundClip="content-box",s.cloneNode(!0).style.backgroundClip="",support.clearCloneStyle=s.style.backgroundClip==="content-box",i.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",i.appendChild(s),window.getComputedStyle&&jQuery.extend(support,{pixelPosition:function(){return o(),e},boxSizingReliable:function(){return t==null&&o(),t},reliableMarginRight:function(){var e,t=s.appendChild(document.createElement("div"));return t.style.cssText=s.style.cssText=n,t.style.marginRight=t.style.width="0",s.style.width="1px",r.appendChild(i),e=!parseFloat(window.getComputedStyle(t,null).marginRight),r.removeChild(i),s.innerHTML="",e}})})(),jQuery.swap=function(e,t,n,r){var i,s,o={};for(s in t)o[s]=e.style[s],e.style[s]=t[s];i=n.apply(e,r||[]);for(s in t)e.style[s]=o[s];return i};var rdisplayswap=/^(none|table(?!-c[ea]).+)/,rnumsplit=new RegExp("^("+pnum+")(.*)$","i"),rrelNum=new RegExp("^([+-])=("+pnum+")","i"),cssShow={position:"absolute",visibility:"hidden",display:"block"},cssNormalTransform={letterSpacing:0,fontWeight:400},cssPrefixes=["Webkit","O","Moz","ms"];jQuery.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=curCSS(e,"opacity");return n===""?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(e,t,n,r){if(!e||e.nodeType===3||e.nodeType===8||!e.style)return;var i,s,o,u=jQuery.camelCase(t),a=e.style;t=jQuery.cssProps[u]||(jQuery.cssProps[u]=vendorPropName(a,u)),o=jQuery.cssHooks[t]||jQuery.cssHooks[u];if(n===undefined)return o&&"get"in o&&(i=o.get(e,!1,r))!==undefined?i:a[t];s=typeof n,s==="string"&&(i=rrelNum.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(jQuery.css(e,t)),s="number");if(n==null||n!==n)return;s==="number"&&!jQuery.cssNumber[u]&&(n+="px"),!support.clearCloneStyle&&n===""&&t.indexOf("background")===0&&(a[t]="inherit");if(!o||!("set"in o)||(n=o.set(e,n,r))!==undefined)a[t]="",a[t]=n},css:function(e,t,n,r){var i,s,o,u=jQuery.camelCase(t);return t=jQuery.cssProps[u]||(jQuery.cssProps[u]=vendorPropName(e.style,u)),o=jQuery.cssHooks[t]||jQuery.cssHooks[u],o&&"get"in o&&(i=o.get(e,!0,n)),i===undefined&&(i=curCSS(e,t,r)),i==="normal"&&t in cssNormalTransform&&(i=cssNormalTransform[t]),n===""||n?(s=parseFloat(i),n===!0||jQuery.isNumeric(s)?s||0:i):i}}),jQuery.each(["height","width"],function(e,t){jQuery.cssHooks[t]={get:function(e,n,r){if(n)return e.offsetWidth===0&&rdisplayswap.test(jQuery.css(e,"display"))?jQuery.swap(e,cssShow,function(){return getWidthOrHeight(e,t,r)}):getWidthOrHeight(e,t,r)},set:function(e,n,r){var i=r&&getStyles(e);return setPositiveNumber(e,n,r?augmentWidthOrHeight(e,t,r,jQuery.css(e,"boxSizing",!1,i)==="border-box",i):0)}}}),jQuery.cssHooks.marginRight=addGetHookIf(support.reliableMarginRight,function(e,t){if(t)return jQuery.swap(e,{display:"inline-block"},curCSS,[e,"marginRight"])}),jQuery.each({margin:"",padding:"",border:"Width"},function(e,t){jQuery.cssHooks[e+t]={expand:function(n){var r=0,i={},s=typeof n=="string"?n.split(" "):[n];for(;r<4;r++)i[e+cssExpand[r]+t]=s[r]||s[r-2]||s[0];return i}},rmargin.test(e)||(jQuery.cssHooks[e+t].set=setPositiveNumber)}),jQuery.fn.extend({css:function(e,t){return access(this,function(e,t,n){var r,i,s={},o=0;if(jQuery.isArray(t)){r=getStyles(e),i=t.length;for(;o<i;o++)s[t[o]]=jQuery.css(e,t[o],!1,r);return s}return n!==undefined?jQuery.style(e,t,n):jQuery.css(e,t)},e,t,arguments.length>1)},show:function(){return showHide(this,!0)},hide:function(){return showHide(this)},toggle:function(e){return typeof e=="boolean"?e?this.show():this.hide():this.each(function(){isHidden(this)?jQuery(this).show():jQuery(this).hide()})}}),jQuery.Tween=Tween,Tween.prototype={constructor:Tween,init:function(e,t,n,r,i,s){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=s||(jQuery.cssNumber[n]?"":"px")},cur:function(){var e=Tween.propHooks[this.prop];return e&&e.get?e.get(this):Tween.propHooks._default.get(this)},run:function(e){var t,n=Tween.propHooks[this.prop];return this.options.duration?this.pos=t=jQuery.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Tween.propHooks._default.set(this),this}},Tween.prototype.init.prototype=Tween.prototype,Tween.propHooks={_default:{get:function(e){var t;return e.elem[e.prop]==null||!!e.elem.style&&e.elem.style[e.prop]!=null?(t=jQuery.css(e.elem,e.prop,""),!t||t==="auto"?0:t):e.elem[e.prop]},set:function(e){jQuery.fx.step[e.prop]?jQuery.fx.step[e.prop](e):e.elem.style&&(e.elem.style[jQuery.cssProps[e.prop]]!=null||jQuery.cssHooks[e.prop])?jQuery.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},Tween.propHooks.scrollTop=Tween.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},jQuery.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},jQuery.fx=Tween.prototype.init,jQuery.fx.step={};var fxNow,timerId,rfxtypes=/^(?:toggle|show|hide)$/,rfxnum=new RegExp("^(?:([+-])=|)("+pnum+")([a-z%]*)$","i"),rrun=/queueHooks$/,animationPrefilters=[defaultPrefilter],tweeners={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=rfxnum.exec(t),s=i&&i[3]||(jQuery.cssNumber[e]?"":"px"),o=(jQuery.cssNumber[e]||s!=="px"&&+r)&&rfxnum.exec(jQuery.css(n.elem,e)),u=1,a=20;if(o&&o[3]!==s){s=s||o[3],i=i||[],o=+r||1;do u=u||".5",o/=u,jQuery.style(n.elem,e,o+s);while(u!==(u=n.cur()/r)&&u!==1&&--a)}return i&&(o=n.start=+o||+r||0,n.unit=s,n.end=i[1]?o+(i[1]+1)*i[2]:+i[2]),n}]};jQuery.Animation=jQuery.extend(Animation,{tweener:function(e,t){jQuery.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");var n,r=0,i=e.length;for(;r<i;r++)n=e[r],tweeners[n]=tweeners[n]||[],tweeners[n].unshift(t)},prefilter:function(e,t){t?animationPrefilters.unshift(e):animationPrefilters.push(e)}}),jQuery.speed=function(e,t,n){var r=e&&typeof e=="object"?jQuery.extend({},e):{complete:n||!n&&t||jQuery.isFunction(e)&&e,duration:e,easing:n&&t||t&&!jQuery.isFunction(t)&&t};r.duration=jQuery.fx.off?0:typeof r.duration=="number"?r.duration:r.duration in jQuery.fx.speeds?jQuery.fx.speeds[r.duration]:jQuery.fx.speeds._default;if(r.queue==null||r.queue===!0)r.queue="fx";return r.old=r.complete,r.complete=function(){jQuery.isFunction(r.old)&&r.old.call(this),r.queue&&jQuery.dequeue(this,r.queue)},r},jQuery.fn.extend({fadeTo:function(e,t,n,r){return this.filter(isHidden).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=jQuery.isEmptyObject(e),s=jQuery.speed(t,n,r),o=function(){var t=Animation(this,jQuery.extend({},e),s);(i||data_priv.get(this,"finish"))&&t.stop(!0)};return o.finish=o,i||s.queue===!1?this.each(o):this.queue(s.queue,o)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return typeof e!="string"&&(n=t,t=e,e=undefined),t&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=e!=null&&e+"queueHooks",s=jQuery.timers,o=data_priv.get(this);if(i)o[i]&&o[i].stop&&r(o[i]);else for(i in o)o[i]&&o[i].stop&&rrun.test(i)&&r(o[i]);for(i=s.length;i--;)s[i].elem===this&&(e==null||s[i].queue===e)&&(s[i].anim.stop(n),t=!1,s.splice(i,1));(t||!n)&&jQuery.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=data_priv.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],s=jQuery.timers,o=r?r.length:0;n.finish=!0,jQuery.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0);for(t=s.length;t--;)s[t].elem===this&&s[t].queue===e&&(s[t].anim.stop(!0),s.splice(t,1));for(t=0;t<o;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),jQuery.each(["toggle","show","hide"],function(e,t){var n=jQuery.fn[t];jQuery.fn[t]=function(e,r,i){return e==null||typeof e=="boolean"?n.apply(this,arguments):this.animate(genFx(t,!0),e,r,i)}}),jQuery.each({slideDown:genFx("show"),slideUp:genFx("hide"),slideToggle:genFx("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){jQuery.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),jQuery.timers=[],jQuery.fx.tick=function(){var e,t=0,n=jQuery.timers;fxNow=jQuery.now();for(;t<n.length;t++)e=n[t],!e()&&n[t]===e&&n.splice(t--,1);n.length||jQuery.fx.stop(),fxNow=undefined},jQuery.fx.timer=function(e){jQuery.timers.push(e),e()?jQuery.fx.start():jQuery.timers.pop()},jQuery.fx.interval=13,jQuery.fx.start=function(){timerId||(timerId=setInterval(jQuery.fx.tick,jQuery.fx.interval))},jQuery.fx.stop=function(){clearInterval(timerId),timerId=null},jQuery.fx.speeds={slow:600,fast:200,_default:400},jQuery.fn.delay=function(e,t){return e=jQuery.fx?jQuery.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},function(){var e=document.createElement("input"),t=document.createElement("select"),n=t.appendChild(document.createElement("option"));e.type="checkbox",support.checkOn=e.value!=="",support.optSelected=n.selected,t.disabled=!0,support.optDisabled=!n.disabled,e=document.createElement("input"),e.value="t",e.type="radio",support.radioValue=e.value==="t"}();var nodeHook,boolHook,attrHandle=jQuery.expr.attrHandle;jQuery.fn.extend({attr:function(e,t){return access(this,jQuery.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){jQuery.removeAttr(this,e)})}}),jQuery.extend({attr:function(e,t,n){var r,i,s=e.nodeType;if(!e||s===3||s===8||s===2)return;if(typeof e.getAttribute===strundefined)return jQuery.prop(e,t,n);if(s!==1||!jQuery.isXMLDoc(e))t=t.toLowerCase(),r=jQuery.attrHooks[t]||(jQuery.expr.match.bool.test(t)?boolHook:nodeHook);if(n===undefined)return r&&"get"in r&&(i=r.get(e,t))!==null?i:(i=jQuery.find.attr(e,t),i==null?undefined:i);if(n!==null)return r&&"set"in r&&(i=r.set(e,n,t))!==undefined?i:(e.setAttribute(t,n+""),n);jQuery.removeAttr(e,t)},removeAttr:function(e,t){var n,r,i=0,s=t&&t.match(rnotwhite);if(s&&e.nodeType===1)while(n=s[i++])r=jQuery.propFix[n]||n,jQuery.expr.match.bool.test(n)&&(e[r]=!1),e.removeAttribute(n)},attrHooks:{type:{set:function(e,t){if(!support.radioValue&&t==="radio"&&jQuery.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),boolHook={set:function(e,t,n){return t===!1?jQuery.removeAttr(e,n):e.setAttribute(n,n),n}},jQuery.each(jQuery.expr.match.bool.source.match(/\w+/g),function(e,t){var n=attrHandle[t]||jQuery.find.attr;attrHandle[t]=function(e,t,r){var i,s;return r||(s=attrHandle[t],attrHandle[t]=i,i=n(e,t,r)!=null?t.toLowerCase():null,attrHandle[t]=s),i}});var rfocusable=/^(?:input|select|textarea|button)$/i;jQuery.fn.extend({prop:function(e,t){return access(this,jQuery.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[jQuery.propFix[e]||e]})}}),jQuery.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,n){var r,i,s,o=e.nodeType;if(!e||o===3||o===8||o===2)return;return s=o!==1||!jQuery.isXMLDoc(e),s&&(t=jQuery.propFix[t]||t,i=jQuery.propHooks[t]),n!==undefined?i&&"set"in i&&(r=i.set(e,n,t))!==undefined?r:e[t]=n:i&&"get"in i&&(r=i.get(e,t))!==null?r:e[t]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||rfocusable.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),support.optSelected||(jQuery.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),jQuery.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){jQuery.propFix[this.toLowerCase()]=this});var rclass=/[\t\r\n\f]/g;jQuery.fn.extend({addClass:function(e){var t,n,r,i,s,o,u=typeof e=="string"&&e,a=0,f=this.length;if(jQuery.isFunction(e))return this.each(function(t){jQuery(this).addClass(e.call(this,t,this.className))});if(u){t=(e||"").match(rnotwhite)||[];for(;a<f;a++){n=this[a],r=n.nodeType===1&&(n.className?(" "+n.className+" ").replace(rclass," "):" ");if(r){s=0;while(i=t[s++])r.indexOf(" "+i+" ")<0&&(r+=i+" ");o=jQuery.trim(r),n.className!==o&&(n.className=o)}}}return this},removeClass:function(e){var t,n,r,i,s,o,u=arguments.length===0||typeof e=="string"&&e,a=0,f=this.length;if(jQuery.isFunction(e))return this.each(function(t){jQuery(this).removeClass(e.call(this,t,this.className))});if(u){t=(e||"").match(rnotwhite)||[];for(;a<f;a++){n=this[a],r=n.nodeType===1&&(n.className?(" "+n.className+" ").replace(rclass," "):"");if(r){s=0;while(i=t[s++])while(r.indexOf(" "+i+" ")>=0)r=r.replace(" "+i+" "," ");o=e?jQuery.trim(r):"",n.className!==o&&(n.className=o)}}}return this},toggleClass:function(e,t){var n=typeof e;return typeof t=="boolean"&&n==="string"?t?this.addClass(e):this.removeClass(e):jQuery.isFunction(e)?this.each(function(n){jQuery(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if(n==="string"){var t,r=0,i=jQuery(this),s=e.match(rnotwhite)||[];while(t=s[r++])i.hasClass(t)?i.removeClass(t):i.addClass(t)}else if(n===strundefined||n==="boolean")this.className&&data_priv.set(this,"__className__",this.className),this.className=this.className||e===!1?"":data_priv.get(this,"__className__")||""})},hasClass:function(e){var t=" "+e+" ",n=0,r=this.length;for(;n<r;n++)if(this[n].nodeType===1&&(" "+this[n].className+" ").replace(rclass," ").indexOf(t)>=0)return!0;return!1}});var rreturn=/\r/g;jQuery.fn.extend({val:function(e){var t,n,r,i=this[0];if(!arguments.length){if(i)return t=jQuery.valHooks[i.type]||jQuery.valHooks[i.nodeName.toLowerCase()],t&&"get"in t&&(n=t.get(i,"value"))!==undefined?n:(n=i.value,typeof n=="string"?n.replace(rreturn,""):n==null?"":n);return}return r=jQuery.isFunction(e),this.each(function(n){var i;if(this.nodeType!==1)return;r?i=e.call(this,n,jQuery(this).val()):i=e,i==null?i="":typeof i=="number"?i+="":jQuery.isArray(i)&&(i=jQuery.map(i,function(e){return e==null?"":e+""})),t=jQuery.valHooks[this.type]||jQuery.valHooks[this.nodeName.toLowerCase()];if(!t||!("set"in t)||t.set(this,i,"value")===undefined)this.value=i})}}),jQuery.extend({valHooks:{select:{get:function(e){var t,n,r=e.options,i=e.selectedIndex,s=e.type==="select-one"||i<0,o=s?null:[],u=s?i+1:r.length,a=i<0?u:s?i:0;for(;a<u;a++){n=r[a];if((n.selected||a===i)&&(support.optDisabled?!n.disabled:n.getAttribute("disabled")===null)&&(!n.parentNode.disabled||!jQuery.nodeName(n.parentNode,"optgroup"))){t=jQuery(n).val();if(s)return t;o.push(t)}}return o},set:function(e,t){var n,r,i=e.options,s=jQuery.makeArray(t),o=i.length;while(o--){r=i[o];if(r.selected=jQuery.inArray(jQuery(r).val(),s)>=0)n=!0}return n||(e.selectedIndex=-1),s}}}}),jQuery.each(["radio","checkbox"],function(){jQuery.valHooks[this]={set:function(e,t){if(jQuery.isArray(t))return e.checked=jQuery.inArray(jQuery(e).val(),t)>=0}},support.checkOn||(jQuery.valHooks[this].get=function(e){return e.getAttribute("value")===null?"on":e.value})}),jQuery.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){jQuery.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),jQuery.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return arguments.length===1?this.off(e,"**"):this.off(t,e||"**",n)}});var nonce=jQuery.now(),rquery=/\?/;jQuery.parseJSON=function(e){return JSON.parse(e+"")},jQuery.parseXML=function(e){var t,n;if(!e||typeof e!="string")return null;try{n=new DOMParser,t=n.parseFromString(e,"text/xml")}catch(r){t=undefined}return(!t||t.getElementsByTagName("parsererror").length)&&jQuery.error("Invalid XML: "+e),t};var ajaxLocParts,ajaxLocation,rhash=/#.*$/,rts=/([?&])_=[^&]*/,rheaders=/^(.*?):[ \t]*([^\r\n]*)$/mg,rlocalProtocol=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,rnoContent=/^(?:GET|HEAD)$/,rprotocol=/^\/\//,rurl=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,prefilters={},transports={},allTypes="*/".concat("*");try{ajaxLocation=location.href}catch(e){ajaxLocation=document.createElement("a"),ajaxLocation.href="",ajaxLocation=ajaxLocation.href}ajaxLocParts=rurl.exec(ajaxLocation.toLowerCase())||[],jQuery.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ajaxLocation,type:"GET",isLocal:rlocalProtocol.test(ajaxLocParts[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":allTypes,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":jQuery.parseJSON,"text xml":jQuery.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?ajaxExtend(ajaxExtend(e,jQuery.ajaxSettings),t):ajaxExtend(jQuery.ajaxSettings,e)},ajaxPrefilter:addToPrefiltersOrTransports(prefilters),ajaxTransport:addToPrefiltersOrTransports(transports),ajax:function(e,t){function S(e,t,s,u){var f,m,g,b,E,S=t;if(y===2)return;y=2,o&&clearTimeout(o),n=undefined,i=u||"",w.readyState=e>0?4:0,f=e>=200&&e<300||e===304,s&&(b=ajaxHandleResponses(l,w,s)),b=ajaxConvert(l,b,w,f);if(f)l.ifModified&&(E=w.getResponseHeader("Last-Modified"),E&&(jQuery.lastModified[r]=E),E=w.getResponseHeader("etag"),E&&(jQuery.etag[r]=E)),e===204||l.type==="HEAD"?S="nocontent":e===304?S="notmodified":(S=b.state,m=b.data,g=b.error,f=!g);else{g=S;if(e||!S)S="error",e<0&&(e=0)}w.status=e,w.statusText=(t||S)+"",f?p.resolveWith(c,[m,S,w]):p.rejectWith(c,[w,S,g]),w.statusCode(v),v=undefined,a&&h.trigger(f?"ajaxSuccess":"ajaxError",[w,l,f?m:g]),d.fireWith(c,[w,S]),a&&(h.trigger("ajaxComplete",[w,l]),--jQuery.active||jQuery.event.trigger("ajaxStop"))}typeof e=="object"&&(t=e,e=undefined),t=t||{};var n,r,i,s,o,u,a,f,l=jQuery.ajaxSetup({},t),c=l.context||l,h=l.context&&(c.nodeType||c.jquery)?jQuery(c):jQuery.event,p=jQuery.Deferred(),d=jQuery.Callbacks("once memory"),v=l.statusCode||{},m={},g={},y=0,b="canceled",w={readyState:0,getResponseHeader:function(e){var t;if(y===2){if(!s){s={};while(t=rheaders.exec(i))s[t[1].toLowerCase()]=t[2]}t=s[e.toLowerCase()]}return t==null?null:t},getAllResponseHeaders:function(){return y===2?i:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return y||(e=g[n]=g[n]||e,m[e]=t),this},overrideMimeType:function(e){return y||(l.mimeType=e),this},statusCode:function(e){var t;if(e)if(y<2)for(t in e)v[t]=[v[t],e[t]];else w.always(e[w.status]);return this},abort:function(e){var t=e||b;return n&&n.abort(t),S(0,t),this}};p.promise(w).complete=d.add,w.success=w.done,w.error=w.fail,l.url=((e||l.url||ajaxLocation)+"").replace(rhash,"").replace(rprotocol,ajaxLocParts[1]+"//"),l.type=t.method||t.type||l.method||l.type,l.dataTypes=jQuery.trim(l.dataType||"*").toLowerCase().match(rnotwhite)||[""],l.crossDomain==null&&(u=rurl.exec(l.url.toLowerCase()),l.crossDomain=!(!u||u[1]===ajaxLocParts[1]&&u[2]===ajaxLocParts[2]&&(u[3]||(u[1]==="http:"?"80":"443"))===(ajaxLocParts[3]||(ajaxLocParts[1]==="http:"?"80":"443")))),l.data&&l.processData&&typeof l.data!="string"&&(l.data=jQuery.param(l.data,l.traditional)),inspectPrefiltersOrTransports(prefilters,l,t,w);if(y===2)return w;a=l.global,a&&jQuery.active++===0&&jQuery.event.trigger("ajaxStart"),l.type=l.type.toUpperCase(),l.hasContent=!rnoContent.test(l.type),r=l.url,l.hasContent||(l.data&&(r=l.url+=(rquery.test(r)?"&":"?")+l.data,delete l.data),l.cache===!1&&(l.url=rts.test(r)?r.replace(rts,"$1_="+nonce++):r+(rquery.test(r)?"&":"?")+"_="+nonce++)),l.ifModified&&(jQuery.lastModified[r]&&w.setRequestHeader("If-Modified-Since",jQuery.lastModified[r]),jQuery.etag[r]&&w.setRequestHeader("If-None-Match",jQuery.etag[r])),(l.data&&l.hasContent&&l.contentType!==!1||t.contentType)&&w.setRequestHeader("Content-Type",l.contentType),w.setRequestHeader("Accept",l.dataTypes[0]&&l.accepts[l.dataTypes[0]]?l.accepts[l.dataTypes[0]]+(l.dataTypes[0]!=="*"?", "+allTypes+"; q=0.01":""):l.accepts["*"]);for(f in l.headers)w.setRequestHeader(f,l.headers[f]);if(!l.beforeSend||l.beforeSend.call(c,w,l)!==!1&&y!==2){b="abort";for(f in{success:1,error:1,complete:1})w[f](l[f]);n=inspectPrefiltersOrTransports(transports,l,t,w);if(!n)S(-1,"No Transport");else{w.readyState=1,a&&h.trigger("ajaxSend",[w,l]),l.async&&l.timeout>0&&(o=setTimeout(function(){w.abort("timeout")},l.timeout));try{y=1,n.send(m,S)}catch(E){if(!(y<2))throw E;S(-1,E)}}return w}return w.abort()},getJSON:function(e,t,n){return jQuery.get(e,t,n,"json")},getScript:function(e,t){return jQuery.get(e,undefined,t,"script")}}),jQuery.each(["get","post"],function(e,t){jQuery[t]=function(e,n,r,i){return jQuery.isFunction(n)&&(i=i||r,r=n,n=undefined),jQuery.ajax({url:e,type:t,dataType:i,data:n,success:r})}}),jQuery.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){jQuery.fn[t]=function(e){return this.on(t,e)}}),jQuery._evalUrl=function(e){return jQuery.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},jQuery.fn.extend({wrapAll:function(e){var t;return jQuery.isFunction(e)?this.each(function(t){jQuery(this).wrapAll(e.call(this,t))}):(this[0]&&(t=jQuery(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstElementChild)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return jQuery.isFunction(e)?this.each(function(t){jQuery(this).wrapInner(e.call(this,t))}):this.each(function(){var t=jQuery(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=jQuery.isFunction(e);return this.each(function(n){jQuery(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){jQuery.nodeName(this,"body")||jQuery(this).replaceWith(this.childNodes)}).end()}}),jQuery.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},jQuery.expr.filters.visible=function(e){return!jQuery.expr.filters.hidden(e)};var r20=/%20/g,rbracket=/\[\]$/,rCRLF=/\r?\n/g,rsubmitterTypes=/^(?:submit|button|image|reset|file)$/i,rsubmittable=/^(?:input|select|textarea|keygen)/i;jQuery.param=function(e,t){var n,r=[],i=function(e,t){t=jQuery.isFunction(t)?t():t==null?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};t===undefined&&(t=jQuery.ajaxSettings&&jQuery.ajaxSettings.traditional);if(jQuery.isArray(e)||e.jquery&&!jQuery.isPlainObject(e))jQuery.each(e,function(){i(this.name,this.value)});else for(n in e)buildParams(n,e[n],t,i);return r.join("&").replace(r20,"+")},jQuery.fn.extend({serialize:function(){return jQuery.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=jQuery.prop(this,"elements");return e?jQuery.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!jQuery(this).is(":disabled")&&rsubmittable.test(this.nodeName)&&!rsubmitterTypes.test(e)&&(this.checked||!rcheckableType.test(e))}).map(function(e,t){var n=jQuery(this).val();return n==null?null:jQuery.isArray(n)?jQuery.map(n,function(e){return{name:t.name,value:e.replace(rCRLF,"\r\n")}}):{name:t.name,value:n.replace(rCRLF,"\r\n")}}).get()}}),jQuery.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var xhrId=0,xhrCallbacks={},xhrSuccessStatus={0:200,1223:204},xhrSupported=jQuery.ajaxSettings.xhr();window.ActiveXObject&&jQuery(window).on("unload",function(){for(var e in xhrCallbacks)xhrCallbacks[e]()}),support.cors=!!xhrSupported&&"withCredentials"in xhrSupported,support.ajax=xhrSupported=!!xhrSupported,jQuery.ajaxTransport(function(e){var t;if(support.cors||xhrSupported&&!e.crossDomain)return{send:function(n,r){var i,s=e.xhr(),o=++xhrId;s.open(e.type,e.url,e.async,e.username,e.password);if(e.xhrFields)for(i in e.xhrFields)s[i]=e.xhrFields[i];e.mimeType&&s.overrideMimeType&&s.overrideMimeType(e.mimeType),!e.crossDomain&&!n["X-Requested-With"]&&(n["X-Requested-With"]="XMLHttpRequest");for(i in n)s.setRequestHeader(i,n[i]);t=function(e){return function(){t&&(delete xhrCallbacks[o],t=s.onload=s.onerror=null,e==="abort"?s.abort():e==="error"?r(s.status,s.statusText):r(xhrSuccessStatus[s.status]||s.status,s.statusText,typeof s.responseText=="string"?{text:s.responseText}:undefined,s.getAllResponseHeaders()))}},s.onload=t(),s.onerror=t("error"),t=xhrCallbacks[o]=t("abort"),s.send(e.hasContent&&e.data||null)},abort:function(){t&&t()}}}),jQuery.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return jQuery.globalEval(e),e}}}),jQuery.ajaxPrefilter("script",function(e){e.cache===undefined&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),jQuery.ajaxTransport("script",function(e){if(e.crossDomain){var t,n;return{send:function(r,i){t=jQuery("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i(e.type==="error"?404:200,e.type)}),document.head.appendChild(t[0])},abort:function(){n&&n()}}}});var oldCallbacks=[],rjsonp=/(=)\?(?=&|$)|\?\?/;jQuery.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=oldCallbacks.pop()||jQuery.expando+"_"+nonce++;return this[e]=!0,e}}),jQuery.ajaxPrefilter("json jsonp",function(e,t,n){var r,i,s,o=e.jsonp!==!1&&(rjsonp.test(e.url)?"url":typeof e.data=="string"&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&rjsonp.test(e.data)&&"data");if(o||e.dataTypes[0]==="jsonp")return r=e.jsonpCallback=jQuery.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,o?e[o]=e[o].replace(rjsonp,"$1"+r):e.jsonp!==!1&&(e.url+=(rquery.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return s||jQuery.error(r+" was not called"),s[0]},e.dataTypes[0]="json",i=window[r],window[r]=function(){s=arguments},n.always(function(){window[r]=i,e[r]&&(e.jsonpCallback=t.jsonpCallback,oldCallbacks.push(r)),s&&jQuery.isFunction(i)&&i(s[0]),s=i=undefined}),"script"}),jQuery.parseHTML=function(e,t,n){if(!e||typeof e!="string")return null;typeof t=="boolean"&&(n=t,t=!1),t=t||document;var r=rsingleTag.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=jQuery.buildFragment([e],t,i),i&&i.length&&jQuery(i).remove(),jQuery.merge([],r.childNodes))};var _load=jQuery.fn.load;jQuery.fn.load=function(e,t,n){if(typeof e!="string"&&_load)return _load.apply(this,arguments);var r,i,s,o=this,u=e.indexOf(" ");return u>=0&&(r=e.slice(u),e=e.slice(0,u)),jQuery.isFunction(t)?(n=t,t=undefined):t&&typeof t=="object"&&(i="POST"),o.length>0&&jQuery.ajax({url:e,type:i,dataType:"html",data:t}).done(function(e){s=arguments,o.html(r?jQuery("<div>").append(jQuery.parseHTML(e)).find(r):e)}).complete(n&&function(e,t){o.each(n,s||[e.responseText,t,e])}),this},jQuery.expr.filters.animated=function(e){return jQuery.grep(jQuery.timers,function(t){return e===t.elem}).length};var docElem=window.document.documentElement;jQuery.offset={setOffset:function(e,t,n){var r,i,s,o,u,a,f,l=jQuery.css(e,"position"),c=jQuery(e),h={};l==="static"&&(e.style.position="relative"),u=c.offset(),s=jQuery.css(e,"top"),a=jQuery.css(e,"left"),f=(l==="absolute"||l==="fixed")&&(s+a).indexOf("auto")>-1,f?(r=c.position(),o=r.top,i=r.left):(o=parseFloat(s)||0,i=parseFloat(a)||0),jQuery.isFunction(t)&&(t=t.call(e,n,u)),t.top!=null&&(h.top=t.top-u.top+o),t.left!=null&&(h.left=t.left-u.left+i),"using"in t?t.using.call(e,h):c.css(h)}},jQuery.fn.extend({offset:function(e){if(arguments.length)return e===undefined?this:this.each(function(t){jQuery.offset.setOffset(this,e,t)});var t,n,r=this[0],i={top:0,left:0},s=r&&r.ownerDocument;if(!s)return;return t=s.documentElement,jQuery.contains(t,r)?(typeof r.getBoundingClientRect!==strundefined&&(i=r.getBoundingClientRect()),n=getWindow(s),{top:i.top+n.pageYOffset-t.clientTop,left:i.left+n.pageXOffset-t.clientLeft}):i},position:function(){if(!this[0])return;var e,t,n=this[0],r={top:0,left:0};return jQuery.css(n,"position")==="fixed"?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),jQuery.nodeName(e[0],"html")||(r=e.offset()),r.top+=jQuery.css(e[0],"borderTopWidth",!0),r.left+=jQuery.css(e[0],"borderLeftWidth",!0)),{top:t.top-r.top-jQuery.css(n,"marginTop",!0),left:t.left-r.left-jQuery.css(n,"marginLeft",!0)}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||docElem;while(e&&!jQuery.nodeName(e,"html")&&jQuery.css(e,"position")==="static")e=e.offsetParent;return e||docElem})}}),jQuery.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;jQuery.fn[e]=function(r){return access(this,function(e,r,i){var s=getWindow(e);if(i===undefined)return s?s[t]:e[r];s?s.scrollTo(n?window.pageXOffset:i,n?i:window.pageYOffset):e[r]=i},e,r,arguments.length,null)}}),jQuery.each(["top","left"],function(e,t){jQuery.cssHooks[t]=addGetHookIf(support.pixelPosition,function(e,n){if(n)return n=curCSS(e,t),rnumnonpx.test(n)?jQuery(e).position()[t]+"px":n})}),jQuery.each({Height:"height",Width:"width"},function(e,t){jQuery.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){jQuery.fn[r]=function(r,i){var s=arguments.length&&(n||typeof r!="boolean"),o=n||(r===!0||i===!0?"margin":"border");return access(this,function(t,n,r){var i;return jQuery.isWindow(t)?t.document.documentElement["client"+e]:t.nodeType===9?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):r===undefined?jQuery.css(t,n,o):jQuery.style(t,n,r,o)},t,s?r:undefined,s,null)}})}),jQuery.fn.size=function(){return this.length},jQuery.fn.andSelf=jQuery.fn.addBack,typeof define=="function"&&define.amd&&define("jquery",[],function(){return jQuery});var _jQuery=window.jQuery,_$=window.$;return jQuery.noConflict=function(e){return window.$===jQuery&&(window.$=_$),e&&window.jQuery===jQuery&&(window.jQuery=_jQuery),jQuery},typeof noGlobal===strundefined&&(window.jQuery=window.$=jQuery),jQuery}),define("jquery",function(){}),function(){var e=this,t=e._,n={},r=Array.prototype,i=Object.prototype,s=Function.prototype,o=r.push,u=r.slice,a=r.concat,f=i.toString,l=i.hasOwnProperty,c=r.forEach,h=r.map,p=r.reduce,d=r.reduceRight,v=r.filter,m=r.every,g=r.some,y=r.indexOf,b=r.lastIndexOf,w=Array.isArray,E=Object.keys,S=s.bind,x=function(e){if(e instanceof x)return e;if(!(this instanceof x))return new x(e);this._wrapped=e};typeof exports!="undefined"?(typeof module!="undefined"&&module.exports&&(exports=module.exports=x),exports._=x):e._=x,x.VERSION="1.5.2";var T=x.each=x.forEach=function(e,t,r){if(e==null)return;if(c&&e.forEach===c)e.forEach(t,r);else if(e.length===+e.length){for(var i=0,s=e.length;i<s;i++)if(t.call(r,e[i],i,e)===n)return}else{var o=x.keys(e);for(var i=0,s=o.length;i<s;i++)if(t.call(r,e[o[i]],o[i],e)===n)return}};x.map=x.collect=function(e,t,n){var r=[];return e==null?r:h&&e.map===h?e.map(t,n):(T(e,function(e,i,s){r.push(t.call(n,e,i,s))}),r)};var N="Reduce of empty array with no initial value";x.reduce=x.foldl=x.inject=function(e,t,n,r){var i=arguments.length>2;e==null&&(e=[]);if(p&&e.reduce===p)return r&&(t=x.bind(t,r)),i?e.reduce(t,n):e.reduce(t);T(e,function(e,s,o){i?n=t.call(r,n,e,s,o):(n=e,i=!0)});if(!i)throw new TypeError(N);return n},x.reduceRight=x.foldr=function(e,t,n,r){var i=arguments.length>2;e==null&&(e=[]);if(d&&e.reduceRight===d)return r&&(t=x.bind(t,r)),i?e.reduceRight(t,n):e.reduceRight(t);var s=e.length;if(s!==+s){var o=x.keys(e);s=o.length}T(e,function(u,a,f){a=o?o[--s]:--s,i?n=t.call(r,n,e[a],a,f):(n=e[a],i=!0)});if(!i)throw new TypeError(N);return n},x.find=x.detect=function(e,t,n){var r;return C(e,function(e,i,s){if(t.call(n,e,i,s))return r=e,!0}),r},x.filter=x.select=function(e,t,n){var r=[];return e==null?r:v&&e.filter===v?e.filter(t,n):(T(e,function(e,i,s){t.call(n,e,i,s)&&r.push(e)}),r)},x.reject=function(e,t,n){return x.filter(e,function(e,r,i){return!t.call(n,e,r,i)},n)},x.every=x.all=function(e,t,r){t||(t=x.identity);var i=!0;return e==null?i:m&&e.every===m?e.every(t,r):(T(e,function(e,s,o){if(!(i=i&&t.call(r,e,s,o)))return n}),!!i)};var C=x.some=x.any=function(e,t,r){t||(t=x.identity);var i=!1;return e==null?i:g&&e.some===g?e.some(t,r):(T(e,function(e,s,o){if(i||(i=t.call(r,e,s,o)))return n}),!!i)};x.contains=x.include=function(e,t){return e==null?!1:y&&e.indexOf===y?e.indexOf(t)!=-1:C(e,function(e){return e===t})},x.invoke=function(e,t){var n=u.call(arguments,2),r=x.isFunction(t);return x.map(e,function(e){return(r?t:e[t]).apply(e,n)})},x.pluck=function(e,t){return x.map(e,function(e){return e[t]})},x.where=function(e,t,n){return x.isEmpty(t)?n?void 0:[]:x[n?"find":"filter"](e,function(e){for(var n in t)if(t[n]!==e[n])return!1;return!0})},x.findWhere=function(e,t){return x.where(e,t,!0)},x.max=function(e,t,n){if(!t&&x.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);if(!t&&x.isEmpty(e))return-Infinity;var r={computed:-Infinity,value:-Infinity};return T(e,function(e,i,s){var o=t?t.call(n,e,i,s):e;o>r.computed&&(r={value:e,computed:o})}),r.value},x.min=function(e,t,n){if(!t&&x.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.min.apply(Math,e);if(!t&&x.isEmpty(e))return Infinity;var r={computed:Infinity,value:Infinity};return T(e,function(e,i,s){var o=t?t.call(n,e,i,s):e;o<r.computed&&(r={value:e,computed:o})}),r.value},x.shuffle=function(e){var t,n=0,r=[];return T(e,function(e){t=x.random(n++),r[n-1]=r[t],r[t]=e}),r},x.sample=function(e,t,n){return arguments.length<2||n?e[x.random(e.length-1)]:x.shuffle(e).slice(0,Math.max(0,t))};var k=function(e){return x.isFunction(e)?e:function(t){return t[e]}};x.sortBy=function(e,t,n){var r=k(t);return x.pluck(x.map(e,function(e,t,i){return{value:e,index:t,criteria:r.call(n,e,t,i)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||n===void 0)return 1;if(n<r||r===void 0)return-1}return e.index-t.index}),"value")};var L=function(e){return function(t,n,r){var i={},s=n==null?x.identity:k(n);return T(t,function(n,o){var u=s.call(r,n,o,t);e(i,u,n)}),i}};x.groupBy=L(function(e,t,n){(x.has(e,t)?e[t]:e[t]=[]).push(n)}),x.indexBy=L(function(e,t,n){e[t]=n}),x.countBy=L(function(e,t){x.has(e,t)?e[t]++:e[t]=1}),x.sortedIndex=function(e,t,n,r){n=n==null?x.identity:k(n);var i=n.call(r,t),s=0,o=e.length;while(s<o){var u=s+o>>>1;n.call(r,e[u])<i?s=u+1:o=u}return s},x.toArray=function(e){return e?x.isArray(e)?u.call(e):e.length===+e.length?x.map(e,x.identity):x.values(e):[]},x.size=function(e){return e==null?0:e.length===+e.length?e.length:x.keys(e).length},x.first=x.head=x.take=function(e,t,n){return e==null?void 0:t==null||n?e[0]:u.call(e,0,t)},x.initial=function(e,t,n){return u.call(e,0,e.length-(t==null||n?1:t))},x.last=function(e,t,n){return e==null?void 0:t==null||n?e[e.length-1]:u.call(e,Math.max(e.length-t,0))},x.rest=x.tail=x.drop=function(e,t,n){return u.call(e,t==null||n?1:t)},x.compact=function(e){return x.filter(e,x.identity)};var A=function(e,t,n){return t&&x.every(e,x.isArray)?a.apply(n,e):(T(e,function(e){x.isArray(e)||x.isArguments(e)?t?o.apply(n,e):A(e,t,n):n.push(e)}),n)};x.flatten=function(e,t){return A(e,t,[])},x.without=function(e){return x.difference(e,u.call(arguments,1))},x.uniq=x.unique=function(e,t,n,r){x.isFunction(t)&&(r=n,n=t,t=!1);var i=n?x.map(e,n,r):e,s=[],o=[];return T(i,function(n,r){if(t?!r||o[o.length-1]!==n:!x.contains(o,n))o.push(n),s.push(e[r])}),s},x.union=function(){return x.uniq(x.flatten(arguments,!0))},x.intersection=function(e){var t=u.call(arguments,1);return x.filter(x.uniq(e),function(e){return x.every(t,function(t){return x.indexOf(t,e)>=0})})},x.difference=function(e){var t=a.apply(r,u.call(arguments,1));return x.filter(e,function(e){return!x.contains(t,e)})},x.zip=function(){var e=x.max(x.pluck(arguments,"length").concat(0)),t=new Array(e);for(var n=0;n<e;n++)t[n]=x.pluck(arguments,""+n);return t},x.object=function(e,t){if(e==null)return{};var n={};for(var r=0,i=e.length;r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},x.indexOf=function(e,t,n){if(e==null)return-1;var r=0,i=e.length;if(n){if(typeof n!="number")return r=x.sortedIndex(e,t),e[r]===t?r:-1;r=n<0?Math.max(0,i+n):n}if(y&&e.indexOf===y)return e.indexOf(t,n);for(;r<i;r++)if(e[r]===t)return r;return-1},x.lastIndexOf=function(e,t,n){if(e==null)return-1;var r=n!=null;if(b&&e.lastIndexOf===b)return r?e.lastIndexOf(t,n):e.lastIndexOf(t);var i=r?n:e.length;while(i--)if(e[i]===t)return i;return-1},x.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0),n=arguments[2]||1;var r=Math.max(Math.ceil((t-e)/n),0),i=0,s=new Array(r);while(i<r)s[i++]=e,e+=n;return s};var O=function(){};x.bind=function(e,t){var n,r;if(S&&e.bind===S)return S.apply(e,u.call(arguments,1));if(!x.isFunction(e))throw new TypeError;return n=u.call(arguments,2),r=function(){if(this instanceof r){O.prototype=e.prototype;var i=new O;O.prototype=null;var s=e.apply(i,n.concat(u.call(arguments)));return Object(s)===s?s:i}return e.apply(t,n.concat(u.call(arguments)))}},x.partial=function(e){var t=u.call(arguments,1);return function(){return e.apply(this,t.concat(u.call(arguments)))}},x.bindAll=function(e){var t=u.call(arguments,1);if(t.length===0)throw new Error("bindAll must be passed function names");return T(t,function(t){e[t]=x.bind(e[t],e)}),e},x.memoize=function(e,t){var n={};return t||(t=x.identity),function(){var r=t.apply(this,arguments);return x.has(n,r)?n[r]:n[r]=e.apply(this,arguments)}},x.delay=function(e,t){var n=u.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},x.defer=function(e){return x.delay.apply(x,[e,1].concat(u.call(arguments,1)))},x.throttle=function(e,t,n){var r,i,s,o=null,u=0;n||(n={});var a=function(){u=n.leading===!1?0:new Date,o=null,s=e.apply(r,i)};return function(){var f=new Date;!u&&n.leading===!1&&(u=f);var l=t-(f-u);return r=this,i=arguments,l<=0?(clearTimeout(o),o=null,u=f,s=e.apply(r,i)):!o&&n.trailing!==!1&&(o=setTimeout(a,l)),s}},x.debounce=function(e,t,n){var r,i,s,o,u;return function(){s=this,i=arguments,o=new Date;var a=function(){var f=new Date-o;f<t?r=setTimeout(a,t-f):(r=null,n||(u=e.apply(s,i)))},f=n&&!r;return r||(r=setTimeout(a,t)),f&&(u=e.apply(s,i)),u}},x.once=function(e){var t=!1,n;return function(){return t?n:(t=!0,n=e.apply(this,arguments),e=null,n)}},x.wrap=function(e,t){return function(){var n=[e];return o.apply(n,arguments),t.apply(this,n)}},x.compose=function(){var e=arguments;return function(){var t=arguments;for(var n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},x.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},x.keys=E||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)x.has(e,n)&&t.push(n);return t},x.values=function(e){var t=x.keys(e),n=t.length,r=new Array(n);for(var i=0;i<n;i++)r[i]=e[t[i]];return r},x.pairs=function(e){var t=x.keys(e),n=t.length,r=new Array(n);for(var i=0;i<n;i++)r[i]=[t[i],e[t[i]]];return r},x.invert=function(e){var t={},n=x.keys(e);for(var r=0,i=n.length;r<i;r++)t[e[n[r]]]=n[r];return t},x.functions=x.methods=function(e){var t=[];for(var n in e)x.isFunction(e[n])&&t.push(n);return t.sort()},x.extend=function(e){return T(u.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e},x.pick=function(e){var t={},n=a.apply(r,u.call(arguments,1));return T(n,function(n){n in e&&(t[n]=e[n])}),t},x.omit=function(e){var t={},n=a.apply(r,u.call(arguments,1));for(var i in e)x.contains(n,i)||(t[i]=e[i]);return t},x.defaults=function(e){return T(u.call(arguments,1),function(t){if(t)for(var n in t)e[n]===void 0&&(e[n]=t[n])}),e},x.clone=function(e){return x.isObject(e)?x.isArray(e)?e.slice():x.extend({},e):e},x.tap=function(e,t){return t(e),e};var M=function(e,t,n,r){if(e===t)return e!==0||1/e==1/t;if(e==null||t==null)return e===t;e instanceof x&&(e=e._wrapped),t instanceof x&&(t=t._wrapped);var i=f.call(e);if(i!=f.call(t))return!1;switch(i){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:e==0?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if(typeof e!="object"||typeof t!="object")return!1;var s=n.length;while(s--)if(n[s]==e)return r[s]==t;var o=e.constructor,u=t.constructor;if(o!==u&&!(x.isFunction(o)&&o instanceof o&&x.isFunction(u)&&u instanceof u))return!1;n.push(e),r.push(t);var a=0,l=!0;if(i=="[object Array]"){a=e.length,l=a==t.length;if(l)while(a--)if(!(l=M(e[a],t[a],n,r)))break}else{for(var c in e)if(x.has(e,c)){a++;if(!(l=x.has(t,c)&&M(e[c],t[c],n,r)))break}if(l){for(c in t)if(x.has(t,c)&&!(a--))break;l=!a}}return n.pop(),r.pop(),l};x.isEqual=function(e,t){return M(e,t,[],[])},x.isEmpty=function(e){if(e==null)return!0;if(x.isArray(e)||x.isString(e))return e.length===0;for(var t in e)if(x.has(e,t))return!1;return!0},x.isElement=function(e){return!!e&&e.nodeType===1},x.isArray=w||function(e){return f.call(e)=="[object Array]"},x.isObject=function(e){return e===Object(e)},T(["Arguments","Function","String","Number","Date","RegExp"],function(e){x["is"+e]=function(t){return f.call(t)=="[object "+e+"]"}}),x.isArguments(arguments)||(x.isArguments=function(e){return!!e&&!!x.has(e,"callee")}),typeof /./!="function"&&(x.isFunction=function(e){return typeof e=="function"}),x.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},x.isNaN=function(e){return x.isNumber(e)&&e!=+e},x.isBoolean=function(e){return e===!0||e===!1||f.call(e)=="[object Boolean]"},x.isNull=function(e){return e===null},x.isUndefined=function(e){return e===void 0},x.has=function(e,t){return l.call(e,t)},x.noConflict=function(){return e._=t,this},x.identity=function(e){return e},x.times=function(e,t,n){var r=Array(Math.max(0,e));for(var i=0;i<e;i++)r[i]=t.call(n,i);return r},x.random=function(e,t){return t==null&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))};var _={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};_.unescape=x.invert(_.escape);var D={escape:new RegExp("["+x.keys(_.escape).join("")+"]","g"),unescape:new RegExp("("+x.keys(_.unescape).join("|")+")","g")};x.each(["escape","unescape"],function(e){x[e]=function(t){return t==null?"":(""+t).replace(D[e],function(t){return _[e][t]})}}),x.result=function(e,t){if(e==null)return void 0;var n=e[t];return x.isFunction(n)?n.call(e):n},x.mixin=function(e){T(x.functions(e),function(t){var n=x[t]=e[t];x.prototype[t]=function(){var e=[this._wrapped];return o.apply(e,arguments),F.call(this,n.apply(x,e))}})};var P=0;x.uniqueId=function(e){var t=++P+"";return e?e+t:t},x.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var H=/(.)^/,B={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},j=/\\|'|\r|\n|\t|\u2028|\u2029/g;x.template=function(e,t,n){var r;n=x.defaults({},n,x.templateSettings);var i=new RegExp([(n.escape||H).source,(n.interpolate||H).source,(n.evaluate||H).source].join("|")+"|$","g"),s=0,o="__p+='";e.replace(i,function(t,n,r,i,u){return o+=e.slice(s,u).replace(j,function(e){return"\\"+B[e]}),n&&(o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),r&&(o+="'+\n((__t=("+r+"))==null?'':__t)+\n'"),i&&(o+="';\n"+i+"\n__p+='"),s=u+t.length,t}),o+="';\n",n.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{r=new Function(n.variable||"obj","_",o)}catch(u){throw u.source=o,u}if(t)return r(t,x);var a=function(e){return r.call(this,e,x)};return a.source="function("+(n.variable||"obj")+"){\n"+o+"}",a},x.chain=function(e){return x(e).chain()};var F=function(e){return this._chain?x(e).chain():e};x.mixin(x),T(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=r[e];x.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),(e=="shift"||e=="splice")&&n.length===0&&delete n[0],F.call(this,n)}}),T(["concat","join","slice"],function(e){var t=r[e];x.prototype[e]=function(){return F.call(this,t.apply(this._wrapped,arguments))}}),x.extend(x.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this),define("underscore",function(e){return function(){var t,n;return t||e._}}(this)),function(){var e=this,t=e.Backbone,n=[],r=n.push,i=n.slice,s=n.splice,o;typeof exports!="undefined"?o=exports:o=e.Backbone={},o.VERSION="1.1.0";var u=e._;!u&&typeof require!="undefined"&&(u=require("underscore")),o.$=e.jQuery||e.Zepto||e.ender||e.$,o.noConflict=function(){return e.Backbone=t,this},o.emulateHTTP=!1,o.emulateJSON=!1;var a=o.Events={on:function(e,t,n){if(!l(this,"on",e,[t,n])||!t)return this;this._events||(this._events={});var r=this._events[e]||(this._events[e]=[]);return r.push({callback:t,context:n,ctx:n||this}),this},once:function(e,t,n){if(!l(this,"once",e,[t,n])||!t)return this;var r=this,i=u.once(function(){r.off(e,i),t.apply(this,arguments)});return i._callback=t,this.on(e,i,n)},off:function(e,t,n){var r,i,s,o,a,f,c,h;if(!this._events||!l(this,"off",e,[t,n]))return this;if(!e&&!t&&!n)return this._events={},this;o=e?[e]:u.keys(this._events);for(a=0,f=o.length;a<f;a++){e=o[a];if(s=this._events[e]){this._events[e]=r=[];if(t||n)for(c=0,h=s.length;c<h;c++)i=s[c],(t&&t!==i.callback&&t!==i.callback._callback||n&&n!==i.context)&&r.push(i);r.length||delete this._events[e]}}return this},trigger:function(e){if(!this._events)return this;var t=i.call(arguments,1);if(!l(this,"trigger",e,t))return this;var n=this._events[e],r=this._events.all;return n&&c(n,t),r&&c(r,arguments),this},stopListening:function(e,t,n){var r=this._listeningTo;if(!r)return this;var i=!t&&!n;!n&&typeof t=="object"&&(n=this),e&&((r={})[e._listenId]=e);for(var s in r)e=r[s],e.off(t,n,this),(i||u.isEmpty(e._events))&&delete this._listeningTo[s];return this}},f=/\s+/,l=function(e,t,n,r){if(!n)return!0;if(typeof n=="object"){for(var i in n)e[t].apply(e,[i,n[i]].concat(r));return!1}if(f.test(n)){var s=n.split(f);for(var o=0,u=s.length;o<u;o++)e[t].apply(e,[s[o]].concat(r));return!1}return!0},c=function(e,t){var n,r=-1,i=e.length,s=t[0],o=t[1],u=t[2];switch(t.length){case 0:while(++r<i)(n=e[r]).callback.call(n.ctx);return;case 1:while(++r<i)(n=e[r]).callback.call(n.ctx,s);return;case 2:while(++r<i)(n=e[r]).callback.call(n.ctx,s,o);return;case 3:while(++r<i)(n=e[r]).callback.call(n.ctx,s,o,u);return;default:while(++r<i)(n=e[r]).callback.apply(n.ctx,t)}},h={listenTo:"on",listenToOnce:"once"};u.each(h,function(e,t){a[t]=function(t,n,r){var i=this._listeningTo||(this._listeningTo={}),s=t._listenId||(t._listenId=u.uniqueId("l"));return i[s]=t,!r&&typeof n=="object"&&(r=this),t[e](n,r,this),this}}),a.bind=a.on,a.unbind=a.off,u.extend(o,a);var p=o.Model=function(e,t){var n=e||{};t||(t={}),this.cid=u.uniqueId("c"),this.attributes={},t.collection&&(this.collection=t.collection),t.parse&&(n=this.parse(n,t)||{}),n=u.defaults({},n,u.result(this,"defaults")),this.set(n,t),this.changed={},this.initialize.apply(this,arguments)};u.extend(p.prototype,a,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(e){return u.clone(this.attributes)},sync:function(){return o.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return u.escape(this.get(e))},has:function(e){return this.get(e)!=null},set:function(e,t,n){var r,i,s,o,a,f,l,c;if(e==null)return this;typeof e=="object"?(i=e,n=t):(i={})[e]=t,n||(n={});if(!this._validate(i,n))return!1;s=n.unset,a=n.silent,o=[],f=this._changing,this._changing=!0,f||(this._previousAttributes=u.clone(this.attributes),this.changed={}),c=this.attributes,l=this._previousAttributes,this.idAttribute in i&&(this.id=i[this.idAttribute]);for(r in i)t=i[r],u.isEqual(c[r],t)||o.push(r),u.isEqual(l[r],t)?delete this.changed[r]:this.changed[r]=t,s?delete c[r]:c[r]=t;if(!a){o.length&&(this._pending=!0);for(var h=0,p=o.length;h<p;h++)this.trigger("change:"+o[h],this,c[o[h]],n)}if(f)return this;if(!a)while(this._pending)this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,u.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var n in this.attributes)t[n]=void 0;return this.set(t,u.extend({},e,{unset:!0}))},hasChanged:function(e){return e==null?!u.isEmpty(this.changed):u.has(this.changed,e)},changedAttributes:function(e){if(!e)return this.hasChanged()?u.clone(this.changed):!1;var t,n=!1,r=this._changing?this._previousAttributes:this.attributes;for(var i in e){if(u.isEqual(r[i],t=e[i]))continue;(n||(n={}))[i]=t}return n},previous:function(e){return e==null||!this._previousAttributes?null:this._previousAttributes[e]},previousAttributes:function(){return u.clone(this._previousAttributes)},fetch:function(e){e=e?u.clone(e):{},e.parse===void 0&&(e.parse=!0);var t=this,n=e.success;return e.success=function(r){if(!t.set(t.parse(r,e),e))return!1;n&&n(t,r,e),t.trigger("sync",t,r,e)},F(this,e),this.sync("read",this,e)},save:function(e,t,n){var r,i,s,o=this.attributes;e==null||typeof e=="object"?(r=e,n=t):(r={})[e]=t,n=u.extend({validate:!0},n);if(r&&!n.wait){if(!this.set(r,n))return!1}else if(!this._validate(r,n))return!1;r&&n.wait&&(this.attributes=u.extend({},o,r)),n.parse===void 0&&(n.parse=!0);var a=this,f=n.success;return n.success=function(e){a.attributes=o;var t=a.parse(e,n);n.wait&&(t=u.extend(r||{},t));if(u.isObject(t)&&!a.set(t,n))return!1;f&&f(a,e,n),a.trigger("sync",a,e,n)},F(this,n),i=this.isNew()?"create":n.patch?"patch":"update",i==="patch"&&(n.attrs=r),s=this.sync(i,this,n),r&&n.wait&&(this.attributes=o),s},destroy:function(e){e=e?u.clone(e):{};var t=this,n=e.success,r=function(){t.trigger("destroy",t,t.collection,e)};e.success=function(i){(e.wait||t.isNew())&&r(),n&&n(t,i,e),t.isNew()||t.trigger("sync",t,i,e)};if(this.isNew())return e.success(),!1;F(this,e);var i=this.sync("delete",this,e);return e.wait||r(),i},url:function(){var e=u.result(this,"urlRoot")||u.result(this.collection,"url")||j();return this.isNew()?e:e+(e.charAt(e.length-1)==="/"?"":"/")+encodeURIComponent(this.id)},parse:function(e,t){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return this.id==null},isValid:function(e){return this._validate({},u.extend(e||{},{validate:!0}))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=u.extend({},this.attributes,e);var n=this.validationError=this.validate(e,t)||null;return n?(this.trigger("invalid",this,n,u.extend(t,{validationError:n})),!1):!0}});var d=["keys","values","pairs","invert","pick","omit"];u.each(d,function(e){p.prototype[e]=function(){var t=i.call(arguments);return t.unshift(this.attributes),u[e].apply(u,t)}});var v=o.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),t.comparator!==void 0&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,u.extend({silent:!0},t))},m={add:!0,remove:!0,merge:!0},g={add:!0,remove:!1};u.extend(v.prototype,a,{model:p,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return o.sync.apply(this,arguments)},add:function(e,t){return this.set(e,u.extend({merge:!1},t,g))},remove:function(e,t){var n=!u.isArray(e);e=n?[e]:u.clone(e),t||(t={});var r,i,s,o;for(r=0,i=e.length;r<i;r++){o=e[r]=this.get(e[r]);if(!o)continue;delete this._byId[o.id],delete this._byId[o.cid],s=this.indexOf(o),this.models.splice(s,1),this.length--,t.silent||(t.index=s,o.trigger("remove",o,this,t)),this._removeReference(o)}return n?e[0]:e},set:function(e,t){t=u.defaults({},t,m),t.parse&&(e=this.parse(e,t));var n=!u.isArray(e);e=n?e?[e]:[]:u.clone(e);var r,i,s,o,a,f,l,c=t.at,h=this.model,d=this.comparator&&c==null&&t.sort!==!1,v=u.isString(this.comparator)?this.comparator:null,g=[],y=[],b={},w=t.add,E=t.merge,S=t.remove,x=!d&&w&&S?[]:!1;for(r=0,i=e.length;r<i;r++){a=e[r],a instanceof p?s=o=a:s=a[h.prototype.idAttribute];if(f=this.get(s))S&&(b[f.cid]=!0),E&&(a=a===o?o.attributes:a,t.parse&&(a=f.parse(a,t)),f.set(a,t),d&&!l&&f.hasChanged(v)&&(l=!0)),e[r]=f;else if(w){o=e[r]=this._prepareModel(a,t);if(!o)continue;g.push(o),o.on("all",this._onModelEvent,this),this._byId[o.cid]=o,o.id!=null&&(this._byId[o.id]=o)}x&&x.push(f||o)}if(S){for(r=0,i=this.length;r<i;++r)b[(o=this.models[r]).cid]||y.push(o);y.length&&this.remove(y,t)}if(g.length||x&&x.length){d&&(l=!0),this.length+=g.length;if(c!=null)for(r=0,i=g.length;r<i;r++)this.models.splice(c+r,0,g[r]);else{x&&(this.models.length=0);var T=x||g;for(r=0,i=T.length;r<i;r++)this.models.push(T[r])}}l&&this.sort({silent:!0});if(!t.silent){for(r=0,i=g.length;r<i;r++)(o=g[r]).trigger("add",o,this,t);(l||x&&x.length)&&this.trigger("sort",this,t)}return n?e[0]:e},reset:function(e,t){t||(t={});for(var n=0,r=this.models.length;n<r;n++)this._removeReference(this.models[n]);return t.previousModels=this.models,this._reset(),e=this.add(e,u.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),e},push:function(e,t){return this.add(e,u.extend({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e),t},unshift:function(e,t){return this.add(e,u.extend({at:0},t))},shift:function(e){var t=this.at(0);return this.remove(t,e),t},slice:function(){return i.apply(this.models,arguments)},get:function(e){return e==null?void 0:this._byId[e.id]||this._byId[e.cid]||this._byId[e]},at:function(e){return this.models[e]},where:function(e,t){return u.isEmpty(e)?t?void 0:[]:this[t?"find":"filter"](function(t){for(var n in e)if(e[n]!==t.get(n))return!1;return!0})},findWhere:function(e){return this.where(e,!0)},sort:function(e){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return e||(e={}),u.isString(this.comparator)||this.comparator.length===1?this.models=this.sortBy(this.comparator,this):this.models.sort(u.bind(this.comparator,this)),e.silent||this.trigger("sort",this,e),this},pluck:function(e){return u.invoke(this.models,"get",e)},fetch:function(e){e=e?u.clone(e):{},e.parse===void 0&&(e.parse=!0);var t=e.success,n=this;return e.success=function(r){var i=e.reset?"reset":"set";n[i](r,e),t&&t(n,r,e),n.trigger("sync",n,r,e)},F(this,e),this.sync("read",this,e)},create:function(e,t){t=t?u.clone(t):{};if(!(e=this._prepareModel(e,t)))return!1;t.wait||this.add(e,t);var n=this,r=t.success;return t.success=function(e,t,i){i.wait&&n.add(e,i),r&&r(e,t,i)},e.save(null,t),e},parse:function(e,t){return e},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(e instanceof p)return e.collection||(e.collection=this),e;t=t?u.clone(t):{},t.collection=this;var n=new this.model(e,t);return n.validationError?(this.trigger("invalid",this,n.validationError,t),!1):n},_removeReference:function(e){this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,r){if((e==="add"||e==="remove")&&n!==this)return;e==="destroy"&&this.remove(t,r),t&&e==="change:"+t.idAttribute&&(delete this._byId[t.previous(t.idAttribute)],t.id!=null&&(this._byId[t.id]=t)),this.trigger.apply(this,arguments)}});var y=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain"];u.each(y,function(e){v.prototype[e]=function(){var t=i.call(arguments);return t.unshift(this.models),u[e].apply(u,t)}});var b=["groupBy","countBy","sortBy"];u.each(b,function(e){v.prototype[e]=function(t,n){var r=u.isFunction(t)?t:function(e){return e.get(t)};return u[e](this.models,r,n)}});var w=o.View=function(e){this.cid=u.uniqueId("view"),e||(e={}),u.extend(this,u.pick(e,S)),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},E=/^(\S+)\s*(.*)$/,S=["model","collection","el","id","attributes","className","tagName","events"];u.extend(w.prototype,a,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(e,t){return this.$el&&this.undelegateEvents(),this.$el=e instanceof o.$?e:o.$(e),this.el=this.$el[0],t!==!1&&this.delegateEvents(),this},delegateEvents:function(e){if(!e&&!(e=u.result(this,"events")))return this;this.undelegateEvents();for(var t in e){var n=e[t];u.isFunction(n)||(n=this[e[t]]);if(!n)continue;var r=t.match(E),i=r[1],s=r[2];n=u.bind(n,this),i+=".delegateEvents"+this.cid,s===""?this.$el.on(i,n):this.$el.on(i,s,n)}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_ensureElement:function(){if(!this.el){var e=u.extend({},u.result(this,"attributes"));this.id&&(e.id=u.result(this,"id")),this.className&&(e["class"]=u.result(this,"className"));var t=o.$("<"+u.result(this,"tagName")+">").attr(e);this.setElement(t,!1)}else this.setElement(u.result(this,"el"),!1)}}),o.sync=function(e,t,n){var r=T[e];u.defaults(n||(n={}),{emulateHTTP:o.emulateHTTP,emulateJSON:o.emulateJSON});var i={type:r,dataType:"json"};n.url||(i.url=u.result(t,"url")||j()),n.data==null&&t&&(e==="create"||e==="update"||e==="patch")&&(i.contentType="application/json",i.data=JSON.stringify(n.attrs||t.toJSON(n))),n.emulateJSON&&(i.contentType="application/x-www-form-urlencoded",i.data=i.data?{model:i.data}:{});if(n.emulateHTTP&&(r==="PUT"||r==="DELETE"||r==="PATCH")){i.type="POST",n.emulateJSON&&(i.data._method=r);var s=n.beforeSend;n.beforeSend=function(e){e.setRequestHeader("X-HTTP-Method-Override",r);if(s)return s.apply(this,arguments)}}i.type!=="GET"&&!n.emulateJSON&&(i.processData=!1),i.type==="PATCH"&&x&&(i.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var a=n.xhr=o.ajax(u.extend(i,n));return t.trigger("request",t,a,n),a};var x=typeof window!="undefined"&&!!window.ActiveXObject&&(!window.XMLHttpRequest||!(new XMLHttpRequest).dispatchEvent),T={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};o.ajax=function(){return o.$.ajax.apply(o.$,arguments)};var N=o.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},C=/\((.*?)\)/g,k=/(\(\?)?:\w+/g,L=/\*\w+/g,A=/[\-{}\[\]+?.,\\\^$|#\s]/g;u.extend(N.prototype,a,{initialize:function(){},route:function(e,t,n){u.isRegExp(e)||(e=this._routeToRegExp(e)),u.isFunction(t)&&(n=t,t=""),n||(n=this[t]);var r=this;return o.history.route(e,function(i){var s=r._extractParameters(e,i);n&&n.apply(r,s),r.trigger.apply(r,["route:"+t].concat(s)),r.trigger("route",t,s),o.history.trigger("route",r,t,s)}),this},navigate:function(e,t){return o.history.navigate(e,t),this},_bindRoutes:function(){if(!this.routes)return;this.routes=u.result(this,"routes");var e,t=u.keys(this.routes);while((e=t.pop())!=null)this.route(e,this.routes[e])},_routeToRegExp:function(e){return e=e.replace(A,"\\$&").replace(C,"(?:$1)?").replace(k,function(e,t){return t?e:"([^/]+)"}).replace(L,"(.*?)"),new RegExp("^"+e+"$")},_extractParameters:function(e,t){var n=e.exec(t).slice(1);return u.map(n,function(e){return e?decodeURIComponent(e):null})}});var O=o.History=function(){this.handlers=[],u.bindAll(this,"checkUrl"),typeof window!="undefined"&&(this.location=window.location,this.history=window.history)},M=/^[#\/]|\s+$/g,_=/^\/+|\/+$/g,D=/msie [\w.]+/,P=/\/$/,H=/[?#].*$/;O.started=!1,u.extend(O.prototype,a,{interval:50,getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getFragment:function(e,t){if(e==null)if(this._hasPushState||!this._wantsHashChange||t){e=this.location.pathname;var n=this.root.replace(P,"");e.indexOf(n)||(e=e.slice(n.length))}else e=this.getHash();return e.replace(M,"")},start:function(e){if(O.started)throw new Error("Backbone.history has already been started");O.started=!0,this.options=u.extend({root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var t=this.getFragment(),n=document.documentMode,r=D.exec(navigator.userAgent.toLowerCase())&&(!n||n<=7);this.root=("/"+this.root+"/").replace(_,"/"),r&&this._wantsHashChange&&(this.iframe=o.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow,this.navigate(t)),this._hasPushState?o.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!r?o.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=t;var i=this.location,s=i.pathname.replace(/[^\/]$/,"$&/")===this.root;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!s)return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+this.location.search+"#"+this.fragment),!0;this._hasPushState&&s&&i.hash&&(this.fragment=this.getHash().replace(M,""),this.history.replaceState({},document.title,this.root+this.fragment+i.search))}if(!this.options.silent)return this.loadUrl()},stop:function(){o.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),clearInterval(this._checkUrlInterval),O.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();t===this.fragment&&this.iframe&&(t=this.getFragment(this.getHash(this.iframe)));if(t===this.fragment)return!1;this.iframe&&this.navigate(t),this.loadUrl()},loadUrl:function(e){return e=this.fragment=this.getFragment(e),u.any(this.handlers,function(t){if(t.route.test(e))return t.callback(e),!0})},navigate:function(e,t){if(!O.started)return!1;if(!t||t===!0)t={trigger:!!t};var n=this.root+(e=this.getFragment(e||""));e=e.replace(H,"");if(this.fragment===e)return;this.fragment=e,e===""&&n!=="/"&&(n=n.slice(0,-1));if(this._hasPushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getFragment(this.getHash(this.iframe))&&(t.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,e,t.replace))}if(t.trigger)return this.loadUrl(e)},_updateHash:function(e,t,n){if(n){var r=e.href.replace(/(javascript:|#).*$/,"");e.replace(r+"#"+t)}else e.hash="#"+t}}),o.history=new O;var B=function(e,t){var n=this,r;e&&u.has(e,"constructor")?r=e.constructor:r=function(){return n.apply(this,arguments)},u.extend(r,n,t);var i=function(){this.constructor=r};return i.prototype=n.prototype,r.prototype=new i,e&&u.extend(r.prototype,e),r.__super__=n.prototype,r};p.extend=v.extend=N.extend=w.extend=O.extend=B;var j=function(){throw new Error('A "url" property or function must be specified')},F=function(e,t){var n=t.error;t.error=function(r){n&&n(e,r,t),e.trigger("error",e,r,t)}}}.call(this),define("backbone",["jquery","underscore"],function(e){return function(){var t,n;return t||e.Backbone}}(this)),function(){var e,t,n,r,i,s,o=[].slice;n=function(e){var t,r;return!_.isObject(e)||_.isFunction(e)?e:e instanceof Backbone.Collection||e instanceof Backbone.Model?e:_.isDate(e)?new Date(e.getTime()):_.isRegExp(e)?new RegExp(e.source,e.toString().replace(/.*\//,"")):(r=_.isArray(e||_.isArguments(e)),t=function(e,t,i){return r?e.push(n(t)):e[i]=n(t),e},_.reduce(e,t,r?[]:{}))},s=function(e){return e==null?!1:(e.prototype==={}.prototype||e.prototype===Object.prototype)&&_.isObject(e)&&!_.isArray(e)&&!_.isFunction(e)&&!_.isDate(e)&&!_.isRegExp(e)&&!_.isArguments(e)},t=function(e){return _.filter(_.keys(e),function(t){return s(e[t])})},e=function(e){return _.filter(_.keys(e),function(t){return _.isArray(e[t])})},i=function(n,r,s){var o,u,a,f,l,c,h,p,d,v;s==null&&(s=20);if(s<=0)return console.warn("_.deepExtend(): Maximum depth of recursion hit."),_.extend(n,r);c=_.intersection(t(n),t(r)),u=function(e){return r[e]=i(n[e],r[e],s-1)};for(h=0,d=c.length;h<d;h++)l=c[h],u(l);f=_.intersection(e(n),e(r)),o=function(e){return r[e]=_.union(n[e],r[e])};for(p=0,v=f.length;p<v;p++)a=f[p],o(a);return _.extend(n,r)},r=function(){var e,t,r,s;r=2<=arguments.length?o.call(arguments,0,s=arguments.length-1):(s=0,[]),t=arguments[s++],_.isNumber(t)||(r.push(t),t=20);if(r.length<=1)return r[0];if(t<=0)return _.extend.apply(this,r);e=r.shift();while(r.length>0)e=i(e,n(r.shift()),t);return e},_.mixin({deepClone:n,isBasicObject:s,basicObjects:t,arrays:e,deepExtend:r})}.call(this),function(e){typeof define=="function"&&define.amd?define("deep-model",["underscore","backbone"],e):e(_,Backbone)}(function(e,t){function n(t){var r={},i=o.keyPathSeparator;for(var s in t){var u=t[s];if(u&&u.constructor===Object&&!e.isEmpty(u)){var a=n(u);for(var f in a){var l=a[f];r[s+i+f]=l}}else r[s]=u}return r}function r(t,n,r){var i=o.keyPathSeparator,s=n.split(i),u=t;r||r===!1;for(var a=0,f=s.length;a<f;a++){if(r&&!e.has(u,s[a]))return!1;u=u[s[a]],u==null&&a<f-1&&(u={});if(typeof u=="undefined")return r?!0:u}return r?!0:u}function i(t,n,r,i){i=i||{};var s=o.keyPathSeparator,u=n.split(s),a=t;for(var f=0,l=u.length;f<l&&a!==undefined;f++){var c=u[f];if(f===l-1)i.unset?delete a[c]:a[c]=r;else{if(typeof a[c]=="undefined"||!e.isObject(a[c]))a[c]={};a=a[c]}}}function s(e,t){i(e,t,null,{unset:!0})}var o=t.Model.extend({constructor:function(t,n){var r,i=t||{};this.cid=e.uniqueId("c"),this.attributes={},n&&n.collection&&(this.collection=n.collection),n&&n.parse&&(i=this.parse(i,n)||{});if(r=e.result(this,"defaults"))i=e.deepExtend({},r,i);this.set(i,n),this.changed={},this.initialize.apply(this,arguments)},toJSON:function(t){return e.deepClone(this.attributes)},get:function(e){return r(this.attributes,e)},set:function(t,u,a){var f,l,c,h,p,d,v,m;if(t==null)return this;typeof t=="object"?(l=t,a=u||{}):(l={})[t]=u,a||(a={});if(!this._validate(l,a))return!1;c=a.unset,p=a.silent,h=[],d=this._changing,this._changing=!0,d||(this._previousAttributes=e.deepClone(this.attributes),this.changed={}),m=this.attributes,v=this._previousAttributes,this.idAttribute in l&&(this.id=l[this.idAttribute]),l=n(l);for(f in l)u=l[f],e.isEqual(r(m,f),u)||h.push(f),e.isEqual(r(v,f),u)?s(this.changed,f):i(this.changed,f,u),c?s(m,f):i(m,f,u);if(!p){h.length&&(this._pending=!0);var g=o.keyPathSeparator;for(var y=0,b=h.length;y<b;y++){var t=h[y];this.trigger("change:"+t,this,r(m,t),a);var w=t.split(g);for(var E=w.length-1;E>0;E--){var S=e.first(w,E).join(g),x=S+g+"*";this.trigger("change:"+x,this,r(m,S),a)}}}if(d)return this;if(!p)while(this._pending)this._pending=!1,this.trigger("change",this,a);return this._pending=!1,this._changing=!1,this},clear:function(t){var r={},i=n(this.attributes);for(var s in i)r[s]=void 0;return this.set(r,e.extend({},t,{unset:!0}))},hasChanged:function(t){return t==null?!e.isEmpty(this.changed):r(this.changed,t)!==undefined},changedAttributes:function(t){if(!t)return this.hasChanged()?n(this.changed):!1;var r=this._changing?this._previousAttributes:this.attributes;t=n(t),r=n(r);var i,s=!1;for(var o in t){if(e.isEqual(r[o],i=t[o]))continue;(s||(s={}))[o]=i}return s},previous:function(e){return e==null||!this._previousAttributes?null:r(this._previousAttributes,e)},previousAttributes:function(){return e.deepClone(this._previousAttributes)}});return o.keyPathSeparator=".",t.DeepModel=o,typeof module!="undefined"&&(module.exports=o),t}),function(e,t){if(typeof define=="function"&&define.amd)define("backbone.wreqr",["backbone","underscore"],function(e,n){return t(e,n)});else if(typeof exports!="undefined"){var n=require("backbone"),r=require("underscore");module.exports=t(n,r)}else t(e.Backbone,e._)}(this,function(e,t){var n=e.Wreqr,r=e.Wreqr={};return e.Wreqr.VERSION="1.3.1",e.Wreqr.noConflict=function(){return e.Wreqr=n,this},r.Handlers=function(e,t){var n=function(e){this.options=e,this._wreqrHandlers={},t.isFunction(this.initialize)&&this.initialize(e)};return n.extend=e.Model.extend,t.extend(n.prototype,e.Events,{setHandlers:function(e){t.each(e,function(e,n){var r=null;t.isObject(e)&&!t.isFunction(e)&&(r=e.context,e=e.callback),this.setHandler(n,e,r)},this)},setHandler:function(e,t,n){var r={callback:t,context:n};this._wreqrHandlers[e]=r,this.trigger("handler:add",e,t,n)},hasHandler:function(e){return!!this._wreqrHandlers[e]},getHandler:function(e){var t=this._wreqrHandlers[e];if(!t)return;return function(){var e=Array.prototype.slice.apply(arguments);return t.callback.apply(t.context,e)}},removeHandler:function(e){delete this._wreqrHandlers[e]},removeAllHandlers:function(){this._wreqrHandlers={}}}),n}(e,t),r.CommandStorage=function(){var n=function(e){this.options=e,this._commands={},t.isFunction(this.initialize)&&this.initialize(e)};return t.extend(n.prototype,e.Events,{getCommands:function(e){var t=this._commands[e];return t||(t={command:e,instances:[]},this._commands[e]=t),t},addCommand:function(e,t){var n=this.getCommands(e);n.instances.push(t)},clearCommands:function(e){var t=this.getCommands(e);t.instances=[]}}),n}(),r.Commands=function(e){return e.Handlers.extend({storageType:e.CommandStorage,constructor:function(t){this.options=t||{},this._initializeStorage(this.options),this.on("handler:add",this._executeCommands,this);var n=Array.prototype.slice.call(arguments);e.Handlers.prototype.constructor.apply(this,n)},execute:function(e,t){e=arguments[0],t=Array.prototype.slice.call(arguments,1),this.hasHandler(e)?this.getHandler(e).apply(this,t):this.storage.addCommand(e,t)},_executeCommands:function(e,n,r){var i=this.storage.getCommands(e);t.each(i.instances,function(e){n.apply(r,e)}),this.storage.clearCommands(e)},_initializeStorage:function(e){var n,r=e.storageType||this.storageType;t.isFunction(r)?n=new r:n=r,this.storage=n}})}(r),r.RequestResponse=function(e){return e.Handlers.extend({request:function(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);if(this.hasHandler(e))return this.getHandler(e).apply(this,t)}})}(r),r.EventAggregator=function(e,t){var n=function(){};return n.extend=e.Model.extend,t.extend(n.prototype,e.Events),n}(e,t),r.Channel=function(n){var r=function(t){this.vent=new e.Wreqr.EventAggregator,this.reqres=new e.Wreqr.RequestResponse,this.commands=new e.Wreqr.Commands,this.channelName=t};return t.extend(r.prototype,{reset:function(){return this.vent.off(),this.vent.stopListening(),this.reqres.removeAllHandlers(),this.commands.removeAllHandlers(),this},connectEvents:function(e,t){return this._connect("vent",e,t),this},connectCommands:function(e,t){return this._connect("commands",e,t),this},connectRequests:function(e,t){return this._connect("reqres",e,t),this},_connect:function(e,n,r){if(!n)return;r=r||this;var i=e==="vent"?"on":"setHandler";t.each(n,function(n,s){this[e][i](s,t.bind(n,r))},this)}}),r}(r),r.radio=function(e){var n=function(){this._channels={},this.vent={},this.commands={},this.reqres={},this._proxyMethods()};t.extend(n.prototype,{channel:function(e){if(!e)throw new Error("Channel must receive a name");return this._getChannel(e)},_getChannel:function(t){var n=this._channels[t];return n||(n=new e.Channel(t),this._channels[t]=n),n},_proxyMethods:function(){t.each(["vent","commands","reqres"],function(e){t.each(r[e],function(t){this[e][t]=i(this,e,t)},this)},this)}});var r={vent:["on","off","trigger","once","stopListening","listenTo","listenToOnce"],commands:["execute","setHandler","setHandlers","removeHandler","removeAllHandlers"],reqres:["request","setHandler","setHandlers","removeHandler","removeAllHandlers"]},i=function(e,t,n){return function(r){var i=e._getChannel(r)[t],s=Array.prototype.slice.call(arguments,1);return i[n].apply(i,s)}};return new n}(r),e.Wreqr}),function(e,t){if(typeof define=="function"&&define.amd)define("backbone.babysitter",["backbone","underscore"],function(e,n){return t(e,n)});else if(typeof exports!="undefined"){var n=require("backbone"),r=require("underscore");module.exports=t(n,r)}else t(e.Backbone,e._)}(this,function(e,t){var n=e.ChildViewContainer;return e.ChildViewContainer=function(e,t){var n=function(e){this._views={},this._indexByModel={},this._indexByCustom={},this._updateLength(),t.each(e,this.add,this)};t.extend(n.prototype,{add:function(e,t){var n=e.cid;return this._views[n]=e,e.model&&(this._indexByModel[e.model.cid]=n),t&&(this._indexByCustom[t]=n),this._updateLength(),this},findByModel:function(e){return this.findByModelCid(e.cid)},findByModelCid:function(e){var t=this._indexByModel[e];return this.findByCid(t)},findByCustom:function(e){var t=this._indexByCustom[e];return this.findByCid(t)},findByIndex:function(e){return t.values(this._views)[e]},findByCid:function(e){return this._views[e]},remove:function(e){var n=e.cid;return e.model&&delete this._indexByModel[e.model.cid],t.any(this._indexByCustom,function(e,t){if(e===n)return delete this._indexByCustom[t],!0},this),delete this._views[n],this._updateLength(),this},call:function(e){this.apply(e,t.tail(arguments))},apply:function(e,n){t.each(this._views,function(r){t.isFunction(r[e])&&r[e].apply(r,n||[])})},_updateLength:function(){this.length=t.size(this._views)}});var r=["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck"];return t.each(r,function(e){n.prototype[e]=function(){var n=t.values(this._views),r=[n].concat(t.toArray(arguments));return t[e].apply(t,r)}}),n}(e,t),e.ChildViewContainer.VERSION="0.1.4",e.ChildViewContainer.noConflict=function(){return e.ChildViewContainer=n,this},e.ChildViewContainer}),function(e,t){if(typeof define=="function"&&define.amd)define("marionette",["backbone","underscore","backbone.wreqr","backbone.babysitter"],function(n,r){return e.Marionette=t(e,n,r)});else if(typeof exports!="undefined"){var n=require("backbone"),r=require("underscore"),i=require("backbone.wreqr"),s=require("backbone.babysitter");module.exports=t(e,n,r)}else e.Marionette=t(e,e.Backbone,e._)}(this,function(e,t,n){function o(e,t){var n=new Error(e);throw n.name=t||"Error",n}var r=e.Marionette,i=t.Marionette={};i.VERSION="2.0.1",i.noConflict=function(){return e.Marionette=r,this},i.Deferred=t.$.Deferred;var s=Array.prototype.slice;return i.extend=t.Model.extend,i.getOption=function(e,t){if(!e||!t)return;var n;return e.options&&e.options[t]!==undefined?n=e.options[t]:n=e[t],n},i.proxyGetOption=function(e){return i.getOption(this,e)},i.normalizeMethods=function(e){var t={},r;return n.each(e,function(e,i){r=e,n.isFunction(r)||(r=this[r]);if(!r)return;t[i]=r},this),t},i.normalizeUIKeys=function(e,t){if(typeof e=="undefined")return;return n.each(n.keys(e),function(n){var r=/@ui.[a-zA-Z_$0-9]*/g;n.match(r)&&(e[n.replace(r,function(e){return t[e.slice(4)]})]=e[n],delete e[n])}),e},i.actAsCollection=function(e,t){var r=["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck"];n.each(r,function(r){e[r]=function(){var e=n.values(n.result(this,t)),i=[e].concat(n.toArray(arguments));return n[r].apply(n,i)}})},i.triggerMethod=function(){function t(e,t,n){return n.toUpperCase()}var e=/(^|:)(\w)/gi,r=function(r){var i="on"+r.replace(e,t),s=this[i],o;return n.isFunction(s)&&(o=s.apply(this,n.tail(arguments))),n.isFunction(this.trigger)&&this.trigger.apply(this,arguments),o};return r}(),i.MonitorDOMRefresh=function(e){function t(e){e._isShown=!0,i(e)}function r(e){e._isRendered=!0,i(e)}function i(e){e._isShown&&e._isRendered&&s(e)&&n.isFunction(e.triggerMethod)&&e.triggerMethod("dom:refresh")}function s(t){return e.contains(t.el)}return function(e){e.listenTo(e,"show",function(){t(e)}),e.listenTo(e,"render",function(){r(e)})}}(document.documentElement),function(e){function t(e,t,r,i){var s=i.split(/\s+/);n.each(s,function(n){var i=e[n];i||o('Method "'+n+'" was configured as an event handler, but does not exist.'),e.listenTo(t,r,i)})}function r(e,t,n,r){e.listenTo(t,n,r)}function i(e,t,r,i){var s=i.split(/\s+/);n.each(s,function(n){var i=e[n];e.stopListening(t,r,i)})}function s(e,t,n,r){e.stopListening(t,n,r)}function u(e,t,r,i,s){if(!t||!r)return;n.isFunction(r)&&(r=r.call(e)),n.each(r,function(r,o){n.isFunction(r)?i(e,t,o,r):s(e,t,o,r)})}e.bindEntityEvents=function(e,n,i){u(e,n,i,r,t)},e.unbindEntityEvents=function(e,t,n){u(e,t,n,s,i)},e.proxyBindEntityEvents=function(t,n){return e.bindEntityEvents(this,t,n)},e.proxyUnbindEntityEvents=function(t,n){return e.unbindEntityEvents(this,t,n)}}(i),i.Callbacks=function(){this._deferred=i.Deferred(),this._callbacks=[]},n.extend(i.Callbacks.prototype,{add:function(e,t){var r=n.result(this._deferred,"promise");this._callbacks.push({cb:e,ctx:t}),r.then(function(n){t&&(n.context=t),e.call(n.context,n.options)})},run:function(e,t){this._deferred.resolve({options:e,context:t})},reset:function(){var e=this._callbacks;this._deferred=i.Deferred(),this._callbacks=[],n.each(e,function(e){this.add(e.cb,e.ctx)},this)}}),i.Controller=function(e){this.triggerMethod=i.triggerMethod,this.options=e||{},n.isFunction(this.initialize)&&this.initialize(this.options)},i.Controller.extend=i.extend,n.extend(i.Controller.prototype,t.Events,{destroy:function(){var e=Array.prototype.slice.call(arguments);this.triggerMethod.apply(this,["before:destroy"].concat(e)),this.triggerMethod.apply(this,["destroy"].concat(e)),this.stopListening(),this.off()},triggerMethod:i.triggerMethod,getOption:i.proxyGetOption}),i.Region=function(e){this.options=e||{},this.el=this.getOption("el"),this.el=this.el instanceof t.$?this.el[0]:this.el,this.el||o('An "el" must be specified for a region.',"NoElError"),this.$el=this.getEl(this.el);if(this.initialize){var n=Array.prototype.slice.apply(arguments);this.initialize.apply(this,n)}},n.extend(i.Region,{buildRegion:function(e,r){var i=n.isString(e),s=n.isString(e.selector),u=n.isUndefined(e.regionClass),a=n.isFunction(e);!a&&!i&&!s&&o("Region must be specified as a Region class,a selector string or an object with selector property");var f,l;i&&(f=e),e.selector&&(f=e.selector,delete e.selector),a&&(l=e),!a&&u&&(l=r),e.regionClass&&(l=e.regionClass,delete e.regionClass);if(i||a)e={};e.el=f;var c=new l(e);return e.parentEl&&(c.getEl=function(r){if(n.isObject(r))return t.$(r);var i=e.parentEl;return n.isFunction(i)&&(i=i()),i.find(r)}),c}}),n.extend(i.Region.prototype,t.Events,{show:function(e,t){this._ensureElement();var r=t||{},i=e!==this.currentView,s=!!r.preventDestroy,o=!!r.forceShow,u=!!this.currentView,a=!s&&i;a&&this.empty();var f=i||o;return f?(e.render(),u&&this.triggerMethod("before:swap",e),this.triggerMethod("before:show",e),this.triggerMethod.call(e,"before:show"),this.attachHtml(e),this.currentView=e,u&&this.triggerMethod("swap",e),this.triggerMethod("show",e),n.isFunction(e.triggerMethod)?e.triggerMethod("show"):this.triggerMethod.call(e,"show"),this):this},_ensureElement:function(){n.isObject(this.el)||(this.$el=this.getEl(this.el),this.el=this.$el[0]),(!this.$el||this.$el.length===0)&&o('An "el" '+this.$el.selector+" must exist in DOM")},getEl:function(e){return t.$(e)},attachHtml:function(e){this.el.innerHTML="",this.el.appendChild(e.el)},empty:function(){var e=this.currentView;if(!e||e.isDestroyed)return;this.triggerMethod("before:empty",e),e.destroy?e.destroy():e.remove&&e.remove(),this.triggerMethod("empty",e),delete this.currentView},attachView:function(e){this.currentView=e},reset:function(){this.empty(),this.$el&&(this.el=this.$el.selector),delete this.$el},getOption:i.proxyGetOption,triggerMethod:i.triggerMethod}),i.Region.extend=i.extend,i.RegionManager=function(e){var t=e.Controller.extend({constructor:function(t){this._regions={},e.Controller.call(this,t)},addRegions:function(e,t){var r={};return n.each(e,function(e,i){n.isString(e)&&(e={selector:e}),e.selector&&(e=n.defaults({},e,t));var s=this.addRegion(i,e);r[i]=s},this),r},addRegion:function(t,r){var i,s=n.isObject(r),o=n.isString(r),u=!!r.selector;return o||s&&u?i=e.Region.buildRegion(r,e.Region):n.isFunction(r)?i=e.Region.buildRegion(r,e.Region):i=r,this.triggerMethod("before:add:region",t,i),this._store(t,i),this.triggerMethod("add:region",t,i),i},get:function(e){return this._regions[e]},getRegions:function(){return n.clone(this._regions)},removeRegion:function(e){var t=this._regions[e];this._remove(e,t)},removeRegions:function(){n.each(this._regions,function(e,t){this._remove(t,e)},this)},emptyRegions:function(){n.each(this._regions,function(e){e.empty()},this)},destroy:function(){this.removeRegions(),e.Controller.prototype.destroy.apply(this,arguments)},_store:function(e,t){this._regions[e]=t,this._setLength()},_remove:function(e,t){this.triggerMethod("before:remove:region",e,t),t.empty(),t.stopListening(),delete this._regions[e],this._setLength(),this.triggerMethod("remove:region",e,t)},_setLength:function(){this.length=n.size(this._regions)}});return e.actAsCollection(t.prototype,"_regions"),t}(i),i.TemplateCache=function(e){this.templateId=e},n.extend(i.TemplateCache,{templateCaches:{},get:function(e){var t=this.templateCaches[e];return t||(t=new i.TemplateCache(e),this.templateCaches[e]=t),t.load()},clear:function(){var e,t=s.call(arguments),n=t.length;if(n>0)for(e=0;e<n;e++)delete this.templateCaches[t[e]];else this.templateCaches={}}}),n.extend(i.TemplateCache.prototype,{load:function(){if(this.compiledTemplate)return this.compiledTemplate;var e=this.loadTemplate(this.templateId);return this.compiledTemplate=this.compileTemplate(e),this.compiledTemplate},loadTemplate:function(e){var n=t.$(e).html();return(!n||n.length===0)&&o('Could not find template: "'+e+'"',"NoTemplateError"),n},compileTemplate:function(e){return n.template(e)}}),i.Renderer={render:function(e,t){e||o("Cannot render the template since its false, null or undefined.","TemplateNotFoundError");var n;return typeof e=="function"?n=e:n=i.TemplateCache.get(e),n(t)}},i.View=t.View.extend({constructor:function(e){n.bindAll(this,"render"),this.options=n.extend({},n.result(this,"options"),n.isFunction(e)?e.call(this):e),this.events=this.normalizeUIKeys(n.result(this,"events")),n.isObject(this.behaviors)&&new i.Behaviors(this),t.View.apply(this,arguments),i.MonitorDOMRefresh(this),this.listenTo(this,"show",this.onShowCalled)},getTemplate:function(){return this.getOption("template")},mixinTemplateHelpers:function(e){e=e||{};var t=this.getOption("templateHelpers");return n.isFunction(t)&&(t=t.call(this)),n.extend(e,t)},normalizeUIKeys:function(e){var t=n.result(this,"ui"),r=n.result(this,"_uiBindings");return i.normalizeUIKeys(e,r||t)},configureTriggers:function(){if(!this.triggers)return;var e={},t=this.normalizeUIKeys(n.result(this,"triggers"));return n.each(t,function(t,r){var i=n.isObject(t),s=i?t.event:t;e[r]=function(e){if(e){var n=e.preventDefault,r=e.stopPropagation,o=i?t.preventDefault:n,u=i?t.stopPropagation:r;o&&n&&n.apply(e),u&&r&&r.apply(e)}var a={view:this,model:this.model,collection:this.collection};this.triggerMethod(s,a)}},this),e},delegateEvents:function(e){this._delegateDOMEvents(e),this.bindEntityEvents(this.model,this.getOption("modelEvents")),this.bindEntityEvents(this.collection,this.getOption("collectionEvents"))},_delegateDOMEvents:function(e){e=e||this.events,n.isFunction(e)&&(e=e.call(this)),e=this.normalizeUIKeys(e);var r={},i=n.result(this,"behaviorEvents")||{},s=this.configureTriggers();n.extend(r,i,e,s),t.View.prototype.delegateEvents.call(this,r)},undelegateEvents:function(){var e=Array.prototype.slice.call(arguments);t.View.prototype.undelegateEvents.apply(this,e),this.unbindEntityEvents(this.model,this.getOption("modelEvents")),this.unbindEntityEvents(this.collection,this.getOption("collectionEvents"))},onShowCalled:function(){},_ensureViewIsIntact:function(){if(this.isDestroyed){var e=new Error("Cannot use a view thats already been destroyed.");throw e.name="ViewDestroyedError",e}},destroy:function(){if(this.isDestroyed)return;var e=Array.prototype.slice.call(arguments);this.triggerMethod.apply(this,["before:destroy"].concat(e)),this.isDestroyed=!0,this.triggerMethod.apply(this,["destroy"].concat(e)),this.unbindUIElements(),this.remove()},bindUIElements:function(){if(!this.ui)return;this._uiBindings||(this._uiBindings=this.ui);var e=n.result(this,"_uiBindings");this.ui={},n.each(n.keys(e),function(t){var n=e[t];this.ui[t]=this.$(n)},this)},unbindUIElements:function(){if(!this.ui||!this._uiBindings)return;n.each(this.ui,function(e,t){delete this.ui[t]},this),this.ui=this._uiBindings,delete this._uiBindings},triggerMethod:i.triggerMethod,normalizeMethods:i.normalizeMethods,getOption:i.proxyGetOption,bindEntityEvents:i.proxyBindEntityEvents,unbindEntityEvents:i.proxyUnbindEntityEvents}),i.ItemView=i.View.extend({constructor:function(){i.View.apply(this,arguments)},serializeData:function(){var e={};return this.model?e=this.model.toJSON():this.collection&&(e={items:this.collection.toJSON()}),e},render:function(){this._ensureViewIsIntact(),this.triggerMethod("before:render",this);var e=this.serializeData();e=this.mixinTemplateHelpers(e);var t=this.getTemplate(),n=i.Renderer.render(t,e);return this.attachElContent(n),this.bindUIElements(),this.triggerMethod("render",this),this},attachElContent:function(e){return this.$el.html(e),this},destroy:function(){if(this.isDestroyed)return;i.View.prototype.destroy.apply(this,arguments)}}),i.CollectionView=i.View.extend({childViewEventPrefix:"childview",constructor:function(e){var t=e||{};this.sort=n.isUndefined(t.sort)?!0:t.sort,this._initChildViewStorage(),i.View.apply(this,arguments),this._initialEvents(),this.initRenderBuffer()},initRenderBuffer:function(){this.elBuffer=document.createDocumentFragment(),this._bufferedChildren=[]},startBuffering:function(){this.initRenderBuffer(),this.isBuffering=!0},endBuffering:function(){this.isBuffering=!1,this._triggerBeforeShowBufferedChildren(),this.attachBuffer(this,this.elBuffer),this._triggerShowBufferedChildren(),this.initRenderBuffer()},_triggerBeforeShowBufferedChildren:function(){this._isShown&&n.invoke(this._bufferedChildren,"triggerMethod","before:show")},_triggerShowBufferedChildren:function(){this._isShown&&(n.each(this._bufferedChildren,function(e){n.isFunction(e.triggerMethod)?e.triggerMethod("show"):i.triggerMethod.call(e,"show")}),this._bufferedChildren=[])},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this._onCollectionAdd),this.listenTo(this.collection,"remove",this._onCollectionRemove),this.listenTo(this.collection,"reset",this.render),this.sort&&this.listenTo(this.collection,"sort",this._sortViews))},_onCollectionAdd:function(e,t,n){this.destroyEmptyView();var r=this.getChildView(e),i=this.collection.indexOf(e);this.addChild(e,r,i)},_onCollectionRemove:function(e){var t=this.children.findByModel(e);this.removeChildView(t),this.checkEmpty()},onShowCalled:function(){this.children.each(function(e){n.isFunction(e.triggerMethod)?e.triggerMethod("show"):i.triggerMethod.call(e,"show")})},render:function(){return this._ensureViewIsIntact(),this.triggerMethod("before:render",this),this._renderChildren(),this.triggerMethod("render",this),this},_sortViews:function(){var e=this.collection.find(function(e,t){var n=this.children.findByModel(e);return n&&n._index!==t},this);e&&this.render()},_renderChildren:function(){this.startBuffering(),this.destroyEmptyView(),this.destroyChildren(),this.isEmpty(this.collection)?this.showEmptyView():(this.triggerMethod("before:render:collection",this),this.showCollection(),this.triggerMethod("render:collection",this)),this.endBuffering()},showCollection:function(){var e;this.collection.each(function(t,n){e=this.getChildView(t),this.addChild(t,e,n)},this)},showEmptyView:function(){var e=this.getEmptyView();if(e&&!this._showingEmptyView){this.triggerMethod("before:render:empty"),this._showingEmptyView=!0;var n=new t.Model;this.addEmptyView(n,e),this.triggerMethod("render:empty")}},destroyEmptyView:function(){this._showingEmptyView&&(this.destroyChildren(),delete this._showingEmptyView)},getEmptyView:function(){return this.getOption("emptyView")},addEmptyView:function(e,t){var r=this.getOption("emptyViewOptions")||this.getOption("childViewOptions");n.isFunction(r)&&(r=r.call(this));var i=this.buildChildView(e,t,r);this._isShown&&this.triggerMethod.call(i,"before:show"),this.children.add(i),this.renderChildView(i,-1),this._isShown&&this.triggerMethod.call(i,"show")},getChildView:function(e){var t=this.getOption("childView");return t||o('A "childView" must be specified',"NoChildViewError"),t},addChild:function(e,t,r){var i=this.getOption("childViewOptions");n.isFunction(i)&&(i=i.call(this,e,r));var s=this.buildChildView(e,t,i);return this._updateIndices(s,!0,r),this._addChildView(s,r),s},_updateIndices:function(e,t,n){if(!this.sort)return;t?(e._index=n,this.children.each(function(t){t._index>=e._index&&t._index++})):this.children.each(function(t){t._index>=e._index&&t._index--})},_addChildView:function(e,t){this.proxyChildEvents(e),this.triggerMethod("before:add:child",e),this.children.add(e),this.renderChildView(e,t),this._isShown&&!this.isBuffering&&(n.isFunction(e.triggerMethod)?e.triggerMethod("show"):i.triggerMethod.call(e,"show")),this.triggerMethod("add:child",e)},renderChildView:function(e,t){e.render(),this.attachHtml(this,e,t)},buildChildView:function(e,t,r){var i=n.extend({model:e},r);return new t(i)},removeChildView:function(e){e&&(this.triggerMethod("before:remove:child",e),e.destroy?e.destroy():e.remove&&e.remove(),this.stopListening(e),this.children.remove(e),this.triggerMethod("remove:child",e),this._updateIndices(e,!1))},isEmpty:function(e){return!this.collection||this.collection.length===0},checkEmpty:function(){this.isEmpty(this.collection)&&this.showEmptyView()},attachBuffer:function(e,t){e.$el.append(t)},attachHtml:function(e,t,n){e.isBuffering?(e.elBuffer.appendChild(t.el),e._bufferedChildren.push(t)):e._insertBefore(t,n)||e._insertAfter(t)},_insertBefore:function(e,t){var n,r=this.sort&&t<this.children.length-1;return r&&(n=this.children.find(function(e){return e._index===t+1})),n?(n.$el.before(e.el),!0):!1},_insertAfter:function(e){this.$el.append(e.el)},_initChildViewStorage:function(){this.children=new t.ChildViewContainer},destroy:function(){if(this.isDestroyed)return;this.triggerMethod("before:destroy:collection"),this.destroyChildren(),this.triggerMethod("destroy:collection"),i.View.prototype.destroy.apply(this,arguments)},destroyChildren:function(){this.children.each(this.removeChildView,this),this.checkEmpty()},proxyChildEvents:function(e){var t=this.getOption("childViewEventPrefix");this.listenTo(e,"all",function(){var r=Array.prototype.slice.call(arguments),i=r[0],s=this.normalizeMethods(n.result(this,"childEvents"));r[0]=t+":"+i,r.splice(1,0,e),typeof s!="undefined"&&n.isFunction(s[i])&&s[i].apply(this,r.slice(1)),this.triggerMethod.apply(this,r)},this)}}),i.CompositeView=i.CollectionView.extend({constructor:function(){i.CollectionView.apply(this,arguments)},_initialEvents:function(){this.once("render",function(){this.collection&&(this.listenTo(this.collection,"add",this._onCollectionAdd),this.listenTo(this.collection,"remove",this._onCollectionRemove),this.listenTo(this.collection,"reset",this._renderChildren),this.sort&&this.listenTo(this.collection,"sort",this._sortViews))})},getChildView:function(e){var t=this.getOption("childView")||this.constructor;return t||o('A "childView" must be specified',"NoChildViewError"),t},serializeData:function(){var e={};return this.model&&(e=this.model.toJSON()),e},render:function(){return this._ensureViewIsIntact(),this.isRendered=!0,this.resetChildViewContainer(),this.triggerMethod("before:render",this),this._renderRoot(),this._renderChildren(),this.triggerMethod("render",this),this},_renderChildren:function(){this.isRendered&&i.CollectionView.prototype._renderChildren.call(this)},_renderRoot:function(){var e={};e=this.serializeData(),e=this.mixinTemplateHelpers(e),this.triggerMethod("before:render:template");var t=this.getTemplate(),n=i.Renderer.render(t,e);this.attachElContent(n),this.bindUIElements(),this.triggerMethod("render:template")},attachElContent:function(e){return this.$el.html(e),this},attachBuffer:function(e,t){var n=this.getChildViewContainer(e);n.append(t)},_insertAfter:function(e){var t=this.getChildViewContainer(this);t.append(e.el)},getChildViewContainer:function(e){if("$childViewContainer"in e)return e.$childViewContainer;var t,r=i.getOption(e,"childViewContainer");if(r){var s=n.isFunction(r)?r.call(e):r;s.charAt(0)==="@"&&e.ui?t=e.ui[s.substr(4)]:t=e.$(s),t.length<=0&&o('The specified "childViewContainer" was not found: '+e.childViewContainer,"ChildViewContainerMissingError")}else t=e.$el;return e.$childViewContainer=t,t},resetChildViewContainer:function(){this.$childViewContainer&&delete this.$childViewContainer}}),i.LayoutView=i.ItemView.extend({regionClass:i.Region,constructor:function(e){e=e||{},this._firstRender=!0,this._initializeRegions(e),i.ItemView.call(this,e)},render:function(){return this._ensureViewIsIntact(),this._firstRender?this._firstRender=!1:this._reInitializeRegions(),i.ItemView.prototype.render.apply(this,arguments)},destroy:function(){if(this.isDestroyed)return;this.regionManager.destroy(),i.ItemView.prototype.destroy.apply(this,arguments)},addRegion:function(e,t){this.triggerMethod("before:region:add",e);var n={};return n[e]=t,this._buildRegions(n)[e]},addRegions:function(e){return this.regions=n.extend({},this.regions,e),this._buildRegions(e)},removeRegion:function(e){return this.triggerMethod("before:region:remove",e),delete this.regions[e],this.regionManager.removeRegion(e)},getRegion:function(e){return this.regionManager.get(e)},getRegions:function(){return this.regionManager.getRegions()},_buildRegions:function(e){var t=this,n={regionClass:this.getOption("regionClass"),parentEl:function(){return t.$el}};return this.regionManager.addRegions(e,n)},_initializeRegions:function(e){var t;this._initRegionManager(),n.isFunction(this.regions)?t=this.regions(e):t=this.regions||{};var r=this.getOption.call(e,"regions");n.isFunction(r)&&(r=r.call(this,e)),n.extend(t,r),this.addRegions(t)},_reInitializeRegions:function(){this.regionManager.emptyRegions(),this.regionManager.each(function(e){e.reset()})},getRegionManager:function(){return new i.RegionManager},_initRegionManager:function(){this.regionManager=this.getRegionManager(),this.listenTo(this.regionManager,"before:add:region",function(e){this.triggerMethod("before:add:region",e)}),this.listenTo(this.regionManager,"add:region",function(e,t){this[e]=t,this.triggerMethod("add:region",e,t)}),this.listenTo(this.regionManager,"before:remove:region",function(e){this.triggerMethod("before:remove:region",e)}),this.listenTo(this.regionManager,"remove:region",function(e,t){delete this[e],this.triggerMethod("remove:region",e,t)})}}),i.Behavior=function(e,t){function n(t,n){this.view=n,this.defaults=e.result(this,"defaults")||{},this.options=e.extend({},this.defaults,t),this.$=function(){return this.view.$.apply(this.view,arguments)},this.initialize.apply(this,arguments)}return e.extend(n.prototype,t.Events,{initialize:function(){},destroy:function(){this.stopListening()},triggerMethod:i.triggerMethod,getOption:i.proxyGetOption,bindEntityEvents:i.proxyBindEntityEvents,unbindEntityEvents:i.proxyUnbindEntityEvents}),n.extend=i.extend,n}(n,t),i.Behaviors=function(e,t){function n(e,r){r=n.parseBehaviors(e,r||t.result(e,"behaviors")),n.wrap(e,r,["bindUIElements","unbindUIElements","delegateEvents","undelegateEvents","behaviorEvents","triggerMethod","setElement","destroy"])}var r={setElement:function(e,n){e.apply(this,t.tail(arguments,2)),t.each(n,function(e){e.$el=this.$el},this)},destroy:function(e,n){var r=t.tail(arguments,2);e.apply(this,r),t.invoke(n,"destroy",r)},bindUIElements:function(e,n){e.apply(this),t.invoke(n,e)},unbindUIElements:function(e,n){e.apply(this),t.invoke(n,e)},triggerMethod:function(e,n){var r=t.tail(arguments,2);e.apply(this,r),t.each(n,function(t){e.apply(t,r)})},delegateEvents:function(n,r){var i=t.tail(arguments,2);n.apply(this,i),t.each(r,function(t){e.bindEntityEvents(t,this.model,e.getOption(t,"modelEvents")),e.bindEntityEvents(t,this.collection,e.getOption(t,"collectionEvents"))},this)},undelegateEvents:function(n,r){var i=t.tail(arguments,2);n.apply(this,i),t.each(r,function(t){e.unbindEntityEvents(t,this.model,e.getOption(t,"modelEvents")),e.unbindEntityEvents(t,this.collection,e.getOption(t,"collectionEvents"))},this)},behaviorEvents:function(n,r){var i={},s=t.result(this,"ui");return t.each(r,function(n,r){var o={},u=t.clone(t.result(n,"events"))||{},a=t.result(n,"ui"),f=t.extend({},s,a);u=e.normalizeUIKeys(u,f),t.each(t.keys(u),function(e){var i=(new Array(r+2)).join(" "),s=e+i,a=t.isFunction(u[e])?u[e]:n[u[e]];o[s]=t.bind(a,n)}),i=t.extend(i,o)}),i}};return t.extend(n,{behaviorsLookup:function(){throw new Error("You must define where your behaviors are stored.See https://github.com/marionettejs/backbone.marionette/blob/master/docs/marionette.behaviors.md#behaviorslookup")},getBehaviorClass:function(e,r){return e.behaviorClass?e.behaviorClass:t.isFunction(n.behaviorsLookup)?n.behaviorsLookup.apply(this,arguments)[r]:n.behaviorsLookup[r]},parseBehaviors:function(e,r){return t.chain(r).map(function(r,i){var s=n.getBehaviorClass(r,i),o=new s(r,e),u=n.parseBehaviors(e,t.result(o,"behaviors"));return[o].concat(u)}).flatten().value()},wrap:function(e,n,i){t.each(i,function(i){e[i]=t.partial(r[i],e[i],n)})}}),n}(i,n),i.AppRouter=t.Router.extend({constructor:function(e){t.Router.apply(this,arguments),this.options=e||{};var n=this.getOption("appRoutes"),r=this._getController();this.processAppRoutes(r,n),this.on("route",this._processOnRoute,this)},appRoute:function(e,t){var n=this._getController();this._addAppRoute(n,e,t)},_processOnRoute:function(e,t){var r=n.invert(this.appRoutes)[e];n.isFunction(this.onRoute)&&this.onRoute(e,r,t)},processAppRoutes:function(e,t){if(!t)return;var r=n.keys(t).reverse();n.each(r,function(n){this._addAppRoute(e,n,t[n])},this)},_getController:function(){return this.getOption("controller")},_addAppRoute:function(e,t,r){var i=e[r];i||o('Method "'+r+'" was not found on the controller'),this.route(t,r,n.bind(i,e))},getOption:i.proxyGetOption}),i.Application=function(e){this._initRegionManager(),this._initCallbacks=new i.Callbacks;var r=t.Wreqr.radio.channel("global");this.vent=r.vent,this.commands=r.commands,this.reqres=r.reqres,this.submodules={},n.extend(this,e)},n.extend(i.Application.prototype,t.Events,{execute:function(){this.commands.execute.apply(this.commands,arguments)},request:function(){return this.reqres.request.apply(this.reqres,arguments)},addInitializer:function(e){this._initCallbacks.add(e)},start:function(e){this.triggerMethod("before:start",e),this._initCallbacks.run(e,this),this.triggerMethod("start",e)},addRegions:function(e){return this._regionManager.addRegions(e)},emptyRegions:function(){this._regionManager.emptyRegions()},removeRegion:function(e){this._regionManager.removeRegion(e)},getRegion:function(e){return this._regionManager.get(e)},getRegions:function(){return this._regionManager.getRegions()},module:function(e,t){var n=i.Module.getClass(t),r=s.call(arguments);return r.unshift(this),n.create.apply(n,r)},_initRegionManager:function(){this._regionManager=new i.RegionManager,this.listenTo(this._regionManager,"before:add:region",function(e){this.triggerMethod("before:add:region",e)}),this.listenTo(this._regionManager,"add:region",function(e,t){this[e]=t,this.triggerMethod("add:region",e,t)}),this.listenTo(this._regionManager,"before:remove:region",function(e){this.triggerMethod("before:remove:region",e)}),this.listenTo(this._regionManager,"remove:region",function(e,t){delete this[e],this.triggerMethod("remove:region",e,t)})},triggerMethod:i.triggerMethod}),i.Application.extend=i.extend,i.Module=function(e,t,r){this.moduleName=e,this.options=n.extend({},this.options,r),this.initialize=r.initialize||this.initialize,this.submodules={},this._setupInitializersAndFinalizers(),this.app=t,this.startWithParent=!0,n.isFunction(this.initialize)&&this.initialize(e,t,this.options)},i.Module.extend=i.extend,n.extend(i.Module.prototype,t.Events,{initialize:function(){},addInitializer:function(e){this._initializerCallbacks.add(e)},addFinalizer:function(e){this._finalizerCallbacks.add(e)},start:function(e){if(this._isInitialized)return;n.each(this.submodules,function(t){t.startWithParent&&t.start(e)}),this.triggerMethod("before:start",e),this._initializerCallbacks.run(e,this),this._isInitialized=!0,this.triggerMethod("start",e)},stop:function(){if(!this._isInitialized)return;this._isInitialized=!1,this.triggerMethod("before:stop"),n.each(this.submodules,function(e){e.stop()}),this._finalizerCallbacks.run(undefined,this),this._initializerCallbacks.reset(),this._finalizerCallbacks.reset(),this.triggerMethod("stop")},addDefinition:function(e,t){this._runModuleDefinition(e,t)},_runModuleDefinition:function(e,r){if(!e)return;var s=n.flatten([this,this.app,t,i,t.$,n,r]);e.apply(this,s)},_setupInitializersAndFinalizers:function(){this._initializerCallbacks=new i.Callbacks,this._finalizerCallbacks=new i.Callbacks},triggerMethod:i.triggerMethod}),n.extend(i.Module,{create:function(e,t,r){var i=e,o=s.call(arguments);o.splice(0,3),t=t.split(".");var u=t.length,a=[];return a[u-1]=r,n.each(t,function(t,n){var s=i;i=this._getModule(s,t,e,r),this._addModuleDefinition(s,i,a[n],o)},this),i},_getModule:function(e,t,r,i,s){var o=n.extend({},i),u=this.getClass(i),a=e[t];return a||(a=new u(t,r,o),e[t]=a,e.submodules[t]=a),a},getClass:function(e){var t=i.Module;return e?e.prototype instanceof t?e:e.moduleClass||t:t},_addModuleDefinition:function(e,t,n,r){var i=this._getDefine(n),s=this._getStartWithParent(n,t);i&&t.addDefinition(i,r),this._addStartWithParent(e,t,s)},_getStartWithParent:function(e,t){var r;return n.isFunction(e)&&e.prototype instanceof i.Module?(r=t.constructor.prototype.startWithParent,n.isUndefined(r)?!0:r):n.isObject(e)?(r=e.startWithParent,n.isUndefined(r)?!0:r):!0},_getDefine:function(e){return!n.isFunction(e)||e.prototype instanceof i.Module?n.isObject(e)?e.define:null:e},_addStartWithParent:function(e,t,n){t.startWithParent=t.startWithParent&&n;if(!t.startWithParent||!!t.startWithParentIsConfigured)return;t.startWithParentIsConfigured=!0,e.addInitializer(function(e){t.startWithParent&&t.start(e)})}}),i}),function(e){function J(e,t){return function(n){return tt(e.call(this,n),t)}}function K(e,t){return function(n){return this.lang().ordinal(e.call(this,n),t)}}function Q(){}function G(e){pt(e),Z(this,e)}function Y(e){var t=ut(e),n=t.year||0,r=t.month||0,i=t.week||0,s=t.day||0,o=t.hour||0,u=t.minute||0,a=t.second||0,f=t.millisecond||0;this._milliseconds=+f+a*1e3+u*6e4+o*36e5,this._days=+s+i*7,this._months=+r+n*12,this._data={},this._bubble()}function Z(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return t.hasOwnProperty("toString")&&(e.toString=t.toString),t.hasOwnProperty("valueOf")&&(e.valueOf=t.valueOf),e}function et(e){return e<0?Math.ceil(e):Math.floor(e)}function tt(e,t,n){var r=Math.abs(e)+"",i=e>=0;while(r.length<t)r="0"+r;return(i?n?"+":"":"-")+r}function nt(e,n,r,i){var s=n._milliseconds,o=n._days,u=n._months,a,f;s&&e._d.setTime(+e._d+s*r);if(o||u)a=e.minute(),f=e.hour();o&&e.date(e.date()+o*r),u&&e.month(e.month()+u*r),s&&!i&&t.updateOffset(e);if(o||u)e.minute(a),e.hour(f)}function rt(e){return Object.prototype.toString.call(e)==="[object Array]"}function it(e){return Object.prototype.toString.call(e)==="[object Date]"||e instanceof Date}function st(e,t,n){var r=Math.min(e.length,t.length),i=Math.abs(e.length-t.length),s=0,o;for(o=0;o<r;o++)(n&&e[o]!==t[o]||!n&&ft(e[o])!==ft(t[o]))&&s++;return s+i}function ot(e){if(e){var t=e.toLowerCase().replace(/(.)s$/,"$1");e=R[e]||U[t]||t}return e}function ut(e){var t={},n,r;for(r in e)e.hasOwnProperty(r)&&(n=ot(r),n&&(t[n]=e[r]));return t}function at(n){var r,i;if(n.indexOf("week")===0)r=7,i="day";else{if(n.indexOf("month")!==0)return;r=12,i="month"}t[n]=function(s,o){var u,a,f=t.fn._lang[n],l=[];typeof s=="number"&&(o=s,s=e),a=function(e){var n=t().utc().set(i,e);return f.call(t.fn._lang,n,s||"")};if(o!=null)return a(o);for(u=0;u<r;u++)l.push(a(u));return l}}function ft(e){var t=+e,n=0;return t!==0&&isFinite(t)&&(t>=0?n=Math.floor(t):n=Math.ceil(t)),n}function lt(e,t){return(new Date(Date.UTC(e,t+1,0))).getUTCDate()}function ct(e){return ht(e)?366:365}function ht(e){return e%4===0&&e%100!==0||e%400===0}function pt(e){var t;e._a&&e._pf.overflow===-2&&(t=e._a[u]<0||e._a[u]>11?u:e._a[a]<1||e._a[a]>lt(e._a[o],e._a[u])?a:e._a[f]<0||e._a[f]>23?f:e._a[l]<0||e._a[l]>59?l:e._a[c]<0||e._a[c]>59?c:e._a[h]<0||e._a[h]>999?h:-1,e._pf._overflowDayOfYear&&(t<o||t>a)&&(t=a),e._pf.overflow=t)}function dt(e){e._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function vt(e){return e._isValid==null&&(e._isValid=!isNaN(e._d.getTime())&&e._pf.overflow<0&&!e._pf.empty&&!e._pf.invalidMonth&&!e._pf.nullInput&&!e._pf.invalidFormat&&!e._pf.userInvalidated,e._strict&&(e._isValid=e._isValid&&e._pf.charsLeftOver===0&&e._pf.unusedTokens.length===0)),e._isValid}function mt(e){return e?e.toLowerCase().replace("_","-"):e}function gt(e,n){return n._isUTC?t(e).zone(n._offset||0):t(e).local()}function yt(e,t){return t.abbr=e,p[e]||(p[e]=new Q),p[e].set(t),p[e]}function bt(e){delete p[e]}function wt(e){var n=0,r,i,s,o,u=function(e){if(!p[e]&&d)try{require("./lang/"+e)}catch(t){}return p[e]};if(!e)return t.fn._lang;if(!rt(e)){i=u(e);if(i)return i;e=[e]}while(n<e.length){o=mt(e[n]).split("-"),r=o.length,s=mt(e[n+1]),s=s?s.split("-"):null;while(r>0){i=u(o.slice(0,r).join("-"));if(i)return i;if(s&&s.length>=r&&st(o,s,!0)>=r-1)break;r--}n++}return t.fn._lang}function Et(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function St(e){var t=e.match(y),n,r;for(n=0,r=t.length;n<r;n++)V[t[n]]?t[n]=V[t[n]]:t[n]=Et(t[n]);return function(i){var s="";for(n=0;n<r;n++)s+=t[n]instanceof Function?t[n].call(i,e):t[n];return s}}function xt(e,t){return e.isValid()?(t=Tt(t,e.lang()),z[t]||(z[t]=St(t)),z[t](e)):e.lang().invalidDate()}function Tt(e,t){function r(e){return t.longDateFormat(e)||e}var n=5;b.lastIndex=0;while(n>=0&&b.test(e))e=e.replace(b,r),b.lastIndex=0,n-=1;return e}function Nt(e,t){var n,r=t._strict;switch(e){case"DDDD":return M;case"YYYY":case"GGGG":case"gggg":return r?_:S;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return r?D:x;case"S":if(r)return A;case"SS":if(r)return O;case"SSS":case"DDD":return r?M:E;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return N;case"a":case"A":return wt(t._l)._meridiemParse;case"X":return L;case"Z":case"ZZ":return C;case"T":return k;case"SSSS":return T;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return r?O:w;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return r?A:w;default:return n=new RegExp(Dt(_t(e.replace("\\","")),"i")),n}}function Ct(e){e=e||"";var t=e.match(C)||[],n=t[t.length-1]||[],r=(n+"").match(F)||["-",0,0],i=+(r[1]*60)+ft(r[2]);return r[0]==="+"?-i:i}function kt(e,t,n){var r,i=n._a;switch(e){case"M":case"MM":t!=null&&(i[u]=ft(t)-1);break;case"MMM":case"MMMM":r=wt(n._l).monthsParse(t),r!=null?i[u]=r:n._pf.invalidMonth=t;break;case"D":case"DD":t!=null&&(i[a]=ft(t));break;case"DDD":case"DDDD":t!=null&&(n._dayOfYear=ft(t));break;case"YY":i[o]=ft(t)+(ft(t)>68?1900:2e3);break;case"YYYY":case"YYYYY":case"YYYYYY":i[o]=ft(t);break;case"a":case"A":n._isPm=wt(n._l).isPM(t);break;case"H":case"HH":case"h":case"hh":i[f]=ft(t);break;case"m":case"mm":i[l]=ft(t);break;case"s":case"ss":i[c]=ft(t);break;case"S":case"SS":case"SSS":case"SSSS":i[h]=ft(("0."+t)*1e3);break;case"X":n._d=new Date(parseFloat(t)*1e3);break;case"Z":case"ZZ":n._useUTC=!0,n._tzm=Ct(t);break;case"w":case"ww":case"W":case"WW":case"d":case"dd":case"ddd":case"dddd":case"e":case"E":e=e.substr(0,1);case"gg":case"gggg":case"GG":case"GGGG":case"GGGGG":e=e.substr(0,2),t&&(n._w=n._w||{},n._w[e]=t)}}function Lt(e){var n,r,i=[],s,c,h,p,d,v,m,g;if(e._d)return;s=Ot(e),e._w&&e._a[a]==null&&e._a[u]==null&&(h=function(n){var r=parseInt(n,10);return n?n.length<3?r>68?1900+r:2e3+r:r:e._a[o]==null?t().weekYear():e._a[o]},p=e._w,p.GG!=null||p.W!=null||p.E!=null?d=zt(h(p.GG),p.W||1,p.E,4,1):(v=wt(e._l),m=p.d!=null?It(p.d,v):p.e!=null?parseInt(p.e,10)+v._week.dow:0,g=parseInt(p.w,10)||1,p.d!=null&&m<v._week.dow&&g++,d=zt(h(p.gg),g,m,v._week.doy,v._week.dow)),e._a[o]=d.year,e._dayOfYear=d.dayOfYear),e._dayOfYear&&(c=e._a[o]==null?s[o]:e._a[o],e._dayOfYear>ct(c)&&(e._pf._overflowDayOfYear=!0),r=Ft(c,0,e._dayOfYear),e._a[u]=r.getUTCMonth(),e._a[a]=r.getUTCDate());for(n=0;n<3&&e._a[n]==null;++n)e._a[n]=i[n]=s[n];for(;n<7;n++)e._a[n]=i[n]=e._a[n]==null?n===2?1:0:e._a[n];i[f]+=ft((e._tzm||0)/60),i[l]+=ft((e._tzm||0)%60),e._d=(e._useUTC?Ft:jt).apply(null,i)}function At(e){var t;if(e._d)return;t=ut(e._i),e._a=[t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond],Lt(e)}function Ot(e){var t=new Date;return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function Mt(e){e._a=[],e._pf.empty=!0;var t=wt(e._l),n=""+e._i,r,i,s,o,u,a=n.length,l=0;s=Tt(e._f,t).match(y)||[];for(r=0;r<s.length;r++)o=s[r],i=(n.match(Nt(o,e))||[])[0],i&&(u=n.substr(0,n.indexOf(i)),u.length>0&&e._pf.unusedInput.push(u),n=n.slice(n.indexOf(i)+i.length),l+=i.length),V[o]?(i?e._pf.empty=!1:e._pf.unusedTokens.push(o),kt(o,i,e)):e._strict&&!i&&e._pf.unusedTokens.push(o);e._pf.charsLeftOver=a-l,n.length>0&&e._pf.unusedInput.push(n),e._isPm&&e._a[f]<12&&(e._a[f]+=12),e._isPm===!1&&e._a[f]===12&&(e._a[f]=0),Lt(e),pt(e)}function _t(e){return e.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,n,r,i){return t||n||r||i})}function Dt(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Pt(e){var t,n,r,i,s;if(e._f.length===0){e._pf.invalidFormat=!0,e._d=new Date(NaN);return}for(i=0;i<e._f.length;i++){s=0,t=Z({},e),dt(t),t._f=e._f[i],Mt(t);if(!vt(t))continue;s+=t._pf.charsLeftOver,s+=t._pf.unusedTokens.length*10,t._pf.score=s;if(r==null||s<r)r=s,n=t}Z(e,n||t)}function Ht(e){var t,n=e._i,r=P.exec(n);if(r){e._pf.iso=!0;for(t=4;t>0;t--)if(r[t]){e._f=B[t-1]+(r[6]||" ");break}for(t=0;t<4;t++)if(j[t][1].exec(n)){e._f+=j[t][0];break}n.match(C)&&(e._f+="Z"),Mt(e)}else e._d=new Date(n)}function Bt(t){var n=t._i,r=v.exec(n);n===e?t._d=new Date:r?t._d=new Date(+r[1]):typeof n=="string"?Ht(t):rt(n)?(t._a=n.slice(0),Lt(t)):it(n)?t._d=new Date(+n):typeof n=="object"?At(t):t._d=new Date(n)}function jt(e,t,n,r,i,s,o){var u=new Date(e,t,n,r,i,s,o);return e<1970&&u.setFullYear(e),u}function Ft(e){var t=new Date(Date.UTC.apply(null,arguments));return e<1970&&t.setUTCFullYear(e),t}function It(e,t){if(typeof e=="string")if(!isNaN(e))e=parseInt(e,10);else{e=t.weekdaysParse(e);if(typeof e!="number")return null}return e}function qt(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function Rt(e,t,n){var r=i(Math.abs(e)/1e3),s=i(r/60),o=i(s/60),u=i(o/24),a=i(u/365),f=r<45&&["s",r]||s===1&&["m"]||s<45&&["mm",s]||o===1&&["h"]||o<22&&["hh",o]||u===1&&["d"]||u<=25&&["dd",u]||u<=45&&["M"]||u<345&&["MM",i(u/30)]||a===1&&["y"]||["yy",a];return f[2]=t,f[3]=e>0,f[4]=n,qt.apply({},f)}function Ut(e,n,r){var i=r-n,s=r-e.day(),o;return s>i&&(s-=7),s<i-7&&(s+=7),o=t(e).add("d",s),{week:Math.ceil(o.dayOfYear()/7),year:o.year()}}function zt(e,t,n,r,i){var s=(new Date(tt(e,6,!0)+"-01-01")).getUTCDay(),o,u;return n=n!=null?n:i,o=i-s+(s>r?7:0),u=7*(t-1)+(n-i)+o+1,{year:u>0?e:e-1,dayOfYear:u>0?u:ct(e-1)+u}}function Wt(e){var n=e._i,r=e._f;return typeof e._pf=="undefined"&&dt(e),n===null?t.invalid({nullInput:!0}):(typeof n=="string"&&(e._i=n=wt().preparse(n)),t.isMoment(n)?(e=Z({},n),e._d=new Date(+n._d)):r?rt(r)?Pt(e):Mt(e):Bt(e),new G(e))}function Xt(e,n){t.fn[e]=t.fn[e+"s"]=function(e){var r=this._isUTC?"UTC":"";return e!=null?(this._d["set"+r+n](e),t.updateOffset(this),this):this._d["get"+r+n]()}}function Vt(e){t.duration.fn[e]=function(){return this._data[e]}}function $t(e,n){t.duration.fn["as"+e]=function(){return+this/n}}function Jt(e){var n=!1,i=t;if(typeof ender!="undefined")return;e?(r.moment=function(){return!n&&console&&console.warn&&(n=!0,console.warn("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.")),i.apply(null,arguments)},Z(r.moment,i)):r.moment=t}var t,n="2.5.0",r=this,i=Math.round,s,o=0,u=1,a=2,f=3,l=4,c=5,h=6,p={},d=typeof module!="undefined"&&module.exports&&typeof require!="undefined",v=/^\/?Date\((\-?\d+)/i,m=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,g=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,y=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,b=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,w=/\d\d?/,E=/\d{1,3}/,S=/\d{1,4}/,x=/[+\-]?\d{1,6}/,T=/\d+/,N=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,C=/Z|[\+\-]\d\d:?\d\d/gi,k=/T/i,L=/[\+\-]?\d+(\.\d{1,3})?/,A=/\d/,O=/\d\d/,M=/\d{3}/,_=/\d{4}/,D=/[+\-]?\d{6}/,P=/^\s*\d{4}-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,H="YYYY-MM-DDTHH:mm:ssZ",B=["YYYY-MM-DD","GGGG-[W]WW","GGGG-[W]WW-E","YYYY-DDD"],j=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],F=/([\+\-]|\d\d)/gi,I="Date|Hours|Minutes|Seconds|Milliseconds".split("|"),q={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},R={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},U={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},z={},W="DDD w W M D d".split(" "),X="M D H h m s w W".split(" "),V={M:function(){return this.month()+1},MMM:function(e){return this.lang().monthsShort(this,e)},MMMM:function(e){return this.lang().months(this,e)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(e){return this.lang().weekdaysMin(this,e)},ddd:function(e){return this.lang().weekdaysShort(this,e)},dddd:function(e){return this.lang().weekdays(this,e)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return tt(this.year()%100,2)},YYYY:function(){return tt(this.year(),4)},YYYYY:function(){return tt(this.year(),5)},YYYYYY:function(){var e=this.year(),t=e>=0?"+":"-";return t+tt(Math.abs(e),6)},gg:function(){return tt(this.weekYear()%100,2)},gggg:function(){return this.weekYear()},ggggg:function(){return tt(this.weekYear(),5)},GG:function(){return tt(this.isoWeekYear()%100,2)},GGGG:function(){return this.isoWeekYear()},GGGGG:function(){return tt(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return ft(this.milliseconds()/100)},SS:function(){return tt(ft(this.milliseconds()/10),2)},SSS:function(){return tt(this.milliseconds(),3)},SSSS:function(){return tt(this.milliseconds(),3)},Z:function(){var e=-this.zone(),t="+";return e<0&&(e=-e,t="-"),t+tt(ft(e/60),2)+":"+tt(ft(e)%60,2)},ZZ:function(){var e=-this.zone(),t="+";return e<0&&(e=-e,t="-"),t+tt(ft(e/60),2)+tt(ft(e)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()},Q:function(){return this.quarter()}},$=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];while(W.length)s=W.pop(),V[s+"o"]=K(V[s],s);while(X.length)s=X.pop(),V[s+s]=J(V[s],2);V.DDDD=J(V.DDD,3),Z(Q.prototype,{set:function(e){var t,n;for(n in e)t=e[n],typeof t=="function"?this[n]=t:this["_"+n]=t},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(e){return this._months[e.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(e){return this._monthsShort[e.month()]},monthsParse:function(e){var n,r,i;this._monthsParse||(this._monthsParse=[]);for(n=0;n<12;n++){this._monthsParse[n]||(r=t.utc([2e3,n]),i="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[n]=new RegExp(i.replace(".",""),"i"));if(this._monthsParse[n].test(e))return n}},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(e){return this._weekdays[e.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(e){return this._weekdaysShort[e.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(e){return this._weekdaysMin[e.day()]},weekdaysParse:function(e){var n,r,i;this._weekdaysParse||(this._weekdaysParse=[]);for(n=0;n<7;n++){this._weekdaysParse[n]||(r=t([2e3,1]).day(n),i="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[n]=new RegExp(i.replace(".",""),"i"));if(this._weekdaysParse[n].test(e))return n}},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(e){var t=this._longDateFormat[e];return!t&&this._longDateFormat[e.toUpperCase()]&&(t=this._longDateFormat[e.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e]=t),t},isPM:function(e){return(e+"").toLowerCase().charAt(0)==="p"},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(e,t){var n=this._calendar[e];return typeof n=="function"?n.apply(t):n},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(e,t,n,r){var i=this._relativeTime[n];return typeof i=="function"?i(e,t,n,r):i.replace(/%d/i,e)},pastFuture:function(e,t){var n=this._relativeTime[e>0?"future":"past"];return typeof n=="function"?n(t):n.replace(/%s/i,t)},ordinal:function(e){return this._ordinal.replace("%d",e)},_ordinal:"%d",preparse:function(e){return e},postformat:function(e){return e},week:function(e){return Ut(e,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),t=function(t,n,r,i){return typeof r=="boolean"&&(i=r,r=e),Wt({_i:t,_f:n,_l:r,_strict:i,_isUTC:!1})},t.utc=function(t,n,r,i){var s;return typeof r=="boolean"&&(i=r,r=e),s=Wt({_useUTC:!0,_isUTC:!0,_l:r,_i:t,_f:n,_strict:i}).utc(),s},t.unix=function(e){return t(e*1e3)},t.duration=function(e,n){var r=e,i=null,s,o,u;return t.isDuration(e)?r={ms:e._milliseconds,d:e._days,M:e._months}:typeof e=="number"?(r={},n?r[n]=e:r.milliseconds=e):(i=m.exec(e))?(s=i[1]==="-"?-1:1,r={y:0,d:ft(i[a])*s,h:ft(i[f])*s,m:ft(i[l])*s,s:ft(i[c])*s,ms:ft(i[h])*s}):!(i=g.exec(e))||(s=i[1]==="-"?-1:1,u=function(e){var t=e&&parseFloat(e.replace(",","."));return(isNaN(t)?0:t)*s},r={y:u(i[2]),M:u(i[3]),d:u(i[4]),h:u(i[5]),m:u(i[6]),s:u(i[7]),w:u(i[8])}),o=new Y(r),t.isDuration(e)&&e.hasOwnProperty("_lang")&&(o._lang=e._lang),o},t.version=n,t.defaultFormat=H,t.updateOffset=function(){},t.lang=function(e,n){var r;return e?(n?yt(mt(e),n):n===null?(bt(e),e="en"):p[e]||wt(e),r=t.duration.fn._lang=t.fn._lang=wt(e),r._abbr):t.fn._lang._abbr},t.langData=function(e){return e&&e._lang&&e._lang._abbr&&(e=e._lang._abbr),wt(e)},t.isMoment=function(e){return e instanceof G},t.isDuration=function(e){return e instanceof Y};for(s=$.length-1;s>=0;--s)at($[s]);t.normalizeUnits=function(e){return ot(e)},t.invalid=function(e){var n=t.utc(NaN);return e!=null?Z(n._pf,e):n._pf.userInvalidated=!0,n},t.parseZone=function(e){return t(e).parseZone()},Z(t.fn=G.prototype,{clone:function(){return t(this)},valueOf:function(){return+this._d+(this._offset||0)*6e4},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().lang("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var e=t(this).utc();return 0<e.year()&&e.year()<=9999?xt(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):xt(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var e=this;return[e.year(),e.month(),e.date(),e.hours(),e.minutes(),e.seconds(),e.milliseconds()]},isValid:function(){return vt(this)},isDSTShifted:function(){return this._a?this.isValid()&&st(this._a,(this._isUTC?t.utc(this._a):t(this._a)).toArray())>0:!1},parsingFlags:function(){return Z({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(e){var n=xt(this,e||t.defaultFormat);return this.lang().postformat(n)},add:function(e,n){var r;return typeof e=="string"?r=t.duration(+n,e):r=t.duration(e,n),nt(this,r,1),this},subtract:function(e,n){var r;return typeof e=="string"?r=t.duration(+n,e):r=t.duration(e,n),nt(this,r,-1),this},diff:function(e,n,r){var i=gt(e,this),s=(this.zone()-i.zone())*6e4,o,u;return n=ot(n),n==="year"||n==="month"?(o=(this.daysInMonth()+i.daysInMonth())*432e5,u=(this.year()-i.year())*12+(this.month()-i.month()),u+=(this-t(this).startOf("month")-(i-t(i).startOf("month")))/o,u-=(this.zone()-t(this).startOf("month").zone()-(i.zone()-t(i).startOf("month").zone()))*6e4/o,n==="year"&&(u/=12)):(o=this-i,u=n==="second"?o/1e3:n==="minute"?o/6e4:n==="hour"?o/36e5:n==="day"?(o-s)/864e5:n==="week"?(o-s)/6048e5:o),r?u:et(u)},from:function(e,n){return t.duration(this.diff(e)).lang(this.lang()._abbr).humanize(!n)},fromNow:function(e){return this.from(t(),e)},calendar:function(){var e=gt(t(),this).startOf("day"),n=this.diff(e,"days",!0),r=n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse";return this.format(this.lang().calendar(r,this))},isLeapYear:function(){return ht(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(e){var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return e!=null?(e=It(e,this.lang()),this.add({d:e-t})):t},month:function(e){var n=this._isUTC?"UTC":"",r;if(e!=null){if(typeof e=="string"){e=this.lang().monthsParse(e);if(typeof e!="number")return this}return r=this.date(),this.date(1),this._d["set"+n+"Month"](e),this.date(Math.min(r,this.daysInMonth())),t.updateOffset(this),this}return this._d["get"+n+"Month"]()},startOf:function(e){e=ot(e);switch(e){case"year":this.month(0);case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return e==="week"?this.weekday(0):e==="isoWeek"&&this.isoWeekday(1),this},endOf:function(e){return e=ot(e),this.startOf(e).add(e==="isoWeek"?"week":e,1).subtract("ms",1)},isAfter:function(e,n){return n=typeof n!="undefined"?n:"millisecond",+this.clone().startOf(n)>+t(e).startOf(n)},isBefore:function(e,n){return n=typeof n!="undefined"?n:"millisecond",+this.clone().startOf(n)<+t(e).startOf(n)},isSame:function(e,t){return t=t||"ms",+this.clone().startOf(t)===+gt(e,this).startOf(t)},min:function(e){return e=t.apply(null,arguments),e<this?this:e},max:function(e){return e=t.apply(null,arguments),e>this?this:e},zone:function(e){var n=this._offset||0;return e==null?this._isUTC?n:this._d.getTimezoneOffset():(typeof e=="string"&&(e=Ct(e)),Math.abs(e)<16&&(e*=60),this._offset=e,this._isUTC=!0,n!==e&&nt(this,t.duration(n-e,"m"),1,!0),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):typeof this._i=="string"&&this.zone(this._i),this},hasAlignedHourOffset:function(e){return e?e=t(e).zone():e=0,(this.zone()-e)%60===0},daysInMonth:function(){return lt(this.year(),this.month())},dayOfYear:function(e){var n=i((t(this).startOf("day")-t(this).startOf("year"))/864e5)+1;return e==null?n:this.add("d",e-n)},quarter:function(){return Math.ceil((this.month()+1)/3)},weekYear:function(e){var t=Ut(this,this.lang()._week.dow,this.lang()._week.doy).year;return e==null?t:this.add("y",e-t)},isoWeekYear:function(e){var t=Ut(this,1,4).year;return e==null?t:this.add("y",e-t)},week:function(e){var t=this.lang().week(this);return e==null?t:this.add("d",(e-t)*7)},isoWeek:function(e){var t=Ut(this,1,4).week;return e==null?t:this.add("d",(e-t)*7)},weekday:function(e){var t=(this.day()+7-this.lang()._week.dow)%7;return e==null?t:this.add("d",e-t)},isoWeekday:function(e){return e==null?this.day()||7:this.day(this.day()%7?e:e-7)},get:function(e){return e=ot(e),this[e]()},set:function(e,t){return e=ot(e),typeof this[e]=="function"&&this[e](t),this},lang:function(t){return t===e?this._lang:(this._lang=wt(t),this)}});for(s=0;s<I.length;s++)Xt(I[s].toLowerCase().replace(/s$/,""),I[s]);Xt("year","FullYear"),t.fn.days=t.fn.day,t.fn.months=t.fn.month,t.fn.weeks=t.fn.week,t.fn.isoWeeks=t.fn.isoWeek,t.fn.toJSON=t.fn.toISOString,Z(t.duration.fn=Y.prototype,{_bubble:function(){var e=this._milliseconds,t=this._days,n=this._months,r=this._data,i,s,o,u;r.milliseconds=e%1e3,i=et(e/1e3),r.seconds=i%60,s=et(i/60),r.minutes=s%60,o=et(s/60),r.hours=o%24,t+=et(o/24),r.days=t%30,n+=et(t/30),r.months=n%12,u=et(n/12),r.years=u},weeks:function(){return et(this.days()/7)},valueOf:function(){return this._milliseconds+this._days*864e5+this._months%12*2592e6+ft(this._months/12)*31536e6},humanize:function(e){var t=+this,n=Rt(t,!e,this.lang());return e&&(n=this.lang().pastFuture(t,n)),this.lang().postformat(n)},add:function(e,n){var r=t.duration(e,n);return this._milliseconds+=r._milliseconds,this._days+=r._days,this._months+=r._months,this._bubble(),this},subtract:function(e,n){var r=t.duration(e,n);return this._milliseconds-=r._milliseconds,this._days-=r._days,this._months-=r._months,this._bubble(),this},get:function(e){return e=ot(e),this[e.toLowerCase()+"s"]()},as:function(e){return e=ot(e),this["as"+e.charAt(0).toUpperCase()+e.slice(1)+"s"]()},lang:t.fn.lang,toIsoString:function(){var e=Math.abs(this.years()),t=Math.abs(this.months()),n=Math.abs(this.days()),r=Math.abs(this.hours()),i=Math.abs(this.minutes()),s=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(e?e+"Y":"")+(t?t+"M":"")+(n?n+"D":"")+(r||i||s?"T":"")+(r?r+"H":"")+(i?i+"M":"")+(s?s+"S":""):"P0D"}});for(s in q)q.hasOwnProperty(s)&&($t(s,q[s]),Vt(s.toLowerCase()));$t("Weeks",6048e5),t.duration.fn.asMonths=function(){return(+this-this.years()*31536e6)/2592e6+this.years()*12},t.lang("en",{ordinal:function(e){var t=e%10,n=ft(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+n}}),function(e){e(t)}(function(e){return e.lang("ar-ma",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:6,doy:12}})}),function(e){e(t)}(function(e){return e.lang("ar",{months:"/  _/ _/ _/ _/ _/ _/ _/ _/ _/  _/  _/  ".split("_"),monthsShort:"/  _/ _/ _/ _/ _/ _/ _/ _/ _/  _/  _/  ".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:6,doy:12}})}),function(e){e(t)}(function(e){return e.lang("bg",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"H:mm",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[ ] dddd [] LT";case 1:case 2:case 4:case 5:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},ordinal:function(e){var t=e%10,n=e%100;return e===0?e+"-":n===0?e+"-":n>10&&n<20?e+"-":t===1?e+"-":t===2?e+"-":t===7||t===8?e+"-":e+"-"},week:{dow:1,doy:7}})}),function(e){e(t)}(function(t){function n(e,t,n){var r={mm:"munutenn",MM:"miz",dd:"devezh"};return e+" "+s(r[n],e)}function r(e){switch(i(e)){case 1:case 3:case 4:case 5:case 9:return e+" bloaz";default:return e+" vloaz"}}function i(e){return e>9?i(e%10):e}function s(e,t){return t===2?o(e):e}function o(t){var n={m:"v",b:"v",d:"z"};return n[t.charAt(0)]===e?t:n[t.charAt(0)]+t.substring(1)}return t.lang("br",{months:"Genver_C'hwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_C'hwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Merc'her_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),longDateFormat:{LT:"h[e]mm A",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY LT",LLLL:"dddd, D [a viz] MMMM YYYY LT"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warc'hoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Dec'h da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s 'zo",s:"un nebeud segondenno",m:"ur vunutenn",mm:n,h:"un eur",hh:"%d eur",d:"un devezh",dd:n,M:"ur miz",MM:n,y:"ur bloaz",yy:r},ordinal:function(e){var t=e===1?"a":"vet";return e+t},week:{dow:1,doy:4}})}),function(e){e(t)}(function(e){function t(e,t,n){var r=e+" ";switch(n){case"m":return t?"jedna minuta":"jedne minute";case"mm":return e===1?r+="minuta":e===2||e===3||e===4?r+="minute":r+="minuta",r;case"h":return t?"jedan sat":"jednog sata";case"hh":return e===1?r+="sat":e===2||e===3||e===4?r+="sata":r+="sati",r;case"dd":return e===1?r+="dan":r+="dana",r;case"MM":return e===1?r+="mjesec":e===2||e===3||e===4?r+="mjeseca":r+="mjeseci",r;case"yy":return e===1?r+="godina":e===2||e===3||e===4?r+="godine":r+="godina",r}}return e.lang("bs",{months:"januar_februar_mart_april_maj_juni_juli_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),longDateFormat:{LT:"H:mm",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prolu] dddd [u] LT";case 6:return"[prole] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",m:t,mm:t,h:t,hh:t,d:"dan",dd:t,M:"mjesec",MM:t,y:"godinu",yy:t},ordinal:"%d.",week:{dow:1,doy:7}})}),function(e){e(t)}(function(e){return e.lang("ca",{months:"Gener_Febrer_Mar_Abril_Maig_Juny_Juliol_Agost_Setembre_Octubre_Novembre_Desembre".split("_"),monthsShort:"Gen._Febr._Mar._Abr._Mai._Jun._Jul._Ag._Set._Oct._Nov._Des.".split("_"),weekdays:"Diumenge_Dilluns_Dimarts_Dimecres_Dijous_Divendres_Dissabte".split("_"),weekdaysShort:"Dg._Dl._Dt._Dc._Dj._Dv._Ds.".split("_"),weekdaysMin:"Dg_Dl_Dt_Dc_Dj_Dv_Ds".split("_"),longDateFormat:{LT:"H:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:function(){return"[avui a "+(this.hours()!==1?"les":"la")+"] LT"},nextDay:function(){return"[dem a "+(this.hours()!==1?"les":"la")+"] LT"},nextWeek:function(){return"dddd [a "+(this.hours()!==1?"les":"la")+"] LT"},lastDay:function(){return"[ahir a "+(this.hours()!==1?"les":"la")+"] LT"},lastWeek:function(){return"[el] dddd [passat a "+(this.hours()!==1?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"fa %s",s:"uns segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},ordinal:"%d",week:{dow:1,doy:4}})}),function(e){e(t)}(function(e){function r(e){return e>1&&e<5&&~~(e/10)!==1}function i(e,t,n,i){var s=e+" ";switch(n){case"s":return t||i?"pr vtein":"pr vteinami";case"m":return t?"minuta":i?"minutu":"minutou";case"mm":return t||i?s+(r(e)?"minuty":"minut"):s+"minutami";case"h":return t?"hodina":i?"hodinu":"hodinou";case"hh":return t||i?s+(r(e)?"hodiny":"hodin"):s+"hodinami";case"d":return t||i?"den":"dnem";case"dd":return t||i?s+(r(e)?"dny":"dn"):s+"dny";case"M":return t||i?"msc":"mscem";case"MM":return t||i?s+(r(e)?"msce":"msc"):s+"msci";case"y":return t||i?"rok":"rokem";case"yy":return t||i?s+(r(e)?"roky":"let"):s+"lety"}}var t="leden_nor_bezen_duben_kvten_erven_ervenec_srpen_z_jen_listopad_prosinec".split("_"),n="led_no_be_dub_kv_vn_vc_srp_z_j_lis_pro".split("_");return e.lang("cs",{months:t,monthsShort:n,monthsParse:function(e,t){var n,r=[];for(n=0;n<12;n++)r[n]=new RegExp("^"+e[n]+"$|^"+t[n]+"$","i");return r}(t,n),weekdays:"nedle_pondl_ter_steda_tvrtek_ptek_sobota".split("_"),weekdaysShort:"ne_po_t_st_t_p_so".split("_"),weekdaysMin:"ne_po_t_st_t_p_so".split("_"),longDateFormat:{LT:"H:mm",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd D. MMMM YYYY LT"},calendar:{sameDay:"[dnes v] LT",nextDay:"[ztra v] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve stedu v] LT";case 4:return"[ve tvrtek v] LT";case 5:return"[v ptek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[vera v] LT",lastWeek:function(){switch(this.day()){case 0:return"[minulou nedli v] LT";case 1:case 2:return"[minul] dddd [v] LT";case 3:return"[minulou stedu v] LT";case 4:case 5:return"[minul] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"ped %s",s:i,m:i,mm:i,h:i,hh:i,d:i,dd:i,M:i,MM:i,y:i,yy:i},ordinal:"%d.",week:{dow:1,doy:4}})}),function(e){e(t)}(function(e){return e.lang("cv",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",L:"DD-MM-YYYY",LL:"YYYY [] MMMM [] D[-]",LLL:"YYYY [] MMMM [] D[-], LT",LLLL:"dddd, YYYY [] MMMM [] D[-], LT"},calendar:{sameDay:"[] LT []",nextDay:"[] LT []",lastDay:"[] LT []",nextWeek:"[] dddd LT []",lastWeek:"[] dddd LT []",sameElse:"L"},relativeTime:{future:function(e){var t=/$/i.exec(e)?"":/$/i.exec(e)?"":"";return e+t},past:"%s ",s:"- ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},ordinal:"%d-",week:{dow:1,doy:7}})}),function(e){e(t)}(function(e){return e.lang("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn &#244;l",s:"ychydig eiliadau",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},ordinal:function(e){var t=e,n="",r=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"];return t>20?t===40||t===50||t===60||t===80||t===100?n="fed":n="ain":t>0&&(n=r[t]),e+n},week:{dow:1,doy:4}})}),function(e){e(t)}(function(e){return e.lang("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_man_tir_ons_tor_fre_lr".split("_"),weekdaysMin:"s_ma_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D. MMMM, YYYY LT"},calendar:{sameDay:"[I dag kl.] LT",nextDay:"[I morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[I gr kl.] LT",lastWeek:"[sidste] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"f sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en mned",MM:"%d mneder",y:"et r",yy:"%d r"},ordinal:"%d.",week:{dow:1,doy:4}})}),function(e){e(t)}(function(e){function t(e,t,n,r){var i={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?i[n][0]:i[n][1]}return e.lang("de",{months:"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Apr._Mai_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),longDateFormat:{LT:"H:mm [Uhr]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[Heute um] LT",sameElse:"L",nextDay:"[Morgen um] LT",nextWeek:"dddd [um] LT",lastDay:"[Gestern um] LT",lastWeek:"[letzten] dddd [um] LT"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",m:t,mm:"%d Minuten",h:t,hh:"%d Stunden",d:t,dd:t,M:t,MM:t,y:t,yy:t},ordinal:"%d.",week:{dow:1,doy:4}})}),function(e){e(t)}(function(e){return e.lang("el",{monthsNominativeEl:"___________".split("_"),monthsGenitiveEl:"___________".split("_"),months:function(e,t){return/D/.test(t.substring(0,t.indexOf("MMMM")))?this._monthsGenitiveEl[e.month()]:this._monthsNominativeEl[e.month()]},monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),meridiem:function(e,t,n){return e>11?n?"":"":n?"":""},longDateFormat:{LT:"h:mm A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendarEl:{sameDay:"[ {}] LT",nextDay:"[ {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[ {}] LT",lastWeek:"[ ] dddd [{}] LT",sameElse:"L"},calendar:function(e,t){var n=this._calendarEl[e],r=t&&t.hours();return n.replace("{}",r%12===1?"":"")},relativeTime:{future:" %s",past:"%s ",s:"",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},ordinal:function(e){return e+""},week:{dow:1,doy:4}})}),function(e){e(t)}(function(e){return e.lang("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinal:function(e){var t=e%10,n=~~(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+n},week:{dow:1,doy:4}})}),function(e){e(t)}(function(e){return e.lang("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",L:"YYYY-MM-DD",LL:"D MMMM, YYYY",LLL:"D MMMM, YYYY LT",LLLL:"dddd, D MMMM, YYYY LT"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinal:function(e){var t=e%10,n=~~(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+n}})}),function(e){e(t)}(function(e){return e.lang("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},ordinal:function(e){var t=e%10,n=~~(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+n},week:{dow:1,doy:4}})}),function(e){e(t)}(function(e){return e.lang("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_agusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_ag_sep_okt_nov_dec".split("_"),weekdays:"Dimano_Lundo_Mardo_Merkredo_ado_Vendredo_Sabato".split("_"),weekdaysShort:"Dim_Lun_Mard_Merk_a_Ven_Sab".split("_"),weekdaysMin:"Di_Lu_Ma_Me_a_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",L:"YYYY-MM-DD",LL:"D[-an de] MMMM, YYYY",LLL:"D[-an de] MMMM, YYYY LT",LLLL:"dddd, [la] D[-an de] MMMM, YYYY LT"},meridiem:function(e,t,n){return e>11?n?"p.t.m.":"P.T.M.":n?"a.t.m.":"A.T.M."},calendar:{sameDay:"[Hodia je] LT",nextDay:"[Morga je] LT",nextWeek:"dddd [je] LT",lastDay:"[Hiera je] LT",lastWeek:"[pasinta] dddd [je] LT",sameElse:"L"},relativeTime:{future:"je %s",past:"anta %s",s:"sekundoj",m:"minuto",mm:"%d minutoj",h:"horo",hh:"%d horoj",d:"tago",dd:"%d tagoj",M:"monato",MM:"%d monatoj",y:"jaro",yy:"%d jaroj"},ordinal:"%da",week:{dow:1,doy:7}})}),function(e){e(t)}(function(e){return e.lang("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:"ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"Do_Lu_Ma_Mi_Ju_Vi_S".split("_"),longDateFormat:{LT:"H:mm",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY LT",LLLL:"dddd, D [de] MMMM [de] YYYY LT"},calendar:{sameDay:function(){return"[hoy a la"+(this.hours()!==1?"s":"")+"] LT"},nextDay:function(){return"[maana a la"+(this.hours()!==1?"s":"")+"] LT"},nextWeek:function(){return"dddd [a la"+(this.hours()!==1?"s":"")+"] LT"},lastDay:function(){return"[ayer a la"+(this.hours()!==1?"s":"")+"] LT"},lastWeek:function(){return"[el] dddd [pasado a la"+(this.hours()!==1?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},ordinal:"%d",week:{dow:1,doy:4}})}),function(e){e(t)}(function(e){function t(e,t,n,r){var i={s:["mne sekundi","mni sekund","paar sekundit"],m:["he minuti","ks minut"],mm:[e+" minuti",e+" minutit"],h:["he tunni","tund aega","ks tund"],hh:[e+" tunni",e+" tundi"],d:["he peva","ks pev"],M:["kuu aja","kuu aega","ks kuu"],MM:[e+" kuu",e+" kuud"],y:["he aasta","aasta","ks aasta"],yy:[e+" aasta",e+" aastat"]};return t?i[n][2]?i[n][2]:i[n][1]:r?i[n][0]:i[n][1]}return e.lang("et",{months:"jaanuar_veebruar_mrts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_mrts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"phapev_esmaspev_teisipev_kolmapev_neljapev_reede_laupev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[Tna,] LT",nextDay:"[Homme,] LT",nextWeek:"[Jrgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s prast",past:"%s tagasi",s:t,m:t,mm:t,h:t,hh:t,d:t,dd:"%d peva",M:t,MM:t,y:t,yy:t},ordinal:"%d.",week:{dow:1,doy:4}})}),function(e){e(t)}(function(e){return e.lang("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),longDateFormat:{LT:"HH:mm",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] LT",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] LT",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] LT",llll:"ddd, YYYY[ko] MMM D[a] LT"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},ordinal:"%d.",week:{dow:1,doy:7}})}),function(e){e(t)}(function(e){var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};return e.lang("fa",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},meridiem:function(e,t,n){return e<12?"  ":"  "},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] [] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[-]/g,function(e){return n[e]}).replace(//g,",")},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]}).replace(/,/g,"")},ordinal:"%d",week:{dow:6,doy:12}})}),function(e){e(t)}(function(e){function r(e,t,n,r){var s="";switch(n){case"s":return r?"muutaman sekunnin":"muutama sekunti";case"m":return r?"minuutin":"minuutti";case"mm":s=r?"minuutin":"minuuttia";break;case"h":return r?"tunnin":"tunti";case"hh":s=r?"tunnin":"tuntia";break;case"d":return r?"pivn":"piv";case"dd":s=r?"pivn":"piv";break;case"M":return r?"kuukauden":"kuukausi";case"MM":s=r?"kuukauden":"kuukautta";break;case"y":return r?"vuoden":"vuosi";case"yy":s=r?"vuoden":"vuotta"}return s=i(e,r)+" "+s,s}function i(e,r){return e<10?r?n[e]:t[e]:e}var t="nolla yksi kaksi kolme nelj viisi kuusi seitsemn kahdeksan yhdeksn".split(" "),n=["nolla","yhden","kahden","kolmen","neljn","viiden","kuuden",t[7],t[8],t[9]];return e.lang("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_keskuu_heinkuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kes_hein_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] LT",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] LT",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] LT",llll:"ddd, Do MMM YYYY, [klo] LT"},calendar:{sameDay:"[tnn] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s pst",past:"%s sitten",s:r,m:r,mm:r,h:r,hh:r,d:r,dd:r,M:r,MM:r,y:r,yy:r},ordinal:"%d.",week:{dow:1,doy:4}})}),function(e){e(t)}(function(e){return e.lang("fo",{months:"januar_februar_mars_aprl_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_mnadagur_tsdagur_mikudagur_hsdagur_frggjadagur_leygardagur".split("_"),weekdaysShort:"sun_mn_ts_mik_hs_fr_ley".split("_"),weekdaysMin:"su_m_t_mi_h_fr_le".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D. MMMM, YYYY LT"},calendar:{sameDay:"[ dag kl.] LT",nextDay:"[ morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[ gjr kl.] LT",lastWeek:"[sstu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s sani",s:"f sekund",m:"ein minutt",mm:"%d minuttir",h:"ein tmi",hh:"%d tmar",d:"ein dagur",dd:"%d dagar",M:"ein mnai",MM:"%d mnair",y:"eitt r",yy:"%d r"},ordinal:"%d.",week:{dow:1,doy:4}})}),function(e){e(t)}(function(e){return e.lang("fr-ca",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[Aujourd'hui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinal:function(e){return e+(e===1?"er":"")}})}),function(e){e(t)}(function(e){return e.lang("fr",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"Di_Lu_Ma_Me_Je_Ve_Sa".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[Aujourd'hui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinal:function(e){return e+(e===1?"er":"")},week:{dow:1,doy:4}})}),function(e){e(t)}(function(e){return e.lang("gl",{months:"Xaneiro_Febreiro_Marzo_Abril_Maio_Xuo_Xullo_Agosto_Setembro_Outubro_Novembro_Decembro".split("_"),monthsShort:"Xan._Feb._Mar._Abr._Mai._Xu._Xul._Ago._Set._Out._Nov._Dec.".split("_"),weekdays:"Domingo_Luns_Martes_Mrcores_Xoves_Venres_Sbado".split("_"),weekdaysShort:"Dom._Lun._Mar._Mr._Xov._Ven._Sb.".split("_"),weekdaysMin:"Do_Lu_Ma_M_Xo_Ve_S".split("_"),longDateFormat:{LT:"H:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:function(){return"[hoxe "+(this.hours()!==1?"s":"")+"] LT"},nextDay:function(){return"[ma "+(this.hours()!==1?"s":"")+"] LT"},nextWeek:function(){return"dddd ["+(this.hours()!==1?"s":"a")+"] LT"},lastDay:function(){return"[onte "+(this.hours()!==1?"":"a")+"] LT"},lastWeek:function(){return"[o] dddd [pasado "+(this.hours()!==1?"s":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function(e){return e==="uns segundos"?"nuns segundos":"en "+e},past:"hai %s",s:"uns segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},ordinal:"%d",week:{dow:1,doy:7}})}),function(e){e(t)}(function(e){return e.lang("he",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D []MMMM YYYY",LLL:"D []MMMM YYYY LT",LLLL:"dddd, D []MMMM YYYY LT",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY LT",llll:"ddd, D MMM YYYY LT"},calendar:{sameDay:"[ ]LT",nextDay:"[ ]LT",nextWeek:"dddd [] LT",lastDay:"[ ]LT",lastWeek:"[] dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",m:"",mm:"%d ",h:"",hh:function(e){return e===2?"":e+" "},d:"",dd:function(e){return e===2?"":e+" "},M:"",MM:function(e){return e===2?"":e+" "},y:"",yy:function(e){return e===2?"":e+" "}}})}),function(e){e(t)}(function(e){var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};return e.lang("hi",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}})}),function(e){e(t)}(function(e){function t(e,t,n){var r=e+" ";switch(n){case"m":return t?"jedna minuta":"jedne minute";case"mm":return e===1?r+="minuta":e===2||e===3||e===4?r+="minute":r+="minuta",r;case"h":return t?"jedan sat":"jednog sata";case"hh":return e===1?r+="sat":e===2||e===3||e===4?r+="sata":r+="sati",r;case"dd":return e===1?r+="dan":r+="dana",r;case"MM":return e===1?r+="mjesec":e===2||e===3||e===4?r+="mjeseca":r+="mjeseci",r;case"yy":return e===1?r+="godina":e===2||e===3||e===4?r+="godine":r+="godina",r}}return e.lang("hr",{months:"sjeanj_veljaa_oujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_"),monthsShort:"sje._vel._ou._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),longDateFormat:{LT:"H:mm",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juer u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prolu] dddd [u] LT";case 6:return"[prole] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",m:t,mm:t,h:t,hh:t,d:"dan",dd:t,M:"mjesec",MM:t,y:"godinu",yy:t},ordinal:"%d.",week:{dow:1,doy:7}})}),function(e){e(t)}(function(e){function n(e,t,n,r){var i=e,s;switch(n){case"s":return r||t?"nhny msodperc":"nhny msodperce";case"m":return"egy"+(r||t?" perc":" perce");case"mm":return i+(r||t?" perc":" perce");case"h":return"egy"+(r||t?" ra":" rja");case"hh":return i+(r||t?" ra":" rja");case"d":return"egy"+(r||t?" nap":" napja");case"dd":return i+(r||t?" nap":" napja");case"M":return"egy"+(r||t?" hnap":" hnapja");case"MM":return i+(r||t?" hnap":" hnapja");case"y":return"egy"+(r||t?" v":" ve");case"yy":return i+(r||t?" v":" ve")}return""}function r(e){return(e?"":"[mlt] ")+"["+t[this.day()]+"] LT[-kor]"}var t="vasrnap htfn kedden szerdn cstrtkn pnteken szombaton".split(" ");return e.lang("hu",{months:"janur_februr_mrcius_prilis_mjus_jnius_jlius_augusztus_szeptember_oktber_november_december".split("_"),monthsShort:"jan_feb_mrc_pr_mj_jn_jl_aug_szept_okt_nov_dec".split("_"),weekdays:"vasrnap_htf_kedd_szerda_cstrtk_pntek_szombat".split("_"),weekdaysShort:"vas_ht_kedd_sze_cst_pn_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D., LT",LLLL:"YYYY. MMMM D., dddd LT"},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function(){return r.call(this,!0)},lastDay:"[tegnap] LT[-kor]",lastWeek:function(){return r.call(this,!1)},sameElse:"L"},relativeTime:{future:"%s mlva",past:"%s",s:n,m:n,mm:n,h:n,hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},ordinal:"%d.",week:{dow:1,doy:7}})}),function(e){e(t)}(function(e){return e.lang("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] LT",LLLL:"dddd, D MMMM YYYY [pukul] LT"},meridiem:function(e,t,n){return e<11?"pagi":e<15?"siang":e<19?"sore":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}),function(e){e(t)}(function(e){function t(e){return e%100===11?!0:e%10===1?!1:!0}function n(e,n,r,i){var s=e+" ";switch(r){case"s":return n||i?"nokkrar sekndur":"nokkrum sekndum";case"m":return n?"mnta":"mntu";case"mm":if(t(e))return s+(n||i?"mntur":"mntum");if(n)return s+"mnta";return s+"mntu";case"hh":if(t(e))return s+(n||i?"klukkustundir":"klukkustundum");return s+"klukkustund";case"d":if(n)return"dagur";return i?"dag":"degi";case"dd":if(t(e))return n?s+"dagar":s+(i?"daga":"dgum");if(n)return s+"dagur";return s+(i?"dag":"degi");case"M":if(n)return"mnuur";return i?"mnu":"mnui";case"MM":if(t(e))return n?s+"mnuir":s+(i?"mnui":"mnuum");if(n)return s+"mnuur";return s+(i?"mnu":"mnui");case"y":return n||i?"r":"ri";case"yy":if(t(e))return s+(n||i?"r":"rum");return s+(n||i?"r":"ri")}}return e.lang("is",{months:"janar_febrar_mars_aprl_ma_jn_jl_gst_september_oktber_nvember_desember".split("_"),monthsShort:"jan_feb_mar_apr_ma_jn_jl_g_sep_okt_nv_des".split("_"),weekdays:"sunnudagur_mnudagur_rijudagur_mivikudagur_fimmtudagur_fstudagur_laugardagur".split("_"),weekdaysShort:"sun_mn_ri_mi_fim_fs_lau".split("_"),weekdaysMin:"Su_M_r_Mi_Fi_F_La".split("_"),longDateFormat:{LT:"H:mm",L:"DD/MM/YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] LT",LLLL:"dddd, D. MMMM YYYY [kl.] LT"},calendar:{sameDay:"[ dag kl.] LT",nextDay:"[ morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[ gr kl.] LT",lastWeek:"[sasta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s san",s:n,m:n,mm:n,h:"klukkustund",hh:n,d:n,dd:n,M:n,MM:n,y:n,yy:n},ordinal:"%d.",week:{dow:1,doy:4}})}),function(e){e(t)}(function(e){return e.lang("it",{months:"Gennaio_Febbraio_Marzo_Aprile_Maggio_Giugno_Luglio_Agosto_Settembre_Ottobre_Novembre_Dicembre".split("_"),monthsShort:"Gen_Feb_Mar_Apr_Mag_Giu_Lug_Ago_Set_Ott_Nov_Dic".split("_"),weekdays:"Domenica_Luned_Marted_Mercoled_Gioved_Venerd_Sabato".split("_"),weekdaysShort:"Dom_Lun_Mar_Mer_Gio_Ven_Sab".split("_"),weekdaysMin:"D_L_Ma_Me_G_V_S".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:"[lo scorso] dddd [alle] LT",sameElse:"L"},relativeTime:{future:function(e){return(/^[0-9].+$/.test(e)?"tra":"in")+" "+e},past:"%s fa",s:"alcuni secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},ordinal:"%d",week:{dow:1,doy:4}})}),function(e){e(t)}(function(e){return e.lang("ja",{months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"Ahm",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMDLT",LLLL:"YYYYMDLT dddd"},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[]dddd LT",lastDay:"[] LT",lastWeek:"[]dddd LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s",s:"",m:"1",mm:"%d",h:"1",hh:"%d",d:"1",dd:"%d",M:"1",MM:"%d",y:"1",yy:"%d"}})}),function(e){e(t)}(function(e){function t(e,t){var n={nominative:"___________".split("_"),accusative:"___________".split("_")},r=/D[oD] *MMMM?/.test(t)?"accusative":"nominative";return n[r][e.month()]}function n(e,t){var n={nominative:"______".split("_"),accusative:"______".split("_")},r=/(|)/.test(t)?"accusative":"nominative";return n[r][e.day()]}return e.lang("ka",{months:t,monthsShort:"___________".split("_"),weekdays:n,weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"h:mm A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[] LT[-]",nextDay:"[] LT[-]",lastDay:"[] LT[-]",nextWeek:"[] dddd LT[-]",lastWeek:"[] dddd LT-",sameElse:"L"},relativeTime:{future:function(e){return/(|||)/.test(e)?e.replace(/$/,""):e+""},past:function(e){if(/(||||)/.test(e))return e.replace(/(|)$/," ");if(//.test(e))return e.replace(/$/," ")},s:" ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},ordinal:function(e){return e===0?e:e===1?e+"-":e<20||e<=100&&e%20===0||e%100===0?"-"+e:e+"-"},week:{dow:1,doy:7}})}),function(e){e(t)}(function(e){return e.lang("ko",{months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h mm",L:"YYYY.MM.DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D LT",LLLL:"YYYY MMMM D dddd LT"},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:" LT",nextDay:" LT",nextWeek:"dddd LT",lastDay:" LT",lastWeek:" dddd LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"",ss:"%d",m:"",mm:"%d",h:"",hh:"%d",d:"",dd:"%d",M:"",MM:"%d",y:"",yy:"%d"},ordinal:"%d",meridiemParse:/(|)/,isPM:function(e){return e===""}})}),function(e){e(t)}(function(e){function t(e,t,n,r){var i={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],dd:[e+" Deeg",e+" Deeg"],M:["ee Mount","engem Mount"],MM:[e+" Mint",e+" Mint"],y:["ee Joer","engem Joer"],yy:[e+" Joer",e+" Joer"]};return t?i[n][0]:i[n][1]}function n(e){var t=e.substr(0,e.indexOf(" "));return o(t)?"a "+e:"an "+e}function r(e){var t=e.substr(0,e.indexOf(" "));return o(t)?"viru "+e:"virun "+e}function i(e){var t=this.format("d");return s(t)?"[Leschte] dddd [um] LT":"[Leschten] dddd [um] LT"}function s(e){e=parseInt(e,10);switch(e){case 0:case 1:case 3:case 5:case 6:return!0;default:return!1}}function o(e){e=parseInt(e,10);if(isNaN(e))return!1;if(e<0)return!0;if(e<10)return 4<=e&&e<=7?!0:!1;if(e<100){var t=e%10,n=e/10;return t===0?o(n):o(t)}if(e<1e4){while(e>=10)e/=10;return o(e)}return e/=1e3,o(e)}return e.lang("lb",{months:"Januar_Februar_Merz_Abrll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),weekdays:"Sonndeg_Mindeg_Dnschdeg_Mttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._M._D._M._Do._Fr._Sa.".split("_"),weekdaysMin:"So_M_D_M_Do_Fr_Sa".split("_"),longDateFormat:{LT:"H:mm [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[Gschter um] LT",lastWeek:i},relativeTime:{future:n,past:r,s:"e puer Sekonnen",m:t,mm:"%d Minutten",h:t,hh:"%d Stonnen",d:t,dd:t,M:t,MM:t,y:t,yy:t},ordinal:"%d.",week:{dow:1,doy:4}})}),function(e){e(t)}(function(e){function r(e,t,n,r){return t?"kelios sekunds":r?"keli sekundi":"kelias sekundes"}function i(e,t,n,r){return t?o(n)[0]:r?o(n)[1]:o(n)[2]}function s(e){return e%10===0||e>10&&e<20}function o(e){return t[e].split("_")}function u(e,t,n,r){var u=e+" ";return e===1?u+i(e,t,n[0],r):t?u+(s(e)?o(n)[1]:o(n)[0]):r?u+o(n)[1]:u+(s(e)?o(n)[1]:o(n)[2])}function a(e,t){var r=t.indexOf("dddd LT")===-1,i=n[e.weekday()];return r?i:i.substring(0,i.length-2)+""}var t={m:"minut_minuts_minut",mm:"minuts_minui_minutes",h:"valanda_valandos_valand",hh:"valandos_valand_valandas",d:"diena_dienos_dien",dd:"dienos_dien_dienas",M:"mnuo_mnesio_mnes",MM:"mnesiai_mnesi_mnesius",y:"metai_met_metus",yy:"metai_met_metus"},n="pirmadienis_antradienis_treiadienis_ketvirtadienis_penktadienis_etadienis_sekmadienis".split("_");return e.lang("lt",{months:"sausio_vasario_kovo_balandio_gegus_birlio_liepos_rugpjio_rugsjo_spalio_lapkriio_gruodio".split("_"),monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:a,weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_e".split("_"),weekdaysMin:"S_P_A_T_K_Pn_".split("_"),longDateFormat:{LT:"HH:mm",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], LT [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, LT [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], LT [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, LT [val.]"},calendar:{sameDay:"[iandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Prajus] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prie %s",s:r,m:i,mm:u,h:i,hh:u,d:i,dd:u,M:i,MM:u,y:i,yy:u},ordinal:function(e){return e+"-oji"},week:{dow:1,doy:4}})}),function(e){e(t)}(function(e){function n(e,t,n){var r=e.split("_");return n?t%10===1&&t!==11?r[2]:r[3]:t%10===1&&t!==11?r[0]:r[1]}function r(e,r,i){return e+" "+n(t[i],e,r)}var t={mm:"minti_mintes_minte_mintes",hh:"stundu_stundas_stunda_stundas",dd:"dienu_dienas_diena_dienas",MM:"mnesi_mneus_mnesis_mnei",yy:"gadu_gadus_gads_gadi"};return e.lang("lv",{months:"janvris_februris_marts_aprlis_maijs_jnijs_jlijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_jn_jl_aug_sep_okt_nov_dec".split("_"),weekdays:"svtdiena_pirmdiena_otrdiena_trediena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),longDateFormat:{LT:"HH:mm",L:"DD.MM.YYYY",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, LT",LLLL:"YYYY. [gada] D. MMMM, dddd, LT"},calendar:{sameDay:"[odien pulksten] LT",nextDay:"[Rt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pagju] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"%s vlk",past:"%s agrk",s:"daas sekundes",m:"minti",mm:r,h:"stundu",hh:r,d:"dienu",dd:r,M:"mnesi",MM:r,y:"gadu",yy:r},ordinal:"%d.",week:{dow:1,doy:4}})}),function(e){e(t)}(function(e){return e.lang("mk",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"e_o_____a".split("_"),longDateFormat:{LT:"H:mm",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[ ] dddd [] LT";case 1:case 2:case 4:case 5:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},ordinal:function(e){var t=e%10,n=e%100;return e===0?e+"-":n===0?e+"-":n>10&&n<20?e+"-":t===1?e+"-":t===2?e+"-":t===7||t===8?e+"-":e+"-"},week:{dow:1,doy:7}})}),function(e){e(t)}(function(e){return e.lang("ml",{months:"___________".split("_"),monthsShort:"._._._.___._._._._._.".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm -",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},meridiem:function(e,t,n){return e<4?"":e<12?"":e<17?" ":e<20?"":""}})}),function(e){e(t)}(function(e){var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};return e.lang("mr",{months:"___________".split("_"),monthsShort:"._._._._._._._._._._._.".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function(e){return e.replace(/[]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiem:function(e,t,n){return e<4?"":e<10?"":e<17?"":e<20?"":""},week:{dow:0,doy:6}})}),function(e){e(t)}(function(e){return e.lang("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] LT",LLLL:"dddd, D MMMM YYYY [pukul] LT"},meridiem:function(e,t,n){return e<11?"pagi":e<15?"tengahari":e<19?"petang":"malam"},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}),function(e){e(t)}(function(e){return e.lang("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_april_mai_juni_juli_aug._sep._okt._nov._des.".split("_"),weekdays:"sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"s._ma._ti._on._to._fr._l.".split("_"),weekdaysMin:"s_ma_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"H.mm",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] LT",LLLL:"dddd D. MMMM YYYY [kl.] LT"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i gr kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"for %s siden",s:"noen sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",M:"en mned",MM:"%d mneder",y:"ett r",yy:"%d r"},ordinal:"%d.",week:{dow:1,doy:4}})}),function(e){e(t)}(function(e){var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},n={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"};return e.lang("ne",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),weekdays:"______".split("_"),weekdaysShort:"._._._._._._.".split("_"),weekdaysMin:"._.__._._._.".split("_"),longDateFormat:{LT:"A h:mm ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},preparse:function(e){return e.replace(/[]/g,function(e){return n[e]})},postformat:function(e){return e.replace(/\d/g,function(e){return t[e]})},meridiem:function(e,t,n){return e<3?"":e<10?"":e<15?"":e<18?"":e<20?"":""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd[,] LT",lastDay:"[] LT",lastWeek:"[] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},week:{dow:1,doy:7}})}),function(e){e(t)}(function(e){var t="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),n="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_");return e.lang("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function(e,r){return/-MMM-/.test(r)?n[e.month()]:t[e.month()]},weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"Zo_Ma_Di_Wo_Do_Vr_Za".split("_"),longDateFormat:{LT:"HH:mm",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",m:"n minuut",mm:"%d minuten",h:"n uur",hh:"%d uur",d:"n dag",dd:"%d dagen",M:"n maand",MM:"%d maanden",y:"n jaar",yy:"%d jaar"},ordinal:function(e){return e+(e===1||e===8||e>=20?"ste":"de")},week:{dow:1,doy:4}})}),function(e){e(t)}(function(e){return e.lang("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sundag_mndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"sun_mn_tys_ons_tor_fre_lau".split("_"),weekdaysMin:"su_m_ty_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I gr klokka] LT",lastWeek:"[Fregende] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"for %s siden",s:"noen sekund",m:"ett minutt",mm:"%d minutt",h:"en time",hh:"%d timar",d:"en dag",dd:"%d dagar",M:"en mnad",MM:"%d mnader",y:"ett r",yy:"%d r"},ordinal:"%d.",week:{dow:1,doy:4}})}),function(e){e(t)}(function(e){function r(e){return e%10<5&&e%10>1&&~~(e/10)%10!==1}function i(e,t,n){var i=e+" ";switch(n){case"m":return t?"minuta":"minut";case"mm":return i+(r(e)?"minuty":"minut");case"h":return t?"godzina":"godzin";case"hh":return i+(r(e)?"godziny":"godzin");case"MM":return i+(r(e)?"miesice":"miesicy");case"yy":return i+(r(e)?"lata":"lat")}}var t="stycze_luty_marzec_kwiecie_maj_czerwiec_lipiec_sierpie_wrzesie_padziernik_listopad_grudzie".split("_"),n="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrzenia_padziernika_listopada_grudnia".split("_");return e.lang("pl",{months:function(e,r){return/D MMMM/.test(r)?n[e.month()]:t[e.month()]},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa_lis_gru".split("_"),weekdays:"niedziela_poniedziaek_wtorek_roda_czwartek_pitek_sobota".split("_"),weekdaysShort:"nie_pon_wt_r_czw_pt_sb".split("_"),weekdaysMin:"N_Pn_Wt_r_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Dzi o] LT",nextDay:"[Jutro o] LT",nextWeek:"[W] dddd [o] LT",lastDay:"[Wczoraj o] LT",lastWeek:function(){switch(this.day()){case 0:return"[W zesz niedziel o] LT";case 3:return"[W zesz rod o] LT";case 6:return"[W zesz sobot o] LT";default:return"[W zeszy] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",m:i,mm:i,h:i,hh:i,d:"1 dzie",dd:"%d dni",M:"miesic",MM:i,y:"rok",yy:i},ordinal:"%d.",week:{dow:1,doy:4}})}),function(e){e(t)}(function(e){return e.lang("pt-br",{months:"Janeiro_Fevereiro_Maro_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingo_Segunda-feira_Tera-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sbado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sb".split("_"),weekdaysMin:"Dom_2_3_4_5_6_Sb".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY LT",LLLL:"dddd, D [de] MMMM [de] YYYY LT"},calendar:{sameDay:"[Hoje s] LT",nextDay:"[Amanh s] LT",nextWeek:"dddd [s] LT",lastDay:"[Ontem s] LT",lastWeek:function(){return this.day()===0||this.day()===6?"[ltimo] dddd [s] LT":"[ltima] dddd [s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"%s atrs",s:"segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"},ordinal:"%d"})}),function(e){e(t)}(function(e){return e.lang("pt",{months:"Janeiro_Fevereiro_Maro_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingo_Segunda-feira_Tera-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sbado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sb".split("_"),weekdaysMin:"Dom_2_3_4_5_6_Sb".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY LT",LLLL:"dddd, D [de] MMMM [de] YYYY LT"},calendar:{sameDay:"[Hoje s] LT",nextDay:"[Amanh s] LT",nextWeek:"dddd [s] LT",lastDay:"[Ontem s] LT",lastWeek:function(){return this.day()===0||this.day()===6?"[ltimo] dddd [s] LT":"[ltima] dddd [s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"%s atrs",s:"segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"},ordinal:"%d",week:{dow:1,doy:4}})}),function(e){e(t)}(function(e){function t(e,t,n){var r={mm:"minute",hh:"ore",dd:"zile",MM:"luni",yy:"ani"},i=" ";if(e%100>=20||e>=100&&e%100===0)i=" de ";return e+i+r[n]}return e.lang("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian_feb_mar_apr_mai_iun_iul_aug_sep_oct_noi_dec".split("_"),weekdays:"duminic_luni_mari_miercuri_joi_vineri_smbt".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_Sm".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_S".split("_"),longDateFormat:{LT:"H:mm",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[mine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s n urm",s:"cteva secunde",m:"un minut",mm:t,h:"o or",hh:t,d:"o zi",dd:t,M:"o lun",MM:t,y:"un an",yy:t},week:{dow:1,doy:7}})}),function(e){e(t)}(function(e){function t(e,t,n){var r=e+" ";switch(n){case"m":return t?"jedna minuta":"jedne minute";case"mm":return e===1?r+="minuta":e===2||e===3||e===4?r+="minute":r+="minuta",r;case"h":return t?"jedan sat":"jednog sata";case"hh":return e===1?r+="sat":e===2||e===3||e===4?r+="sata":r+="sati",r;case"dd":return e===1?r+="dan":r+="dana",r;case"MM":return e===1?r+="mesec":e===2||e===3||e===4?r+="meseca":r+="meseci",r;case"yy":return e===1?r+="godina":e===2||e===3||e===4?r+="godine":r+="godina",r}}return e.lang("rs",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),weekdays:"nedelja_ponedeljak_utorak_sreda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sre._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),longDateFormat:{LT:"H:mm",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jue u] LT",lastWeek:function(){switch(this.day()){case 0:case 3:return"[prolu] dddd [u] LT";case 6:return"[prole] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"par sekundi",m:t,mm:t,h:t,hh:t,d:"dan",dd:t,M:"mesec",MM:t,y:"godinu",yy:t},ordinal:"%d.",week:{dow:1,doy:7}})}),function(e){e(t)}(function(e){function t(e,t){var n=e.split("_");return t%10===1&&t%100!==11?n[0]:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?n[1]:n[2]}function n(e,n,r){var i={mm:"__",hh:"__",dd:"__",MM:"__",yy:"__"};return r==="m"?n?"":"":e+" "+t(i[r],+e)}function r(e,t){var n={nominative:"___________".split("_"),accusative:"___________".split("_")},r=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(t)?"accusative":"nominative";return n[r][e.month()]}function i(e,t){var n={nominative:"___________".split("_"),accusative:"___________".split("_")},r=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/.test(t)?"accusative":"nominative";return n[r][e.month()]}function s(e,t){var n={nominative:"______".split("_"),accusative:"______".split("_")},r=/\[ ?[] ?(?:|)? ?\] ?dddd/.test(t)?"accusative":"nominative";return n[r][e.day()]}return e.lang("ru",{months:r,monthsShort:i,weekdays:s,weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),monthsParse:[/^/i,/^/i,/^/i,/^/i,/^[|]/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],longDateFormat:{LT:"HH:mm",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., LT",LLLL:"dddd, D MMMM YYYY ., LT"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",lastDay:"[ ] LT",nextWeek:function(){return this.day()===2?"[] dddd [] LT":"[] dddd [] LT"},lastWeek:function(){switch(this.day()){case 0:return"[ ] dddd [] LT";case 1:case 2:case 4:return"[ ] dddd [] LT";case 3:case 5:case 6:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:n,mm:n,h:"",hh:n,d:"",dd:n,M:"",MM:n,y:"",yy:n},meridiem:function(e,t,n){return e<4?"":e<12?"":e<17?"":""},ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":return e+"-";case"D":return e+"-";case"w":case"W":return e+"-";default:return e}},week:{dow:1,doy:7}})}),function(e){e(t)}(function(e){function r(e){return e>1&&e<5}function i(e,t,n,i){var s=e+" ";switch(n){case"s":return t||i?"pr seknd":"pr sekundami";case"m":return t?"minta":i?"mintu":"mintou";case"mm":return t||i?s+(r(e)?"minty":"mint"):s+"mintami";case"h":return t?"hodina":i?"hodinu":"hodinou";case"hh":return t||i?s+(r(e)?"hodiny":"hodn"):s+"hodinami";case"d":return t||i?"de":"dom";case"dd":return t||i?s+(r(e)?"dni":"dn"):s+"dami";case"M":return t||i?"mesiac":"mesiacom";case"MM":return t||i?s+(r(e)?"mesiace":"mesiacov"):s+"mesiacmi";case"y":return t||i?"rok":"rokom";case"yy":return t||i?s+(r(e)?"roky":"rokov"):s+"rokmi"}}var t="janur_februr_marec_aprl_mj_jn_jl_august_september_oktber_november_december".split("_"),n="jan_feb_mar_apr_mj_jn_jl_aug_sep_okt_nov_dec".split("_");return e.lang("sk",{months:t,monthsShort:n,monthsParse:function(e,t){var n,r=[];for(n=0;n<12;n++)r[n]=new RegExp("^"+e[n]+"$|^"+t[n]+"$","i");return r}(t,n),weekdays:"nedea_pondelok_utorok_streda_tvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_t_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_t_pi_so".split("_"),longDateFormat:{LT:"H:mm",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd D. MMMM YYYY LT"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function(){switch(this.day()){case 0:return"[v nedeu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo tvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[vera o] LT",lastWeek:function(){switch(this.day()){case 0:return"[minul nedeu o] LT";case 1:case 2:return"[minul] dddd [o] LT";case 3:return"[minul stredu o] LT";case 4:case 5:return"[minul] dddd [o] LT";case 6:return"[minul sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:i,m:i,mm:i,h:i,hh:i,d:i,dd:i,M:i,MM:i,y:i,yy:i},ordinal:"%d.",week:{dow:1,doy:4}})}),function(e){e(t)}(function(e){function t(e,t,n){var r=e+" ";switch(n){case"m":return t?"ena minuta":"eno minuto";case"mm":return e===1?r+="minuta":e===2?r+="minuti":e===3||e===4?r+="minute":r+="minut",r;case"h":return t?"ena ura":"eno uro";case"hh":return e===1?r+="ura":e===2?r+="uri":e===3||e===4?r+="ure":r+="ur",r;case"dd":return e===1?r+="dan":r+="dni",r;case"MM":return e===1?r+="mesec":e===2?r+="meseca":e===3||e===4?r+="mesece":r+="mesecev",r;case"yy":return e===1?r+="leto":e===2?r+="leti":e===3||e===4?r+="leta":r+="let",r}}return e.lang("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),weekdays:"nedelja_ponedeljek_torek_sreda_etrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._et._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_e_pe_so".split("_"),longDateFormat:{LT:"H:mm",L:"DD. MM. YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY LT",LLLL:"dddd, D. MMMM YYYY LT"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[veraj ob] LT",lastWeek:function(){switch(this.day()){case 0:case 3:case 6:return"[prejnja] dddd [ob] LT";case 1:case 2:case 4:case 5:return"[prejnji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"ez %s",past:"%s nazaj",s:"nekaj sekund",m:t,mm:t,h:t,hh:t,d:"en dan",dd:t,M:"en mesec",MM:t,y:"eno leto",yy:t},ordinal:"%d.",week:{dow:1,doy:7}})}),function(e){e(t)}(function(e){return e.lang("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_Nntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_Nn_Dhj".split("_"),weekdays:"E Diel_E Hn_E Marte_E Mrkure_E Enjte_E Premte_E Shtun".split("_"),weekdaysShort:"Die_Hn_Mar_Mr_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_M_E_P_Sh".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[Sot n] LT",nextDay:"[Neser n] LT",nextWeek:"dddd [n] LT",lastDay:"[Dje n] LT",lastWeek:"dddd [e kaluar n] LT",sameElse:"L"},relativeTime:{future:"n %s",past:"%s me par",s:"disa sekonda",m:"nj minut",mm:"%d minuta",h:"nj or",hh:"%d or",d:"nj dit",dd:"%d dit",M:"nj muaj",MM:"%d muaj",y:"nj vit",yy:"%d vite"},ordinal:"%d.",week:{dow:1,doy:4}})}),function(e){e(t)}(function(e){return e.lang("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sndag_mndag_tisdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_mn_tis_ons_tor_fre_lr".split("_"),weekdaysMin:"s_m_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Igr] LT",nextWeek:"dddd LT",lastWeek:"[Frra] dddd[en] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"fr %s sedan",s:"ngra sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en mnad",MM:"%d mnader",y:"ett r",yy:"%d r"},ordinal:function(e){var t=e%10,n=~~(e%100/10)===1?"e":t===1?"a":t===2?"a":t===3?"e":"e";return e+n},week:{dow:1,doy:4}})}),function(e){e(t)}(function(e){return e.lang("ta",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, LT",LLLL:"dddd, D MMMM YYYY, LT"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[ ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",m:" ",mm:"%d ",h:"  ",hh:"%d  ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},ordinal:function(e){return e+""},meridiem:function(e,t,n){if(e>=6&&e<=10)return" ";if(e>=10&&e<=14)return" ";if(e>=14&&e<=18)return" ";if(e>=18&&e<=20)return" ";if(e>=20&&e<=24)return" ";if(e>=0&&e<=6)return" "},week:{dow:0,doy:6}})}),function(e){e(t)}(function(e){return e.lang("th",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"._._._._._._.".split("_"),longDateFormat:{LT:"H  m ",L:"YYYY/MM/DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY  LT",LLLL:"dddd D MMMM YYYY  LT"},meridiem:function(e,t,n){return e<12?"":""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd[ ] LT",lastDay:"[ ] LT",lastWeek:"[]dddd[ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:"",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}})}),function(e){e(t)}(function(e){return e.lang("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM DD, YYYY LT"},calendar:{sameDay:"[Ngayon sa] LT",nextDay:"[Bukas sa] LT",nextWeek:"dddd [sa] LT",lastDay:"[Kahapon sa] LT",lastWeek:"dddd [huling linggo] LT",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},ordinal:function(e){return e},week:{dow:1,doy:4}})}),function(e){e(t)}(function(e){var t={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'nc",4:"'nc",100:"'nc",6:"'nc",9:"'uncu",10:"'uncu",30:"'uncu",60:"'nc",90:"'nc"};return e.lang("tr",{months:"Ocak_ubat_Mart_Nisan_Mays_Haziran_Temmuz_Austos_Eyll_Ekim_Kasm_Aralk".split("_"),monthsShort:"Oca_ub_Mar_Nis_May_Haz_Tem_Au_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Sal_aramba_Perembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_ar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_a_Pe_Cu_Ct".split("_"),longDateFormat:{LT:"HH:mm",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd, D MMMM YYYY LT"},calendar:{sameDay:"[bugn saat] LT",nextDay:"[yarn saat] LT",nextWeek:"[haftaya] dddd [saat] LT",lastDay:"[dn] LT",lastWeek:"[geen hafta] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s nce",s:"birka saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",M:"bir ay",MM:"%d ay",y:"bir yl",yy:"%d yl"},ordinal:function(e){if(e===0)return e+"'nc";var n=e%10,r=e%100-n,i=e>=100?100:null;return e+(t[n]||t[r]||t[i])},week:{dow:1,doy:7}})}),function(e){e(t)}(function(e){return e.lang("tzm-la",{months:"innayr_brayr_mars_ibrir_mayyw_ywnyw_ywlywz_wt_wtanbir_ktwbr_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_brayr_mars_ibrir_mayyw_ywnyw_ywlywz_wt_wtanbir_ktwbr_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",m:"minu",mm:"%d minu",h:"saa",hh:"%d tassain",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}})}),function(e){e(t)}(function(e){return e.lang("tzm",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"dddd D MMMM YYYY LT"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] LT",sameElse:"L"},relativeTime:{future:"   %s",past:" %s",s:"",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d o",M:"o",MM:"%d ",y:"",yy:"%d "},week:{dow:6,doy:12}})}),function(e){e(t)}(function(e){function t(e,t){var n=e.split("_");return t%10===1&&t%100!==11?n[0]:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?n[1]:n[2]}function n(e,n,r){var i={mm:"__",hh:"__",dd:"__",MM:"__",yy:"__"};return r==="m"?n?"":"":r==="h"?n?"":"":e+" "+t(i[r],+e)}function r(e,t){var n={nominative:"___________".split("_"),accusative:"___________".split("_")},r=/D[oD]? *MMMM?/.test(t)?"accusative":"nominative";return n[r][e.month()]}function i(e,t){var n={nominative:"______".split("_"),accusative:"______".split("_"),genitive:"______".split("_")},r=/(\[[]\]) ?dddd/.test(t)?"accusative":/\[?(?:|)? ?\] ?dddd/.test(t)?"genitive":"nominative";return n[r][e.day()]}function s(e){return function(){return e+""+(this.hours()===11?"":"")+"] LT"}}return e.lang("uk",{months:r,monthsShort:"___________".split("_"),weekdays:i,weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., LT",LLLL:"dddd, D MMMM YYYY ., LT"},calendar:{sameDay:s("[ "),nextDay:s("[ "),lastDay:s("[ "),nextWeek:s("[] dddd ["),lastWeek:function(){switch(this.day()){case 0:case 3:case 5:case 6:return s("[] dddd [").call(this);case 1:case 2:case 4:return s("[] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:n,mm:n,h:"",hh:n,d:"",dd:n,M:"",MM:n,y:"",yy:n},meridiem:function(e,t,n){return e<4?"":e<12?"":e<17?"":""},ordinal:function(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return e+"-";case"D":return e+"-";default:return e}},week:{dow:1,doy:7}})}),function(e){e(t)}(function(e){return e.lang("uz",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY LT",LLLL:"D MMMM YYYY, dddd LT"},calendar:{sameDay:"[ ] LT []",nextDay:"[] LT []",nextWeek:"dddd [ ] LT []",lastDay:"[ ] LT []",lastWeek:"[] dddd [ ] LT []",sameElse:"L"},relativeTime:{future:" %s ",past:"  %s ",s:"",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},week:{dow:1,doy:7}})}),function(e){e(t)}(function(e){return e.lang("vn",{months:"thng 1_thng 2_thng 3_thng 4_thng 5_thng 6_thng 7_thng 8_thng 9_thng 10_thng 11_thng 12".split("_"),monthsShort:"Th01_Th02_Th03_Th04_Th05_Th06_Th07_Th08_Th09_Th10_Th11_Th12".split("_"),weekdays:"ch nht_th hai_th ba_th t_th nm_th su_th by".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM [nm] YYYY",LLL:"D MMMM [nm] YYYY LT",LLLL:"dddd, D MMMM [nm] YYYY LT",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY LT",llll:"ddd, D MMM YYYY LT"},calendar:{sameDay:"[Hm nay lc] LT",nextDay:"[Ngy mai lc] LT",nextWeek:"dddd [tun ti lc] LT",lastDay:"[Hm qua lc] LT",lastWeek:"dddd [tun ri lc] LT",sameElse:"L"},relativeTime:{future:"%s ti",past:"%s trc",s:"vi giy",m:"mt pht",mm:"%d pht",h:"mt gi",hh:"%d gi",d:"mt ngy",dd:"%d ngy",M:"mt thng",MM:"%d thng",y:"mt nm",yy:"%d nm"},ordinal:function(e){return e},week:{dow:1,doy:4}})}),function(e){e(t)}(function(e){return e.lang("zh-cn",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"Ahmm",L:"YYYY-MM-DD",LL:"YYYYMMMD",LLL:"YYYYMMMDLT",LLLL:"YYYYMMMDddddLT",l:"YYYY-MM-DD",ll:"YYYYMMMD",lll:"YYYYMMMDLT",llll:"YYYYMMMDddddLT"},meridiem:function(e,t,n){var r=e*100+t;return r<600?"":r<900?"":r<1130?"":r<1230?"":r<1800?"":""},calendar:{sameDay:function(){return this.minutes()===0?"[]Ah[]":"[]LT"},nextDay:function(){return this.minutes()===0?"[]Ah[]":"[]LT"},lastDay:function(){return this.minutes()===0?"[]Ah[]":"[]LT"},nextWeek:function(){var t,n;return t=e().startOf("week"),n=this.unix()-t.unix()>=604800?"[]":"[]",this.minutes()===0?n+"dddAh":n+"dddAhmm"},lastWeek:function(){var t,n;return t=e().startOf("week"),n=this.unix()<t.unix()?"[]":"[]",this.minutes()===0?n+"dddAh":n+"dddAhmm"},sameElse:"LL"},ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",m:"1",mm:"%d",h:"1",hh:"%d",d:"1",dd:"%d",M:"1",MM:"%d",y:"1",yy:"%d"},week:{dow:1,doy:4}})}),function(e){e(t)}(function(e){return e.lang("zh-tw",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"Ahmm",L:"YYYYMMMD",LL:"YYYYMMMD",LLL:"YYYYMMMDLT",LLLL:"YYYYMMMDddddLT",l:"YYYYMMMD",ll:"YYYYMMMD",lll:"YYYYMMMDLT",llll:"YYYYMMMDddddLT"},meridiem:function(e,t,n){var r=e*100+t;return r<900?"":r<1130?"":r<1230?"":r<1800?"":""},calendar:{sameDay:"[]LT",nextDay:"[]LT",nextWeek:"[]ddddLT",lastDay:"[]LT",lastWeek:"[]ddddLT",sameElse:"L"},ordinal:function(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",m:"",mm:"%d",h:"",hh:"%d",d:"",dd:"%d",M:"",MM:"%d",y:"",yy:"%d"}})}),t.lang("en"),d?(module.exports=t,Jt(!0)):typeof define=="function"&&define.amd?define("moment",["require","exports","module"],function(n,r,i){return i.config&&i.config()&&i.config().noGlobal!==!0&&Jt(i.config().noGlobal===e),t}):Jt()}.call(this),function(e){typeof exports=="object"?module.exports=e(require("backbone"),require("underscore")):typeof define=="function"&&define.amd&&define("backbone.validation",["backbone","underscore"],e)}(function(e,t){return e.Validation=function(t){var n={forceUpdate:!1,selector:"name",labelFormatter:"sentenceCase",valid:Function.prototype,invalid:Function.prototype},r={formatLabel:function(e,t){return f[n.labelFormatter](e,t)},format:function(){var e=Array.prototype.slice.call(arguments),t=e.shift();return t.replace(/\{(\d+)\}/g,function(t,n){return typeof e[n]!="undefined"?e[n]:t})}},i=function(n,r,s){return r=r||{},s=s||"",t.each(n,function(t,o){n.hasOwnProperty(o)&&(!t||typeof t!="object"||t instanceof Array||t instanceof Date||t instanceof RegExp||t instanceof e.Model||t instanceof e.Collection?r[s+o]=t:i(t,r,s+o+"."))}),r},s=function(){var e=function(e){return t.reduce(t.keys(t.result(e,"validation")||{}),function(e,t){return e[t]=void 0,e},{})},s=function(e,n){var r=e.validation?t.result(e,"validation")[n]||{}:{};if(t.isFunction(r)||t.isString(r))r={fn:r};return t.isArray(r)||(r=[r]),t.reduce(r,function(e,n){return t.each(t.without(t.keys(n),"msg"),function(t){e.push({fn:l[t],val:n[t],msg:n.msg})}),e},[])},u=function(e,n,i,o){return t.reduce(s(e,n),function(s,u){var a=t.extend({},r,l),f=u.fn.call(a,i,n,u.val,e,o);return f===!1||s===!1?!1:f&&!s?t.result(u,"msg")||f:s},"")},a=function(e,n){var r,s={},o=!0,a=t.clone(n),f=i(n);return t.each(f,function(t,n){r=u(e,n,t,a),r&&(s[n]=r,o=!1)}),{invalidAttrs:s,isValid:o}},f=function(n,r){return{preValidate:function(e,n){var r=this,i={},s;return t.isObject(e)?(t.each(e,function(e,t){s=r.preValidate(t,e),s&&(i[t]=s)}),t.isEmpty(i)?undefined:i):u(this,e,n,t.extend({},this.attributes))},isValid:function(e){var n=i(this.attributes);return t.isString(e)?!u(this,e,n[e],t.extend({},this.attributes)):t.isArray(e)?t.reduce(e,function(e,r){return e&&!u(this,r,n[r],t.extend({},this.attributes))},!0,this):(e===!0&&this.validate(),this.validation?this._isValid:!0)},validate:function(s,o){var u=this,f=!s,l=t.extend({},r,o),c=e(u),h=t.extend({},c,u.attributes,s),p=i(s||h),d=a(u,h);u._isValid=d.isValid,t.each(c,function(e,t){var r=d.invalidAttrs.hasOwnProperty(t);r||l.valid(n,t,l.selector)}),t.each(c,function(e,t){var r=d.invalidAttrs.hasOwnProperty(t),i=p.hasOwnProperty(t);r&&(i||f)&&l.invalid(n,t,d.invalidAttrs[t],l.selector)}),t.defer(function(){u.trigger("validated",u._isValid,u,d.invalidAttrs),u.trigger("validated:"+(u._isValid?"valid":"invalid"),u,d.invalidAttrs)});if(!l.forceUpdate&&t.intersection(t.keys(d.invalidAttrs),t.keys(p)).length>0)return d.invalidAttrs}}},c=function(e,n,r){t.extend(n,f(e,r))},h=function(e){delete e.validate,delete e.preValidate,delete e.isValid},p=function(e){c(this.view,e,this.options)},d=function(e){h(e)};return{version:"0.9.1",configure:function(e){t.extend(n,e)},bind:function(e,r){r=t.extend({},n,o,r);var i=r.model||e.model,s=r.collection||e.collection;if(typeof i=="undefined"&&typeof s=="undefined")throw"Before you execute the binding your view must have a model or a collection.\nSee http://thedersen.com/projects/backbone-validation/#using-form-model-validation for more information.";i?c(e,i,r):s&&(s.each(function(t){c(e,t,r)}),s.bind("add",p,{view:e,options:r}),s.bind("remove",d))},unbind:function(e,n){n=t.extend({},n);var r=n.model||e.model,i=n.collection||e.collection;r?h(r):i&&(i.each(function(e){h(e)}),i.unbind("add",p),i.unbind("remove",d))},mixin:f(null,n)}}(),o=s.callbacks={valid:function(e,t,n){e.$("["+n+'~="'+t+'"]').removeClass("invalid").removeAttr("data-error")},invalid:function(e,t,n,r){e.$("["+r+'~="'+t+'"]').addClass("invalid").attr("data-error",n)}},u=s.patterns={digits:/^\d+$/,number:/^-?(?:\d+|\d{1,3}(?:,\d{3})+)(?:\.\d+)?$/,email:/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,url:/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i},a=s.messages={required:"{0} is required",acceptance:"{0} must be accepted",min:"{0} must be greater than or equal to {1}",max:"{0} must be less than or equal to {1}",range:"{0} must be between {1} and {2}",length:"{0} must be {1} characters",minLength:"{0} must be at least {1} characters",maxLength:"{0} must be at most {1} characters",rangeLength:"{0} must be between {1} and {2} characters",oneOf:"{0} must be one of: {1}",equalTo:"{0} must be the same as {1}",digits:"{0} must only contain digits",number:"{0} must be a number",email:"{0} must be a valid email",url:"{0} must be a valid url",inlinePattern:"{0} is invalid"},f=s.labelFormatters={none:function(e){return e},sentenceCase:function(e){return e.replace(/(?:^\w|[A-Z]|\b\w)/g,function(e,t){return t===0?e.toUpperCase():" "+e.toLowerCase()}).replace(/_/g," ")},label:function(e,t){return t.labels&&t.labels[e]||f.sentenceCase(e,t)}},l=s.validators=function(){var e=String.prototype.trim?function(e){return e===null?"":String.prototype.trim.call(e)}:function(e){var t=/^\s+/,n=/\s+$/;return e===null?"":e.toString().replace(t,"").replace(n,"")},n=function(e){return t.isNumber(e)||t.isString(e)&&e.match(u.number)},r=function(n){return!(t.isNull(n)||t.isUndefined(n)||t.isString(n)&&e(n)===""||t.isArray(n)&&t.isEmpty(n))};return{fn:function(e,n,r,i,s){return t.isString(r)&&(r=i[r]),r.call(i,e,n,s)},required:function(e,n,i,s,o){var u=t.isFunction(i)?i.call(s,e,n,o):i;if(!u&&!r(e))return!1;if(u&&!r(e))return this.format(a.required,this.formatLabel(n,s))},acceptance:function(e,n,r,i){if(e!=="true"&&(!t.isBoolean(e)||e===!1))return this.format(a.acceptance,this.formatLabel(n,i))},min:function(e,t,r,i){if(!n(e)||e<r)return this.format(a.min,this.formatLabel(t,i),r)},max:function(e,t,r,i){if(!n(e)||e>r)return this.format(a.max,this.formatLabel(t,i),r)},range:function(e,t,r,i){if(!n(e)||e<r[0]||e>r[1])return this.format(a.range,this.formatLabel(t,i),r[0],r[1])},length:function(e,n,r,i){if(!t.isString(e)||e.length!==r)return this.format(a.length,this.formatLabel(n,i),r)},minLength:function(e,n,r,i){if(!t.isString(e)||e.length<r)return this.format(a.minLength,this.formatLabel(n,i),r)},maxLength:function(e,n,r,i){if(!t.isString(e)||e.length>r)return this.format(a.maxLength,this.formatLabel(n,i),r)},rangeLength:function(e,n,r,i){if(!t.isString(e)||e.length<r[0]||e.length>r[1])return this.format(a.rangeLength,this.formatLabel(n,i),r[0],r[1])},oneOf:function(e,n,r,i){if(!t.include(r,e))return this.format(a.oneOf,this.formatLabel(n,i),r.join(", "))},equalTo:function(e,t,n,r,i){if(e!==i[n])return this.format(a.equalTo,this.formatLabel(t,r),this.formatLabel(n,r))},pattern:function(e,t,n,i){if(!r(e)||!e.toString().match(u[n]||n))return this.format(a[n]||a.inlinePattern,this.formatLabel(t,i),n)}}}();return t.each(l,function(e,n){l[n]=t.bind(l[n],t.extend({},r,l))}),s}(t),e.Validation}),function(e,t){typeof exports=="object"?module.exports=t(require("jquery")):typeof define=="function"&&define.amd?define("pie-chart",["jquery"],t):t(e.jQuery)}(this,function(e){var t=function(e,t){var n,r=document.createElement("canvas");e.appendChild(r),typeof G_vmlCanvasManager!="undefined"&&G_vmlCanvasManager.initElement(r);var i=r.getContext("2d");r.width=r.height=t.size;var s=1;window.devicePixelRatio>1&&(s=window.devicePixelRatio,r.style.width=r.style.height=[t.size,"px"].join(""),r.width=r.height=t.size*s,i.scale(s,s)),i.translate(t.size/2,t.size/2),i.rotate((-0.5+t.rotate/180)*Math.PI);var o=(t.size-t.lineWidth)/2;t.scaleColor&&t.scaleLength&&(o-=t.scaleLength+2),Date.now=Date.now||function(){return+(new Date)};var u=function(e,t,n){n=Math.min(Math.max(-1,n||0),1);var r=n<=0?!0:!1;i.beginPath(),i.arc(0,0,o,0,Math.PI*2*n,r),i.strokeStyle=e,i.lineWidth=t,i.stroke()},a=function(){var e,n;i.lineWidth=1,i.fillStyle=t.scaleColor,i.save();for(var r=24;r>0;--r)r%6===0?(n=t.scaleLength,e=0):(n=t.scaleLength*.6,e=t.scaleLength-n),i.fillRect(-t.size/2+e,0,n,1),i.rotate(Math.PI/12);i.restore()},f=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}(),l=function(){t.scaleColor&&a(),t.trackColor&&u(t.trackColor,t.lineWidth,1)};this.getCanvas=function(){return r},this.getCtx=function(){return i},this.clear=function(){i.clearRect(t.size/-2,t.size/-2,t.size,t.size)},this.draw=function(e){!t.scaleColor&&!t.trackColor?this.clear():i.getImageData&&i.putImageData?n?i.putImageData(n,0,0):(l(),n=i.getImageData(0,0,t.size*s,t.size*s)):(this.clear(),l()),i.lineCap=t.lineCap;var r;typeof t.barColor=="function"?r=t.barColor(e):r=t.barColor,u(r,t.lineWidth,e/100)}.bind(this),this.animate=function(e,n){var r=Date.now();t.onStart(e,n);var i=function(){var s=Math.min(Date.now()-r,t.animate.duration),o=t.easing(this,s,e,n-e,t.animate.duration);this.draw(o),t.onStep(e,n,o),s>=t.animate.duration?t.onStop(e,n):f(i)}.bind(this);f(i)}.bind(this)},n=function(e,n){var r={barColor:"#ef1e25",trackColor:"#f9f9f9",scaleColor:"#dfe0e0",scaleLength:5,lineCap:"round",lineWidth:3,size:110,rotate:0,animate:{duration:1e3,enabled:!0},easing:function(e,t,n,r,i){return t/=i/2,t<1?r/2*t*t+n:-r/2*(--t*(t-2)-1)+n},onStart:function(e,t){return},onStep:function(e,t,n){return},onStop:function(e,t){return}};if(typeof t!="undefined")r.renderer=t;else{if(typeof SVGRenderer=="undefined")throw new Error("Please load either the SVG- or the CanvasRenderer");r.renderer=SVGRenderer}var i={},s=0,o=function(){this.el=e,this.options=i;for(var t in r)r.hasOwnProperty(t)&&(i[t]=n&&typeof n[t]!="undefined"?n[t]:r[t],typeof i[t]=="function"&&(i[t]=i[t].bind(this)));typeof i.easing=="string"&&typeof jQuery!="undefined"&&jQuery.isFunction(jQuery.easing[i.easing])?i.easing=jQuery.easing[i.easing]:i.easing=r.easing,typeof i.animate=="number"&&(i.animate={duration:i.animate,enabled:!0}),typeof i.animate=="boolean"&&!i.animate&&(i.animate={duration:1e3,enabled:i.animate}),this.renderer=new i.renderer(e,i),this.renderer.draw(s),e.dataset&&e.dataset.percent?this.update(parseFloat(e.dataset.percent)):e.getAttribute&&e.getAttribute("data-percent")&&this.update(parseFloat(e.getAttribute("data-percent"))),e.style.width=e.style.height=i.size+"px",e.style.lineHeight=i.size-1+"px"}.bind(this);this.update=function(e){return e=parseFloat(e),i.animate.enabled?this.renderer.animate(s,e):this.renderer.draw(e),s=e,this}.bind(this),this.disableAnimation=function(){return i.animate.enabled=!1,this},this.enableAnimation=function(){return i.animate.enabled=!0,this},o()};e.fn.easyPieChart=function(t){return this.each(function(){var r;e.data(this,"easyPieChart")||(r=e.extend({},t,e(this).data()),e.data(this,"easyPieChart",new n(this,r)))})}}),function(e){typeof define=="function"&&define.amd?define("jquery.ui.widget",["jquery"],e):e(jQuery)}(function(e,t){var n=0,r=Array.prototype.slice,i=e.cleanData;e.cleanData=function(t){for(var n=0,r;(r=t[n])!=null;n++)try{e(r).triggerHandler("remove")}catch(s){}i(t)},e.widget=function(t,n,r){var i,s,o,u,a={},f=t.split(".")[0];t=t.split(".")[1],i=f+"-"+t,r||(r=n,n=e.Widget),e.expr[":"][i.toLowerCase()]=function(t){return!!e.data(t,i)},e[f]=e[f]||{},s=e[f][t],o=e[f][t]=function(e,t){if(!this._createWidget)return new o(e,t);arguments.length&&this._createWidget(e,t)},e.extend(o,s,{version:r.version,_proto:e.extend({},r),_childConstructors:[]}),u=new n,u.options=e.widget.extend({},u.options),e.each(r,function(t,r){if(!e.isFunction(r)){a[t]=r;return}a[t]=function(){var e=function(){return n.prototype[t].apply(this,arguments)},i=function(e){return n.prototype[t].apply(this,e)};return function(){var t=this._super,n=this._superApply,s;return this._super=e,this._superApply=i,s=r.apply(this,arguments),this._super=t,this._superApply=n,s}}()}),o.prototype=e.widget.extend(u,{widgetEventPrefix:s?u.widgetEventPrefix:t},a,{constructor:o,namespace:f,widgetName:t,widgetFullName:i}),s?(e.each(s._childConstructors,function(t,n){var r=n.prototype;e.widget(r.namespace+"."+r.widgetName,o,n._proto)}),delete s._childConstructors):n._childConstructors.push(o),e.widget.bridge(t,o)},e.widget.extend=function(n){var i=r.call(arguments,1),s=0,o=i.length,u,a;for(;s<o;s++)for(u in i[s])a=i[s][u],i[s].hasOwnProperty(u)&&a!==t&&(e.isPlainObject(a)?n[u]=e.isPlainObject(n[u])?e.widget.extend({},n[u],a):e.widget.extend({},a):n[u]=a);return n},e.widget.bridge=function(n,i){var s=i.prototype.widgetFullName||n;e.fn[n]=function(o){var u=typeof o=="string",a=r.call(arguments,1),f=this;return o=!u&&a.length?e.widget.extend.apply(null,[o].concat(a)):o,u?this.each(function(){var r,i=e.data(this,s);if(!i)return e.error("cannot call methods on "+n+" prior to initialization; "+"attempted to call method '"+o+"'");if(!e.isFunction(i[o])||o.charAt(0)==="_")return e.error("no such method '"+o+"' for "+n+" widget instance");r=i[o].apply(i,a);if(r!==i&&r!==t)return f=r&&r.jquery?f.pushStack(r.get()):r,!1}):this.each(function(){var t=e.data(this,s);t?t.option(o||{})._init():e.data(this,s,new i(o,this))}),f}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,r){r=e(r||this.defaultElement||this)[0],this.element=e(r),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),r!==this&&(e.data(r,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===r&&this.destroy()}}),this.document=e(r.style?r.ownerDocument:r.document||r),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(n,r){var i=n,s,o,u;if(arguments.length===0)return e.widget.extend({},this.options);if(typeof n=="string"){i={},s=n.split("."),n=s.shift();if(s.length){o=i[n]=e.widget.extend({},this.options[n]);for(u=0;u<s.length-1;u++)o[s[u]]=o[s[u]]||{},o=o[s[u]];n=s.pop();if(r===t)return o[n]===t?null:o[n];o[n]=r}else{if(r===t)return this.options[n]===t?null:this.options[n];i[n]=r}}return this._setOptions(i),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,e==="disabled"&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(t,n,r){var i,s=this;typeof t!="boolean"&&(r=n,n=t,t=!1),r?(n=i=e(n),this.bindings=this.bindings.add(n)):(r=n,n=this.element,i=this.widget()),e.each(r,function(r,o){function u(){if(!t&&(s.options.disabled===!0||e(this).hasClass("ui-state-disabled")))return;return(typeof o=="string"?s[o]:o).apply(s,arguments)}typeof o!="string"&&(u.guid=o.guid=o.guid||u.guid||e.guid++);var a=r.match(/^(\w+)\s*(.*)$/),f=a[1]+s.eventNamespace,l=a[2];l?i.delegate(l,f,u):n.bind(f,u)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function n(){return(typeof e=="string"?r[e]:e).apply(r,arguments)}var r=this;return setTimeout(n,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,n,r){var i,s,o=this.options[t];r=r||{},n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],s=n.originalEvent;if(s)for(i in s)i in n||(n[i]=s[i]);return this.element.trigger(n,r),!(e.isFunction(o)&&o.apply(this.element[0],[n].concat(r))===!1||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(r,i,s){typeof i=="string"&&(i={effect:i});var o,u=i?i===!0||typeof i=="number"?n:i.effect||n:t;i=i||{},typeof i=="number"&&(i={duration:i}),o=!e.isEmptyObject(i),i.complete=s,i.delay&&r.delay(i.delay),o&&e.effects&&e.effects.effect[u]?r[t](i):u!==t&&r[u]?r[u](i.duration,i.easing,s):r.queue(function(n){e(this)[t](),s&&s.call(r[0]),n()})}})}),function(e){typeof define=="function"&&define.amd?define("iframetransport",["jquery"],e):e(window.jQuery)}(function(e){var t=0;e.ajaxTransport("iframe",function(n){if(n.async){var r=n.initialIframeSrc||"javascript:false;",i,s,o;return{send:function(u,a){i=e('<form style="display:none;"></form>'),i.attr("accept-charset",n.formAcceptCharset),o=/\?/.test(n.url)?"&":"?",n.type==="DELETE"?(n.url=n.url+o+"_method=DELETE",n.type="POST"):n.type==="PUT"?(n.url=n.url+o+"_method=PUT",n.type="POST"):n.type==="PATCH"&&(n.url=n.url+o+"_method=PATCH",n.type="POST"),t+=1,s=e('<iframe src="'+r+'" name="iframe-transport-'+t+'"></iframe>').bind("load",function(){var t,o=e.isArray(n.paramName)?n.paramName:[n.paramName];s.unbind("load").bind("load",function(){var t;try{t=s.contents();if(!t.length||!t[0].firstChild)throw new Error}catch(n){t=undefined}a(200,"success",{iframe:t}),e('<iframe src="'+r+'"></iframe>').appendTo(i),window.setTimeout(function(){i.remove()},0)}),i.prop("target",s.prop("name")).prop("action",n.url).prop("method",n.type),n.formData&&e.each(n.formData,function(t,n){e('<input type="hidden"/>').prop("name",n.name).val(n.value).appendTo(i)}),n.fileInput&&n.fileInput.length&&n.type==="POST"&&(t=n.fileInput.clone(),n.fileInput.after(function(e){return t[e]}),n.paramName&&n.fileInput.each(function(t){e(this).prop("name",o[t]||n.paramName)}),i.append(n.fileInput).prop("enctype","multipart/form-data").prop("encoding","multipart/form-data"),n.fileInput.removeAttr("form")),i.submit(),t&&t.length&&n.fileInput.each(function(n,r){var i=e(t[n]);e(r).prop("name",i.prop("name")).attr("form",i.attr("form")),i.replaceWith(r)})}),i.append(s).appendTo(document.body)},abort:function(){s&&s.unbind("load").prop("src",r),i&&i.remove()}}}}),e.ajaxSetup({converters:{"iframe text":function(t){return t&&e(t[0].body).text()},"iframe json":function(t){return t&&e.parseJSON(e(t[0].body).text())},"iframe html":function(t){return t&&e(t[0].body).html()},"iframe xml":function(t){var n=t&&t[0];return n&&e.isXMLDoc(n)?n:e.parseXML(n.XMLDocument&&n.XMLDocument.xml||e(n.body).html())},"iframe script":function(t){return t&&e.globalEval(e(t[0].body).text())}}})}),function(e){typeof define=="function"&&define.amd?define("fileupload",["jquery","jquery.ui.widget"],e):e(window.jQuery)}(function(e){e.support.fileInput=!(new RegExp("(Android (1\\.[0156]|2\\.[01]))|(Windows Phone (OS 7|8\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)|(w(eb)?OSBrowser)|(webOS)|(Kindle/(1\\.0|2\\.[05]|3\\.0))")).test(window.navigator.userAgent)&&!e('<input type="file">').prop("disabled"),e.support.xhrFileUpload=!!window.ProgressEvent&&!!window.FileReader,e.support.xhrFormDataFileUpload=!!window.FormData,e.support.blobSlice=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice),e.widget("blueimp.fileupload",{options:{dropZone:e(document),pasteZone:e(document),fileInput:undefined,replaceFileInput:!0,paramName:undefined,singleFileUploads:!0,limitMultiFileUploads:undefined,limitMultiFileUploadSize:undefined,limitMultiFileUploadSizeOverhead:512,sequentialUploads:!1,limitConcurrentUploads:undefined,forceIframeTransport:!1,redirect:undefined,redirectParamName:undefined,postMessage:undefined,multipart:!0,maxChunkSize:undefined,uploadedBytes:undefined,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,autoUpload:!0,messages:{uploadedBytes:"Uploaded bytes exceed file size"},i18n:function(t,n){return t=this.messages[t]||t.toString(),n&&e.each(n,function(e,n){t=t.replace("{"+e+"}",n)}),t},formData:function(e){return e.serializeArray()},add:function(t,n){if(t.isDefaultPrevented())return!1;(n.autoUpload||n.autoUpload!==!1&&e(this).fileupload("option","autoUpload"))&&n.process().done(function(){n.submit()})},processData:!1,contentType:!1,cache:!1},_specialOptions:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_blobSlice:e.support.blobSlice&&function(){var e=this.slice||this.webkitSlice||this.mozSlice;return e.apply(this,arguments)},_BitrateTimer:function(){this.timestamp=Date.now?Date.now():(new Date).getTime(),this.loaded=0,this.bitrate=0,this.getBitrate=function(e,t,n){var r=e-this.timestamp;if(!this.bitrate||!n||r>n)this.bitrate=(t-this.loaded)*(1e3/r)*8,this.loaded=t,this.timestamp=e;return this.bitrate}},_isXHRUpload:function(t){return!t.forceIframeTransport&&(!t.multipart&&e.support.xhrFileUpload||e.support.xhrFormDataFileUpload)},_getFormData:function(t){var n;return e.type(t.formData)==="function"?t.formData(t.form):e.isArray(t.formData)?t.formData:e.type(t.formData)==="object"?(n=[],e.each(t.formData,function(e,t){n.push({name:e,value:t})}),n):[]},_getTotal:function(t){var n=0;return e.each(t,function(e,t){n+=t.size||1}),n},_initProgressObject:function(t){var n={loaded:0,total:0,bitrate:0};t._progress?e.extend(t._progress,n):t._progress=n},_initResponseObject:function(e){var t;if(e._response)for(t in e._response)e._response.hasOwnProperty(t)&&delete e._response[t];else e._response={}},_onProgress:function(t,n){if(t.lengthComputable){var r=Date.now?Date.now():(new Date).getTime(),i;if(n._time&&n.progressInterval&&r-n._time<n.progressInterval&&t.loaded!==t.total)return;n._time=r,i=Math.floor(t.loaded/t.total*(n.chunkSize||n._progress.total))+(n.uploadedBytes||0),this._progress.loaded+=i-n._progress.loaded,this._progress.bitrate=this._bitrateTimer.getBitrate(r,this._progress.loaded,n.bitrateInterval),n._progress.loaded=n.loaded=i,n._progress.bitrate=n.bitrate=n._bitrateTimer.getBitrate(r,i,n.bitrateInterval),this._trigger("progress",e.Event("progress",{delegatedEvent:t}),n),this._trigger("progressall",e.Event("progressall",{delegatedEvent:t}),this._progress)}},_initProgressListener:function(t){var n=this,r=t.xhr?t.xhr():e.ajaxSettings.xhr();r.upload&&(e(r.upload).bind("progress",function(e){var r=e.originalEvent;e.lengthComputable=r.lengthComputable,e.loaded=r.loaded,e.total=r.total,n._onProgress(e,t)}),t.xhr=function(){return r})},_isInstanceOf:function(e,t){return Object.prototype.toString.call(t)==="[object "+e+"]"},_initXHRData:function(t){var n=this,r,i=t.files[0],s=t.multipart||!e.support.xhrFileUpload,o=e.type(t.paramName)==="array"?t.paramName[0]:t.paramName;t.headers=e.extend({},t.headers),t.contentRange&&(t.headers["Content-Range"]=t.contentRange);if(!s||t.blob||!this._isInstanceOf("File",i))t.headers["Content-Disposition"]='attachment; filename="'+encodeURI(i.name)+'"';s?e.support.xhrFormDataFileUpload&&(t.postMessage?(r=this._getFormData(t),t.blob?r.push({name:o,value:t.blob}):e.each(t.files,function(n,i){r.push({name:e.type(t.paramName)==="array"&&t.paramName[n]||o,value:i})})):(n._isInstanceOf("FormData",t.formData)?r=t.formData:(r=new FormData,e.each(this._getFormData(t),function(e,t){r.append(t.name,t.value)})),t.blob?r.append(o,t.blob,i.name):e.each(t.files,function(i,s){(n._isInstanceOf("File",s)||n._isInstanceOf("Blob",s))&&r.append(e.type(t.paramName)==="array"&&t.paramName[i]||o,s,s.uploadName||s.name)})),t.data=r):(t.contentType=i.type||"application/octet-stream",t.data=t.blob||i),t.blob=null},_initIframeSettings:function(t){var n=e("<a></a>").prop("href",t.url).prop("host");t.dataType="iframe "+(t.dataType||""),t.formData=this._getFormData(t),t.redirect&&n&&n!==location.host&&t.formData.push({name:t.redirectParamName||"redirect",value:t.redirect})},_initDataSettings:function(e){this._isXHRUpload(e)?(this._chunkedUpload(e,!0)||(e.data||this._initXHRData(e),this._initProgressListener(e)),e.postMessage&&(e.dataType="postmessage "+(e.dataType||""))):this._initIframeSettings(e)},_getParamName:function(t){var n=e(t.fileInput),r=t.paramName;return r?e.isArray(r)||(r=[r]):(r=[],n.each(function(){var t=e(this),n=t.prop("name")||"files[]",i=(t.prop("files")||[1]).length;while(i)r.push(n),i-=1}),r.length||(r=[n.prop("name")||"files[]"])),r},_initFormSettings:function(t){if(!t.form||!t.form.length)t.form=e(t.fileInput.prop("form")),t.form.length||(t.form=e(this.options.fileInput.prop("form")));t.paramName=this._getParamName(t),t.url||(t.url=t.form.prop("action")||location.href),t.type=(t.type||e.type(t.form.prop("method"))==="string"&&t.form.prop("method")||"").toUpperCase(),t.type!=="POST"&&t.type!=="PUT"&&t.type!=="PATCH"&&(t.type="POST"),t.formAcceptCharset||(t.formAcceptCharset=t.form.attr("accept-charset"))},_getAJAXSettings:function(t){var n=e.extend({},this.options,t);return this._initFormSettings(n),this._initDataSettings(n),n},_getDeferredState:function(e){return e.state?e.state():e.isResolved()?"resolved":e.isRejected()?"rejected":"pending"},_enhancePromise:function(e){return e.success=e.done,e.error=e.fail,e.complete=e.always,e},_getXHRPromise:function(t,n,r){var i=e.Deferred(),s=i.promise();return n=n||this.options.context||s,t===!0?i.resolveWith(n,r):t===!1&&i.rejectWith(n,r),s.abort=i.promise,this._enhancePromise(s)},_addConvenienceMethods:function(t,n){var r=this,i=function(t){return e.Deferred().resolveWith(r,t).promise()};n.process=function(t,s){if(t||s)n._processQueue=this._processQueue=(this._processQueue||i([this])).pipe(function(){return n.errorThrown?e.Deferred().rejectWith(r,[n]).promise():i(arguments)}).pipe(t,s);return this._processQueue||i([this])},n.submit=function(){return this.state()!=="pending"&&(n.jqXHR=this.jqXHR=r._trigger("submit",e.Event("submit",{delegatedEvent:t}),this)!==!1&&r._onSend(t,this)),this.jqXHR||r._getXHRPromise()},n.abort=function(){return this.jqXHR?this.jqXHR.abort():(this.errorThrown="abort",r._trigger("fail",null,this),r._getXHRPromise(!1))},n.state=function(){if(this.jqXHR)return r._getDeferredState(this.jqXHR);if(this._processQueue)return r._getDeferredState(this._processQueue)},n.processing=function(){return!this.jqXHR&&this._processQueue&&r._getDeferredState(this._processQueue)==="pending"},n.progress=function(){return this._progress},n.response=function(){return this._response}},_getUploadedBytes:function(e){var t=e.getResponseHeader("Range"),n=t&&t.split("-"),r=n&&n.length>1&&parseInt(n[1],10);return r&&r+1},_chunkedUpload:function(t,n){t.uploadedBytes=t.uploadedBytes||0;var r=this,i=t.files[0],s=i.size,o=t.uploadedBytes,u=t.maxChunkSize||s,a=this._blobSlice,f=e.Deferred(),l=f.promise(),c,h;return!(this._isXHRUpload(t)&&a&&(o||u<s))||t.data?!1:n?!0:o>=s?(i.error=t.i18n("uploadedBytes"),this._getXHRPromise(!1,t.context,[null,"error",i.error])):(h=function(){var n=e.extend({},t),l=n._progress.loaded;n.blob=a.call(i,o,o+u,i.type),n.chunkSize=n.blob.size,n.contentRange="bytes "+o+"-"+(o+n.chunkSize-1)+"/"+s,r._initXHRData(n),r._initProgressListener(n),c=(r._trigger("chunksend",null,n)!==!1&&e.ajax(n)||r._getXHRPromise(!1,n.context)).done(function(i,u,a){o=r._getUploadedBytes(a)||o+n.chunkSize,l+n.chunkSize-n._progress.loaded&&r._onProgress(e.Event("progress",{lengthComputable:!0,loaded:o-n.uploadedBytes,total:o-n.uploadedBytes}),n),t.uploadedBytes=n.uploadedBytes=o,n.result=i,n.textStatus=u,n.jqXHR=a,r._trigger("chunkdone",null,n),r._trigger("chunkalways",null,n),o<s?h():f.resolveWith(n.context,[i,u,a])}).fail(function(e,t,i){n.jqXHR=e,n.textStatus=t,n.errorThrown=i,r._trigger("chunkfail",null,n),r._trigger("chunkalways",null,n),f.rejectWith(n.context,[e,t,i])})},this._enhancePromise(l),l.abort=function(){return c.abort()},h(),l)},_beforeSend:function(e,t){this._active===0&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer,this._progress.loaded=this._progress.total=0,this._progress.bitrate=0),this._initResponseObject(t),this._initProgressObject(t),t._progress.loaded=t.loaded=t.uploadedBytes||0,t._progress.total=t.total=this._getTotal(t.files)||1,t._progress.bitrate=t.bitrate=0,this._active+=1,this._progress.loaded+=t.loaded,this._progress.total+=t.total},_onDone:function(t,n,r,i){var s=i._progress.total,o=i._response;i._progress.loaded<s&&this._onProgress(e.Event("progress",{lengthComputable:!0,loaded:s,total:s}),i),o.result=i.result=t,o.textStatus=i.textStatus=n,o.jqXHR=i.jqXHR=r,this._trigger("done",null,i)},_onFail:function(e,t,n,r){var i=r._response;r.recalculateProgress&&(this._progress.loaded-=r._progress.loaded,this._progress.total-=r._progress.total),i.jqXHR=r.jqXHR=e,i.textStatus=r.textStatus=t,i.errorThrown=r.errorThrown=n,this._trigger("fail",null,r)},_onAlways:function(e,t,n,r){this._trigger("always",null,r)},_onSend:function(t,n){n.submit||this._addConvenienceMethods(t,n);var r=this,i,s,o,u,a=r._getAJAXSettings(n),f=function(){return r._sending+=1,a._bitrateTimer=new r._BitrateTimer,i=i||((s||r._trigger("send",e.Event("send",{delegatedEvent:t}),a)===!1)&&r._getXHRPromise(!1,a.context,s)||r._chunkedUpload(a)||e.ajax(a)).done(function(e,t,n){r._onDone(e,t,n,a)}).fail(function(e,t,n){r._onFail(e,t,n,a)}).always(function(e,t,n){r._onAlways(e,t,n,a),r._sending-=1,r._active-=1;if(a.limitConcurrentUploads&&a.limitConcurrentUploads>r._sending){var i=r._slots.shift();while(i){if(r._getDeferredState(i)==="pending"){i.resolve();break}i=r._slots.shift()}}r._active===0&&r._trigger("stop")}),i};return this._beforeSend(t,a),this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending?(this.options.limitConcurrentUploads>1?(o=e.Deferred(),this._slots.push(o),u=o.pipe(f)):(this._sequence=this._sequence.pipe(f,f),u=this._sequence),u.abort=function(){return s=[undefined,"abort","abort"],i?i.abort():(o&&o.rejectWith(a.context,s),f())},this._enhancePromise(u)):f()},_onAdd:function(t,n){var r=this,i=!0,s=e.extend({},this.options,n),o=n.files,u=o.length,a=s.limitMultiFileUploads,f=s.limitMultiFileUploadSize,l=s.limitMultiFileUploadSizeOverhead,c=0,h=this._getParamName(s),p,d,v,m,g=0;f&&(!u||o[0].size===undefined)&&(f=undefined);if(!(s.singleFileUploads||a||f)||!this._isXHRUpload(s))v=[o],p=[h];else if(!s.singleFileUploads&&!f&&a){v=[],p=[];for(m=0;m<u;m+=a)v.push(o.slice(m,m+a)),d=h.slice(m,m+a),d.length||(d=h),p.push(d)}else if(!s.singleFileUploads&&f){v=[],p=[];for(m=0;m<u;m+=1){c+=o[m].size+l;if(m+1===u||c+o[m+1].size+l>f||a&&m+1-g>=a)v.push(o.slice(g,m+1)),d=h.slice(g,m+1),d.length||(d=h),p.push(d),g=m+1,c=0}}else p=h;return n.originalFiles=o,e.each(v||o,function(s,o){var u=e.extend({},n);return u.files=v?o:[o],u.paramName=p[s],r._initResponseObject(u),r._initProgressObject(u),r._addConvenienceMethods(t,u),i=r._trigger("add",e.Event("add",{delegatedEvent:t}),u),i}),i},_replaceFileInput:function(t){var n=t.clone(!0);e("<form></form>").append(n)[0].reset(),t.after(n).detach(),e.cleanData(t.unbind("remove")),this.options.fileInput=this.options.fileInput.map(function(e,r){return r===t[0]?n[0]:r}),t[0]===this.element[0]&&(this.element=n)},_handleFileTreeEntry:function(t,n){var r=this,i=e.Deferred(),s=function(e){e&&!e.entry&&(e.entry=t),i.resolve([e])},o;return n=n||"",t.isFile?t._file?(t._file.relativePath=n,i.resolve(t._file)):t.file(function(e){e.relativePath=n,i.resolve(e)},s):t.isDirectory?(o=t.createReader(),o.readEntries(function(e){r._handleFileTreeEntries(e,n+t.name+"/").done(function(e){i.resolve(e)}).fail(s)},s)):i.resolve([]),i.promise()},_handleFileTreeEntries:function(t,n){var r=this;return e.when.apply(e,e.map(t,function(e){return r._handleFileTreeEntry(e,n)})).pipe(function(){return Array.prototype.concat.apply([],arguments)})},_getDroppedFiles:function(t){t=t||{};var n=t.items;return n&&n.length&&(n[0].webkitGetAsEntry||n[0].getAsEntry)?this._handleFileTreeEntries(e.map(n,function(e){var t;return e.webkitGetAsEntry?(t=e.webkitGetAsEntry(),t&&(t._file=e.getAsFile()),t):e.getAsEntry()})):e.Deferred().resolve(e.makeArray(t.files)).promise()},_getSingleFileInputFiles:function(t){t=e(t);var n=t.prop("webkitEntries")||t.prop("entries"),r,i;if(n&&n.length)return this._handleFileTreeEntries(n);r=e.makeArray(t.prop("files"));if(!r.length){i=t.prop("value");if(!i)return e.Deferred().resolve([]).promise();r=[{name:i.replace(/^.*\\/,"")}]}else r[0].name===undefined&&r[0].fileName&&e.each(r,function(e,t){t.name=t.fileName,t.size=t.fileSize});return e.Deferred().resolve(r).promise()},_getFileInputFiles:function(t){return t instanceof e&&t.length!==1?e.when.apply(e,e.map(t,this._getSingleFileInputFiles)).pipe(function(){return Array.prototype.concat.apply([],arguments)}):this._getSingleFileInputFiles(t)},_onChange:function(t){var n=this,r={fileInput:e(t.target),form:e(t.target.form)};this._getFileInputFiles(r.fileInput).always(function(i){r.files=i,n.options.replaceFileInput&&n._replaceFileInput(r.fileInput),n._trigger("change",e.Event("change",{delegatedEvent:t}),r)!==!1&&n._onAdd(t,r)})},_onPaste:function(t){var n=t.originalEvent&&t.originalEvent.clipboardData&&t.originalEvent.clipboardData.items,r={files:[]};n&&n.length&&(e.each(n,function(e,t){var n=t.getAsFile&&t.getAsFile();n&&r.files.push(n)}),this._trigger("paste",e.Event("paste",{delegatedEvent:t}),r)!==!1&&this._onAdd(t,r))},_onDrop:function(t){t.dataTransfer=t.originalEvent&&t.originalEvent.dataTransfer;var n=this,r=t.dataTransfer,i={};r&&r.files&&r.files.length&&(t.preventDefault(),this._getDroppedFiles(r).always(function(r){i.files=r,n._trigger("drop",e.Event("drop",{delegatedEvent:t}),i)!==!1&&n._onAdd(t,i)}))},_onDragOver:function(t){t.dataTransfer=t.originalEvent&&t.originalEvent.dataTransfer;var n=t.dataTransfer;n&&e.inArray("Files",n.types)!==-1&&this._trigger("dragover",e.Event("dragover",{delegatedEvent:t}))!==!1&&(t.preventDefault(),n.dropEffect="copy")},_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop}),this._on(this.options.pasteZone,{paste:this._onPaste})),e.support.fileInput&&this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,"dragover drop"),this._off(this.options.pasteZone,"paste"),this._off(this.options.fileInput,"change")},_setOption:function(t,n){var r=e.inArray(t,this._specialOptions)!==-1;r&&this._destroyEventHandlers(),this._super(t,n),r&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var t=this.options;t.fileInput===undefined?t.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):t.fileInput instanceof e||(t.fileInput=e(t.fileInput)),t.dropZone instanceof e||(t.dropZone=e(t.dropZone)),t.pasteZone instanceof e||(t.pasteZone=e(t.pasteZone))},_getRegExp:function(e){var t=e.split("/"),n=t.pop();return t.shift(),new RegExp(t.join("/"),n)},_isRegExpOption:function(t,n){return t!=="url"&&e.type(n)==="string"&&/^\/.*\/[igm]{0,3}$/.test(n)},_initDataAttributes:function(){var t=this,n=this.options;e.each(e(this.element[0].cloneNode(!1)).data(),function(e,r){t._isRegExpOption(e,r)&&(r=t._getRegExp(r)),n[e]=r})},_create:function(){this._initDataAttributes(),this._initSpecialOptions(),this._slots=[],this._sequence=this._getXHRPromise(!0),this._sending=this._active=0,this._initProgressObject(this),this._initEventHandlers()},active:function(){return this._active},progress:function(){return this._progress},add:function(t){var n=this;if(!t||this.options.disabled)return;t.fileInput&&!t.files?this._getFileInputFiles(t.fileInput).always(function(e){t.files=e,n._onAdd(null,t)}):(t.files=e.makeArray(t.files),this._onAdd(null,t))},send:function(t){if(t&&!this.options.disabled){if(t.fileInput&&!t.files){var n=this,r=e.Deferred(),i=r.promise(),s,o;return i.abort=function(){return o=!0,s?s.abort():(r.reject(null,"abort","abort"),i)},this._getFileInputFiles(t.fileInput).always(function(e){if(o)return;if(!e.length){r.reject();return}t.files=e,s=n._onSend(null,t).then(function(e,t,n){r.resolve(e,t,n)},function(e,t,n){r.reject(e,t,n)})}),this._enhancePromise(i)}t.files=e.makeArray(t.files);if(t.files.length)return this._onSend(null,t)}return this._getXHRPromise(!1,t&&t.context)}})}),function(e){var t={className:"autosizejs",id:"autosizejs",append:"\n",callback:!1,resizeDelay:10,placeholder:!0},n='<textarea tabindex="-1" style="position:absolute; top:-999px; left:0; right:auto; bottom:auto; border:0; padding: 0; -moz-box-sizing:content-box; -webkit-box-sizing:content-box; box-sizing:content-box; word-wrap:break-word; height:0 !important; min-height:0 !important; overflow:hidden; transition:none; -webkit-transition:none; -moz-transition:none;"/>',r=["fontFamily","fontSize","fontWeight","fontStyle","letterSpacing","textTransform","wordSpacing","textIndent"],i,s=e(n).data("autosize",!0)[0];s.style.lineHeight="99px",e(s).css("lineHeight")==="99px"&&r.push("lineHeight"),s.style.lineHeight="",e.fn.autosize=function(n){return this.length?(n=e.extend({},t,n||{}),s.parentNode!==document.body&&e(document.body).append(s),this.each(function(){function d(){var n,r=window.getComputedStyle?window.getComputedStyle(t,null):!1;if(r){n=t.getBoundingClientRect().width;if(n===0||typeof n!="number")n=parseInt(r.width,10);e.each(["paddingLeft","paddingRight","borderLeftWidth","borderRightWidth"],function(e,t){n-=parseInt(r[t],10)})}else n=Math.max(o.width(),0);s.style.width=n+"px"}function v(){var a={};i=t,s.className=n.className,s.id=n.id,u=parseInt(o.css("maxHeight"),10),e.each(r,function(e,t){a[t]=o.css(t)}),e(s).css(a).attr("wrap",o.attr("wrap")),d();if(window.chrome){var f=t.style.width;t.style.width="0px";var l=t.offsetWidth;t.style.width=f}}function m(){var e,r;i!==t?v():d(),!t.value&&n.placeholder?s.value=(o.attr("placeholder")||"")+n.append:s.value=t.value+n.append,s.style.overflowY=t.style.overflowY,r=parseInt(t.style.height,10),s.scrollTop=0,s.scrollTop=9e4,e=s.scrollTop,u&&e>u?(t.style.overflowY="scroll",e=u):(t.style.overflowY="hidden",e<a&&(e=a)),e+=f,r!==e&&(t.style.height=e+"px",l&&n.callback.call(t,t))}function g(){clearTimeout(h),h=setTimeout(function(){var e=o.width();e!==p&&(p=e,m())},parseInt(n.resizeDelay,10))}var t=this,o=e(t),u,a,f=0,l=e.isFunction(n.callback),c={height:t.style.height,overflow:t.style.overflow,overflowY:t.style.overflowY,wordWrap:t.style.wordWrap,resize:t.style.resize},h,p=o.width();if(o.data("autosize"))return;o.data("autosize",!0);if(o.css("box-sizing")==="border-box"||o.css("-moz-box-sizing")==="border-box"||o.css("-webkit-box-sizing")==="border-box")f=o.outerHeight()-o.height();a=Math.max(parseInt(o.css("minHeight"),10)-f||0,o.height()),o.css({overflow:"hidden",overflowY:"hidden",wordWrap:"break-word",resize:o.css("resize")==="none"||o.css("resize")==="vertical"?"none":"horizontal"}),"onpropertychange"in t?"oninput"in t?o.on("input.autosize keyup.autosize",m):o.on("propertychange.autosize",function(){event.propertyName==="value"&&m()}):o.on("input.autosize",m),n.resizeDelay!==!1&&e(window).on("resize.autosize",g),o.on("autosize.resize",m),o.on("autosize.resizeIncludeStyle",function(){i=null,m()}),o.on("autosize.destroy",function(){i=null,clearTimeout(h),e(window).off("resize",g),o.off("autosize").off(".autosize").css(c).removeData("autosize")}),m()})):this}}(window.jQuery||window.$),define("autosize",["jquery"],function(){}),function(e){function n(){}function r(e){function r(t){if(t.prototype.option)return;t.prototype.option=function(t){if(!e.isPlainObject(t))return;this.options=e.extend(!0,this.options,t)}}function s(n,r){e.fn[n]=function(s){if(typeof s=="string"){var o=t.call(arguments,1);for(var u=0,a=this.length;u<a;u++){var f=this[u],l=e.data(f,n);if(!l){i("cannot call methods on "+n+" prior to initialization; "+"attempted to call '"+s+"'");continue}if(!e.isFunction(l[s])||s.charAt(0)==="_"){i("no such method '"+s+"' for "+n+" instance");continue}var c=l[s].apply(l,o);if(c!==undefined)return c}return this}return this.each(function(){var t=e.data(this,n);t?(t.option(s),t._init()):(t=new r(this,s),e.data(this,n,t))})}}if(!e)return;var i=typeof console=="undefined"?n:function(e){console.error(e)};return e.bridget=function(e,t){r(t),s(e,t)},e.bridget}var t=Array.prototype.slice;typeof define=="function"&&define.amd?define("bridget",["jquery"],r):r(e.jQuery)}(window),function(){function e(){}function i(e,t){var n=e.length;while(n--)if(e[n].listener===t)return n;return-1}function s(e){return function(){return this[e].apply(this,arguments)}}var t=e.prototype,n=this,r=n.EventEmitter;t.getListeners=function(t){var n=this._getEvents(),r,i;if(typeof t=="object"){r={};for(i in n)n.hasOwnProperty(i)&&t.test(i)&&(r[i]=n[i])}else r=n[t]||(n[t]=[]);return r},t.flattenListeners=function(t){var n=[],r;for(r=0;r<t.length;r+=1)n.push(t[r].listener);return n},t.getListenersAsObject=function(t){var n=this.getListeners(t),r;return n instanceof Array&&(r={},r[t]=n),r||n},t.addListener=function(t,n){var r=this.getListenersAsObject(t),s=typeof n=="object",o;for(o in r)r.hasOwnProperty(o)&&i(r[o],n)===-1&&r[o].push(s?n:{listener:n,once:!1});return this},t.on=s("addListener"),t.addOnceListener=function(t,n){return this.addListener(t,{listener:n,once:!0})},t.once=s("addOnceListener"),t.defineEvent=function(t){return this.getListeners(t),this},t.defineEvents=function(t){for(var n=0;n<t.length;n+=1)this.defineEvent(t[n]);return this},t.removeListener=function(t,n){var r=this.getListenersAsObject(t),s,o;for(o in r)r.hasOwnProperty(o)&&(s=i(r[o],n),s!==-1&&r[o].splice(s,1));return this},t.off=s("removeListener"),t.addListeners=function(t,n){return this.manipulateListeners(!1,t,n)},t.removeListeners=function(t,n){return this.manipulateListeners(!0,t,n)},t.manipulateListeners=function(t,n,r){var i,s,o=t?this.removeListener:this.addListener,u=t?this.removeListeners:this.addListeners;if(typeof n!="object"||n instanceof RegExp){i=r.length;while(i--)o.call(this,n,r[i])}else for(i in n)n.hasOwnProperty(i)&&(s=n[i])&&(typeof s=="function"?o.call(this,i,s):u.call(this,i,s));return this},t.removeEvent=function(t){var n=typeof t,r=this._getEvents(),i;if(n==="string")delete r[t];else if(n==="object")for(i in r)r.hasOwnProperty(i)&&t.test(i)&&delete r[i];else delete this._events;return this},t.removeAllListeners=s("removeEvent"),t.emitEvent=function(t,n){var r=this.getListenersAsObject(t),i,s,o,u;for(o in r)if(r.hasOwnProperty(o)){s=r[o].length;while(s--)i=r[o][s],i.once===!0&&this.removeListener(t,i.listener),u=i.listener.apply(this,n||[]),u===this._getOnceReturnValue()&&this.removeListener(t,i.listener)}return this},t.trigger=s("emitEvent"),t.emit=function(t){var n=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,n)},t.setOnceReturnValue=function(t){return this._onceReturnValue=t,this},t._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},t._getEvents=function(){return this._events||(this._events={})},e.noConflict=function(){return n.EventEmitter=r,e},typeof define=="function"&&define.amd?define("eventEmitter/EventEmitter",[],function(){return e}):typeof module=="object"&&module.exports?module.exports=e:this.EventEmitter=e}.call(this),function(e){function r(t){var n=e.event;return n.target=n.target||n.srcElement||t,n}var t=document.documentElement,n=function(){};t.addEventListener?n=function(e,t,n){e.addEventListener(t,n,!1)}:t.attachEvent&&(n=function(e,t,n){e[t+n]=n.handleEvent?function(){var t=r(e);n.handleEvent.call(n,t)}:function(){var t=r(e);n.call(e,t)},e.attachEvent("on"+t,e[t+n])});var i=function(){};t.removeEventListener?i=function(e,t,n){e.removeEventListener(t,n,!1)}:t.detachEvent&&(i=function(e,t,n){e.detachEvent("on"+t,e[t+n]);try{delete e[t+n]}catch(r){e[t+n]=undefined}});var s={bind:n,unbind:i};typeof define=="function"&&define.amd?define("eventie/eventie",s):e.eventie=s}(this),function(e,t){typeof define=="function"&&define.amd?define("imagesloaded",["eventEmitter/EventEmitter","eventie/eventie"],function(n,r){return t(e,n,r)}):typeof exports=="object"?module.exports=t(e,require("eventEmitter"),require("eventie")):e.imagesLoaded=t(e,e.EventEmitter,e.eventie)}(this,function(t,n,r){function u(e,t){for(var n in t)e[n]=t[n];return e}function f(e){return a.call(e)==="[object Array]"}function l(e){var t=[];if(f(e))t=e;else if(typeof e.length=="number")for(var n=0,r=e.length;n<r;n++)t.push(e[n]);else t.push(e);return t}function c(e,t,n){if(!(this instanceof c))return new c(e,t);typeof e=="string"&&(e=document.querySelectorAll(e)),this.elements=l(e),this.options=u({},this.options),typeof t=="function"?n=t:u(this.options,t),n&&this.on("always",n),this.getImages(),i&&(this.jqDeferred=new i.Deferred);var r=this;setTimeout(function(){r.check()})}function h(e){this.img=e}function d(e){this.src=e,p[e]=this}var i=t.jQuery,s=t.console,o=typeof s!="undefined",a=Object.prototype.toString;c.prototype=new n,c.prototype.options={},c.prototype.getImages=function(){this.images=[];for(var e=0,t=this.elements.length;e<t;e++){var n=this.elements[e];n.nodeName==="IMG"&&this.addImage(n);var r=n.querySelectorAll("img");for(var i=0,s=r.length;i<s;i++){var o=r[i];this.addImage(o)}}},c.prototype.addImage=function(e){var t=new h(e);this.images.push(t)},c.prototype.check=function(){function r(r,i){return e.options.debug&&o&&s.log("confirm",r,i),e.progress(r),t++,t===n&&e.complete(),!0}var e=this,t=0,n=this.images.length;this.hasAnyBroken=!1;if(!n){this.complete();return}for(var i=0;i<n;i++){var u=this.images[i];u.on("confirm",r),u.check()}},c.prototype.progress=function(e){this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded;var t=this;setTimeout(function(){t.emit("progress",t,e),t.jqDeferred&&t.jqDeferred.notify&&t.jqDeferred.notify(t,e)})},c.prototype.complete=function(){var e=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var t=this;setTimeout(function(){t.emit(e,t),t.emit("always",t);if(t.jqDeferred){var n=t.hasAnyBroken?"reject":"resolve";t.jqDeferred[n](t)}})},i&&(i.fn.imagesLoaded=function(e,t){var n=new c(this,e,t);return n.jqDeferred.promise(i(this))}),h.prototype=new n,h.prototype.check=function(){var e=p[this.img.src]||new d(this.img.src);if(e.isConfirmed){this.confirm(e.isLoaded,"cached was confirmed");return}if(this.img.complete&&this.img.naturalWidth!==undefined){this.confirm(this.img.naturalWidth!==0,"naturalWidth");return}var t=this;e.on("confirm",function(e,n){return t.confirm(e.isLoaded,n),!0}),e.check()},h.prototype.confirm=function(e,t){this.isLoaded=e,this.emit("confirm",this,t)};var p={};return d.prototype=new n,d.prototype.check=function(){if(this.isChecked)return;var e=new Image;r.bind(e,"load",this),r.bind(e,"error",this),e.src=this.src,this.isChecked=!0},d.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},d.prototype.onload=function(e){this.confirm(!0,"onload"),this.unbindProxyEvents(e)},d.prototype.onerror=function(e){this.confirm(!1,"onerror"),this.unbindProxyEvents(e)},d.prototype.confirm=function(e,t){this.isConfirmed=!0,this.isLoaded=e,this.emit("confirm",this,t)},d.prototype.unbindProxyEvents=function(e){r.unbind(e.target,"load",this),r.unbind(e.target,"error",this)},c}),function(e){function n(){}function r(e){function r(t){if(t.prototype.option)return;t.prototype.option=function(t){if(!e.isPlainObject(t))return;this.options=e.extend(!0,this.options,t)}}function s(n,r){e.fn[n]=function(s){if(typeof s=="string"){var o=t.call(arguments,1);for(var u=0,a=this.length;u<a;u++){var f=this[u],l=e.data(f,n);if(!l){i("cannot call methods on "+n+" prior to initialization; "+"attempted to call '"+s+"'");continue}if(!e.isFunction(l[s])||s.charAt(0)==="_"){i("no such method '"+s+"' for "+n+" instance");continue}var c=l[s].apply(l,o);if(c!==undefined)return c}return this}return this.each(function(){var t=e.data(this,n);t?(t.option(s),t._init()):(t=new r(this,s),e.data(this,n,t))})}}if(!e)return;var i=typeof console=="undefined"?n:function(e){console.error(e)};return e.bridget=function(e,t){r(t),s(e,t)},e.bridget}var t=Array.prototype.slice;typeof define=="function"&&define.amd?define("jquery-bridget/jquery.bridget",["jquery"],r):r(e.jQuery)}(window),function(e){function r(t){var n=e.event;return n.target=n.target||n.srcElement||t,n}var t=document.documentElement,n=function(){};t.addEventListener?n=function(e,t,n){e.addEventListener(t,n,!1)}:t.attachEvent&&(n=function(e,t,n){e[t+n]=n.handleEvent?function(){var t=r(e);n.handleEvent.call(n,t)}:function(){var t=r(e);n.call(e,t)},e.attachEvent("on"+t,e[t+n])});var i=function(){};t.removeEventListener?i=function(e,t,n){e.removeEventListener(t,n,!1)}:t.detachEvent&&(i=function(e,t,n){e.detachEvent("on"+t,e[t+n]);try{delete e[t+n]}catch(r){e[t+n]=undefined}});var s={bind:n,unbind:i};typeof define=="function"&&define.amd?define("eventie/eventie",s):typeof exports=="object"?module.exports=s:e.eventie=s}(this),function(e){function r(e){if(typeof e!="function")return;r.isReady?e():n.push(e)}function i(e){var i=e.type==="readystatechange"&&t.readyState!=="complete";if(r.isReady||i)return;r.isReady=!0;for(var s=0,o=n.length;s<o;s++){var u=n[s];u()}}function s(n){return n.bind(t,"DOMContentLoaded",i),n.bind(t,"readystatechange",i),n.bind(e,"load",i),r}var t=e.document,n=[];r.isReady=!1,typeof define=="function"&&define.amd?(r.isReady=typeof requirejs=="function",define("doc-ready/doc-ready",["eventie/eventie"],s)):e.docReady=s(e.eventie)}(this),function(){function e(){}function i(e,t){var n=e.length;while(n--)if(e[n].listener===t)return n;return-1}function s(e){return function(){return this[e].apply(this,arguments)}}var t=e.prototype,n=this,r=n.EventEmitter;t.getListeners=function(t){var n=this._getEvents(),r,i;if(t instanceof RegExp){r={};for(i in n)n.hasOwnProperty(i)&&t.test(i)&&(r[i]=n[i])}else r=n[t]||(n[t]=[]);return r},t.flattenListeners=function(t){var n=[],r;for(r=0;r<t.length;r+=1)n.push(t[r].listener);return n},t.getListenersAsObject=function(t){var n=this.getListeners(t),r;return n instanceof Array&&(r={},r[t]=n),r||n},t.addListener=function(t,n){var r=this.getListenersAsObject(t),s=typeof n=="object",o;for(o in r)r.hasOwnProperty(o)&&i(r[o],n)===-1&&r[o].push(s?n:{listener:n,once:!1});return this},t.on=s("addListener"),t.addOnceListener=function(t,n){return this.addListener(t,{listener:n,once:!0})},t.once=s("addOnceListener"),t.defineEvent=function(t){return this.getListeners(t),this},t.defineEvents=function(t){for(var n=0;n<t.length;n+=1)this.defineEvent(t[n]);return this},t.removeListener=function(t,n){var r=this.getListenersAsObject(t),s,o;for(o in r)r.hasOwnProperty(o)&&(s=i(r[o],n),s!==-1&&r[o].splice(s,1));return this},t.off=s("removeListener"),t.addListeners=function(t,n){return this.manipulateListeners(!1,t,n)},t.removeListeners=function(t,n){return this.manipulateListeners(!0,t,n)},t.manipulateListeners=function(t,n,r){var i,s,o=t?this.removeListener:this.addListener,u=t?this.removeListeners:this.addListeners;if(typeof n!="object"||n instanceof RegExp){i=r.length;while(i--)o.call(this,n,r[i])}else for(i in n)n.hasOwnProperty(i)&&(s=n[i])&&(typeof s=="function"?o.call(this,i,s):u.call(this,i,s));return this},t.removeEvent=function(t){var n=typeof t,r=this._getEvents(),i;if(n==="string")delete r[t];else if(t instanceof RegExp)for(i in r)r.hasOwnProperty(i)&&t.test(i)&&delete r[i];else delete this._events;return this},t.removeAllListeners=s("removeEvent"),t.emitEvent=function(t,n){var r=this.getListenersAsObject(t),i,s,o,u;for(o in r)if(r.hasOwnProperty(o)){s=r[o].length;while(s--)i=r[o][s],i.once===!0&&this.removeListener(t,i.listener),u=i.listener.apply(this,n||[]),u===this._getOnceReturnValue()&&this.removeListener(t,i.listener)}return this},t.trigger=s("emitEvent"),t.emit=function(t){var n=Array.prototype.slice.call(arguments,1);return this.emitEvent(t,n)},t.setOnceReturnValue=function(t){return this._onceReturnValue=t,this},t._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},t._getEvents=function(){return this._events||(this._events={})},e.noConflict=function(){return n.EventEmitter=r,e},typeof define=="function"&&define.amd?define("eventEmitter/EventEmitter",[],function(){return e}):typeof module=="object"&&module.exports?module.exports=e:this.EventEmitter=e}.call(this),function(e){function r(e){if(!e)return;if(typeof n[e]=="string")return e;e=e.charAt(0).toUpperCase()+e.slice(1);var r;for(var i=0,s=t.length;i<s;i++){r=t[i]+e;if(typeof n[r]=="string")return r}}var t="Webkit Moz ms Ms O".split(" "),n=document.documentElement.style;typeof define=="function"&&define.amd?define("get-style-property/get-style-property",[],function(){return r}):typeof exports=="object"?module.exports=r:e.getStyleProperty=r}(window),function(e,t){function i(e){var t=parseFloat(e),n=e.indexOf("%")===-1&&!isNaN(t);return n&&t}function o(){var e={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0};for(var t=0,n=s.length;t<n;t++){var r=s[t];e[r]=0}return e}function u(e){function a(e){typeof e=="string"&&(e=document.querySelector(e));if(!e||typeof e!="object"||!e.nodeType)return;var n=r(e);if(n.display==="none")return o();var a={};a.width=e.offsetWidth,a.height=e.offsetHeight;var l=a.isBorderBox=!!t&&!!n[t]&&n[t]==="border-box";for(var c=0,h=s.length;c<h;c++){var p=s[c],d=n[p];d=f(e,d);var v=parseFloat(d);a[p]=isNaN(v)?0:v}var m=a.paddingLeft+a.paddingRight,g=a.paddingTop+a.paddingBottom,y=a.marginLeft+a.marginRight,b=a.marginTop+a.marginBottom,w=a.borderLeftWidth+a.borderRightWidth,E=a.borderTopWidth+a.borderBottomWidth,S=l&&u,x=i(n.width);x!==!1&&(a.width=x+(S?0:m+w));var T=i(n.height);return T!==!1&&(a.height=T+(S?0:g+E)),a.innerWidth=a.width-(m+w),a.innerHeight=a.height-(g+E),a.outerWidth=a.width+y,a.outerHeight=a.height+b,a}function f(e,t){if(n||t.indexOf("%")===-1)return t;var r=e.style,i=r.left,s=e.runtimeStyle,o=s&&s.left;return o&&(s.left=e.currentStyle.left),r.left=t,t=r.pixelLeft,r.left=i,o&&(s.left=o),t}var t=e("boxSizing"),u;return function(){if(!t)return;var e=document.createElement("div");e.style.width="200px",e.style.padding="1px 2px 3px 4px",e.style.borderStyle="solid",e.style.borderWidth="1px 2px 3px 4px",e.style[t]="border-box";var n=document.body||document.documentElement;n.appendChild(e);var s=r(e);u=i(s.width)===200,n.removeChild(e)}(),a}var n=e.getComputedStyle,r=n?function(e){return n(e,null)}:function(e){return e.currentStyle},s=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];typeof define=="function"&&define.amd?define("get-size/get-size",["get-style-property/get-style-property"],u):typeof exports=="object"?module.exports=u(require("get-style-property")):e.getSize=u(e.getStyleProperty)}(window),function(e,t){function r(e,t){return e[n](t)}function i(e){if(e.parentNode)return;var t=document.createDocumentFragment();t.appendChild(e)}function s(e,t){i(e);var n=e.parentNode.querySelectorAll(t);for(var r=0,s=n.length;r<s;r++)if(n[r]===e)return!0;return!1}function o(e,t){return i(e),r(e,t)}var n=function(){if(t.matchesSelector)return"matchesSelector";var e=["webkit","moz","ms","o"];for(var n=0,r=e.length;n<r;n++){var i=e[n],s=i+"MatchesSelector";if(t[s])return s}}(),u;if(n){var a=document.createElement("div"),f=r(a,"div");u=f?r:o}else u=s;typeof define=="function"&&define.amd?define("matches-selector/matches-selector",[],function(){return u}):window.matchesSelector=u}(this,Element.prototype),function(e){function r(e,t){for(var n in t)e[n]=t[n];return e}function i(e){for(var t in e)return!1;return t=null,!0}function s(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}function o(e,t,o){function d(e,t){if(!e)return;this.element=e,this.layout=t,this.position={x:0,y:0},this._create()}var u=o("transition"),a=o("transform"),f=u&&a,l=!!o("perspective"),c={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"}[u],h=["transform","transition","transitionDuration","transitionProperty"],p=function(){var e={};for(var t=0,n=h.length;t<n;t++){var r=h[t],i=o(r);i&&i!==r&&(e[r]=i)}return e}();r(d.prototype,e.prototype),d.prototype._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},d.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},d.prototype.getSize=function(){this.size=t(this.element)},d.prototype.css=function(e){var t=this.element.style;for(var n in e){var r=p[n]||n;t[r]=e[n]}},d.prototype.getPosition=function(){var e=n(this.element),t=this.layout.options,r=t.isOriginLeft,i=t.isOriginTop,s=parseInt(e[r?"left":"right"],10),o=parseInt(e[i?"top":"bottom"],10);s=isNaN(s)?0:s,o=isNaN(o)?0:o;var u=this.layout.size;s-=r?u.paddingLeft:u.paddingRight,o-=i?u.paddingTop:u.paddingBottom,this.position.x=s,this.position.y=o},d.prototype.layoutPosition=function(){var e=this.layout.size,t=this.layout.options,n={};t.isOriginLeft?(n.left=this.position.x+e.paddingLeft+"px",n.right=""):(n.right=this.position.x+e.paddingRight+"px",n.left=""),t.isOriginTop?(n.top=this.position.y+e.paddingTop+"px",n.bottom=""):(n.bottom=this.position.y+e.paddingBottom+"px",n.top=""),this.css(n),this.emitEvent("layout",[this])};var v=l?function(e,t){return"translate3d("+e+"px, "+t+"px, 0)"}:function(e,t){return"translate("+e+"px, "+t+"px)"};d.prototype._transitionTo=function(e,t){this.getPosition();var n=this.position.x,r=this.position.y,i=parseInt(e,10),s=parseInt(t,10),o=i===this.position.x&&s===this.position.y;this.setPosition(e,t);if(o&&!this.isTransitioning){this.layoutPosition();return}var u=e-n,a=t-r,f={},l=this.layout.options;u=l.isOriginLeft?u:-u,a=l.isOriginTop?a:-a,f.transform=v(u,a),this.transition({to:f,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})},d.prototype.goTo=function(e,t){this.setPosition(e,t),this.layoutPosition()},d.prototype.moveTo=f?d.prototype._transitionTo:d.prototype.goTo,d.prototype.setPosition=function(e,t){this.position.x=parseInt(e,10),this.position.y=parseInt(t,10)},d.prototype._nonTransition=function(e){this.css(e.to),e.isCleaning&&this._removeStyles(e.to);for(var t in e.onTransitionEnd)e.onTransitionEnd[t].call(this)},d.prototype._transition=function(e){if(!parseFloat(this.layout.options.transitionDuration)){this._nonTransition(e);return}var t=this._transn;for(var n in e.onTransitionEnd)t.onEnd[n]=e.onTransitionEnd[n];for(n in e.to)t.ingProperties[n]=!0,e.isCleaning&&(t.clean[n]=!0);if(e.from){this.css(e.from);var r=this.element.offsetHeight;r=null}this.enableTransition(e.to),this.css(e.to),this.isTransitioning=!0};var m=a&&s(a)+",opacity";d.prototype.enableTransition=function(){if(this.isTransitioning)return;this.css({transitionProperty:m,transitionDuration:this.layout.options.transitionDuration}),this.element.addEventListener(c,this,!1)},d.prototype.transition=d.prototype[u?"_transition":"_nonTransition"],d.prototype.onwebkitTransitionEnd=function(e){this.ontransitionend(e)},d.prototype.onotransitionend=function(e){this.ontransitionend(e)};var g={"-webkit-transform":"transform","-moz-transform":"transform","-o-transform":"transform"};d.prototype.ontransitionend=function(e){if(e.target!==this.element)return;var t=this._transn,n=g[e.propertyName]||e.propertyName;delete t.ingProperties[n],i(t.ingProperties)&&this.disableTransition(),n in t.clean&&(this.element.style[e.propertyName]="",delete t.clean[n]);if(n in t.onEnd){var r=t.onEnd[n];r.call(this),delete t.onEnd[n]}this.emitEvent("transitionEnd",[this])},d.prototype.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(c,this,!1),this.isTransitioning=!1},d.prototype._removeStyles=function(e){var t={};for(var n in e)t[n]="";this.css(t)};var y={transitionProperty:"",transitionDuration:""};return d.prototype.removeTransitionStyles=function(){this.css(y)},d.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element),this.emitEvent("remove",[this])},d.prototype.remove=function(){if(!u||!parseFloat(this.layout.options.transitionDuration)){this.removeElem();return}var e=this;this.on("transitionEnd",function(){return e.removeElem(),!0}),this.hide()},d.prototype.reveal=function(){delete this.isHidden,this.css({display:""});var e=this.layout.options;this.transition({from:e.hiddenStyle,to:e.visibleStyle,isCleaning:!0})},d.prototype.hide=function(){this.isHidden=!0,this.css({display:""});var e=this.layout.options;this.transition({from:e.visibleStyle,to:e.hiddenStyle,isCleaning:!0,onTransitionEnd:{opacity:function(){this.isHidden&&this.css({display:"none"})}}})},d.prototype.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},d}var t=e.getComputedStyle,n=t?function(e){return t(e,null)}:function(e){return e.currentStyle};typeof define=="function"&&define.amd?define("outlayer/item",["eventEmitter/EventEmitter","get-size/get-size","get-style-property/get-style-property"],o):(e.Outlayer={},e.Outlayer.Item=o(e.EventEmitter,e.getSize,e.getStyleProperty))}(window),function(e){function s(e,t){for(var n in t)e[n]=t[n];return e}function u(e){return o.call(e)==="[object Array]"}function a(e){var t=[];if(u(e))t=e;else if(e&&typeof e.length=="number")for(var n=0,r=e.length;n<r;n++)t.push(e[n]);else t.push(e);return t}function c(e,t){var n=l(t,e);n!==-1&&t.splice(n,1)}function h(e){return e.replace(/(.)([A-Z])/g,function(e,t,n){return t+"-"+n}).toLowerCase()}function p(o,u,l,p,d,v){function y(e,r){typeof e=="string"&&(e=t.querySelector(e));if(!e||!f(e)){n&&n.error("Bad "+this.constructor.namespace+" element: "+e);return}this.element=e,this.options=s({},this.constructor.defaults),this.option(r);var i=++m;this.element.outlayerGUID=i,g[i]=this,this._create(),this.options.isInitLayout&&this.layout()}var m=0,g={};return y.namespace="outlayer",y.Item=v,y.defaults={containerStyle:{position:"relative"},isInitLayout:!0,isOriginLeft:!0,isOriginTop:!0,isResizeBound:!0,isResizingContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}},s(y.prototype,l.prototype),y.prototype.option=function(e){s(this.options,e)},y.prototype._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),s(this.element.style,this.options.containerStyle),this.options.isResizeBound&&this.bindResize()},y.prototype.reloadItems=function(){this.items=this._itemize(this.element.children)},y.prototype._itemize=function(e){var t=this._filterFindItemElements(e),n=this.constructor.Item,r=[];for(var i=0,s=t.length;i<s;i++){var o=t[i],u=new n(o,this);r.push(u)}return r},y.prototype._filterFindItemElements=function(e){e=a(e);var t=this.options.itemSelector,n=[];for(var r=0,i=e.length;r<i;r++){var s=e[r];if(!f(s))continue;if(t){d(s,t)&&n.push(s);var o=s.querySelectorAll(t);for(var u=0,l=o.length;u<l;u++)n.push(o[u])}else n.push(s)}return n},y.prototype.getItemElements=function(){var e=[];for(var t=0,n=this.items.length;t<n;t++)e.push(this.items[t].element);return e},y.prototype.layout=function(){this._resetLayout(),this._manageStamps();var e=this.options.isLayoutInstant!==undefined?this.options.isLayoutInstant:!this._isLayoutInited;this.layoutItems(this.items,e),this._isLayoutInited=!0},y.prototype._init=y.prototype.layout,y.prototype._resetLayout=function(){this.getSize()},y.prototype.getSize=function(){this.size=p(this.element)},y.prototype._getMeasurement=function(e,t){var n=this.options[e],r;n?(typeof n=="string"?r=this.element.querySelector(n):f(n)&&(r=n),this[e]=r?p(r)[t]:n):this[e]=0},y.prototype.layoutItems=function(e,t){e=this._getItemsForLayout(e),this._layoutItems(e,t),this._postLayout()},y.prototype._getItemsForLayout=function(e){var t=[];for(var n=0,r=e.length;n<r;n++){var i=e[n];i.isIgnored||t.push(i)}return t},y.prototype._layoutItems=function(e,t){function r(){n.emitEvent("layoutComplete",[n,e])}var n=this;if(!e||!e.length){r();return}this._itemsOn(e,"layout",r);var i=[];for(var s=0,o=e.length;s<o;s++){var u=e[s],a=this._getItemLayoutPosition(u);a.item=u,a.isInstant=t||u.isLayoutInstant,i.push(a)}this._processLayoutQueue(i)},y.prototype._getItemLayoutPosition=function(){return{x:0,y:0}},y.prototype._processLayoutQueue=function(e){for(var t=0,n=e.length;t<n;t++){var r=e[t];this._positionItem(r.item,r.x,r.y,r.isInstant)}},y.prototype._positionItem=function(e,t,n,r){r?e.goTo(t,n):e.moveTo(t,n)},y.prototype._postLayout=function(){this.resizeContainer()},y.prototype.resizeContainer=function(){if(!this.options.isResizingContainer)return;var e=this._getContainerSize();e&&(this._setContainerMeasure(e.width,!0),this._setContainerMeasure(e.height,!1))},y.prototype._getContainerSize=i,y.prototype._setContainerMeasure=function(e,t){if(e===undefined)return;var n=this.size;n.isBorderBox&&(e+=t?n.paddingLeft+n.paddingRight+n.borderLeftWidth+n.borderRightWidth:n.paddingBottom+n.paddingTop+n.borderTopWidth+n.borderBottomWidth),e=Math.max(e,0),this.element.style[t?"width":"height"]=e+"px"},y.prototype._itemsOn=function(e,t,n){function o(){return r++,r===i&&n.call(s),!0}var r=0,i=e.length,s=this;for(var u=0,a=e.length;u<a;u++){var f=e[u];f.on(t,o)}},y.prototype.ignore=function(e){var t=this.getItem(e);t&&(t.isIgnored=!0)},y.prototype.unignore=function(e){var t=this.getItem(e);t&&delete t.isIgnored},y.prototype.stamp=function(e){e=this._find(e);if(!e)return;this.stamps=this.stamps.concat(e);for(var t=0,n=e.length;t<n;t++){var r=e[t];this.ignore(r)}},y.prototype.unstamp=function(e){e=this._find(e);if(!e)return;for(var t=0,n=e.length;t<n;t++){var r=e[t];c(r,this.stamps),this.unignore(r)}},y.prototype._find=function(e){if(!e)return;return typeof e=="string"&&(e=this.element.querySelectorAll(e)),e=a(e),e},y.prototype._manageStamps=function(){if(!this.stamps||!this.stamps.length)return;this._getBoundingRect();for(var e=0,t=this.stamps.length;e<t;e++){var n=this.stamps[e];this._manageStamp(n)}},y.prototype._getBoundingRect=function(){var e=this.element.getBoundingClientRect(),t=this.size;this._boundingRect={left:e.left+t.paddingLeft+t.borderLeftWidth,top:e.top+t.paddingTop+t.borderTopWidth,right:e.right-(t.paddingRight+t.borderRightWidth),bottom:e.bottom-(t.paddingBottom+t.borderBottomWidth)}},y.prototype._manageStamp=i,y.prototype._getElementOffset=function(e){var t=e.getBoundingClientRect(),n=this._boundingRect,r=p(e),i={left:t.left-n.left-r.marginLeft,top:t.top-n.top-r.marginTop,right:n.right-t.right-r.marginRight,bottom:n.bottom-t.bottom-r.marginBottom};return i},y.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},y.prototype.bindResize=function(){if(this.isResizeBound)return;o.bind(e,"resize",this),this.isResizeBound=!0},y.prototype.unbindResize=function(){this.isResizeBound&&o.unbind(e,"resize",this),this.isResizeBound=!1},y.prototype.onresize=function(){function t(){e.resize(),delete e.resizeTimeout}this.resizeTimeout&&clearTimeout(this.resizeTimeout);var e=this;this.resizeTimeout=setTimeout(t,100)},y.prototype.resize=function(){if(!this.isResizeBound||!this.needsResizeLayout())return;this.layout()},y.prototype.needsResizeLayout=function(){var e=p(this.element),t=this.size&&e;return t&&e.innerWidth!==this.size.innerWidth},y.prototype.addItems=function(e){var t=this._itemize(e);return t.length&&(this.items=this.items.concat(t)),t},y.prototype.appended=function(e){var t=this.addItems(e);if(!t.length)return;this.layoutItems(t,!0),this.reveal(t)},y.prototype.prepended=function(e){var t=this._itemize(e);if(!t.length)return;var n=this.items.slice(0);this.items=t.concat(n),this._resetLayout(),this._manageStamps(),this.layoutItems(t,!0),this.reveal(t),this.layoutItems(n)},y.prototype.reveal=function(e){var t=e&&e.length;if(!t)return;for(var n=0;n<t;n++){var r=e[n];r.reveal()}},y.prototype.hide=function(e){var t=e&&e.length;if(!t)return;for(var n=0;n<t;n++){var r=e[n];r.hide()}},y.prototype.getItem=function(e){for(var t=0,n=this.items.length;t<n;t++){var r=this.items[t];if(r.element===e)return r}},y.prototype.getItems=function(e){if(!e||!e.length)return;var t=[];for(var n=0,r=e.length;n<r;n++){var i=e[n],s=this.getItem(i);s&&t.push(s)}return t},y.prototype.remove=function(e){e=a(e);var t=this.getItems(e);if(!t||!t.length)return;this._itemsOn(t,"remove",function(){this.emitEvent("removeComplete",[this,t])});for(var n=0,r=t.length;n<r;n++){var i=t[n];i.remove(),c(i,this.items)}},y.prototype.destroy=function(){var e=this.element.style;e.height="",e.position="",e.width="";for(var t=0,n=this.items.length;t<n;t++){var i=this.items[t];i.destroy()}this.unbindResize(),delete this.element.outlayerGUID,r&&r.removeData(this.element,this.constructor.namespace)},y.data=function(e){var t=e&&e.outlayerGUID;return t&&g[t]},y.create=function(e,i){function o(){y.apply(this,arguments)}return Object.create?o.prototype=Object.create(y.prototype):s(o.prototype,y.prototype),o.prototype.constructor=o,o.defaults=s({},y.defaults),s(o.defaults,i),o.prototype.settings={},o.namespace=e,o.data=y.data,o.Item=function(){v.apply(this,arguments)},o.Item.prototype=new v,u(function(){var i=h(e),s=t.querySelectorAll(".js-"+i),u="data-"+i+"-options";for(var a=0,f=s.length;a<f;a++){var l=s[a],c=l.getAttribute(u),p;try{p=c&&JSON.parse(c)}catch(d){n&&n.error("Error parsing "+u+" on "+l.nodeName.toLowerCase()+(l.id?"#"+l.id:"")+": "+d);continue}var v=new o(l,p);r&&r.data(l,e,v)}}),r&&r.bridget&&r.bridget(e,o),o},y.Item=v,y}var t=e.document,n=e.console,r=e.jQuery,i=function(){},o=Object.prototype.toString,f=typeof HTMLElement=="object"?function(t){return t instanceof HTMLElement}:function(t){return t&&typeof t=="object"&&t.nodeType===1&&typeof t.nodeName=="string"},l=Array.prototype.indexOf?function(e,t){return e.indexOf(t)}:function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1};typeof define=="function"&&define.amd?define("outlayer/outlayer",["eventie/eventie","doc-ready/doc-ready","eventEmitter/EventEmitter","get-size/get-size","matches-selector/matches-selector","./item"],p):e.Outlayer=p(e.eventie,e.docReady,e.EventEmitter,e.getSize,e.matchesSelector,e.Outlayer.Item)}(window),function(e){function t(e){function t(){e.Item.apply(this,arguments)}return t.prototype=new e.Item,t.prototype._create=function(){this.id=this.layout.itemGUID++,e.Item.prototype._create.call(this),this.sortData={}},t.prototype.updateSortData=function(){if(this.isIgnored)return;this.sortData.id=this.id,this.sortData["original-order"]=this.id,this.sortData.random=Math.random();var e=this.layout.options.getSortData,t=this.layout._sorters;for(var n in e){var r=t[n];this.sortData[n]=r(this.element,this)}},t}typeof define=="function"&&define.amd?define("isotope/js/item",["outlayer/outlayer"],t):(e.Isotope=e.Isotope||{},e.Isotope.Item=t(e.Outlayer))}(window),function(e){function t(e,t){function n(e){this.isotope=e,e&&(this.options=e.options[this.namespace],this.element=e.element,this.items=e.filteredItems,this.size=e.size)}return function(){function o(e){return function(){return t.prototype[e].apply(this.isotope,arguments)}}var e=["_resetLayout","_getItemLayoutPosition","_manageStamp","_getContainerSize","_getElementOffset","needsResizeLayout"];for(var r=0,i=e.length;r<i;r++){var s=e[r];n.prototype[s]=o(s)}}(),n.prototype.needsVerticalResizeLayout=function(){var t=e(this.isotope.element),n=this.isotope.size&&t;return n&&t.innerHeight!==this.isotope.size.innerHeight},n.prototype._getMeasurement=function(){this.isotope._getMeasurement.apply(this,arguments)},n.prototype.getColumnWidth=function(){this.getSegmentSize("column","Width")},n.prototype.getRowHeight=function(){this.getSegmentSize("row","Height")},n.prototype.getSegmentSize=function(e,t){var n=e+t,r="outer"+t;this._getMeasurement(n,r);if(this[n])return;var i=this.getFirstItemSize();this[n]=i&&i[r]||this.isotope.size["inner"+t]},n.prototype.getFirstItemSize=function(){var t=this.isotope.filteredItems[0];return t&&t.element&&e(t.element)},n.prototype.layout=function(){this.isotope.layout.apply(this.isotope,arguments)},n.prototype.getSize=function(){this.isotope.getSize(),this.size=this.isotope.size},n.modes={},n.create=function(e,t){function r(){n.apply(this,arguments)}return r.prototype=new n,t&&(r.options=t),r.prototype.namespace=e,n.modes[e]=r,r},n}typeof define=="function"&&define.amd?define("isotope/js/layout-mode",["get-size/get-size","outlayer/outlayer"],t):(e.Isotope=e.Isotope||{},e.Isotope.LayoutMode=t(e.getSize,e.Outlayer))}(window),function(e){function n(e,n){var r=e.create("masonry");return r.prototype._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns();var e=this.cols;this.colYs=[];while(e--)this.colYs.push(0);this.maxY=0},r.prototype.measureColumns=function(){this.getContainerWidth();if(!this.columnWidth){var e=this.items[0],t=e&&e.element;this.columnWidth=t&&n(t).outerWidth||this.containerWidth}this.columnWidth+=this.gutter,this.cols=Math.floor((this.containerWidth+this.gutter)/this.columnWidth),this.cols=Math.max(this.cols,1)},r.prototype.getContainerWidth=function(){var e=this.options.isFitWidth?this.element.parentNode:this.element,t=n(e);this.containerWidth=t&&t.innerWidth},r.prototype._getItemLayoutPosition=function(e){e.getSize();var n=e.size.outerWidth%this.columnWidth,r=n&&n<1?"round":"ceil",i=Math[r](e.size.outerWidth/this.columnWidth);i=Math.min(i,this.cols);var s=this._getColGroup(i),o=Math.min.apply(Math,s),u=t(s,o),a={x:this.columnWidth*u,y:o},f=o+e.size.outerHeight,l=this.cols+1-s.length;for(var c=0;c<l;c++)this.colYs[u+c]=f;return a},r.prototype._getColGroup=function(e){if(e<2)return this.colYs;var t=[],n=this.cols+1-e;for(var r=0;r<n;r++){var i=this.colYs.slice(r,r+e);t[r]=Math.max.apply(Math,i)}return t},r.prototype._manageStamp=function(e){var t=n(e),r=this._getElementOffset(e),i=this.options.isOriginLeft?r.left:r.right,s=i+t.outerWidth,o=Math.floor(i/this.columnWidth);o=Math.max(0,o);var u=Math.floor(s/this.columnWidth);u-=s%this.columnWidth?0:1,u=Math.min(this.cols-1,u);var a=(this.options.isOriginTop?r.top:r.bottom)+t.outerHeight;for(var f=o;f<=u;f++)this.colYs[f]=Math.max(a,this.colYs[f])},r.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var e={height:this.maxY};return this.options.isFitWidth&&(e.width=this._getContainerFitWidth()),e},r.prototype._getContainerFitWidth=function(){var e=0,t=this.cols;while(--t){if(this.colYs[t]!==0)break;e++}return(this.cols-e)*this.columnWidth-this.gutter},r.prototype.needsResizeLayout=function(){var e=this.containerWidth;return this.getContainerWidth(),e!==this.containerWidth},r}var t=Array.prototype.indexOf?function(e,t){return e.indexOf(t)}:function(e,t){for(var n=0,r=e.length;n<r;n++){var i=e[n];if(i===t)return n}return-1};typeof define=="function"&&define.amd?define("masonry/masonry",["outlayer/outlayer","get-size/get-size"],n):e.Masonry=n(e.Outlayer,e.getSize)}(window),function(e){function t(e,t){for(var n in t)e[n]=t[n];return e}function n(e,n){var r=e.create("masonry"),i=r.prototype._getElementOffset,s=r.prototype.layout,o=r.prototype._getMeasurement;t(r.prototype,n.prototype),r.prototype._getElementOffset=i,r.prototype.layout=s,r.prototype._getMeasurement=o;var u=r.prototype.measureColumns;r.prototype.measureColumns=function(){this.items=this.isotope.filteredItems,u.call(this)};var a=r.prototype._manageStamp;return r.prototype._manageStamp=function(){this.options.isOriginLeft=this.isotope.options.isOriginLeft,this.options.isOriginTop=this.isotope.options.isOriginTop,a.apply(this,arguments)},r}typeof define=="function"&&define.amd?define("isotope/js/layout-modes/masonry",["../layout-mode","masonry/masonry"],n):n(e.Isotope.LayoutMode,e.Masonry)}(window),function(e){function t(e){var t=e.create("fitRows");return t.prototype._resetLayout=function(){this.x=0,this.y=0,this.maxY=0},t.prototype._getItemLayoutPosition=function(e){e.getSize(),this.x!==0&&e.size.outerWidth+this.x>this.isotope.size.innerWidth&&(this.x=0,this.y=this.maxY);var t={x:this.x,y:this.y};return this.maxY=Math.max(this.maxY,this.y+e.size.outerHeight),this.x+=e.size.outerWidth,t},t.prototype._getContainerSize=function(){return{height:this.maxY}},t}typeof define=="function"&&define.amd?define("isotope/js/layout-modes/fit-rows",["../layout-mode"],t):t(e.Isotope.LayoutMode)}(window),function(e){function t(e){var t=e.create("vertical",{horizontalAlignment:0});return t.prototype._resetLayout=function(){this.y=0},t.prototype._getItemLayoutPosition=function(e){e.getSize();var t=(this.isotope.size.innerWidth-e.size.outerWidth)*this.options.horizontalAlignment,n=this.y;return this.y+=e.size.outerHeight,{x:t,y:n}},t.prototype._getContainerSize=function(){return{height:this.y}},t}typeof define=="function"&&define.amd?define("isotope/js/layout-modes/vertical",["../layout-mode"],t):t(e.Isotope.LayoutMode)}(window),function(e){function n(e,t){for(var n in t)e[n]=t[n];return e}function u(e){return o.call(e)==="[object Array]"}function f(e){var t=[];if(u(e))t=e;else if(e&&typeof e.length=="number")for(var n=0,r=e.length;n<r;n++)t.push(e[n]);else t.push(e);return t}function l(e,t){var n=a(t,e);n!==-1&&t.splice(n,1)}function c(e,i,o,u,a){function p(e,t){return function(r,i){for(var s=0,o=e.length;s<o;s++){var u=e[s],a=r.sortData[u],f=i.sortData[u];if(a>f||a<f){var l=t[u]!==undefined?t[u]:t,c=l?1:-1;return(a>f?1:-1)*c}}return 0}}var c=e.create("isotope",{layoutMode:"masonry",isJQueryFiltering:!0,sortAscending:!0});c.Item=u,c.LayoutMode=a,c.prototype._create=function(){this.itemGUID=0,this._sorters={},this._getSorters(),e.prototype._create.call(this),this.modes={},this.filteredItems=this.items,this.sortHistory=["original-order"];for(var t in a.modes)this._initLayoutMode(t)},c.prototype.reloadItems=function(){this.itemGUID=0,e.prototype.reloadItems.call(this)},c.prototype._itemize=function(){var t=e.prototype._itemize.apply(this,arguments);for(var n=0,r=t.length;n<r;n++){var i=t[n];i.id=this.itemGUID++}return this._updateItemsSortData(t),t},c.prototype._initLayoutMode=function(e){var t=a.modes[e],r=this.options[e]||{};this.options[e]=t.options?n(t.options,r):r,this.modes[e]=new t(this)},c.prototype.layout=function(){if(!this._isLayoutInited&&this.options.isInitLayout){this.arrange();return}this._layout()},c.prototype._layout=function(){var e=this._getIsInstant();this._resetLayout(),this._manageStamps(),this.layoutItems(this.filteredItems,e),this._isLayoutInited=!0},c.prototype.arrange=function(e){this.option(e),this._getIsInstant(),this.filteredItems=this._filter(this.items),this._sort(),this._layout()},c.prototype._init=c.prototype.arrange,c.prototype._getIsInstant=function(){var e=this.options.isLayoutInstant!==undefined?this.options.isLayoutInstant:!this._isLayoutInited;return this._isInstant=e,e},c.prototype._filter=function(e){function c(){l.reveal(r),l.hide(i)}var t=this.options.filter;t=t||"*";var n=[],r=[],i=[],s=this._getFilterTest(t);for(var o=0,u=e.length;o<u;o++){var a=e[o];if(a.isIgnored)continue;var f=s(a);f&&n.push(a),f&&a.isHidden?r.push(a):!f&&!a.isHidden&&i.push(a)}var l=this;return this._isInstant?this._noTransition(c):c(),n},c.prototype._getFilterTest=function(e){return t&&this.options.isJQueryFiltering?function(n){return t(n.element).is(e)}:typeof e=="function"?function(t){return e(t.element)}:function(t){return o(t.element,e)}},c.prototype.updateSortData=function(e){this._getSorters(),e=f(e);var t=this.getItems(e);t=t.length?t:this.items,this._updateItemsSortData(t)},c.prototype._getSorters=function(){var e=this.options.getSortData;for(var t in e){var n=e[t];this._sorters[t]=h(n)}},c.prototype._updateItemsSortData=function(e){for(var t=0,n=e.length;t<n;t++){var r=e[t];r.updateSortData()}};var h=function(){function e(e){if(typeof e!="string")return e;var n=r(e).split(" "),i=n[0],s=i.match(/^\[(.+)\]$/),o=s&&s[1],u=t(o,i),a=c.sortDataParsers[n[1]];return e=a?function(e){return e&&a(u(e))}:function(e){return e&&u(e)},e}function t(e,t){var n;return e?n=function(t){return t.getAttribute(e)}:n=function(e){var n=e.querySelector(t);return n&&s(n)},n}return e}();c.sortDataParsers={parseInt:function(e){return parseInt(e,10)},parseFloat:function(e){return parseFloat(e)}},c.prototype._sort=function(){var e=this.options.sortBy;if(!e)return;var t=[].concat.apply(e,this.sortHistory),n=p(t,this.options.sortAscending);this.filteredItems.sort(n),e!==this.sortHistory[0]&&this.sortHistory.unshift(e)},c.prototype._mode=function(){var e=this.options.layoutMode,t=this.modes[e];if(!t)throw new Error("No layout mode: "+e);return t.options=this.options[e],t},c.prototype._resetLayout=function(){e.prototype._resetLayout.call(this),this._mode()._resetLayout()},c.prototype._getItemLayoutPosition=function(e){return this._mode()._getItemLayoutPosition(e)},c.prototype._manageStamp=function(e){this._mode()._manageStamp(e)},c.prototype._getContainerSize=function(){return this._mode()._getContainerSize()},c.prototype.needsResizeLayout=function(){return this._mode().needsResizeLayout()},c.prototype.appended=function(e){var t=this.addItems(e);if(!t.length)return;var n=this._filterRevealAdded(t);this.filteredItems=this.filteredItems.concat(n)},c.prototype.prepended=function(e){var t=this._itemize(e);if(!t.length)return;var n=this.items.slice(0);this.items=t.concat(n),this._resetLayout(),this._manageStamps();var r=this._filterRevealAdded(t);this.layoutItems(n),this.filteredItems=r.concat(this.filteredItems)},c.prototype._filterRevealAdded=function(e){var t=this._noTransition(function(){return this._filter(e)});return this.layoutItems(t,!0),this.reveal(t),e},c.prototype.insert=function(e){var t=this.addItems(e);if(!t.length)return;var n,r,i=t.length;for(n=0;n<i;n++)r=t[n],this.element.appendChild(r.element);var s=this._filter(t);this._noTransition(function(){this.hide(s)});for(n=0;n<i;n++)t[n].isLayoutInstant=!0;this.arrange();for(n=0;n<i;n++)delete t[n].isLayoutInstant;this.reveal(s)};var d=c.prototype.remove;return c.prototype.remove=function(e){e=f(e);var t=this.getItems(e);d.call(this,e);if(!t||!t.length)return;for(var n=0,r=t.length;n<r;n++){var i=t[n];l(i,this.filteredItems)}},c.prototype._noTransition=function(e){var t=this.options.transitionDuration;this.options.transitionDuration=0;var n=e.call(this);return this.options.transitionDuration=t,n},c}var t=e.jQuery,r=String.prototype.trim?function(e){return e.trim()}:function(e){return e.replace(/^\s+|\s+$/g,"")},i=document.documentElement,s=i.textContent?function(e){return e.textContent}:function(e){return e.innerText},o=Object.prototype.toString,a=Array.prototype.indexOf?function(e,t){return e.indexOf(t)}:function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1};typeof define=="function"&&define.amd?define("isotope",["outlayer/outlayer","get-size/get-size","matches-selector/matches-selector","isotope/js/item","isotope/js/layout-mode","isotope/js/layout-modes/masonry","isotope/js/layout-modes/fit-rows","isotope/js/layout-modes/vertical"],c):e.Isotope=c(e.Outlayer,e.getSize,e.matchesSelector,e.Isotope.Item,e.Isotope.LayoutMode)}(window),function(e){typeof define=="function"&&define.amd?define("nicescroll",["jquery"],e):e(jQuery)}(function(e){function a(){var e=document.getElementsByTagName("script"),t=e[e.length-1].src.split("?")[0];return t.split("/").length>0?t.split("/").slice(0,-1).join("/")+"/":""}function x(e,t,n){for(var r=0;r<t.length;r++)n(e,t[r])}var t=!1,n=!1,r=!1,i=5e3,s=2e3,o=0,u=e,f=["ms","moz","webkit","o"],l=window.requestAnimationFrame||!1,c=window.cancelAnimationFrame||!1;if(!l)for(var h in f){var p=f[h];l||(l=window[p+"RequestAnimationFrame"]),c||(c=window[p+"CancelAnimationFrame"]||window[p+"CancelRequestAnimationFrame"])}var d=window.MutationObserver||window.WebKitMutationObserver||!1,v={zindex:"auto",cursoropacitymin:0,cursoropacitymax:1,cursorcolor:"#424242",cursorwidth:"5px",cursorborder:"1px solid #fff",cursorborderradius:"5px",scrollspeed:60,mousescrollstep:24,touchbehavior:!1,hwacceleration:!0,usetransition:!0,boxzoom:!1,dblclickzoom:!0,gesturezoom:!0,grabcursorenabled:!0,autohidemode:!0,background:"",iframeautoresize:!0,cursorminheight:32,preservenativescrolling:!0,railoffset:!1,bouncescroll:!0,spacebarenabled:!0,railpadding:{top:0,right:0,left:0,bottom:0},disableoutline:!0,horizrailenabled:!0,railalign:"right",railvalign:"bottom",enabletranslate3d:!0,enablemousewheel:!0,enablekeyboard:!0,smoothscroll:!0,sensitiverail:!0,enablemouselockapi:!0,cursorfixedheight:!1,directionlockdeadzone:6,hidecursordelay:400,nativeparentscrolling:!0,enablescrollonselection:!0,overflowx:!0,overflowy:!0,cursordragspeed:.3,rtlmode:"auto",cursordragontouch:!1,oneaxismousemode:"auto",scriptpath:a()},m=!1,g=function(){function o(){var n=["-moz-grab","-webkit-grab","grab"];if(t.ischrome&&!t.ischrome22||t.isie)n=[];for(var r=0;r<n.length;r++){var i=n[r];e.style.cursor=i;if(e.style["cursor"]==i)return i}return"url(http://www.google.com/intl/en_ALL/mapfiles/openhand.cur),n-resize"}if(m)return m;var e=document.createElement("DIV"),t={};t.haspointerlock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,t.isopera="opera"in window,t.isopera12=t.isopera&&"getUserMedia"in navigator,t.isoperamini=Object.prototype.toString.call(window.operamini)==="[object OperaMini]",t.isie="all"in document&&"attachEvent"in e&&!t.isopera,t.isieold=t.isie&&!("msInterpolationMode"in e.style),t.isie7=t.isie&&!t.isieold&&(!("documentMode"in document)||document.documentMode==7),t.isie8=t.isie&&"documentMode"in document&&document.documentMode==8,t.isie9=t.isie&&"performance"in window&&document.documentMode>=9,t.isie10=t.isie&&"performance"in window&&document.documentMode>=10,t.isie9mobile=/iemobile.9/i.test(navigator.userAgent),t.isie9mobile&&(t.isie9=!1),t.isie7mobile=!t.isie9mobile&&t.isie7&&/iemobile/i.test(navigator.userAgent),t.ismozilla="MozAppearance"in e.style,t.iswebkit="WebkitAppearance"in e.style,t.ischrome="chrome"in window,t.ischrome22=t.ischrome&&t.haspointerlock,t.ischrome26=t.ischrome&&"transition"in e.style,t.cantouch="ontouchstart"in document.documentElement||"ontouchstart"in window,t.hasmstouch=window.navigator.msPointerEnabled||!1,t.ismac=/^mac$/i.test(navigator.platform),t.isios=t.cantouch&&/iphone|ipad|ipod/i.test(navigator.platform),t.isios4=t.isios&&!("seal"in Object),t.isandroid=/android/i.test(navigator.userAgent),t.trstyle=!1,t.hastransform=!1,t.hastranslate3d=!1,t.transitionstyle=!1,t.hastransition=!1,t.transitionend=!1;var n=["transform","msTransform","webkitTransform","MozTransform","OTransform"];for(var r=0;r<n.length;r++)if(typeof e.style[n[r]]!="undefined"){t.trstyle=n[r];break}t.hastransform=t.trstyle!=0,t.hastransform&&(e.style[t.trstyle]="translate3d(1px,2px,3px)",t.hastranslate3d=/translate3d/.test(e.style[t.trstyle])),t.transitionstyle=!1,t.prefixstyle="",t.transitionend=!1;var n=["transition","webkitTransition","MozTransition","OTransition","OTransition","msTransition","KhtmlTransition"],i=["","-webkit-","-moz-","-o-","-o","-ms-","-khtml-"],s=["transitionend","webkitTransitionEnd","transitionend","otransitionend","oTransitionEnd","msTransitionEnd","KhtmlTransitionEnd"];for(var r=0;r<n.length;r++)if(n[r]in e.style){t.transitionstyle=n[r],t.prefixstyle=i[r],t.transitionend=s[r];break}return t.ischrome26&&(t.prefixstyle=i[1]),t.hastransition=t.transitionstyle,t.cursorgrabvalue=o(),t.hasmousecapture="setCapture"in e,t.hasMutationObserver=d!==!1,e=null,m=t,t},y=function(e,r){function w(){var e=a.win;if("zIndex"in e)return e.zIndex();while(e.length>0){if(e[0].nodeType==9)return!1;var t=e.css("zIndex");if(!isNaN(t)&&t!=0)return parseInt(t);e=e.parent()}return!1}function S(e,t,n){var r=e.css(t),i=parseFloat(r);if(isNaN(i)){i=E[r]||0;var s=i==3?n?a.win.outerHeight()-a.win.innerHeight():a.win.outerWidth()-a.win.innerWidth():1;return a.isie8&&i&&(i+=1),s?i:0}return i}function x(e,t,n,r){a._bind(e,t,function(r){var r=r?r:window.event,i={original:r,target:r.target||r.srcElement,type:"wheel",deltaMode:r.type=="MozMousePixelScroll"?0:1,deltaX:0,deltaZ:0,preventDefault:function(){return r.preventDefault?r.preventDefault():r.returnValue=!1,!1},stopImmediatePropagation:function(){r.stopImmediatePropagation?r.stopImmediatePropagation():r.cancelBubble=!0}};return t=="mousewheel"?(i.deltaY=-1/40*r.wheelDelta,r.wheelDeltaX&&(i.deltaX=-1/40*r.wheelDeltaX)):i.deltaY=r.detail,n.call(e,i)},r)}function T(e,t,n){var r,i,s=1;e.deltaMode==0?(r=-Math.floor(e.deltaX*(a.opt.mousescrollstep/54)),i=-Math.floor(e.deltaY*(a.opt.mousescrollstep/54))):e.deltaMode==1&&(r=-Math.floor(e.deltaX*a.opt.mousescrollstep),i=-Math.floor(e.deltaY*a.opt.mousescrollstep)),t&&a.opt.oneaxismousemode&&r==0&&i&&(r=i,i=0),r&&(a.scrollmom&&a.scrollmom.stop(),a.lastdeltax+=r,a.debounced("mousewheelx",function(){var e=a.lastdeltax;a.lastdeltax=0,a.rail.drag||a.doScrollLeftBy(e)},15));if(i){if(a.opt.nativeparentscrolling&&n&&!a.ispage&&!a.zoomactive)if(i<0){if(a.getScrollTop()>=a.page.maxh)return!0}else if(a.getScrollTop()<=0)return!0;a.scrollmom&&a.scrollmom.stop(),a.lastdeltay+=i,a.debounced("mousewheely",function(){var e=a.lastdeltay;a.lastdeltay=0,a.rail.drag||a.doScrollBy(e)},15)}return e.stopImmediatePropagation(),e.preventDefault()}var a=this;this.version="3.5.4",this.name="nicescroll",this.me=r,this.opt={doc:u("body"),win:!1},u.extend(this.opt,v),this.opt.snapbackspeed=80;if(e||!1)for(var f in a.opt)typeof e[f]!="undefined"&&(a.opt[f]=e[f]);this.doc=a.opt.doc,this.iddoc=this.doc&&this.doc[0]?this.doc[0].id||"":"",this.ispage=/^BODY|HTML/.test(a.opt.win?a.opt.win[0].nodeName:this.doc[0].nodeName),this.haswrapper=a.opt.win!==!1,this.win=a.opt.win||(this.ispage?u(window):this.doc),this.docscroll=this.ispage&&!this.haswrapper?u(window):this.win,this.body=u("body"),this.viewport=!1,this.isfixed=!1,this.iframe=!1,this.isiframe=this.doc[0].nodeName=="IFRAME"&&this.win[0].nodeName=="IFRAME",this.istextarea=this.win[0].nodeName=="TEXTAREA",this.forcescreen=!1,this.canshowonmouseevent=a.opt.autohidemode!="scroll",this.onmousedown=!1,this.onmouseup=!1,this.onmousemove=!1,this.onmousewheel=!1,this.onkeypress=!1,this.ongesturezoom=!1,this.onclick=!1,this.onscrollstart=!1,this.onscrollend=!1,this.onscrollcancel=!1,this.onzoomin=!1,this.onzoomout=!1,this.view=!1,this.page=!1,this.scroll={x:0,y:0},this.scrollratio={x:0,y:0},this.cursorheight=20,this.scrollvaluemax=0,this.isrtlmode=!1,this.scrollrunning=!1,this.scrollmom=!1,this.observer=!1,this.observerremover=!1;do this.id="ascrail"+s++;while(document.getElementById(this.id));this.rail=!1,this.cursor=!1,this.cursorfreezed=!1,this.selectiondrag=!1,this.zoom=!1,this.zoomactive=!1,this.hasfocus=!1,this.hasmousefocus=!1,this.visibility=!0,this.locked=!1,this.hidden=!1,this.cursoractive=!0,this.wheelprevented=!1,this.overflowx=a.opt.overflowx,this.overflowy=a.opt.overflowy,this.nativescrollingarea=!1,this.checkarea=0,this.events=[],this.saved={},this.delaylist={},this.synclist={},this.lastdeltax=0,this.lastdeltay=0,this.detected=g();var h=u.extend({},this.detected);this.canhwscroll=h.hastransform&&a.opt.hwacceleration,this.ishwscroll=this.canhwscroll&&a.haswrapper,this.istouchcapable=!1,h.cantouch&&h.ischrome&&!h.isios&&!h.isandroid&&(this.istouchcapable=!0,h.cantouch=!1),h.cantouch&&h.ismozilla&&!h.isios&&!h.isandroid&&(this.istouchcapable=!0,h.cantouch=!1),a.opt.enablemouselockapi||(h.hasmousecapture=!1,h.haspointerlock=!1),this.delayed=function(e,t,n,r){var i=a.delaylist[e],s=(new Date).getTime();if(!r&&i&&i.tt)return!1;i&&i.tt&&clearTimeout(i.tt);if(i&&i.last+n>s&&!i.tt)a.delaylist[e]={last:s+n,tt:setTimeout(function(){if(a||!1)a.delaylist[e].tt=0,t.call()},n)};else if(!i||!i.tt)a.delaylist[e]={last:s,tt:0},setTimeout(function(){t.call()},0)},this.debounced=function(e,t,n){var r=a.delaylist[e],i=(new Date).getTime();a.delaylist[e]=t,r||setTimeout(function(){var t=a.delaylist[e];a.delaylist[e]=!1,t.call()},n)};var p=!1;this.synched=function(e,t){function n(){if(p)return;l(function(){p=!1;for(e in a.synclist){var t=a.synclist[e];t&&t.call(a),a.synclist[e]=!1}}),p=!0}return a.synclist[e]=t,n(),e},this.unsynched=function(e){a.synclist[e]&&(a.synclist[e]=!1)},this.css=function(e,t){for(var n in t)a.saved.css.push([e,n,e.css(n)]),e.css(n,t[n])},this.scrollTop=function(e){return typeof e=="undefined"?a.getScrollTop():a.setScrollTop(e)},this.scrollLeft=function(e){return typeof e=="undefined"?a.getScrollLeft():a.setScrollLeft(e)},BezierClass=function(e,t,n,r,i,s,o){this.st=e,this.ed=t,this.spd=n,this.p1=r||0,this.p2=i||1,this.p3=s||0,this.p4=o||1,this.ts=(new Date).getTime(),this.df=this.ed-this.st},BezierClass.prototype={B2:function(e){return 3*e*e*(1-e)},B3:function(e){return 3*e*(1-e)*(1-e)},B4:function(e){return(1-e)*(1-e)*(1-e)},getNow:function(){var e=(new Date).getTime(),t=1-(e-this.ts)/this.spd,n=this.B2(t)+this.B3(t)+this.B4(t);return t<0?this.ed:this.st+Math.round(this.df*n)},update:function(e,t){return this.st=this.getNow(),this.ed=e,this.spd=t,this.ts=(new Date).getTime(),this.df=this.ed-this.st,this}};if(this.ishwscroll){this.doc.translate={x:0,y:0,tx:"0px",ty:"0px"},h.hastranslate3d&&h.isios&&this.doc.css("-webkit-backface-visibility","hidden");function m(){var e=a.doc.css(h.trstyle);return e&&e.substr(0,6)=="matrix"?e.replace(/^.*\((.*)\)$/g,"$1").replace(/px/g,"").split(/, +/):!1}this.getScrollTop=function(e){if(!e){var t=m();if(t)return t.length==16?-t[13]:-t[5];if(a.timerscroll&&a.timerscroll.bz)return a.timerscroll.bz.getNow()}return a.doc.translate.y},this.getScrollLeft=function(e){if(!e){var t=m();if(t)return t.length==16?-t[12]:-t[4];if(a.timerscroll&&a.timerscroll.bh)return a.timerscroll.bh.getNow()}return a.doc.translate.x},document.createEvent?this.notifyScrollEvent=function(e){var t=document.createEvent("UIEvents");t.initUIEvent("scroll",!1,!0,window,1),e.dispatchEvent(t)}:document.fireEvent?this.notifyScrollEvent=function(e){var t=document.createEventObject();e.fireEvent("onscroll"),t.cancelBubble=!0}:this.notifyScrollEvent=function(e,t){};var y=-1;h.hastranslate3d&&a.opt.enabletranslate3d?(this.setScrollTop=function(e,t){a.doc.translate.y=e,a.doc.translate.ty=e*-1+"px",a.doc.css(h.trstyle,"translate3d("+a.doc.translate.tx+","+a.doc.translate.ty+",0px)"),t||a.notifyScrollEvent(a.win[0])},this.setScrollLeft=function(e,t){a.doc.translate.x=e,a.doc.translate.tx=e*y+"px",a.doc.css(h.trstyle,"translate3d("+a.doc.translate.tx+","+a.doc.translate.ty+",0px)"),t||a.notifyScrollEvent(a.win[0])}):(this.setScrollTop=function(e,t){a.doc.translate.y=e,a.doc.translate.ty=e*-1+"px",a.doc.css(h.trstyle,"translate("+a.doc.translate.tx+","+a.doc.translate.ty+")"),t||a.notifyScrollEvent(a.win[0])},this.setScrollLeft=function(e,t){a.doc.translate.x=e,a.doc.translate.tx=e*y+"px",a.doc.css(h.trstyle,"translate("+a.doc.translate.tx+","+a.doc.translate.ty+")"),t||a.notifyScrollEvent(a.win[0])})}else this.getScrollTop=function(){return a.docscroll.scrollTop()},this.setScrollTop=function(e){return a.docscroll.scrollTop(e)},this.getScrollLeft=function(){return a.docscroll.scrollLeft()},this.setScrollLeft=function(e){return a.docscroll.scrollLeft(e)};this.getTarget=function(e){return e?e.target?e.target:e.srcElement?e.srcElement:!1:!1},this.hasParent=function(e,t){if(!e)return!1;var n=e.target||e.srcElement||e||!1;while(n&&n.id!=t)n=n.parentNode||!1;return n!==!1};var E={thin:1,medium:3,thick:5};this.getOffset=function(){if(a.isfixed)return{top:parseFloat(a.win.css("top")),left:parseFloat(a.win.css("left"))};if(!a.viewport)return a.win.offset();var e=a.win.offset(),t=a.viewport.offset();return{top:e.top-t.top+a.viewport.scrollTop(),left:e.left-t.left+a.viewport.scrollLeft()}},this.updateScrollBar=function(e){if(a.ishwscroll)a.rail.css({height:a.win.innerHeight()}),a.railh&&a.railh.css({width:a.win.innerWidth()});else{var t=a.getOffset(),n={top:t.top,left:t.left};n.top+=S(a.win,"border-top-width",!0);var r=(a.win.outerWidth()-a.win.innerWidth())/2;n.left+=a.rail.align?a.win.outerWidth()-S(a.win,"border-right-width")-a.rail.width:S(a.win,"border-left-width");var i=a.opt.railoffset;i&&(i.top&&(n.top+=i.top),a.rail.align&&i.left&&(n.left+=i.left)),a.locked||a.rail.css({top:n.top,left:n.left,height:e?e.h:a.win.innerHeight()}),a.zoom&&a.zoom.css({top:n.top+1,left:a.rail.align==1?n.left-20:n.left+a.rail.width+4});if(a.railh&&!a.locked){var n={top:t.top,left:t.left},s=a.railh.align?n.top+S(a.win,"border-top-width",!0)+a.win.innerHeight()-a.railh.height:n.top+S(a.win,"border-top-width",!0),o=n.left+S(a.win,"border-left-width");a.railh.css({top:s,left:o,width:a.railh.width})}}},this.doRailClick=function(e,t,n){var r,i,s,o;if(a.locked)return;a.cancelEvent(e),t?(r=n?a.doScrollLeft:a.doScrollTop,s=n?(e.pageX-a.railh.offset().left-a.cursorwidth/2)*a.scrollratio.x:(e.pageY-a.rail.offset().top-a.cursorheight/2)*a.scrollratio.y,r(s)):(r=n?a.doScrollLeftBy:a.doScrollBy,s=n?a.scroll.x:a.scroll.y,o=n?e.pageX-a.railh.offset().left:e.pageY-a.rail.offset().top,i=n?a.view.w:a.view.h,s>=o?r(i):r(-i))},a.hasanimationframe=l,a.hascancelanimationframe=c,a.hasanimationframe?a.hascancelanimationframe||(c=function(){a.cancelAnimationFrame=!0}):(l=function(e){return setTimeout(e,15-Math.floor(+(new Date)/1e3)%16)},c=clearInterval),this.init=function(){a.saved.css=[];if(h.isie7mobile)return!0;if(h.isoperamini)return!0;h.hasmstouch&&a.css(a.ispage?u("html"):a.win,{"-ms-touch-action":"none"}),a.zindex="auto",!a.ispage&&a.opt.zindex=="auto"?a.zindex=w()||"auto":a.zindex=a.opt.zindex,!a.ispage&&a.zindex!="auto"&&a.zindex>o&&(o=a.zindex),a.isie&&a.zindex==0&&a.opt.zindex=="auto"&&(a.zindex="auto");if(!a.ispage||!h.cantouch&&!h.isieold&&!h.isie9mobile){var e=a.docscroll;a.ispage&&(e=a.haswrapper?a.win:a.doc),h.isie9mobile||a.css(e,{"overflow-y":"hidden"}),a.ispage&&h.isie7&&(a.doc[0].nodeName=="BODY"?a.css(u("html"),{"overflow-y":"hidden"}):a.doc[0].nodeName=="HTML"&&a.css(u("body"),{"overflow-y":"hidden"})),h.isios&&!a.ispage&&!a.haswrapper&&a.css(u("body"),{"-webkit-overflow-scrolling":"touch"});var r=u(document.createElement("div"));r.css({position:"relative",top:0,"float":"right",width:a.opt.cursorwidth,height:"0px","background-color":a.opt.cursorcolor,border:a.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":a.opt.cursorborderradius,"-moz-border-radius":a.opt.cursorborderradius,"border-radius":a.opt.cursorborderradius}),r.hborder=parseFloat(r.outerHeight()-r.innerHeight()),a.cursor=r;var s=u(document.createElement("div"));s.attr("id",a.id),s.addClass("nicescroll-rails");var f,l,c=["left","right"];for(var p in c)l=c[p],f=a.opt.railpadding[l],f?s.css("padding-"+l,f+"px"):a.opt.railpadding[l]=0;s.append(r),s.width=Math.max(parseFloat(a.opt.cursorwidth),r.outerWidth())+a.opt.railpadding.left+a.opt.railpadding.right,s.css({width:s.width+"px",zIndex:a.zindex,background:a.opt.background,cursor:"default"}),s.visibility=!0,s.scrollable=!0,s.align=a.opt.railalign=="left"?0:1,a.rail=s,a.rail.drag=!1;var v=!1;a.opt.boxzoom&&!a.ispage&&!h.isieold&&(v=document.createElement("div"),a.bind(v,"click",a.doZoom),a.zoom=u(v),a.zoom.css({cursor:"pointer","z-index":a.zindex,backgroundImage:"url("+a.opt.scriptpath+"zoomico.png)",height:18,width:18,backgroundPosition:"0px 0px"}),a.opt.dblclickzoom&&a.bind(a.win,"dblclick",a.doZoom),h.cantouch&&a.opt.gesturezoom&&(a.ongesturezoom=function(e){return e.scale>1.5&&a.doZoomIn(e),e.scale<.8&&a.doZoomOut(e),a.cancelEvent(e)},a.bind(a.win,"gestureend",a.ongesturezoom))),a.railh=!1;if(a.opt.horizrailenabled){a.css(e,{"overflow-x":"hidden"});var r=u(document.createElement("div"));r.css({position:"relative",top:0,height:a.opt.cursorwidth,width:"0px","background-color":a.opt.cursorcolor,border:a.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":a.opt.cursorborderradius,"-moz-border-radius":a.opt.cursorborderradius,"border-radius":a.opt.cursorborderradius}),r.wborder=parseFloat(r.outerWidth()-r.innerWidth()),a.cursorh=r;var m=u(document.createElement("div"));m.attr("id",a.id+"-hr"),m.addClass("nicescroll-rails"),m.height=Math.max(parseFloat(a.opt.cursorwidth),r.outerHeight()),m.css({height:m.height+"px",zIndex:a.zindex,background:a.opt.background}),m.append(r),m.visibility=!0,m.scrollable=!0,m.align=a.opt.railvalign=="top"?0:1,a.railh=m,a.railh.drag=!1}if(a.ispage)s.css({position:"fixed",top:"0px",height:"100%"}),s.align?s.css({right:"0px"}):s.css({left:"0px"}),a.body.append(s),a.railh&&(m.css({position:"fixed",left:"0px",width:"100%"}),m.align?m.css({bottom:"0px"}):m.css({top:"0px"}),a.body.append(m));else{if(a.ishwscroll){a.win.css("position")=="static"&&a.css(a.win,{position:"relative"});var g=a.win[0].nodeName=="HTML"?a.body:a.win;a.zoom&&(a.zoom.css({position:"absolute",top:1,right:0,"margin-right":s.width+4}),g.append(a.zoom)),s.css({position:"absolute",top:0}),s.align?s.css({right:0}):s.css({left:0}),g.append(s),m&&(m.css({position:"absolute",left:0,bottom:0}),m.align?m.css({bottom:0}):m.css({top:0}),g.append(m))}else{a.isfixed=a.win.css("position")=="fixed";var y=a.isfixed?"fixed":"absolute";a.isfixed||(a.viewport=a.getViewport(a.win[0])),a.viewport&&(a.body=a.viewport,/fixed|relative|absolute/.test(a.viewport.css("position"))==0&&a.css(a.viewport,{position:"relative"})),s.css({position:y}),a.zoom&&a.zoom.css({position:y}),a.updateScrollBar(),a.body.append(s),a.zoom&&a.body.append(a.zoom),a.railh&&(m.css({position:y}),a.body.append(m))}h.isios&&a.css(a.win,{"-webkit-tap-highlight-color":"rgba(0,0,0,0)","-webkit-touch-callout":"none"}),h.isie&&a.opt.disableoutline&&a.win.attr("hideFocus","true"),h.iswebkit&&a.opt.disableoutline&&a.win.css({outline:"none"})}a.opt.autohidemode===!1?(a.autohidedom=!1,a.rail.css({opacity:a.opt.cursoropacitymax}),a.railh&&a.railh.css({opacity:a.opt.cursoropacitymax})):a.opt.autohidemode===!0||a.opt.autohidemode==="leave"?(a.autohidedom=u().add(a.rail),h.isie8&&(a.autohidedom=a.autohidedom.add(a.cursor)),a.railh&&(a.autohidedom=a.autohidedom.add(a.railh)),a.railh&&h.isie8&&(a.autohidedom=a.autohidedom.add(a.cursorh))):a.opt.autohidemode=="scroll"?(a.autohidedom=u().add(a.rail),a.railh&&(a.autohidedom=a.autohidedom.add(a.railh))):a.opt.autohidemode=="cursor"?(a.autohidedom=u().add(a.cursor),a.railh&&(a.autohidedom=a.autohidedom.add(a.cursorh))):a.opt.autohidemode=="hidden"&&(a.autohidedom=!1,a.hide(),a.locked=!1);if(h.isie9mobile){a.scrollmom=new b(a),a.onmangotouch=function(e){var t=a.getScrollTop(),n=a.getScrollLeft();if(t==a.scrollmom.lastscrolly&&n==a.scrollmom.lastscrollx)return!0;var r=t-a.mangotouch.sy,i=n-a.mangotouch.sx,s=Math.round(Math.sqrt(Math.pow(i,2)+Math.pow(r,2)));if(s==0)return;var o=r<0?-1:1,u=i<0?-1:1,f=+(new Date);a.mangotouch.lazy&&clearTimeout(a.mangotouch.lazy);if(f-a.mangotouch.tm>80||a.mangotouch.dry!=o||a.mangotouch.drx!=u)a.scrollmom.stop(),a.scrollmom.reset(n,t),a.mangotouch.sy=t,a.mangotouch.ly=t,a.mangotouch.sx=n,a.mangotouch.lx=n,a.mangotouch.dry=o,a.mangotouch.drx=u,a.mangotouch.tm=f;else{a.scrollmom.stop(),a.scrollmom.update(a.mangotouch.sx-i,a.mangotouch.sy-r);var l=f-a.mangotouch.tm;a.mangotouch.tm=f;var c=Math.max(Math.abs(a.mangotouch.ly-t),Math.abs(a.mangotouch.lx-n));a.mangotouch.ly=t,a.mangotouch.lx=n,c>2&&(a.mangotouch.lazy=setTimeout(function(){a.mangotouch.lazy=!1,a.mangotouch.dry=0,a.mangotouch.drx=0,a.mangotouch.tm=0,a.scrollmom.doMomentum(30)},100))}};var E=a.getScrollTop(),S=a.getScrollLeft();a.mangotouch={sy:E,ly:E,dry:0,sx:S,lx:S,drx:0,lazy:!1,tm:0},a.bind(a.docscroll,"scroll",a.onmangotouch)}else{if(h.cantouch||a.istouchcapable||a.opt.touchbehavior||h.hasmstouch){a.scrollmom=new b(a),a.ontouchstart=function(e){if(e.pointerType&&e.pointerType!=2)return!1;a.hasmoving=!1;if(!a.locked){if(h.hasmstouch){var t=e.target?e.target:!1;while(t){var n=u(t).getNiceScroll();if(n.length>0&&n[0].me==a.me)break;if(n.length>0)return!1;if(t.nodeName=="DIV"&&t.id==a.id)break;t=t.parentNode?t.parentNode:!1}}a.cancelScroll();var t=a.getTarget(e);if(t){var r=/INPUT/i.test(t.nodeName)&&/range/i.test(t.type);if(r)return a.stopPropagation(e)}!("clientX"in e)&&"changedTouches"in e&&(e.clientX=e.changedTouches[0].clientX,e.clientY=e.changedTouches[0].clientY);if(a.forcescreen){var i=e,e={original:e.original?e.original:e};e.clientX=i.screenX,e.clientY=i.screenY}a.rail.drag={x:e.clientX,y:e.clientY,sx:a.scroll.x,sy:a.scroll.y,st:a.getScrollTop(),sl:a.getScrollLeft(),pt:2,dl:!1};if(a.ispage||!a.opt.directionlockdeadzone)a.rail.drag.dl="f";else{var s={w:u(window).width(),h:u(window).height()},o={w:Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),h:Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},f=Math.max(0,o.h-s.h),l=Math.max(0,o.w-s.w);!a.rail.scrollable&&a.railh.scrollable?a.rail.drag.ck=f>0?"v":!1:a.rail.scrollable&&!a.railh.scrollable?a.rail.drag.ck=l>0?"h":!1:a.rail.drag.ck=!1,a.rail.drag.ck||(a.rail.drag.dl="f")}if(a.opt.touchbehavior&&a.isiframe&&h.isie){var c=a.win.position();a.rail.drag.x+=c.left,a.rail.drag.y+=c.top}a.hasmoving=!1,a.lastmouseup=!1,a.scrollmom.reset(e.clientX,e.clientY);if(!h.cantouch&&!this.istouchcapable&&!h.hasmstouch){var p=t?/INPUT|SELECT|TEXTAREA/i.test(t.nodeName):!1;if(!p)return!a.ispage&&h.hasmousecapture&&t.setCapture(),a.opt.touchbehavior?(t.onclick&&!t._onclick&&!0&&(t._onclick=t.onclick,t.onclick=function(e){if(a.hasmoving)return!1;t._onclick.call(this,e)}),a.cancelEvent(e)):a.stopPropagation(e);/SUBMIT|CANCEL|BUTTON/i.test(u(t).attr("type"))&&(pc={tg:t,click:!1},a.preventclick=pc)}}},a.ontouchend=function(e){if(e.pointerType&&e.pointerType!=2)return!1;if(a.rail.drag&&a.rail.drag.pt==2){a.scrollmom.doMomentum(),a.rail.drag=!1;if(a.hasmoving){a.lastmouseup=!0,a.hideCursor(),h.hasmousecapture&&document.releaseCapture();if(!h.cantouch)return a.cancelEvent(e)}}};var x=a.opt.touchbehavior&&a.isiframe&&!h.hasmousecapture;a.ontouchmove=function(e,t){if(e.pointerType&&e.pointerType!=2)return!1;if(a.rail.drag&&a.rail.drag.pt==2){if(h.cantouch&&typeof e.original=="undefined")return!0;a.hasmoving=!0,a.preventclick&&!a.preventclick.click&&(a.preventclick.click=a.preventclick.tg.onclick||!1,a.preventclick.tg.onclick=a.onpreventclick);var n=u.extend({original:e},e);e=n,"changedTouches"in e&&(e.clientX=e.changedTouches[0].clientX,e.clientY=e.changedTouches[0].clientY);if(a.forcescreen){var r=e,e={original:e.original?e.original:e};e.clientX=r.screenX,e.clientY=r.screenY}var i=ofy=0;if(x&&!t){var s=a.win.position();i=-s.left,ofy=-s.top}var o=e.clientY+ofy,f=o-a.rail.drag.y,l=e.clientX+i,c=l-a.rail.drag.x,p=a.rail.drag.st-f;a.ishwscroll&&a.opt.bouncescroll?p<0?p=Math.round(p/2):p>a.page.maxh&&(p=a.page.maxh+Math.round((p-a.page.maxh)/2)):(p<0&&(p=0,o=0),p>a.page.maxh&&(p=a.page.maxh,o=0));if(a.railh&&a.railh.scrollable){var d=a.rail.drag.sl-c;a.ishwscroll&&a.opt.bouncescroll?d<0?d=Math.round(d/2):d>a.page.maxw&&(d=a.page.maxw+Math.round((d-a.page.maxw)/2)):(d<0&&(d=0,l=0),d>a.page.maxw&&(d=a.page.maxw,l=0))}var v=!1;if(a.rail.drag.dl)v=!0,a.rail.drag.dl=="v"?d=a.rail.drag.sl:a.rail.drag.dl=="h"&&(p=a.rail.drag.st);else{var m=Math.abs(f),g=Math.abs(c),y=a.opt.directionlockdeadzone;if(a.rail.drag.ck=="v"){if(m>y&&g<=m*.3)return a.rail.drag=!1,!0;g>y&&(a.rail.drag.dl="f",u("body").scrollTop(u("body").scrollTop()))}else if(a.rail.drag.ck=="h"){if(g>y&&m<=g*.3)return a.rail.drag=!1,!0;m>y&&(a.rail.drag.dl="f",u("body").scrollLeft(u("body").scrollLeft()))}}a.synched("touchmove",function(){a.rail.drag&&a.rail.drag.pt==2&&(a.prepareTransition&&a.prepareTransition(0),a.rail.scrollable&&a.setScrollTop(p),a.scrollmom.update(l,o),a.railh&&a.railh.scrollable?(a.setScrollLeft(d),a.showCursor(p,d)):a.showCursor(p),h.isie10&&document.selection.clear())}),h.ischrome&&a.istouchcapable&&(v=!1);if(v)return a.cancelEvent(e)}}}a.onmousedown=function(e,t){if(a.rail.drag&&a.rail.drag.pt!=1)return;if(a.locked)return a.cancelEvent(e);a.cancelScroll(),a.rail.drag={x:e.clientX,y:e.clientY,sx:a.scroll.x,sy:a.scroll.y,pt:1,hr:!!t};var n=a.getTarget(e);return!a.ispage&&h.hasmousecapture&&n.setCapture(),a.isiframe&&!h.hasmousecapture&&(a.saved.csspointerevents=a.doc.css("pointer-events"),a.css(a.doc,{"pointer-events":"none"})),a.hasmoving=!1,a.cancelEvent(e)},a.onmouseup=function(e){if(a.rail.drag){h.hasmousecapture&&document.releaseCapture(),a.isiframe&&!h.hasmousecapture&&a.doc.css("pointer-events",a.saved.csspointerevents);if(a.rail.drag.pt!=1)return;return a.rail.drag=!1,a.hasmoving&&a.triggerScrollEnd(),a.cancelEvent(e)}},a.onmousemove=function(e){if(a.rail.drag){if(a.rail.drag.pt!=1)return;if(h.ischrome&&e.which==0)return a.onmouseup(e);a.cursorfreezed=!0,a.hasmoving=!0;if(a.rail.drag.hr){a.scroll.x=a.rail.drag.sx+(e.clientX-a.rail.drag.x),a.scroll.x<0&&(a.scroll.x=0);var t=a.scrollvaluemaxw;a.scroll.x>t&&(a.scroll.x=t)}else{a.scroll.y=a.rail.drag.sy+(e.clientY-a.rail.drag.y),a.scroll.y<0&&(a.scroll.y=0);var n=a.scrollvaluemax;a.scroll.y>n&&(a.scroll.y=n)}return a.synched("mousemove",function(){a.rail.drag&&a.rail.drag.pt==1&&(a.showCursor(),a.rail.drag.hr?a.doScrollLeft(Math.round(a.scroll.x*a.scrollratio.x),a.opt.cursordragspeed):a.doScrollTop(Math.round(a.scroll.y*a.scrollratio.y),a.opt.cursordragspeed))}),a.cancelEvent(e)}};if(h.cantouch||a.opt.touchbehavior)a.onpreventclick=function(e){if(a.preventclick)return a.preventclick.tg.onclick=a.preventclick.click,a.preventclick=!1,a.cancelEvent(e)},a.bind(a.win,"mousedown",a.ontouchstart),a.onclick=h.isios?!1:function(e){return a.lastmouseup?(a.lastmouseup=!1,a.cancelEvent(e)):!0},a.opt.grabcursorenabled&&h.cursorgrabvalue&&(a.css(a.ispage?a.doc:a.win,{cursor:h.cursorgrabvalue}),a.css(a.rail,{cursor:h.cursorgrabvalue}));else{function T(e){if(!a.selectiondrag)return;if(e){var t=a.win.outerHeight(),n=e.pageY-a.selectiondrag.top;n>0&&n<t&&(n=0),n>=t&&(n-=t),a.selectiondrag.df=n}if(a.selectiondrag.df==0)return;var r=-Math.floor(a.selectiondrag.df/6)*2;a.doScrollBy(r),a.debounced("doselectionscroll",function(){T()},50)}"getSelection"in document?a.hasTextSelected=function(){return document.getSelection().rangeCount>0}:"selection"in document?a.hasTextSelected=function(){return document.selection.type!="None"}:a.hasTextSelected=function(){return!1},a.onselectionstart=function(e){if(a.ispage)return;a.selectiondrag=a.win.offset()},a.onselectionend=function(e){a.selectiondrag=!1},a.onselectiondrag=function(e){if(!a.selectiondrag)return;a.hasTextSelected()&&a.debounced("selectionscroll",function(){T(e)},250)}}h.hasmstouch&&(a.css(a.rail,{"-ms-touch-action":"none"}),a.css(a.cursor,{"-ms-touch-action":"none"}),a.bind(a.win,"MSPointerDown",a.ontouchstart),a.bind(document,"MSPointerUp",a.ontouchend),a.bind(document,"MSPointerMove",a.ontouchmove),a.bind(a.cursor,"MSGestureHold",function(e){e.preventDefault()}),a.bind(a.cursor,"contextmenu",function(e){e.preventDefault()})),this.istouchcapable&&(a.bind(a.win,"touchstart",a.ontouchstart),a.bind(document,"touchend",a.ontouchend),a.bind(document,"touchcancel",a.ontouchend),a.bind(document,"touchmove",a.ontouchmove)),a.bind(a.cursor,"mousedown",a.onmousedown),a.bind(a.cursor,"mouseup",a.onmouseup),a.railh&&(a.bind(a.cursorh,"mousedown",function(e){a.onmousedown(e,!0)}),a.bind(a.cursorh,"mouseup",a.onmouseup));if(a.opt.cursordragontouch||!h.cantouch&&!a.opt.touchbehavior)a.rail.css({cursor:"default"}),a.railh&&a.railh.css({cursor:"default"}),a.jqbind(a.rail,"mouseenter",function(){if(!a.win.is(":visible"))return!1;a.canshowonmouseevent&&a.showCursor(),a.rail.active=!0}),a.jqbind(a.rail,"mouseleave",function(){a.rail.active=!1,a.rail.drag||a.hideCursor()}),a.opt.sensitiverail&&(a.bind(a.rail,"click",function(e){a.doRailClick(e,!1,!1)}),a.bind(a.rail,"dblclick",function(e){a.doRailClick(e,!0,!1)}),a.bind(a.cursor,"click",function(e){a.cancelEvent(e)}),a.bind(a.cursor,"dblclick",function(e){a.cancelEvent(e)})),a.railh&&(a.jqbind(a.railh,"mouseenter",function(){if(!a.win.is(":visible"))return!1;a.canshowonmouseevent&&a.showCursor(),a.rail.active=!0}),a.jqbind(a.railh,"mouseleave",function(){a.rail.active=!1,a.rail.drag||a.hideCursor()}),a.opt.sensitiverail&&(a.bind(a.railh,"click",function(e){a.doRailClick(e,!1,!0)}),a.bind(a.railh,"dblclick",function(e){a.doRailClick(e,!0,!0)}),a.bind(a.cursorh,"click",function(e){a.cancelEvent(e)}),a.bind(a.cursorh,"dblclick",function(e){a.cancelEvent(e)})));!h.cantouch&&!a.opt.touchbehavior?(a.bind(h.hasmousecapture?a.win:document,"mouseup",a.onmouseup),a.bind(document,"mousemove",a.onmousemove),a.onclick&&a.bind(document,"click",a.onclick),!a.ispage&&a.opt.enablescrollonselection&&(a.bind(a.win[0],"mousedown",a.onselectionstart),a.bind(document,"mouseup",a.onselectionend),a.bind(a.cursor,"mouseup",a.onselectionend),a.cursorh&&a.bind(a.cursorh,"mouseup",a.onselectionend),a.bind(document,"mousemove",a.onselectiondrag)),a.zoom&&(a.jqbind(a.zoom,"mouseenter",function(){a.canshowonmouseevent&&a.showCursor(),a.rail.active=!0}),a.jqbind(a.zoom,"mouseleave",function(){a.rail.active=!1,a.rail.drag||a.hideCursor()}))):(a.bind(h.hasmousecapture?a.win:document,"mouseup",a.ontouchend),a.bind(document,"mousemove",a.ontouchmove),a.onclick&&a.bind(document,"click",a.onclick),a.opt.cursordragontouch&&(a.bind(a.cursor,"mousedown",a.onmousedown),a.bind(a.cursor,"mousemove",a.onmousemove),a.cursorh&&a.bind(a.cursorh,"mousedown",function(e){a.onmousedown(e,!0)}),a.cursorh&&a.bind(a.cursorh,"mousemove",a.onmousemove))),a.opt.enablemousewheel&&(a.isiframe||a.bind(h.isie&&a.ispage?document:a.win,"mousewheel",a.onmousewheel),a.bind(a.rail,"mousewheel",a.onmousewheel),a.railh&&a.bind(a.railh,"mousewheel",a.onmousewheelhr)),!a.ispage&&!h.cantouch&&!/HTML|^BODY/.test(a.win[0].nodeName)&&(a.win.attr("tabindex")||a.win.attr({tabindex:i++}),a.jqbind(a.win,"focus",function(e){t=a.getTarget(e).id||!0,a.hasfocus=!0,a.canshowonmouseevent&&a.noticeCursor()}),a.jqbind(a.win,"blur",function(e){t=!1,a.hasfocus=!1}),a.jqbind(a.win,"mouseenter",function(e){n=a.getTarget(e).id||!0,a.hasmousefocus=!0,a.canshowonmouseevent&&a.noticeCursor()}),a.jqbind(a.win,"mouseleave",function(){n=!1,a.hasmousefocus=!1,a.rail.drag||a.hideCursor()}))}a.onkeypress=function(e){if(a.locked&&a.page.maxh==0)return!0;e=e?e:window.e;var r=a.getTarget(e);if(r&&/INPUT|TEXTAREA|SELECT|OPTION/.test(r.nodeName)){var i=r.getAttribute("type")||r.type||!1;if(!i||!/submit|button|cancel/i.tp)return!0}if(u(r).attr("contenteditable"))return!0;if(a.hasfocus||a.hasmousefocus&&!t||a.ispage&&!t&&!n){var s=e.keyCode;if(a.locked&&s!=27)return a.cancelEvent(e);var o=e.ctrlKey||!1,f=e.shiftKey||!1,l=!1;switch(s){case 38:case 63233:a.doScrollBy(72),l=!0;break;case 40:case 63235:a.doScrollBy(-72),l=!0;break;case 37:case 63232:a.railh&&(o?a.doScrollLeft(0):a.doScrollLeftBy(72),l=!0);break;case 39:case 63234:a.railh&&(o?a.doScrollLeft(a.page.maxw):a.doScrollLeftBy(-72),l=!0);break;case 33:case 63276:a.doScrollBy(a.view.h),l=!0;break;case 34:case 63277:a.doScrollBy(-a.view.h),l=!0;break;case 36:case 63273:a.railh&&o?a.doScrollPos(0,0):a.doScrollTo(0),l=!0;break;case 35:case 63275:a.railh&&o?a.doScrollPos(a.page.maxw,a.page.maxh):a.doScrollTo(a.page.maxh),l=!0;break;case 32:a.opt.spacebarenabled&&(f?a.doScrollBy(a.view.h):a.doScrollBy(-a.view.h),l=!0);break;case 27:a.zoomactive&&(a.doZoom(),l=!0)}if(l)return a.cancelEvent(e)}},a.opt.enablekeyboard&&a.bind(document,h.isopera&&!h.isopera12?"keypress":"keydown",a.onkeypress),a.bind(document,"keydown",function(e){var t=e.ctrlKey||!1;t&&(a.wheelprevented=!0)}),a.bind(document,"keyup",function(e){var t=e.ctrlKey||!1;t||(a.wheelprevented=!1)}),a.bind(window,"resize",a.lazyResize),a.bind(window,"orientationchange",a.lazyResize),a.bind(window,"load",a.lazyResize);if(h.ischrome&&!a.ispage&&!a.haswrapper){var N=a.win.attr("style"),C=parseFloat(a.win.css("width"))+1;a.win.css("width",C),a.synched("chromefix",function(){a.win.attr("style",N)})}a.onAttributeChange=function(e){a.lazyResize(250)},!a.ispage&&!a.haswrapper&&(d!==!1?(a.observer=new d(function(e){e.forEach(a.onAttributeChange)}),a.observer.observe(a.win[0],{childList:!0,characterData:!1,attributes:!0,subtree:!1}),a.observerremover=new d(function(e){e.forEach(function(e){if(e.removedNodes.length>0)for(var t in e.removedNodes)if(e.removedNodes[t]==a.win[0])return a.remove()})}),a.observerremover.observe(a.win[0].parentNode,{childList:!0,characterData:!1,attributes:!1,subtree:!1})):(a.bind(a.win,h.isie&&!h.isie9?"propertychange":"DOMAttrModified",a.onAttributeChange),h.isie9&&a.win[0].attachEvent("onpropertychange",a.onAttributeChange),a.bind(a.win,"DOMNodeRemoved",function(e){e.target==a.win[0]&&a.remove()}))),!a.ispage&&a.opt.boxzoom&&a.bind(window,"resize",a.resizeZoom),a.istextarea&&a.bind(a.win,"mouseup",a.lazyResize),a.lazyResize(30)}if(this.doc[0].nodeName=="IFRAME"){function k(e){a.iframexd=!1;try{var t="contentDocument"in this?this.contentDocument:this.contentWindow.document,n=t.domain}catch(e){a.iframexd=!0,t=!1}if(a.iframexd)return"console"in window&&console.log("NiceScroll error: policy restriced iframe"),!0;a.forcescreen=!0,a.isiframe&&(a.iframe={doc:u(t),html:a.doc.contents().find("html")[0],body:a.doc.contents().find("body")[0]},a.getContentSize=function(){return{w:Math.max(a.iframe.html.scrollWidth,a.iframe.body.scrollWidth),h:Math.max(a.iframe.html.scrollHeight,a.iframe.body.scrollHeight)}},a.docscroll=u(a.iframe.body));if(!h.isios&&a.opt.iframeautoresize&&!a.isiframe){a.win.scrollTop(0),a.doc.height("");var r=Math.max(t.getElementsByTagName("html")[0].scrollHeight,t.body.scrollHeight);a.doc.height(r)}a.lazyResize(30),h.isie7&&a.css(u(a.iframe.html),{"overflow-y":"hidden"}),a.css(u(a.iframe.body),{"overflow-y":"hidden"}),h.isios&&a.haswrapper&&a.css(u(t.body),{"-webkit-transform":"translate3d(0,0,0)"}),"contentWindow"in this?a.bind(this.contentWindow,"scroll",a.onscroll):a.bind(t,"scroll",a.onscroll),a.opt.enablemousewheel&&a.bind(t,"mousewheel",a.onmousewheel),a.opt.enablekeyboard&&a.bind(t,h.isopera?"keypress":"keydown",a.onkeypress);if(h.cantouch||a.opt.touchbehavior)a.bind(t,"mousedown",a.ontouchstart),a.bind(t,"mousemove",function(e){a.ontouchmove(e,!0)}),a.opt.grabcursorenabled&&h.cursorgrabvalue&&a.css(u(t.body),{cursor:h.cursorgrabvalue});a.bind(t,"mouseup",a.ontouchend),a.zoom&&(a.opt.dblclickzoom&&a.bind(t,"dblclick",a.doZoom),a.ongesturezoom&&a.bind(t,"gestureend",a.ongesturezoom))}this.doc[0].readyState&&this.doc[0].readyState=="complete"&&setTimeout(function(){k.call(a.doc[0],!1)},500),a.bind(this.doc,"load",k)}},this.showCursor=function(e,t){a.cursortimeout&&(clearTimeout(a.cursortimeout),a.cursortimeout=0);if(!a.rail)return;a.autohidedom&&(a.autohidedom.stop().css({opacity:a.opt.cursoropacitymax}),a.cursoractive=!0);if(!a.rail.drag||a.rail.drag.pt!=1)typeof e!="undefined"&&e!==!1&&(a.scroll.y=Math.round(e*1/a.scrollratio.y)),typeof t!="undefined"&&(a.scroll.x=Math.round(t*1/a.scrollratio.x));a.cursor.css({height:a.cursorheight,top:a.scroll.y}),a.cursorh&&(!a.rail.align&&a.rail.visibility?a.cursorh.css({width:a.cursorwidth,left:a.scroll.x+a.rail.width}):a.cursorh.css({width:a.cursorwidth,left:a.scroll.x}),a.cursoractive=!0),a.zoom&&a.zoom.stop().css({opacity:a.opt.cursoropacitymax})},this.hideCursor=function(e){if(a.cursortimeout)return;if(!a.rail)return;if(!a.autohidedom)return;if(a.hasmousefocus&&a.opt.autohidemode=="leave")return;a.cursortimeout=setTimeout(function(){if(!a.rail.active||!a.showonmouseevent)a.autohidedom.stop().animate({opacity:a.opt.cursoropacitymin}),a.zoom&&a.zoom.stop().animate({opacity:a.opt.cursoropacitymin}),a.cursoractive=!1;a.cursortimeout=0},e||a.opt.hidecursordelay)},this.noticeCursor=function(e,t,n){a.showCursor(t,n),a.rail.active||a.hideCursor(e)},this.getContentSize=a.ispage?function(){return{w:Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),h:Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}}:a.haswrapper?function(){return{w:a.doc.outerWidth()+parseInt(a.win.css("paddingLeft"))+parseInt(a.win.css("paddingRight")),h:a.doc.outerHeight()+parseInt(a.win.css("paddingTop"))+parseInt(a.win.css("paddingBottom"))}}:function(){return{w:a.docscroll[0].scrollWidth,h:a.docscroll[0].scrollHeight}},this.onResize=function(e,t){if(!a||!a.win)return!1;if(!a.haswrapper&&!a.ispage){if(a.win.css("display")=="none")return a.visibility&&a.hideRail().hideRailHr(),!1;!a.hidden&&!a.visibility&&a.showRail().showRailHr()}var n=a.page.maxh,r=a.page.maxw,i={h:a.view.h,w:a.view.w};a.view={w:a.ispage?a.win.width():parseInt(a.win[0].clientWidth),h:a.ispage?a.win.height():parseInt(a.win[0].clientHeight)},a.page=t?t:a.getContentSize(),a.page.maxh=Math.max(0,a.page.h-a.view.h),a.page.maxw=Math.max(0,a.page.w-a.view.w);if(a.page.maxh==n&&a.page.maxw==r&&a.view.w==i.w){if(!!a.ispage)return a;var s=a.win.offset();if(a.lastposition){var o=a.lastposition;if(o.top==s.top&&o.left==s.left)return a}a.lastposition=s}a.page.maxh==0?(a.hideRail(),a.scrollvaluemax=0,a.scroll.y=0,a.scrollratio.y=0,a.cursorheight=0,a.setScrollTop(0),a.rail.scrollable=!1):a.rail.scrollable=!0,a.page.maxw==0?(a.hideRailHr(),a.scrollvaluemaxw=0,a.scroll.x=0,a.scrollratio.x=0,a.cursorwidth=0,a.setScrollLeft(0),a.railh.scrollable=!1):a.railh.scrollable=!0,a.locked=a.page.maxh==0&&a.page.maxw==0;if(a.locked)return a.ispage||a.updateScrollBar(a.view),!1;!a.hidden&&!a.visibility?a.showRail().showRailHr():!a.hidden&&!a.railh.visibility&&a.showRailHr(),a.istextarea&&a.win.css("resize")&&a.win.css("resize")!="none"&&(a.view.h-=20),a.cursorheight=Math.min(a.view.h,Math.round(a.view.h*(a.view.h/a.page.h))),a.cursorheight=a.opt.cursorfixedheight?a.opt.cursorfixedheight:Math.max(a.opt.cursorminheight,a.cursorheight),a.cursorwidth=Math.min(a.view.w,Math.round(a.view.w*(a.view.w/a.page.w))),a.cursorwidth=a.opt.cursorfixedheight?a.opt.cursorfixedheight:Math.max(a.opt.cursorminheight,a.cursorwidth),a.scrollvaluemax=a.view.h-a.cursorheight-a.cursor.hborder,a.railh&&(a.railh.width=a.page.maxh>0?a.view.w-a.rail.width:a.view.w,a.scrollvaluemaxw=a.railh.width-a.cursorwidth-a.cursorh.wborder),a.ispage||a.updateScrollBar(a.view),a.scrollratio={x:a.page.maxw/a.scrollvaluemaxw,y:a.page.maxh/a.scrollvaluemax};var u=a.getScrollTop();return u>a.page.maxh?a.doScrollTop(a.page.maxh):(a.scroll.y=Math.round(a.getScrollTop()*(1/a.scrollratio.y)),a.scroll.x=Math.round(a.getScrollLeft()*(1/a.scrollratio.x)),a.cursoractive&&a.noticeCursor()),a.scroll.y&&a.getScrollTop()==0&&a.doScrollTo(Math.floor(a.scroll.y*a.scrollratio.y)),a},this.resize=a.onResize,this.lazyResize=function(e){return e=isNaN(e)?30:e,a.delayed("resize",a.resize,e),a},this._bind=function(e,t,n,r){a.events.push({e:e,n:t,f:n,b:r,q:!1}),e.addEventListener?e.addEventListener(t,n,r||!1):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n},this.jqbind=function(e,t,n){a.events.push({e:e,n:t,f:n,q:!0}),u(e).bind(t,n)},this.bind=function(e,t,n,r){var i="jquery"in e?e[0]:e;if(t=="mousewheel")if("onwheel"in a.win)a._bind(i,"wheel",n,r||!1);else{var s=typeof document.onmousewheel!="undefined"?"mousewheel":"DOMMouseScroll";x(i,s,n,r||!1),s=="DOMMouseScroll"&&x(i,"MozMousePixelScroll",n,r||!1)}else if(i.addEventListener){if(h.cantouch&&/mouseup|mousedown|mousemove/.test(t)){var o=t=="mousedown"?"touchstart":t=="mouseup"?"touchend":"touchmove";a._bind(i,o,function(e){if(e.touches){if(e.touches.length<2){var t=e.touches.length?e.touches[0]:e;t.original=e,n.call(this,t)}}else if(e.changedTouches){var t=e.changedTouches[0];t.original=e,n.call(this,t)}},r||!1)}a._bind(i,t,n,r||!1),h.cantouch&&t=="mouseup"&&a._bind(i,"touchcancel",n,r||!1)}else a._bind(i,t,function(e){return e=e||window.event||!1,e&&e.srcElement&&(e.target=e.srcElement),"pageY"in e||(e.pageX=e.clientX+document.documentElement.scrollLeft,e.pageY=e.clientY+document.documentElement.scrollTop),n.call(i,e)===!1||r===!1?a.cancelEvent(e):!0})},this._unbind=function(e,t,n,r){e.removeEventListener?e.removeEventListener(t,n,r):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=!1},this.unbindAll=function(){for(var e=0;e<a.events.length;e++){var t=a.events[e];t.q?t.e.unbind(t.n,t.f):a._unbind(t.e,t.n,t.f,t.b)}},this.cancelEvent=function(e){var e=e.original?e.original:e?e:window.event||!1;return e?(e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.preventManipulation&&e.preventManipulation(),e.cancelBubble=!0,e.cancel=!0,e.returnValue=!1,!1):!1},this.stopPropagation=function(e){var e=e.original?e.original:e?e:window.event||!1;return e?e.stopPropagation?e.stopPropagation():(e.cancelBubble&&(e.cancelBubble=!0),!1):!1},this.showRail=function(){return a.page.maxh!=0&&(a.ispage||a.win.css("display")!="none")&&(a.visibility=!0,a.rail.visibility=!0,a.rail.css("display","block")),a},this.showRailHr=function(){return a.railh?(a.page.maxw!=0&&(a.ispage||a.win.css("display")!="none")&&(a.railh.visibility=!0,a.railh.css("display","block")),a):a},this.hideRail=function(){return a.visibility=!1,a.rail.visibility=!1,a.rail.css("display","none"),a},this.hideRailHr=function(){return a.railh?(a.railh.visibility=!1,a.railh.css("display","none"),a):a},this.show=function(){return a.hidden=!1,a.locked=!1,a.showRail().showRailHr()},this.hide=function(){return a.hidden=!0,a.locked=!0,a.hideRail().hideRailHr()},this.toggle=function(){return a.hidden?a.show():a.hide()},this.remove=function(){a.stop(),a.cursortimeout&&clearTimeout(a.cursortimeout),a.doZoomOut(),a.unbindAll(),h.isie9&&a.win[0].detachEvent("onpropertychange",a.onAttributeChange),a.observer!==!1&&a.observer.disconnect(),a.observerremover!==!1&&a.observerremover.disconnect(),a.events=null,a.cursor&&a.cursor.remove(),a.cursorh&&a.cursorh.remove(),a.rail&&a.rail.remove(),a.railh&&a.railh.remove(),a.zoom&&a.zoom.remove();for(var e=0;e<a.saved.css.length;e++){var t=a.saved.css[e];t[0].css(t[1],typeof t[2]=="undefined"?"":t[2])}a.saved=!1,a.me.data("__nicescroll","");var n=u.nicescroll;n.each(function(e){if(!this)return;if(this.id===a.id){delete n[e];for(var t=++e;t<n.length;t++,e++)n[e]=n[t];n.length--,n.length&&delete n[n.length]}});for(var r in a)a[r]=null,delete a[r];a=null},this.scrollstart=function(e){return this.onscrollstart=e,a},this.scrollend=function(e){return this.onscrollend=e,a},this.scrollcancel=function(e){return this.onscrollcancel=e,a},this.zoomin=function(e){return this.onzoomin=e,a},this.zoomout=function(e){return this.onzoomout=e,a},this.isScrollable=function(e){var t=e.target?e.target:e;if(t.nodeName=="OPTION")return!0;while(t&&t.nodeType==1&&!/^BODY|HTML/.test(t.nodeName)){var n=u(t),r=n.css("overflowY")||n.css("overflowX")||n.css("overflow")||"";if(/scroll|auto/.test(r))return t.clientHeight!=t.scrollHeight;t=t.parentNode?t.parentNode:!1}return!1},this.getViewport=function(e){var t=e&&e.parentNode?e.parentNode:!1;while(t&&t.nodeType==1&&!/^BODY|HTML/.test(t.nodeName)){var n=u(t);if(/fixed|absolute/.test(n.css("position")))return n;var r=n.css("overflowY")||n.css("overflowX")||n.css("overflow")||"";if(/scroll|auto/.test(r)&&t.clientHeight!=t.scrollHeight)return n;if(n.getNiceScroll().length>0)return n;t=t.parentNode?t.parentNode:!1}return t?u(t):!1},this.triggerScrollEnd=function(){if(!a.onscrollend)return;var e=a.getScrollLeft(),t=a.getScrollTop(),n={type:"scrollend",current:{x:e,y:t},end:{x:e,y:t}};a.onscrollend.call(a,n)},this.onmousewheel=function(e){if(a.wheelprevented)return;if(a.locked)return a.debounced("checkunlock",a.resize,250),!0;if(a.rail.drag)return a.cancelEvent(e);a.opt.oneaxismousemode=="auto"&&e.deltaX!=0&&(a.opt.oneaxismousemode=!1);if(a.opt.oneaxismousemode&&e.deltaX==0&&!a.rail.scrollable)return a.railh&&a.railh.scrollable?a.onmousewheelhr(e):!0;var t=+(new Date),n=!1;a.opt.preservenativescrolling&&a.checkarea+600<t&&(a.nativescrollingarea=a.isScrollable(e),n=!0),a.checkarea=t;if(a.nativescrollingarea)return!0;var r=T(e,!1,n);return r&&(a.checkarea=0),r},this.onmousewheelhr=function(e){if(a.wheelprevented)return;if(a.locked||!a.railh.scrollable)return!0;if(a.rail.drag)return a.cancelEvent(e);var t=+(new Date),n=!1;return a.opt.preservenativescrolling&&a.checkarea+600<t&&(a.nativescrollingarea=a.isScrollable(e),n=!0),a.checkarea=t,a.nativescrollingarea?!0:a.locked?a.cancelEvent(e):T(e,!0,n)},this.stop=function(){return a.cancelScroll(),a.scrollmon&&a.scrollmon.stop(),a.cursorfreezed=!1,a.scroll.y=Math.round(a.getScrollTop()*(1/a.scrollratio.y)),a.noticeCursor(),a},this.getTransitionSpeed=function(e){var t=Math.round(a.opt.scrollspeed*10),n=Math.min(t,Math.round(e/20*a.opt.scrollspeed));return n>20?n:0},a.opt.smoothscroll?a.ishwscroll&&h.hastransition&&a.opt.usetransition?(this.prepareTransition=function(e,t){var n=t?e>20?e:0:a.getTransitionSpeed(e),r=n?h.prefixstyle+"transform "+n+"ms ease-out":"";if(!a.lasttransitionstyle||a.lasttransitionstyle!=r)a.lasttransitionstyle=r,a.doc.css(h.transitionstyle,r);return n},this.doScrollLeft=function(e,t){var n=a.scrollrunning?a.newscrolly:a.getScrollTop();a.doScrollPos(e,n,t)},this.doScrollTop=function(e,t){var n=a.scrollrunning?a.newscrollx:a.getScrollLeft();a.doScrollPos(n,e,t)},this.doScrollPos=function(e,t,n){var r=a.getScrollTop(),i=a.getScrollLeft();((a.newscrolly-r)*(t-r)<0||(a.newscrollx-i)*(e-i)<0)&&a.cancelScroll(),a.opt.bouncescroll==0&&(t<0?t=0:t>a.page.maxh&&(t=a.page.maxh),e<0?e=0:e>a.page.maxw&&(e=a.page.maxw));if(a.scrollrunning&&e==a.newscrollx&&t==a.newscrolly)return!1;a.newscrolly=t,a.newscrollx=e,a.newscrollspeed=n||!1;if(a.timer)return!1;a.timer=setTimeout(function(){var n=a.getScrollTop(),r=a.getScrollLeft(),i={};i.x=e-r,i.y=t-n,i.px=r,i.py=n;var s=Math.round(Math.sqrt(Math.pow(i.x,2)+Math.pow(i.y,2))),o=a.newscrollspeed&&a.newscrollspeed>1?a.newscrollspeed:a.getTransitionSpeed(s);a.newscrollspeed&&a.newscrollspeed<=1&&(o*=a.newscrollspeed),a.prepareTransition(o,!0),a.timerscroll&&a.timerscroll.tm&&clearInterval(a.timerscroll.tm);if(o>0){if(!a.scrollrunning&&a.onscrollstart){var u={type:"scrollstart",current:{x:r,y:n},request:{x:e,y:t},end:{x:a.newscrollx,y:a.newscrolly},speed:o};a.onscrollstart.call(a,u)}h.transitionend?a.scrollendtrapped||(a.scrollendtrapped=!0,a.bind(a.doc,h.transitionend,a.onScrollTransitionEnd,!1)):(a.scrollendtrapped&&clearTimeout(a.scrollendtrapped),a.scrollendtrapped=setTimeout(a.onScrollTransitionEnd,o));var f=n,l=r;a.timerscroll={bz:new BezierClass(f,a.newscrolly,o,0,0,.58,1),bh:new BezierClass(l,a.newscrollx,o,0,0,.58,1)},a.cursorfreezed||(a.timerscroll.tm=setInterval(function(){a.showCursor(a.getScrollTop(),a.getScrollLeft())},60))}a.synched("doScroll-set",function(){a.timer=0,a.scrollendtrapped&&(a.scrollrunning=!0),a.setScrollTop(a.newscrolly),a.setScrollLeft(a.newscrollx),a.scrollendtrapped||a.onScrollTransitionEnd()})},50)},this.cancelScroll=function(){if(!a.scrollendtrapped)return!0;var e=a.getScrollTop(),t=a.getScrollLeft();return a.scrollrunning=!1,h.transitionend||clearTimeout(h.transitionend),a.scrollendtrapped=!1,a._unbind(a.doc,h.transitionend,a.onScrollTransitionEnd),a.prepareTransition(0),a.setScrollTop(e),a.railh&&a.setScrollLeft(t),a.timerscroll&&a.timerscroll.tm&&clearInterval(a.timerscroll.tm),a.timerscroll=!1,a.cursorfreezed=!1,a.showCursor(e,t),a},this.onScrollTransitionEnd=function(){a.scrollendtrapped&&a._unbind(a.doc,h.transitionend,a.onScrollTransitionEnd),a.scrollendtrapped=!1,a.prepareTransition(0),a.timerscroll&&a.timerscroll.tm&&clearInterval(a.timerscroll.tm),a.timerscroll=!1;var e=a.getScrollTop(),t=a.getScrollLeft();a.setScrollTop(e),a.railh&&a.setScrollLeft(t),a.noticeCursor(!1,e,t),a.cursorfreezed=!1,e<0?e=0:e>a.page.maxh&&(e=a.page.maxh),t<0?t=0:t>a.page.maxw&&(t=a.page.maxw);if(e!=a.newscrolly||t!=a.newscrollx)return a.doScrollPos(t,e,a.opt.snapbackspeed);a.onscrollend&&a.scrollrunning&&a.triggerScrollEnd(),a.scrollrunning=!1}):(this.doScrollLeft=function(e,t){var n=a.scrollrunning?a.newscrolly:a.getScrollTop();a.doScrollPos(e,n,t)},this.doScrollTop=function(e,t){var n=a.scrollrunning?a.newscrollx:a.getScrollLeft();a.doScrollPos(n,e,t)},this.doScrollPos=function(e,t,n){function p(){if(a.cancelAnimationFrame)return!0;a.scrollrunning=!0,h=1-h;if(h)return a.timer=l(p)||1;var e=0,t=sy=a.getScrollTop();if(a.dst.ay){t=a.bzscroll?a.dst.py+a.bzscroll.getNow()*a.dst.ay:a.newscrolly;var n=t-sy;if(n<0&&t<a.newscrolly||n>0&&t>a.newscrolly)t=a.newscrolly;a.setScrollTop(t),t==a.newscrolly&&(e=1)}else e=1;var r=sx=a.getScrollLeft();if(a.dst.ax){r=a.bzscroll?a.dst.px+a.bzscroll.getNow()*a.dst.ax:a.newscrollx;var n=r-sx;if(n<0&&r<a.newscrollx||n>0&&r>a.newscrollx)r=a.newscrollx;a.setScrollLeft(r),r==a.newscrollx&&(e+=1)}else e+=1;e==2?(a.timer=0,a.cursorfreezed=!1,a.bzscroll=!1,a.scrollrunning=!1,t<0?t=0:t>a.page.maxh&&(t=a.page.maxh),r<0?r=0:r>a.page.maxw&&(r=a.page.maxw),r!=a.newscrollx||t!=a.newscrolly?a.doScrollPos(r,t):a.onscrollend&&a.triggerScrollEnd()):a.timer=l(p)||1}var t=typeof t=="undefined"||t===!1?a.getScrollTop(!0):t;if(a.timer&&a.newscrolly==t&&a.newscrollx==e)return!0;a.timer&&c(a.timer),a.timer=0;var r=a.getScrollTop(),i=a.getScrollLeft();((a.newscrolly-r)*(t-r)<0||(a.newscrollx-i)*(e-i)<0)&&a.cancelScroll(),a.newscrolly=t,a.newscrollx=e;if(!a.bouncescroll||!a.rail.visibility)a.newscrolly<0?a.newscrolly=0:a.newscrolly>a.page.maxh&&(a.newscrolly=a.page.maxh);if(!a.bouncescroll||!a.railh.visibility)a.newscrollx<0?a.newscrollx=0:a.newscrollx>a.page.maxw&&(a.newscrollx=a.page.maxw);a.dst={},a.dst.x=e-i,a.dst.y=t-r,a.dst.px=i,a.dst.py=r;var s=Math.round(Math.sqrt(Math.pow(a.dst.x,2)+Math.pow(a.dst.y,2)));a.dst.ax=a.dst.x/s,a.dst.ay=a.dst.y/s;var o=0,u=s;a.dst.x==0?(o=r,u=t,a.dst.ay=1,a.dst.py=0):a.dst.y==0&&(o=i,u=e,a.dst.ax=1,a.dst.px=0);var f=a.getTransitionSpeed(s);n&&n<=1&&(f*=n),f>0?a.bzscroll=a.bzscroll?a.bzscroll.update(u,f):new BezierClass(o,u,f,0,1,0,1):a.bzscroll=!1;if(a.timer)return;(r==a.page.maxh&&t>=a.page.maxh||i==a.page.maxw&&e>=a.page.maxw)&&a.checkContentSize();var h=1;a.cancelAnimationFrame=!1,a.timer=1;if(a.onscrollstart&&!a.scrollrunning){var d={type:"scrollstart",current:{x:i,y:r},request:{x:e,y:t},end:{x:a.newscrollx,y:a.newscrolly},speed:f};a.onscrollstart.call(a,d)}p(),(r==a.page.maxh&&t>=r||i==a.page.maxw&&e>=i)&&a.checkContentSize(),a.noticeCursor()},this.cancelScroll=function(){return a.timer&&c(a.timer),a.timer=0,a.bzscroll=!1,a.scrollrunning=!1,a}):(this.doScrollLeft=function(e,t){var n=a.getScrollTop();a.doScrollPos(e,n,t)},this.doScrollTop=function(e,t){var n=a.getScrollLeft();a.doScrollPos(n,e,t)},this.doScrollPos=function(e,t,n){var r=e>a.page.maxw?a.page.maxw:e;r<0&&(r=0);var i=t>a.page.maxh?a.page.maxh:t;i<0&&(i=0),a.synched("scroll",function(){a.setScrollTop(i),a.setScrollLeft(r)})},this.cancelScroll=function(){}),this.doScrollBy=function(e,t){var n=0;if(t)n=Math.floor((a.scroll.y-e)*a.scrollratio.y);else{var r=a.timer?a.newscrolly:a.getScrollTop(!0);n=r-e}if(a.bouncescroll){var i=Math.round(a.view.h/2);n<-i?n=-i:n>a.page.maxh+i&&(n=a.page.maxh+i)}a.cursorfreezed=!1,py=a.getScrollTop(!0);if(n<0&&py<=0)return a.noticeCursor();if(n>a.page.maxh&&py>=a.page.maxh)return a.checkContentSize(),a.noticeCursor();a.doScrollTop(n)},this.doScrollLeftBy=function(e,t){var n=0;if(t)n=Math.floor((a.scroll.x-e)*a.scrollratio.x);else{var r=a.timer?a.newscrollx:a.getScrollLeft(!0);n=r-e}if(a.bouncescroll){var i=Math.round(a.view.w/2);n<-i?n=-i:n>a.page.maxw+i&&(n=a.page.maxw+i)}a.cursorfreezed=!1,px=a.getScrollLeft(!0);if(n<0&&px<=0)return a.noticeCursor();if(n>a.page.maxw&&px>=a.page.maxw)return a.noticeCursor();a.doScrollLeft(n)},this.doScrollTo=function(e,t){var n=t?Math.round(e*a.scrollratio.y):e;n<0?n=0:n>a.page.maxh&&(n=a.page.maxh),a.cursorfreezed=!1,a.doScrollTop(e)},this.checkContentSize=function(){var e=a.getContentSize();(e.h!=a.page.h||e.w!=a.page.w)&&a.resize(!1,e)},a.onscroll=function(e){if(a.rail.drag)return;a.cursorfreezed||a.synched("scroll",function(){a.scroll.y=Math.round(a.getScrollTop()*(1/a.scrollratio.y)),a.railh&&(a.scroll.x=Math.round(a.getScrollLeft()*(1/a.scrollratio.x))),a.noticeCursor()})},a.bind(a.docscroll,"scroll",a.onscroll),this.doZoomIn=function(e){if(a.zoomactive)return;a.zoomactive=!0,a.zoomrestore={style:{}};var t=["position","top","left","zIndex","backgroundColor","marginTop","marginBottom","marginLeft","marginRight"],n=a.win[0].style;for(var r in t){var i=t[r];a.zoomrestore.style[i]=typeof n[i]!="undefined"?n[i]:""}a.zoomrestore.style.width=a.win.css("width"),a.zoomrestore.style.height=a.win.css("height"),a.zoomrestore.padding={w:a.win.outerWidth()-a.win.width(),h:a.win.outerHeight()-a.win.height()},h.isios4&&(a.zoomrestore.scrollTop=u(window).scrollTop(),u(window).scrollTop(0)),a.win.css({position:h.isios4?"absolute":"fixed",top:0,left:0,"z-index":o+100,margin:"0px"});var s=a.win.css("backgroundColor");return(s==""||/transparent|rgba\(0, 0, 0, 0\)|rgba\(0,0,0,0\)/.test(s))&&a.win.css("backgroundColor","#fff"),a.rail.css({"z-index":o+101}),a.zoom.css({"z-index":o+102}),a.zoom.css("backgroundPosition","0px -18px"),a.resizeZoom(),a.onzoomin&&a.onzoomin.call(a),a.cancelEvent(e)},this.doZoomOut=function(e){if(!a.zoomactive)return;return a.zoomactive=!1,a.win.css("margin",""),a.win.css(a.zoomrestore.style),h.isios4&&u(window).scrollTop(a.zoomrestore.scrollTop),a.rail.css({"z-index":a.zindex}),a.zoom.css({"z-index":a.zindex}),a.zoomrestore=!1,a.zoom.css("backgroundPosition","0px 0px"),a.onResize(),a.onzoomout&&a.onzoomout.call(a),a.cancelEvent(e)},this.doZoom=function(e){return a.zoomactive?a.doZoomOut(e):a.doZoomIn(e)},this.resizeZoom=function(){if(!a.zoomactive)return;var e=a.getScrollTop();a.win.css({width:u(window).width()-a.zoomrestore.padding.w+"px",height:u(window).height()-a.zoomrestore.padding.h+"px"}),a.onResize(),a.setScrollTop(Math.min(a.page.maxh,e))},this.init(),u.nicescroll.push(this)},b=function(e){var t=this;this.nc=e,this.lastx=0,this.lasty=0,this.speedx=0,this.speedy=0,this.lasttime=0,this.steptime=0,this.snapx=!1,this.snapy=!1,this.demulx=0,this.demuly=0,this.lastscrollx=-1,this.lastscrolly=-1,this.chkx=0,this.chky=0,this.timer=0,this.time=function(){return+(new Date)},this.reset=function(e,n){t.stop();var r=t.time();t.steptime=0,t.lasttime=r,t.speedx=0,t.speedy=0,t.lastx=e,t.lasty=n,t.lastscrollx=-1,t.lastscrolly=-1},this.update=function(e,n){var r=t.time();t.steptime=r-t.lasttime,t.lasttime=r;var i=n-t.lasty,s=e-t.lastx,o=t.nc.getScrollTop(),u=t.nc.getScrollLeft(),a=o+i,f=u+s;t.snapx=f<0||f>t.nc.page.maxw,t.snapy=a<0||a>t.nc.page.maxh,t.speedx=s,t.speedy=i,t.lastx=e,t.lasty=n},this.stop=function(){t.nc.unsynched("domomentum2d"),t.timer&&clearTimeout(t.timer),t.timer=0,t.lastscrollx=-1,t.lastscrolly=-1},this.doSnapy=function(e,n){var r=!1;n<0?(n=0,r=!0):n>t.nc.page.maxh&&(n=t.nc.page.maxh,r=!0),e<0?(e=0,r=!0):e>t.nc.page.maxw&&(e=t.nc.page.maxw,r=!0),r?t.nc.doScrollPos(e,n,t.nc.opt.snapbackspeed):t.nc.triggerScrollEnd()},this.doMomentum=function(e){var n=t.time(),r=e?n+e:t.lasttime,i=t.nc.getScrollLeft(),s=t.nc.getScrollTop(),o=t.nc.page.maxh,u=t.nc.page.maxw;t.speedx=u>0?Math.min(60,t.speedx):0,t.speedy=o>0?Math.min(60,t.speedy):0;var a=r&&n-r<=60;if(s<0||s>o||i<0||i>u)a=!1;var f=t.speedy&&a?t.speedy:!1,l=t.speedx&&a?t.speedx:!1;if(f||l){var c=Math.max(16,t.steptime);if(c>50){var h=c/50;t.speedx*=h,t.speedy*=h,c=50}t.demulxy=0,t.lastscrollx=t.nc.getScrollLeft(),t.chkx=t.lastscrollx,t.lastscrolly=t.nc.getScrollTop(),t.chky=t.lastscrolly;var p=t.lastscrollx,d=t.lastscrolly,v=function(){var e=t.time()-n>600?.04:.02;if(t.speedx){p=Math.floor(t.lastscrollx-t.speedx*(1-t.demulxy)),t.lastscrollx=p;if(p<0||p>u)e=.1}if(t.speedy){d=Math.floor(t.lastscrolly-t.speedy*(1-t.demulxy)),t.lastscrolly=d;if(d<0||d>o)e=.1}t.demulxy=Math.min(1,t.demulxy+e),t.nc.synched("domomentum2d",function(){if(t.speedx){var e=t.nc.getScrollLeft();e!=t.chkx&&t.stop(),t.chkx=p,t.nc.setScrollLeft(p)}if(t.speedy){var n=t.nc.getScrollTop();n!=t.chky&&t.stop(),t.chky=d,t.nc.setScrollTop(d)}t.timer||(t.nc.hideCursor(),t.doSnapy(p,d))}),t.demulxy<1?t.timer=setTimeout(v,c):(t.stop(),t.nc.hideCursor(),t.doSnapy(p,d))};v()}else t.doSnapy(t.nc.getScrollLeft(),t.nc.getScrollTop())}},w=e.fn.scrollTop;e.cssHooks.pageYOffset={get:function(e,t,n){var r=u.data(e,"__nicescroll")||!1;return r&&r.ishwscroll?r.getScrollTop():w.call(e)},set:function(e,t){var n=u.data(e,"__nicescroll")||!1;return n&&n.ishwscroll?n.setScrollTop(parseInt(t)):w.call(e,t),this}},e.fn.scrollTop=function(e){if(typeof e=="undefined"){var t=this[0]?u.data(this[0],"__nicescroll")||!1:!1;return t&&t.ishwscroll?t.getScrollTop():w.call(this)}return this.each(function(){var t=u.data(this,"__nicescroll")||!1;t&&t.ishwscroll?t.setScrollTop(parseInt(e)):w.call(u(this),e)})};var E=e.fn.scrollLeft;u.cssHooks.pageXOffset={get:function(e,t,n){var r=u.data(e,"__nicescroll")||!1;return r&&r.ishwscroll?r.getScrollLeft():E.call(e)},set:function(e,t){var n=u.data(e,"__nicescroll")||!1;return n&&n.ishwscroll?n.setScrollLeft(parseInt(t)):E.call(e,t),this}},e.fn.scrollLeft=function(e){if(typeof e=="undefined"){var t=this[0]?u.data(this[0],"__nicescroll")||!1:!1;return t&&t.ishwscroll?t.getScrollLeft():E.call(this)}return this.each(function(){var t=u.data(this,"__nicescroll")||!1;t&&t.ishwscroll?t.setScrollLeft(parseInt(e)):E.call(u(this),e)})};var S=function(e){var t=this;this.length=0,this.name="nicescrollarray",this.each=function(e){for(var n=0,r=0;n<t.length;n++)e.call(t[n],r++);return t},this.push=function(e){t[t.length]=e,t.length++},this.eq=function(e){return t[e]};if(e)for(var n=0;n<e.length;n++){var r=u.data(e[n],"__nicescroll")||!1;r&&(this[this.length]=r,this.length++)}return this};x(S.prototype,["show","hide","toggle","onResize","resize","remove","stop","doScrollPos"],function(e,t){e[t]=function(){var e=arguments;return this.each(function(){this[t].apply(this,e)})}}),e.fn.getNiceScroll=function(e){if(typeof e=="undefined")return new S(this);var t=this[e]&&u.data(this[e],"__nicescroll")||!1;return t},e.extend(e.expr[":"],{nicescroll:function(e){return u.data(e,"__nicescroll")?!0:!1}}),u.fn.niceScroll=function(e,t){typeof t=="undefined"&&typeof e=="object"&&!("jquery"in e)&&(t=e,e=!1);var n=new S;typeof t=="undefined"&&(t={});if(e||!1)t.doc=u(e),t.win=u(this);var r=!("doc"in t);return!r&&!("win"in t)&&(t.win=u(this)),this.each(function(){var e=u(this).data("__nicescroll")||!1;e||(t.doc=r?u(this):t.doc,e=new y(t,u(this)),u(this).data("__nicescroll",e)),n.push(e)}),n.length==1?n[0]:n},window.NiceScroll={getjQuery:function(){return e}},u.nicescroll||(u.nicescroll=new S,u.nicescroll.options=v)}),function(e,t){function i(t,n){var r,i,o,u=t.nodeName.toLowerCase();return"area"===u?(r=t.parentNode,i=r.name,!t.href||!i||r.nodeName.toLowerCase()!=="map"?!1:(o=e("img[usemap=#"+i+"]")[0],!!o&&s(o))):(/input|select|textarea|button|object/.test(u)?!t.disabled:"a"===u?t.href||n:n)&&s(t)}function s(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return e.css(this,"visibility")==="hidden"}).length}var n=0,r=/^ui-id-\d+$/;e.ui=e.ui||{},e.extend(e.ui,{version:"1.10.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({focus:function(t){return function(n,r){return typeof n=="number"?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),r&&r.call(t)},n)}):t.apply(this,arguments)}}(e.fn.focus),scrollParent:function(){var t;return e.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?t=this.parents().filter(function(){return/(relative|absolute|fixed)/.test(e.css(this,"position"))&&/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0):t=this.parents().filter(function(){return/(auto|scroll)/.test(e.css(this,"overflow")+e.css(this,"overflow-y")+e.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!t.length?e(document):t},zIndex:function(n){if(n!==t)return this.css("zIndex",n);if(this.length){var r=e(this[0]),i,s;while(r.length&&r[0]!==document){i=r.css("position");if(i==="absolute"||i==="relative"||i==="fixed"){s=parseInt(r.css("zIndex"),10);if(!isNaN(s)&&s!==0)return s}r=r.parent()}}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++n)})},removeUniqueId:function(){return this.each(function(){r.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(n){return!!e.data(n,t)}}):function(t,n,r){return!!e.data(t,r[3])},focusable:function(t){return i(t,!isNaN(e.attr(t,"tabindex")))},tabbable:function(t){var n=e.attr(t,"tabindex"),r=isNaN(n);return(r||n>=0)&&i(t,!r)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(n,r){function u(t,n,r,s){return e.each(i,function(){n-=parseFloat(e.css(t,"padding"+this))||0,r&&(n-=parseFloat(e.css(t,"border"+this+"Width"))||0),s&&(n-=parseFloat(e.css(t,"margin"+this))||0)}),n}var i=r==="Width"?["Left","Right"]:["Top","Bottom"],s=r.toLowerCase(),o={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+r]=function(n){return n===t?o["inner"+r].call(this):this.each(function(){e(this).css(s,u(this,n)+"px")})},e.fn["outer"+r]=function(t,n){return typeof t!="number"?o["outer"+r].call(this,t):this.each(function(){e(this).css(s,u(this,t,!0,n)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(n){return arguments.length?t.call(this,e.camelCase(n)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.support.selectstart="onselectstart"in document.createElement("div"),e.fn.extend({disableSelection:function(){return this.bind((e.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),e.extend(e.ui,{plugin:{add:function(t,n,r){var i,s=e.ui[t].prototype;for(i in r)s.plugins[i]=s.plugins[i]||[],s.plugins[i].push([n,r[i]])},call:function(e,t,n){var r,i=e.plugins[t];if(!i||!e.element[0].parentNode||e.element[0].parentNode.nodeType===11)return;for(r=0;r<i.length;r++)e.options[i[r][0]]&&i[r][1].apply(e.element,n)}},hasScroll:function(t,n){if(e(t).css("overflow")==="hidden")return!1;var r=n&&n==="left"?"scrollLeft":"scrollTop",i=!1;return t[r]>0?!0:(t[r]=1,i=t[r]>0,t[r]=0,i)}})}(jQuery),function(e,t){var n=0,r=Array.prototype.slice,i=e.cleanData;e.cleanData=function(t){for(var n=0,r;(r=t[n])!=null;n++)try{e(r).triggerHandler("remove")}catch(s){}i(t)},e.widget=function(t,n,r){var i,s,o,u,a={},f=t.split(".")[0];t=t.split(".")[1],i=f+"-"+t,r||(r=n,n=e.Widget),e.expr[":"][i.toLowerCase()]=function(t){return!!e.data(t,i)},e[f]=e[f]||{},s=e[f][t],o=e[f][t]=function(e,t){if(!this._createWidget)return new o(e,t);arguments.length&&this._createWidget(e,t)},e.extend(o,s,{version:r.version,_proto:e.extend({},r),_childConstructors:[]}),u=new n,u.options=e.widget.extend({},u.options),e.each(r,function(t,r){if(!e.isFunction(r)){a[t]=r;return}a[t]=function(){var e=function(){return n.prototype[t].apply(this,arguments)},i=function(e){return n.prototype[t].apply(this,e)};return function(){var t=this._super,n=this._superApply,s;return this._super=e,this._superApply=i,s=r.apply(this,arguments),this._super=t,this._superApply=n,s}}()}),o.prototype=e.widget.extend(u,{widgetEventPrefix:s?u.widgetEventPrefix||t:t},a,{constructor:o,namespace:f,widgetName:t,widgetFullName:i}),s?(e.each(s._childConstructors,function(t,n){var r=n.prototype;e.widget(r.namespace+"."+r.widgetName,o,n._proto)}),delete s._childConstructors):n._childConstructors.push(o),e.widget.bridge(t,o)},e.widget.extend=function(n){var i=r.call(arguments,1),s=0,o=i.length,u,a;for(;s<o;s++)for(u in i[s])a=i[s][u],i[s].hasOwnProperty(u)&&a!==t&&(e.isPlainObject(a)?n[u]=e.isPlainObject(n[u])?e.widget.extend({},n[u],a):e.widget.extend({},a):n[u]=a);return n},e.widget.bridge=function(n,i){var s=i.prototype.widgetFullName||n;e.fn[n]=function(o){var u=typeof o=="string",a=r.call(arguments,1),f=this;return o=!u&&a.length?e.widget.extend.apply(null,[o].concat(a)):o,u?this.each(function(){var r,i=e.data(this,s);if(!i)return e.error("cannot call methods on "+n+" prior to initialization; "+"attempted to call method '"+o+"'");if(!e.isFunction(i[o])||o.charAt(0)==="_")return e.error("no such method '"+o+"' for "+n+" widget instance");r=i[o].apply(i,a);if(r!==i&&r!==t)return f=r&&r.jquery?f.pushStack(r.get()):r,!1}):this.each(function(){var t=e.data(this,s);t?t.option(o||{})._init():e.data(this,s,new i(o,this))}),f}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,r){r=e(r||this.defaultElement||this)[0],this.element=e(r),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this.bindings=e(),this.hoverable=e(),this.focusable=e(),r!==this&&(e.data(r,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===r&&this.destroy()}}),this.document=e(r.style?r.ownerDocument:r.document||r),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled "+"ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(n,r){var i=n,s,o,u;if(arguments.length===0)return e.widget.extend({},this.options);if(typeof n=="string"){i={},s=n.split("."),n=s.shift();if(s.length){o=i[n]=e.widget.extend({},this.options[n]);for(u=0;u<s.length-1;u++)o[s[u]]=o[s[u]]||{},o=o[s[u]];n=s.pop();if(arguments.length===1)return o[n]===t?null:o[n];o[n]=r}else{if(arguments.length===1)return this.options[n]===t?null:this.options[n];i[n]=r}}return this._setOptions(i),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,e==="disabled"&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(t,n,r){var i,s=this;typeof t!="boolean"&&(r=n,n=t,t=!1),r?(n=i=e(n),this.bindings=this.bindings.add(n)):(r=n,n=this.element,i=this.widget()),e.each(r,function(r,o){function u(){if(!t&&(s.options.disabled===!0||e(this).hasClass("ui-state-disabled")))return;return(typeof o=="string"?s[o]:o).apply(s,arguments)}typeof o!="string"&&(u.guid=o.guid=o.guid||u.guid||e.guid++);var a=r.match(/^(\w+)\s*(.*)$/),f=a[1]+s.eventNamespace,l=a[2];l?i.delegate(l,f,u):n.bind(f,u)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function n(){return(typeof e=="string"?r[e]:e).apply(r,arguments)}var r=this;return setTimeout(n,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,n,r){var i,s,o=this.options[t];r=r||{},n=e.Event(n),n.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],s=n.originalEvent;if(s)for(i in s)i in n||(n[i]=s[i]);return this.element.trigger(n,r),!(e.isFunction(o)&&o.apply(this.element[0],[n].concat(r))===!1||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(r,i,s){typeof i=="string"&&(i={effect:i});var o,u=i?i===!0||typeof i=="number"?n:i.effect||n:t;i=i||{},typeof i=="number"&&(i={duration:i}),o=!e.isEmptyObject(i),i.complete=s,i.delay&&r.delay(i.delay),o&&e.effects&&e.effects.effect[u]?r[t](i):u!==t&&r[u]?r[u](i.duration,i.easing,s):r.queue(function(n){e(this)[t](),s&&s.call(r[0]),n()})}})}(jQuery),function(e,t){var n=!1;e(document).mouseup(function(){n=!1}),e.widget("ui.mouse",{version:"1.10.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(n){if(!0===e.data(n.target,t.widgetName+".preventClickEvent"))return e.removeData(n.target,t.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(n)return;this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var r=this,i=t.which===1,s=typeof this.options.cancel=="string"&&t.target.nodeName?e(t.target).closest(this.options.cancel).length:!1;if(!i||s||!this._mouseCapture(t))return!0;this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){r.mouseDelayMet=!0},this.options.delay));if(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)){this._mouseStarted=this._mouseStart(t)!==!1;if(!this._mouseStarted)return t.preventDefault(),!0}return!0===e.data(t.target,this.widgetName+".preventClickEvent")&&e.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return r._mouseMove(e)},this._mouseUpDelegate=function(e){return r._mouseUp(e)},e(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),n=!0,!0},_mouseMove:function(t){return e.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button?this._mouseUp(t):this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return e(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function(e,t){function h(e,t,n){return[parseFloat(e[0])*(l.test(e[0])?t/100:1),parseFloat(e[1])*(l.test(e[1])?n/100:1)]}function p(t,n){return parseInt(e.css(t,n),10)||0}function d(t){var n=t[0];return n.nodeType===9?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(n)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:n.preventDefault?{width:0,height:0,offset:{top:n.pageY,left:n.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}e.ui=e.ui||{};var n,r=Math.max,i=Math.abs,s=Math.round,o=/left|center|right/,u=/top|center|bottom/,a=/[\+\-]\d+(\.[\d]+)?%?/,f=/^\w+/,l=/%$/,c=e.fn.position;e.position={scrollbarWidth:function(){if(n!==t)return n;var r,i,s=e("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),o=s.children()[0];return e("body").append(s),r=o.offsetWidth,s.css("overflow","scroll"),i=o.offsetWidth,r===i&&(i=s[0].clientWidth),s.remove(),n=r-i},getScrollInfo:function(t){var n=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),r=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),i=n==="scroll"||n==="auto"&&t.width<t.element[0].scrollWidth,s=r==="scroll"||r==="auto"&&t.height<t.element[0].scrollHeight;return{width:s?e.position.scrollbarWidth():0,height:i?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var n=e(t||window),r=e.isWindow(n[0]),i=!!n[0]&&n[0].nodeType===9;return{element:n,isWindow:r,isDocument:i,offset:n.offset()||{left:0,top:0},scrollLeft:n.scrollLeft(),scrollTop:n.scrollTop(),width:r?n.width():n.outerWidth(),height:r?n.height():n.outerHeight()}}},e.fn.position=function(t){if(!t||!t.of)return c.apply(this,arguments);t=e.extend({},t);var n,l,v,m,g,y,b=e(t.of),w=e.position.getWithinInfo(t.within),E=e.position.getScrollInfo(w),S=(t.collision||"flip").split(" "),x={};return y=d(b),b[0].preventDefault&&(t.at="left top"),l=y.width,v=y.height,m=y.offset,g=e.extend({},m),e.each(["my","at"],function(){var e=(t[this]||"").split(" "),n,r;e.length===1&&(e=o.test(e[0])?e.concat(["center"]):u.test(e[0])?["center"].concat(e):["center","center"]),e[0]=o.test(e[0])?e[0]:"center",e[1]=u.test(e[1])?e[1]:"center",n=a.exec(e[0]),r=a.exec(e[1]),x[this]=[n?n[0]:0,r?r[0]:0],t[this]=[f.exec(e[0])[0],f.exec(e[1])[0]]}),S.length===1&&(S[1]=S[0]),t.at[0]==="right"?g.left+=l:t.at[0]==="center"&&(g.left+=l/2),t.at[1]==="bottom"?g.top+=v:t.at[1]==="center"&&(g.top+=v/2),n=h(x.at,l,v),g.left+=n[0],g.top+=n[1],this.each(function(){var o,u,a=e(this),f=a.outerWidth(),c=a.outerHeight(),d=p(this,"marginLeft"),y=p(this,"marginTop"),T=f+d+p(this,"marginRight")+E.width,N=c+y+p(this,"marginBottom")+E.height,C=e.extend({},g),k=h(x.my,a.outerWidth(),a.outerHeight());t.my[0]==="right"?C.left-=f:t.my[0]==="center"&&(C.left-=f/2),t.my[1]==="bottom"?C.top-=c:t.my[1]==="center"&&(C.top-=c/2),C.left+=k[0],C.top+=k[1],e.support.offsetFractions||(C.left=s(C.left),C.top=s(C.top)),o={marginLeft:d,marginTop:y},e.each(["left","top"],function(r,i){e.ui.position[S[r]]&&e.ui.position[S[r]][i](C,{targetWidth:l,targetHeight:v,elemWidth:f,elemHeight:c,collisionPosition:o,collisionWidth:T,collisionHeight:N,offset:[n[0]+k[0],n[1]+k[1]],my:t.my,at:t.at,within:w,elem:a})}),t.using&&(u=function(e){var n=m.left-C.left,s=n+l-f,o=m.top-C.top,u=o+v-c,h={target:{element:b,left:m.left,top:m.top,width:l,height:v},element:{element:a,left:C.left,top:C.top,width:f,height:c},horizontal:s<0?"left":n>0?"right":"center",vertical:u<0?"top":o>0?"bottom":"middle"};l<f&&i(n+s)<l&&(h.horizontal="center"),v<c&&i(o+u)<v&&(h.vertical="middle"),r(i(n),i(s))>r(i(o),i(u))?h.important="horizontal":h.important="vertical",t.using.call(this,e,h)}),a.offset(e.extend(C,{using:u}))})},e.ui.position={fit:{left:function(e,t){var n=t.within,i=n.isWindow?n.scrollLeft:n.offset.left,s=n.width,o=e.left-t.collisionPosition.marginLeft,u=i-o,a=o+t.collisionWidth-s-i,f;t.collisionWidth>s?u>0&&a<=0?(f=e.left+u+t.collisionWidth-s-i,e.left+=u-f):a>0&&u<=0?e.left=i:u>a?e.left=i+s-t.collisionWidth:e.left=i:u>0?e.left+=u:a>0?e.left-=a:e.left=r(e.left-o,e.left)},top:function(e,t){var n=t.within,i=n.isWindow?n.scrollTop:n.offset.top,s=t.within.height,o=e.top-t.collisionPosition.marginTop,u=i-o,a=o+t.collisionHeight-s-i,f;t.collisionHeight>s?u>0&&a<=0?(f=e.top+u+t.collisionHeight-s-i,e.top+=u-f):a>0&&u<=0?e.top=i:u>a?e.top=i+s-t.collisionHeight:e.top=i:u>0?e.top+=u:a>0?e.top-=a:e.top=r(e.top-o,e.top)}},flip:{left:function(e,t){var n=t.within,r=n.offset.left+n.scrollLeft,s=n.width,o=n.isWindow?n.scrollLeft:n.offset.left,u=e.left-t.collisionPosition.marginLeft,a=u-o,f=u+t.collisionWidth-s-o,l=t.my[0]==="left"?-t.elemWidth:t.my[0]==="right"?t.elemWidth:0,c=t.at[0]==="left"?t.targetWidth:t.at[0]==="right"?-t.targetWidth:0,h=-2*t.offset[0],p,d;if(a<0){p=e.left+l+c+h+t.collisionWidth-s-r;if(p<0||p<i(a))e.left+=l+c+h}else if(f>0){d=e.left-t.collisionPosition.marginLeft+l+c+h-o;if(d>0||i(d)<f)e.left+=l+c+h}},top:function(e,t){var n=t.within,r=n.offset.top+n.scrollTop,s=n.height,o=n.isWindow?n.scrollTop:n.offset.top,u=e.top-t.collisionPosition.marginTop,a=u-o,f=u+t.collisionHeight-s-o,l=t.my[1]==="top",c=l?-t.elemHeight:t.my[1]==="bottom"?t.elemHeight:0,h=t.at[1]==="top"?t.targetHeight:t.at[1]==="bottom"?-t.targetHeight:0,p=-2*t.offset[1],d,v;a<0?(v=e.top+c+h+p+t.collisionHeight-s-r,e.top+c+h+p>a&&(v<0||v<i(a))&&(e.top+=c+h+p)):f>0&&(d=e.top-t.collisionPosition.marginTop+c+h+p-o,e.top+c+h+p>f&&(d>0||i(d)<f)&&(e.top+=c+h+p))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},function(){var t,n,r,i,s,o=document.getElementsByTagName("body")[0],u=document.createElement("div");t=document.createElement(o?"div":"body"),r={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},o&&e.extend(r,{position:"absolute",left:"-1000px",top:"-1000px"});for(s in r)t.style[s]=r[s];t.appendChild(u),n=o||document.documentElement,n.insertBefore(t,n.firstChild),u.style.cssText="position: absolute; left: 10.7432222px;",i=e(u).offset().left,e.support.offsetFractions=i>10&&i<11,t.innerHTML="",n.removeChild(t)}()}(jQuery),function(e,t){e.widget("ui.draggable",e.ui.mouse,{version:"1.10.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){this.options.helper==="original"&&!/^(?:r|a|f)/.test(this.element.css("position"))&&(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(t){var n=this.options;return this.helper||n.disabled||e(t.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(t),this.handle?(e(n.iframeFix===!0?"iframe":n.iframeFix).each(function(){e("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(e(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(t){var n=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,n.cursorAt&&this._adjustOffsetFromHelper(n.cursorAt),this._setContainment(),this._trigger("start",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!n.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_mouseDrag:function(t,n){this.offsetParentCssPosition==="fixed"&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute");if(!n){var r=this._uiHash();if(this._trigger("drag",t,r)===!1)return this._mouseUp({}),!1;this.position=r.position}if(!this.options.axis||this.options.axis!=="y")this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||this.options.axis!=="x")this.helper[0].style.top=this.position.top+"px";return e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var n=this,r=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(r=e.ui.ddmanager.drop(this,t)),this.dropped&&(r=this.dropped,this.dropped=!1),this.options.helper==="original"&&!e.contains(this.element[0].ownerDocument,this.element[0])?!1:(this.options.revert==="invalid"&&!r||this.options.revert==="valid"&&r||this.options.revert===!0||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,r)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){n._trigger("stop",t)!==!1&&n._clear()}):this._trigger("stop",t)!==!1&&this._clear(),!1)},_mouseUp:function(t){return e("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){return this.options.handle?!!e(t.target).closest(this.element.find(this.options.handle)).length:!0},_createHelper:function(t){var n=this.options,r=e.isFunction(n.helper)?e(n.helper.apply(this.element[0],[t])):n.helper==="clone"?this.element.clone().removeAttr("id"):this.element;return r.parents("body").length||r.appendTo(n.appendTo==="parent"?this.element[0].parentNode:n.appendTo),r[0]!==this.element[0]&&!/(fixed|absolute)/.test(r.css("position"))&&r.css("position","absolute"),r},_adjustOffsetFromHelper:function(t){typeof t=="string"&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){var t=this.offsetParent.offset();this.cssPosition==="absolute"&&this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()==="html"&&e.ui.ie)t={top:0,left:0};return{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition==="relative"){var e=this.element.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,r,i=this.options;if(!i.containment){this.containment=null;return}if(i.containment==="window"){this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];return}if(i.containment==="document"){this.containment=[0,0,e(document).width()-this.helperProportions.width-this.margins.left,(e(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];return}if(i.containment.constructor===Array){this.containment=i.containment;return}i.containment==="parent"&&(i.containment=this.helper[0].parentNode),n=e(i.containment),r=n[0];if(!r)return;t=n.css("overflow")!=="hidden",this.containment=[(parseInt(n.css("borderLeftWidth"),10)||0)+(parseInt(n.css("paddingLeft"),10)||0),(parseInt(n.css("borderTopWidth"),10)||0)+(parseInt(n.css("paddingTop"),10)||0),(t?Math.max(r.scrollWidth,r.offsetWidth):r.offsetWidth)-(parseInt(n.css("borderRightWidth"),10)||0)-(parseInt(n.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(r.scrollHeight,r.offsetHeight):r.offsetHeight)-(parseInt(n.css("borderBottomWidth"),10)||0)-(parseInt(n.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=n},_convertPositionTo:function(t,n){n||(n=this.position);var r=t==="absolute"?1:-1,i=this.cssPosition!=="absolute"||this.scrollParent[0]!==document&&!!e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent;return this.offset.scroll||(this.offset.scroll={top:i.scrollTop(),left:i.scrollLeft()}),{top:n.top+this.offset.relative.top*r+this.offset.parent.top*r-(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():this.offset.scroll.top)*r,left:n.left+this.offset.relative.left*r+this.offset.parent.left*r-(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():this.offset.scroll.left)*r}},_generatePosition:function(t){var n,r,i,s,o=this.options,u=this.cssPosition!=="absolute"||this.scrollParent[0]!==document&&!!e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,a=t.pageX,f=t.pageY;return this.offset.scroll||(this.offset.scroll={top:u.scrollTop(),left:u.scrollLeft()}),this.originalPosition&&(this.containment&&(this.relative_container?(r=this.relative_container.offset(),n=[this.containment[0]+r.left,this.containment[1]+r.top,this.containment[2]+r.left,this.containment[3]+r.top]):n=this.containment,t.pageX-this.offset.click.left<n[0]&&(a=n[0]+this.offset.click.left),t.pageY-this.offset.click.top<n[1]&&(f=n[1]+this.offset.click.top),t.pageX-this.offset.click.left>n[2]&&(a=n[2]+this.offset.click.left),t.pageY-this.offset.click.top>n[3]&&(f=n[3]+this.offset.click.top)),o.grid&&(i=o.grid[1]?this.originalPageY+Math.round((f-this.originalPageY)/o.grid[1])*o.grid[1]:this.originalPageY,f=n?i-this.offset.click.top>=n[1]||i-this.offset.click.top>n[3]?i:i-this.offset.click.top>=n[1]?i-o.grid[1]:i+o.grid[1]:i,s=o.grid[0]?this.originalPageX+Math.round((a-this.originalPageX)/o.grid[0])*o.grid[0]:this.originalPageX,a=n?s-this.offset.click.left>=n[0]||s-this.offset.click.left>n[2]?s:s-this.offset.click.left>=n[0]?s-o.grid[0]:s+o.grid[0]:s)),{top:f-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():this.offset.scroll.top),left:a-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]!==this.element[0]&&!this.cancelHelperRemoval&&this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(t,n,r){return r=r||this._uiHash(),e.ui.plugin.call(this,t,[n,r]),t==="drag"&&(this.positionAbs=this._convertPositionTo("absolute")),e.Widget.prototype._trigger.call(this,t,n,r)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,n){var r=e(this).data("ui-draggable"),i=r.options,s=e.extend({},n,{item:r.element});r.sortables=[],e(i.connectToSortable).each(function(){var n=e.data(this,"ui-sortable");n&&!n.options.disabled&&(r.sortables.push({instance:n,shouldRevert:n.options.revert}),n.refreshPositions(),n._trigger("activate",t,s))})},stop:function(t,n){var r=e(this).data("ui-draggable"),i=e.extend({},n,{item:r.element});e.each(r.sortables,function(){this.instance.isOver?(this.instance.isOver=0,r.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(t),this.instance.options.helper=this.instance.options._helper,r.options.helper==="original"&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",t,i))})},drag:function(t,n){var r=e(this).data("ui-draggable"),i=this;e.each(r.sortables,function(){var s=!1,o=this;this.instance.positionAbs=r.positionAbs,this.instance.helperProportions=r.helperProportions,this.instance.offset.click=r.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(s=!0,e.each(r.sortables,function(){return this.instance.positionAbs=r.positionAbs,this.instance.helperProportions=r.helperProportions,this.instance.offset.click=r.offset.click,this!==o&&this.instance._intersectsWith(this.instance.containerCache)&&e.contains(o.instance.element[0],this.instance.element[0])&&(s=!1),s})),s?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=e(i).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return n.helper[0]},t.target=this.instance.currentItem[0],this.instance._mouseCapture(t,!0),this.instance._mouseStart(t,!0,!0),this.instance.offset.click.top=r.offset.click.top,this.instance.offset.click.left=r.offset.click.left,this.instance.offset.parent.left-=r.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=r.offset.parent.top-this.instance.offset.parent.top,r._trigger("toSortable",t),r.dropped=this.instance.element,r.currentItem=r.element,this.instance.fromOutside=r),this.instance.currentItem&&this.instance._mouseDrag(t)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",t,this.instance._uiHash(this.instance)),this.instance._mouseStop(t,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),r._trigger("fromSortable",t),r.dropped=!1)})}}),e.ui.plugin.add("draggable","cursor",{start:function(){var t=e("body"),n=e(this).data("ui-draggable").options;t.css("cursor")&&(n._cursor=t.css("cursor")),t.css("cursor",n.cursor)},stop:function(){var t=e(this).data("ui-draggable").options;t._cursor&&e("body").css("cursor",t._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,n){var r=e(n.helper),i=e(this).data("ui-draggable").options;r.css("opacity")&&(i._opacity=r.css("opacity")),r.css("opacity",i.opacity)},stop:function(t,n){var r=e(this).data("ui-draggable").options;r._opacity&&e(n.helper).css("opacity",r._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(){var t=e(this).data("ui-draggable");t.scrollParent[0]!==document&&t.scrollParent[0].tagName!=="HTML"&&(t.overflowOffset=t.scrollParent.offset())},drag:function(t){var n=e(this).data("ui-draggable"),r=n.options,i=!1;if(n.scrollParent[0]!==document&&n.scrollParent[0].tagName!=="HTML"){if(!r.axis||r.axis!=="x")n.overflowOffset.top+n.scrollParent[0].offsetHeight-t.pageY<r.scrollSensitivity?n.scrollParent[0].scrollTop=i=n.scrollParent[0].scrollTop+r.scrollSpeed:t.pageY-n.overflowOffset.top<r.scrollSensitivity&&(n.scrollParent[0].scrollTop=i=n.scrollParent[0].scrollTop-r.scrollSpeed);if(!r.axis||r.axis!=="y")n.overflowOffset.left+n.scrollParent[0].offsetWidth-t.pageX<r.scrollSensitivity?n.scrollParent[0].scrollLeft=i=n.scrollParent[0].scrollLeft+r.scrollSpeed:t.pageX-n.overflowOffset.left<r.scrollSensitivity&&(n.scrollParent[0].scrollLeft=i=n.scrollParent[0].scrollLeft-r.scrollSpeed)}else{if(!r.axis||r.axis!=="x")t.pageY-e(document).scrollTop()<r.scrollSensitivity?i=e(document).scrollTop(e(document).scrollTop()-r.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<r.scrollSensitivity&&(i=e(document).scrollTop(e(document).scrollTop()+r.scrollSpeed));if(!r.axis||r.axis!=="y")t.pageX-e(document).scrollLeft()<r.scrollSensitivity?i=e(document).scrollLeft(e(document).scrollLeft()-r.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<r.scrollSensitivity&&(i=e(document).scrollLeft(e(document).scrollLeft()+r.scrollSpeed))}i!==!1&&e.ui.ddmanager&&!r.dropBehaviour&&e.ui.ddmanager.prepareOffsets(n,t)}}),e.ui.plugin.add("draggable","snap",{start:function(){var t=e(this).data("ui-draggable"),n=t.options;t.snapElements=[],e(n.snap.constructor!==String?n.snap.items||":data(ui-draggable)":n.snap).each(function(){var n=e(this),r=n.offset();this!==t.element[0]&&t.snapElements.push({item:this,width:n.outerWidth(),height:n.outerHeight(),top:r.top,left:r.left})})},drag:function(t,n){var r,i,s,o,u,a,f,l,c,h,p=e(this).data("ui-draggable"),d=p.options,v=d.snapTolerance,m=n.offset.left,g=m+p.helperProportions.width,y=n.offset.top,b=y+p.helperProportions.height;for(c=p.snapElements.length-1;c>=0;c--){u=p.snapElements[c].left,a=u+p.snapElements[c].width,f=p.snapElements[c].top,l=f+p.snapElements[c].height;if(g<u-v||m>a+v||b<f-v||y>l+v||!e.contains(p.snapElements[c].item.ownerDocument,p.snapElements[c].item)){p.snapElements[c].snapping&&p.options.snap.release&&p.options.snap.release.call(p.element,t,e.extend(p._uiHash(),{snapItem:p.snapElements[c].item})),p.snapElements[c].snapping=!1;continue}d.snapMode!=="inner"&&(r=Math.abs(f-b)<=v,i=Math.abs(l-y)<=v,s=Math.abs(u-g)<=v,o=Math.abs(a-m)<=v,r&&(n.position.top=p._convertPositionTo("relative",{top:f-p.helperProportions.height,left:0}).top-p.margins.top),i&&(n.position.top=p._convertPositionTo("relative",{top:l,left:0}).top-p.margins.top),s&&(n.position.left=p._convertPositionTo("relative",{top:0,left:u-p.helperProportions.width}).left-p.margins.left),o&&(n.position.left=p._convertPositionTo("relative",{top:0,left:a}).left-p.margins.left)),h=r||i||s||o,d.snapMode!=="outer"&&(r=Math.abs(f-y)<=v,i=Math.abs(l-b)<=v,s=Math.abs(u-m)<=v,o=Math.abs(a-g)<=v,r&&(n.position.top=p._convertPositionTo("relative",{top:f,left:0}).top-p.margins.top),i&&(n.position.top=p._convertPositionTo("relative",{top:l-p.helperProportions.height,left:0}).top-p.margins.top),s&&(n.position.left=p._convertPositionTo("relative",{top:0,left:u}).left-p.margins.left),o&&(n.position.left=p._convertPositionTo("relative",{top:0,left:a-p.helperProportions.width}).left-p.margins.left)),!p.snapElements[c].snapping&&(r||i||s||o||h)&&p.options.snap.snap&&p.options.snap.snap.call(p.element,t,e.extend(p._uiHash(),{snapItem:p.snapElements[c].item})),p.snapElements[c].snapping=r||i||s||o||h}}}),e.ui.plugin.add("draggable","stack",{start:function(){var t,n=this.data("ui-draggable").options,r=e.makeArray(e(n.stack)).sort(function(t,n){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(n).css("zIndex"),10)||0)});if(!r.length)return;t=parseInt(e(r[0]).css("zIndex"),10)||0,e(r).each(function(n){e(this).css("zIndex",t+n)}),this.css("zIndex",t+r.length)}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,n){var r=e(n.helper),i=e(this).data("ui-draggable").options;r.css("zIndex")&&(i._zIndex=r.css("zIndex")),r.css("zIndex",i.zIndex)},stop:function(t,n){var r=e(this).data("ui-draggable").options;r._zIndex&&e(n.helper).css("zIndex",r._zIndex)}})}(jQuery),function(e,t){function n(e,t,n){return e>t&&e<t+n}e.widget("ui.droppable",{version:"1.10.4",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t,n=this.options,r=n.accept;this.isover=!1,this.isout=!0,this.accept=e.isFunction(r)?r:function(e){return e.is(r)},this.proportions=function(){if(!arguments.length)return t?t:t={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight};t=arguments[0]},e.ui.ddmanager.droppables[n.scope]=e.ui.ddmanager.droppables[n.scope]||[],e.ui.ddmanager.droppables[n.scope].push(this),n.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){var t=0,n=e.ui.ddmanager.droppables[this.options.scope];for(;t<n.length;t++)n[t]===this&&n.splice(t,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(t,n){t==="accept"&&(this.accept=e.isFunction(n)?n:function(e){return e.is(n)}),e.Widget.prototype._setOption.apply(this,arguments)},_activate:function(t){var n=e.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),n&&this._trigger("activate",t,this.ui(n))},_deactivate:function(t){var n=e.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),n&&this._trigger("deactivate",t,this.ui(n))},_over:function(t){var n=e.ui.ddmanager.current;if(!n||(n.currentItem||n.element)[0]===this.element[0])return;this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(n)))},_out:function(t){var n=e.ui.ddmanager.current;if(!n||(n.currentItem||n.element)[0]===this.element[0])return;this.accept.call(this.element[0],n.currentItem||n.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(n)))},_drop:function(t,n){var r=n||e.ui.ddmanager.current,i=!1;return!r||(r.currentItem||r.element)[0]===this.element[0]?!1:(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var t=e.data(this,"ui-droppable");if(t.options.greedy&&!t.options.disabled&&t.options.scope===r.options.scope&&t.accept.call(t.element[0],r.currentItem||r.element)&&e.ui.intersect(r,e.extend(t,{offset:t.element.offset()}),t.options.tolerance))return i=!0,!1}),i?!1:this.accept.call(this.element[0],r.currentItem||r.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(r)),this.element):!1)},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}}}),e.ui.intersect=function(e,t,r){if(!t.offset)return!1;var i,s,o=(e.positionAbs||e.position.absolute).left,u=(e.positionAbs||e.position.absolute).top,a=o+e.helperProportions.width,f=u+e.helperProportions.height,l=t.offset.left,c=t.offset.top,h=l+t.proportions().width,p=c+t.proportions().height;switch(r){case"fit":return l<=o&&a<=h&&c<=u&&f<=p;case"intersect":return l<o+e.helperProportions.width/2&&a-e.helperProportions.width/2<h&&c<u+e.helperProportions.height/2&&f-e.helperProportions.height/2<p;case"pointer":return i=(e.positionAbs||e.position.absolute).left+(e.clickOffset||e.offset.click).left,s=(e.positionAbs||e.position.absolute).top+(e.clickOffset||e.offset.click).top,n(s,c,t.proportions().height)&&n(i,l,t.proportions().width);case"touch":return(u>=c&&u<=p||f>=c&&f<=p||u<c&&f>p)&&(o>=l&&o<=h||a>=l&&a<=h||o<l&&a>h);default:return!1}},e.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(t,n){var r,i,s=e.ui.ddmanager.droppables[t.options.scope]||[],o=n?n.type:null,u=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();e:for(r=0;r<s.length;r++){if(s[r].options.disabled||t&&!s[r].accept.call(s[r].element[0],t.currentItem||t.element))continue;for(i=0;i<u.length;i++)if(u[i]===s[r].element[0]){s[r].proportions().height=0;continue e}s[r].visible=s[r].element.css("display")!=="none";if(!s[r].visible)continue;o==="mousedown"&&s[r]._activate.call(s[r],n),s[r].offset=s[r].element.offset(),s[r].proportions({width:s[r].element[0].offsetWidth,height:s[r].element[0].offsetHeight})}},drop:function(t,n){var r=!1;return e.each((e.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){if(!this.options)return;!this.options.disabled&&this.visible&&e.ui.intersect(t,this,this.options.tolerance)&&(r=this._drop.call(this,n)||r),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,n))}),r},dragStart:function(t,n){t.element.parentsUntil("body").bind("scroll.droppable",function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,n)})},drag:function(t,n){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,n),e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){if(this.options.disabled||this.greedyChild||!this.visible)return;var r,i,s,o=e.ui.intersect(t,this,this.options.tolerance),u=!o&&this.isover?"isout":o&&!this.isover?"isover":null;if(!u)return;this.options.greedy&&(i=this.options.scope,s=this.element.parents(":data(ui-droppable)").filter(function(){return e.data(this,"ui-droppable").options.scope===i}),s.length&&(r=e.data(s[0],"ui-droppable"),r.greedyChild=u==="isover")),r&&u==="isover"&&(r.isover=!1,r.isout=!0,r._out.call(r,n)),this[u]=!0,this[u==="isout"?"isover":"isout"]=!1,this[u==="isover"?"_over":"_out"].call(this,n),r&&u==="isout"&&(r.isout=!1,r.isover=!0,r._over.call(r,n))})},dragStop:function(t,n){t.element.parentsUntil("body").unbind("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,n)}}}(jQuery),function(e,t){function n(e){return parseInt(e,10)||0}function r(e){return!isNaN(parseInt(e,10))}e.widget("ui.resizable",e.ui.mouse,{version:"1.10.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var t,n,r,i,s,o=this,u=this.options;this.element.addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!u.aspectRatio,aspectRatio:u.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:u.helper||u.ghost||u.animate?u.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=u.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se");if(this.handles.constructor===String){this.handles==="all"&&(this.handles="n,e,s,w,se,sw,ne,nw"),t=this.handles.split(","),this.handles={};for(n=0;n<t.length;n++)r=e.trim(t[n]),s="ui-resizable-"+r,i=e("<div class='ui-resizable-handle "+s+"'></div>"),i.css({zIndex:u.zIndex}),"se"===r&&i.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[r]=".ui-resizable-"+r,this.element.append(i)}this._renderAxis=function(t){var n,r,i,s;t=t||this.element;for(n in this.handles){this.handles[n].constructor===String&&(this.handles[n]=e(this.handles[n],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(r=e(this.handles[n],this.element),s=/sw|ne|nw|se|n|s/.test(n)?r.outerHeight():r.outerWidth(),i=["padding",/ne|nw|n/.test(n)?"Top":/se|sw|s/.test(n)?"Bottom":/^e$/.test(n)?"Right":"Left"].join(""),t.css(i,s),this._proportionallyResize());if(!e(this.handles[n]).length)continue}},this._renderAxis(this.element),this._handles=e(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){o.resizing||(this.className&&(i=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),o.axis=i&&i[1]?i[1]:"se")}),u.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").mouseenter(function(){if(u.disabled)return;e(this).removeClass("ui-resizable-autohide"),o._handles.show()}).mouseleave(function(){if(u.disabled)return;o.resizing||(e(this).addClass("ui-resizable-autohide"),o._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,n=function(t){e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(n(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),n(this.originalElement),this},_mouseCapture:function(t){var n,r,i=!1;for(n in this.handles){r=e(this.handles[n])[0];if(r===t.target||e.contains(r,t.target))i=!0}return!this.options.disabled&&i},_mouseStart:function(t){var r,i,s,o=this.options,u=this.element.position(),a=this.element;return this.resizing=!0,/absolute/.test(a.css("position"))?a.css({position:"absolute",top:a.css("top"),left:a.css("left")}):a.is(".ui-draggable")&&a.css({position:"absolute",top:u.top,left:u.left}),this._renderProxy(),r=n(this.helper.css("left")),i=n(this.helper.css("top")),o.containment&&(r+=e(o.containment).scrollLeft()||0,i+=e(o.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:r,top:i},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:a.width(),height:a.height()},this.originalSize=this._helper?{width:a.outerWidth(),height:a.outerHeight()}:{width:a.width(),height:a.height()},this.originalPosition={left:r,top:i},this.sizeDiff={width:a.outerWidth()-a.width(),height:a.outerHeight()-a.height()},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio=typeof o.aspectRatio=="number"?o.aspectRatio:this.originalSize.width/this.originalSize.height||1,s=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor",s==="auto"?this.axis+"-resize":s),a.addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var n,r=this.helper,i={},s=this.originalMousePosition,o=this.axis,u=this.position.top,a=this.position.left,f=this.size.width,l=this.size.height,c=t.pageX-s.left||0,h=t.pageY-s.top||0,p=this._change[o];if(!p)return!1;n=p.apply(this,[t,c,h]),this._updateVirtualBoundaries(t.shiftKey);if(this._aspectRatio||t.shiftKey)n=this._updateRatio(n,t);return n=this._respectSize(n,t),this._updateCache(n),this._propagate("resize",t),this.position.top!==u&&(i.top=this.position.top+"px"),this.position.left!==a&&(i.left=this.position.left+"px"),this.size.width!==f&&(i.width=this.size.width+"px"),this.size.height!==l&&(i.height=this.size.height+"px"),r.css(i),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(i)||this._trigger("resize",t,this.ui()),!1},_mouseStop:function(t){this.resizing=!1;var n,r,i,s,o,u,a,f=this.options,l=this;return this._helper&&(n=this._proportionallyResizeElements,r=n.length&&/textarea/i.test(n[0].nodeName),i=r&&e.ui.hasScroll(n[0],"left")?0:l.sizeDiff.height,s=r?0:l.sizeDiff.width,o={width:l.helper.width()-s,height:l.helper.height()-i},u=parseInt(l.element.css("left"),10)+(l.position.left-l.originalPosition.left)||null,a=parseInt(l.element.css("top"),10)+(l.position.top-l.originalPosition.top)||null,f.animate||this.element.css(e.extend(o,{top:a,left:u})),l.helper.height(l.size.height),l.helper.width(l.size.width),this._helper&&!f.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(e){var t,n,i,s,o,u=this.options;o={minWidth:r(u.minWidth)?u.minWidth:0,maxWidth:r(u.maxWidth)?u.maxWidth:Infinity,minHeight:r(u.minHeight)?u.minHeight:0,maxHeight:r(u.maxHeight)?u.maxHeight:Infinity};if(this._aspectRatio||e)t=o.minHeight*this.aspectRatio,i=o.minWidth/this.aspectRatio,n=o.maxHeight*this.aspectRatio,s=o.maxWidth/this.aspectRatio,t>o.minWidth&&(o.minWidth=t),i>o.minHeight&&(o.minHeight=i),n<o.maxWidth&&(o.maxWidth=n),s<o.maxHeight&&(o.maxHeight=s);this._vBoundaries=o},_updateCache:function(e){this.offset=this.helper.offset(),r(e.left)&&(this.position.left=e.left),r(e.top)&&(this.position.top=e.top),r(e.height)&&(this.size.height=e.height),r(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,n=this.size,i=this.axis;return r(e.height)?e.width=e.height*this.aspectRatio:r(e.width)&&(e.height=e.width/this.aspectRatio),i==="sw"&&(e.left=t.left+(n.width-e.width),e.top=null),i==="nw"&&(e.top=t.top+(n.height-e.height),e.left=t.left+(n.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,n=this.axis,i=r(e.width)&&t.maxWidth&&t.maxWidth<e.width,s=r(e.height)&&t.maxHeight&&t.maxHeight<e.height,o=r(e.width)&&t.minWidth&&t.minWidth>e.width,u=r(e.height)&&t.minHeight&&t.minHeight>e.height,a=this.originalPosition.left+this.originalSize.width,f=this.position.top+this.size.height,l=/sw|nw|w/.test(n),c=/nw|ne|n/.test(n);return o&&(e.width=t.minWidth),u&&(e.height=t.minHeight),i&&(e.width=t.maxWidth),s&&(e.height=t.maxHeight),o&&l&&(e.left=a-t.minWidth),i&&l&&(e.left=a-t.maxWidth),u&&c&&(e.top=f-t.minHeight),s&&c&&(e.top=f-t.maxHeight),!e.width&&!e.height&&!e.left&&e.top?e.top=null:!e.width&&!e.height&&!e.top&&e.left&&(e.left=null),e},_proportionallyResize:function(){if(!this._proportionallyResizeElements.length)return;var e,t,n,r,i,s=this.helper||this.element;for(e=0;e<this._proportionallyResizeElements.length;e++){i=this._proportionallyResizeElements[e];if(!this.borderDif){this.borderDif=[],n=[i.css("borderTopWidth"),i.css("borderRightWidth"),i.css("borderBottomWidth"),i.css("borderLeftWidth")],r=[i.css("paddingTop"),i.css("paddingRight"),i.css("paddingBottom"),i.css("paddingLeft")];for(t=0;t<n.length;t++)this.borderDif[t]=(parseInt(n[t],10)||0)+(parseInt(r[t],10)||0)}i.css({height:s.height()-this.borderDif[0]-this.borderDif[2]||0,width:s.width()-this.borderDif[1]-this.borderDif[3]||0})}},_renderProxy:function(){var t=this.element,n=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||e("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++n.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var n=this.originalSize,r=this.originalPosition;return{left:r.left+t,width:n.width-t}},n:function(e,t,n){var r=this.originalSize,i=this.originalPosition;return{top:i.top+n,height:r.height-n}},s:function(e,t,n){return{height:this.originalSize.height+n}},se:function(t,n,r){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,n,r]))},sw:function(t,n,r){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,n,r]))},ne:function(t,n,r){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,n,r]))},nw:function(t,n,r){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,n,r]))}},_propagate:function(t,n){e.ui.plugin.call(this,t,[n,this.ui()]),t!=="resize"&&this._trigger(t,n,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var n=e(this).data("ui-resizable"),r=n.options,i=n._proportionallyResizeElements,s=i.length&&/textarea/i.test(i[0].nodeName),o=s&&e.ui.hasScroll(i[0],"left")?0:n.sizeDiff.height,u=s?0:n.sizeDiff.width,a={width:n.size.width-u,height:n.size.height-o},f=parseInt(n.element.css("left"),10)+(n.position.left-n.originalPosition.left)||null,l=parseInt(n.element.css("top"),10)+(n.position.top-n.originalPosition.top)||null;n.element.animate(e.extend(a,l&&f?{top:l,left:f}:{}),{duration:r.animateDuration,easing:r.animateEasing,step:function(){var r={width:parseInt(n.element.css("width"),10),height:parseInt(n.element.css("height"),10),top:parseInt(n.element.css("top"),10),left:parseInt(n.element.css("left"),10)};i&&i.length&&e(i[0]).css({width:r.width,height:r.height}),n._updateCache(r),n._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var t,r,i,s,o,u,a,f=e(this).data("ui-resizable"),l=f.options,c=f.element,h=l.containment,p=h instanceof e?h.get(0):/parent/.test(h)?c.parent().get(0):h;if(!p)return;f.containerElement=e(p),/document/.test(h)||h===document?(f.containerOffset={left:0,top:0},f.containerPosition={left:0,top:0},f.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(t=e(p),r=[],e(["Top","Right","Left","Bottom"]).each(function(e,i){r[e]=n(t.css("padding"+i))}),f.containerOffset=t.offset(),f.containerPosition=t.position(),f.containerSize={height:t.innerHeight()-r[3],width:t.innerWidth()-r[1]},i=f.containerOffset,s=f.containerSize.height,o=f.containerSize.width,u=e.ui.hasScroll(p,"left")?p.scrollWidth:o,a=e.ui.hasScroll(p)?p.scrollHeight:s,f.parentData={element:p,left:i.left,top:i.top,width:u,height:a})},resize:function(t){var n,r,i,s,o=e(this).data("ui-resizable"),u=o.options,a=o.containerOffset,f=o.position,l=o._aspectRatio||t.shiftKey,c={top:0,left:0},h=o.containerElement;h[0]!==document&&/static/.test(h.css("position"))&&(c=a),f.left<(o._helper?a.left:0)&&(o.size.width=o.size.width+(o._helper?o.position.left-a.left:o.position.left-c.left),l&&(o.size.height=o.size.width/o.aspectRatio),o.position.left=u.helper?a.left:0),f.top<(o._helper?a.top:0)&&(o.size.height=o.size.height+(o._helper?o.position.top-a.top:o.position.top),l&&(o.size.width=o.size.height*o.aspectRatio),o.position.top=o._helper?a.top:0),o.offset.left=o.parentData.left+o.position.left,o.offset.top=o.parentData.top+o.position.top,n=Math.abs((o._helper?o.offset.left-c.left:o.offset.left-c.left)+o.sizeDiff.width),r=Math.abs((o._helper?o.offset.top-c.top:o.offset.top-a.top)+o.sizeDiff.height),i=o.containerElement.get(0)===o.element.parent().get(0),s=/relative|absolute/.test(o.containerElement.css("position")),i&&s&&(n-=Math.abs(o.parentData.left)),n+o.size.width>=o.parentData.width&&(o.size.width=o.parentData.width-n,l&&(o.size.height=o.size.width/o.aspectRatio)),r+o.size.height>=o.parentData.height&&(o.size.height=o.parentData.height-r,l&&(o.size.width=o.size.height*o.aspectRatio))},stop:function(){var t=e(this).data("ui-resizable"),n=t.options,r=t.containerOffset,i=t.containerPosition,s=t.containerElement,o=e(t.helper),u=o.offset(),a=o.outerWidth()-t.sizeDiff.width,f=o.outerHeight()-t.sizeDiff.height;t._helper&&!n.animate&&/relative/.test(s.css("position"))&&e(this).css({left:u.left-i.left-r.left,width:a,height:f}),t._helper&&!n.animate&&/static/.test(s.css("position"))&&e(this).css({left:u.left-i.left-r.left,width:a,height:f})}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).data("ui-resizable"),n=t.options,r=function(t){e(t).each(function(){var t=e(this);t.data("ui-resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})};typeof n.alsoResize=="object"&&!n.alsoResize.parentNode?n.alsoResize.length?(n.alsoResize=n.alsoResize[0],r(n.alsoResize)):e.each(n.alsoResize,function(e){r(e)}):r(n.alsoResize)},resize:function(t,n){var r=e(this).data("ui-resizable"),i=r.options,s=r.originalSize,o=r.originalPosition,u={height:r.size.height-s.height||0,width:r.size.width-s.width||0,top:r.position.top-o.top||0,left:r.position.left-o.left||0},a=function(t,r){e(t).each(function(){var t=e(this),i=e(this).data("ui-resizable-alsoresize"),s={},o=r&&r.length?r:t.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(o,function(e,t){var n=(i[t]||0)+(u[t]||0);n&&n>=0&&(s[t]=n||null)}),t.css(s)})};typeof i.alsoResize=="object"&&!i.alsoResize.nodeType?e.each(i.alsoResize,function(e,t){a(e,t)}):a(i.alsoResize)},stop:function(){e(this).removeData("resizable-alsoresize")}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).data("ui-resizable"),n=t.options,r=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:r.height,width:r.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass(typeof n.ghost=="string"?n.ghost:""),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).data("ui-resizable");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).data("ui-resizable");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var t=e(this).data("ui-resizable"),n=t.options,r=t.size,i=t.originalSize,s=t.originalPosition,o=t.axis,u=typeof n.grid=="number"?[n.grid,n.grid]:n.grid,a=u[0]||1,f=u[1]||1,l=Math.round((r.width-i.width)/a)*a,c=Math.round((r.height-i.height)/f)*f,h=i.width+l,p=i.height+c,d=n.maxWidth&&n.maxWidth<h,v=n.maxHeight&&n.maxHeight<p,m=n.minWidth&&n.minWidth>h,g=n.minHeight&&n.minHeight>p;n.grid=u,m&&(h+=a),g&&(p+=f),d&&(h-=a),v&&(p-=f),/^(se|s|e)$/.test(o)?(t.size.width=h,t.size.height=p):/^(ne)$/.test(o)?(t.size.width=h,t.size.height=p,t.position.top=s.top-c):/^(sw)$/.test(o)?(t.size.width=h,t.size.height=p,t.position.left=s.left-l):(p-f>0?(t.size.height=p,t.position.top=s.top-c):(t.size.height=f,t.position.top=s.top+i.height-f),h-a>0?(t.size.width=h,t.position.left=s.left-l):(t.size.width=a,t.position.left=s.left+i.width-a))}})}(jQuery),function(e,t){function n(e,t,n){return e>t&&e<t+n}function r(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))}e.widget("ui.sortable",e.ui.mouse,{version:"1.10.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var e=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?e.axis==="x"||r(this.items[0].item):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_setOption:function(t,n){t==="disabled"?(this.options[t]=n,this.widget().toggleClass("ui-sortable-disabled",!!n)):e.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(t,n){var r=null,i=!1,s=this;if(this.reverting)return!1;if(this.options.disabled||this.options.type==="static")return!1;this._refreshItems(t),e(t.target).parents().each(function(){if(e.data(this,s.widgetName+"-item")===s)return r=e(this),!1}),e.data(t.target,s.widgetName+"-item")===s&&(r=e(t.target));if(!r)return!1;if(this.options.handle&&!n){e(this.options.handle,r).find("*").addBack().each(function(){this===t.target&&(i=!0)});if(!i)return!1}return this.currentItem=r,this._removeCurrentsFromItems(),!0},_mouseStart:function(t,n,r){var i,s,o=this.options;this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),o.containment&&this._setContainment(),o.cursor&&o.cursor!=="auto"&&(s=this.document.find("body"),this.storedCursor=s.css("cursor"),s.css("cursor",o.cursor),this.storedStylesheet=e("<style>*{ cursor: "+o.cursor+" !important; }</style>").appendTo(s)),o.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",o.opacity)),o.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",o.zIndex)),this.scrollParent[0]!==document&&this.scrollParent[0].tagName!=="HTML"&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions();if(!r)for(i=this.containers.length-1;i>=0;i--)this.containers[i]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var n,r,i,s,o=this.options,u=!1;this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&this.scrollParent[0].tagName!=="HTML"?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<o.scrollSensitivity?this.scrollParent[0].scrollTop=u=this.scrollParent[0].scrollTop+o.scrollSpeed:t.pageY-this.overflowOffset.top<o.scrollSensitivity&&(this.scrollParent[0].scrollTop=u=this.scrollParent[0].scrollTop-o.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<o.scrollSensitivity?this.scrollParent[0].scrollLeft=u=this.scrollParent[0].scrollLeft+o.scrollSpeed:t.pageX-this.overflowOffset.left<o.scrollSensitivity&&(this.scrollParent[0].scrollLeft=u=this.scrollParent[0].scrollLeft-o.scrollSpeed)):(t.pageY-e(document).scrollTop()<o.scrollSensitivity?u=e(document).scrollTop(e(document).scrollTop()-o.scrollSpeed):e(window).height()-(t.pageY-e(document).scrollTop())<o.scrollSensitivity&&(u=e(document).scrollTop(e(document).scrollTop()+o.scrollSpeed)),t.pageX-e(document).scrollLeft()<o.scrollSensitivity?u=e(document).scrollLeft(e(document).scrollLeft()-o.scrollSpeed):e(window).width()-(t.pageX-e(document).scrollLeft())<o.scrollSensitivity&&(u=e(document).scrollLeft(e(document).scrollLeft()+o.scrollSpeed))),u!==!1&&e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute");if(!this.options.axis||this.options.axis!=="y")this.helper[0].style.left=this.position.left+"px";if(!this.options.axis||this.options.axis!=="x")this.helper[0].style.top=this.position.top+"px";for(n=this.items.length-1;n>=0;n--){r=this.items[n],i=r.item[0],s=this._intersectsWithPointer(r);if(!s)continue;if(r.instance!==this.currentContainer)continue;if(i!==this.currentItem[0]&&this.placeholder[s===1?"next":"prev"]()[0]!==i&&!e.contains(this.placeholder[0],i)&&(this.options.type==="semi-dynamic"?!e.contains(this.element[0],i):!0)){this.direction=s===1?"down":"up";if(this.options.tolerance!=="pointer"&&!this._intersectsWithSides(r))break;this._rearrange(t,r),this._trigger("change",t,this._uiHash());break}}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,n){if(!t)return;e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t);if(this.options.revert){var r=this,i=this.placeholder.offset(),s=this.options.axis,o={};if(!s||s==="x")o.left=i.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft);if(!s||s==="y")o.top=i.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop);this.reverting=!0,e(this.helper).animate(o,parseInt(this.options.revert,10)||500,function(){r._clear(t)})}else this._clear(t,n);return!1},cancel:function(){if(this.dragging){this._mouseUp({target:null}),this.options.helper==="original"?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.options.helper!=="original"&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var n=this._getItemsAsjQuery(t&&t.connected),r=[];return t=t||{},e(n).each(function(){var n=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);n&&r.push((t.key||n[1]+"[]")+"="+(t.key&&t.expression?n[1]:n[2]))}),!r.length&&t.key&&r.push(t.key+"="),r.join("&")},toArray:function(t){var n=this._getItemsAsjQuery(t&&t.connected),r=[];return t=t||{},n.each(function(){r.push(e(t.item||this).attr(t.attribute||"id")||"")}),r},_intersectsWith:function(e){var t=this.positionAbs.left,n=t+this.helperProportions.width,r=this.positionAbs.top,i=r+this.helperProportions.height,s=e.left,o=s+e.width,u=e.top,a=u+e.height,f=this.offset.click.top,l=this.offset.click.left,c=this.options.axis==="x"||r+f>u&&r+f<a,h=this.options.axis==="y"||t+l>s&&t+l<o,p=c&&h;return this.options.tolerance==="pointer"||this.options.forcePointerForContainers||this.options.tolerance!=="pointer"&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?p:s<t+this.helperProportions.width/2&&n-this.helperProportions.width/2<o&&u<r+this.helperProportions.height/2&&i-this.helperProportions.height/2<a},_intersectsWithPointer:function(e){var t=this.options.axis==="x"||n(this.positionAbs.top+this.offset.click.top,e.top,e.height),r=this.options.axis==="y"||n(this.positionAbs.left+this.offset.click.left,e.left,e.width),i=t&&r,s=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return i?this.floating?o&&o==="right"||s==="down"?2:1:s&&(s==="down"?2:1):!1},_intersectsWithSides:function(e){var t=n(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),r=n(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),i=this._getDragVerticalDirection(),s=this._getDragHorizontalDirection();return this.floating&&s?s==="right"&&r||s==="left"&&!r:i&&(i==="down"&&t||i==="up"&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return e!==0&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return e!==0&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){function f(){o.push(this)}var n,r,i,s,o=[],u=[],a=this._connectWith();if(a&&t)for(n=a.length-1;n>=0;n--){i=e(a[n]);for(r=i.length-1;r>=0;r--)s=e.data(i[r],this.widgetFullName),s&&s!==this&&!s.options.disabled&&u.push([e.isFunction(s.options.items)?s.options.items.call(s.element):e(s.options.items,s.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),s])}u.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]);for(n=u.length-1;n>=0;n--)u[n][0].each(f);return e(o)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var n=0;n<t.length;n++)if(t[n]===e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var n,r,i,s,o,u,a,f,l=this.items,c=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],h=this._connectWith();if(h&&this.ready)for(n=h.length-1;n>=0;n--){i=e(h[n]);for(r=i.length-1;r>=0;r--)s=e.data(i[r],this.widgetFullName),s&&s!==this&&!s.options.disabled&&(c.push([e.isFunction(s.options.items)?s.options.items.call(s.element[0],t,{item:this.currentItem}):e(s.options.items,s.element),s]),this.containers.push(s))}for(n=c.length-1;n>=0;n--){o=c[n][1],u=c[n][0];for(r=0,f=u.length;r<f;r++)a=e(u[r]),a.data(this.widgetName+"-item",o),l.push({item:a,instance:o,width:0,height:0,left:0,top:0})}},refreshPositions:function(t){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var n,r,i,s;for(n=this.items.length-1;n>=0;n--){r=this.items[n];if(r.instance!==this.currentContainer&&this.currentContainer&&r.item[0]!==this.currentItem[0])continue;i=this.options.toleranceElement?e(this.options.toleranceElement,r.item):r.item,t||(r.width=i.outerWidth(),r.height=i.outerHeight()),s=i.offset(),r.left=s.left,r.top=s.top}if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(n=this.containers.length-1;n>=0;n--)s=this.containers[n].element.offset(),this.containers[n].containerCache.left=s.left,this.containers[n].containerCache.top=s.top,this.containers[n].containerCache.width=this.containers[n].element.outerWidth(),this.containers[n].containerCache.height=this.containers[n].element.outerHeight();return this},_createPlaceholder:function(t){t=t||this;var n,r=t.options;if(!r.placeholder||r.placeholder.constructor===String)n=r.placeholder,r.placeholder={element:function(){var r=t.currentItem[0].nodeName.toLowerCase(),i=e("<"+r+">",t.document[0]).addClass(n||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return r==="tr"?t.currentItem.children().each(function(){e("<td>&#160;</td>",t.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(i)}):r==="img"&&i.attr("src",t.currentItem.attr("src")),n||i.css("visibility","hidden"),i},update:function(e,i){if(n&&!r.forcePlaceholderSize)return;i.height()||i.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),i.width()||i.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10))}};t.placeholder=e(r.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),r.placeholder.update(t,t.placeholder)},_contactContainers:function(t){var i,s,o,u,a,f,l,c,h,p,d=null,v=null;for(i=this.containers.length-1;i>=0;i--){if(e.contains(this.currentItem[0],this.containers[i].element[0]))continue;if(this._intersectsWith(this.containers[i].containerCache)){if(d&&e.contains(this.containers[i].element[0],d.element[0]))continue;d=this.containers[i],v=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",t,this._uiHash(this)),this.containers[i].containerCache.over=0)}if(!d)return;if(this.containers.length===1)this.containers[v].containerCache.over||(this.containers[v]._trigger("over",t,this._uiHash(this)),this.containers[v].containerCache.over=1);else{o=1e4,u=null,p=d.floating||r(this.currentItem),a=p?"left":"top",f=p?"width":"height",l=this.positionAbs[a]+this.offset.click[a];for(s=this.items.length-1;s>=0;s--){if(!e.contains(this.containers[v].element[0],this.items[s].item[0]))continue;if(this.items[s].item[0]===this.currentItem[0])continue;if(p&&!n(this.positionAbs.top+this.offset.click.top,this.items[s].top,this.items[s].height))continue;c=this.items[s].item.offset()[a],h=!1,Math.abs(c-l)>Math.abs(c+this.items[s][f]-l)&&(h=!0,c+=this.items[s][f]),Math.abs(c-l)<o&&(o=Math.abs(c-l),u=this.items[s],this.direction=h?"up":"down")}if(!u&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[v])return;u?this._rearrange(t,u,null,!0):this._rearrange(t,null,this.containers[v].element,!0),this._trigger("change",t,this._uiHash()),this.containers[v]._trigger("change",t,this._uiHash(this)),this.currentContainer=this.containers[v],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[v]._trigger("over",t,this._uiHash(this)),this.containers[v].containerCache.over=1}},_createHelper:function(t){var n=this.options,r=e.isFunction(n.helper)?e(n.helper.apply(this.element[0],[t,this.currentItem])):n.helper==="clone"?this.currentItem.clone():this.currentItem;return r.parents("body").length||e(n.appendTo!=="parent"?n.appendTo:this.currentItem[0].parentNode)[0].appendChild(r[0]),r[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!r[0].style.width||n.forceHelperSize)&&r.width(this.currentItem.width()),(!r[0].style.height||n.forceHelperSize)&&r.height(this.currentItem.height()),r},_adjustOffsetFromHelper:function(t){typeof t=="string"&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();this.cssPosition==="absolute"&&this.scrollParent[0]!==document&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop());if(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&this.offsetParent[0].tagName.toLowerCase()==="html"&&e.ui.ie)t={top:0,left:0};return{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if(this.cssPosition==="relative"){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,n,r,i=this.options;i.containment==="parent"&&(i.containment=this.helper[0].parentNode);if(i.containment==="document"||i.containment==="window")this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,e(i.containment==="document"?document:window).width()-this.helperProportions.width-this.margins.left,(e(i.containment==="document"?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top];/^(document|window|parent)$/.test(i.containment)||(t=e(i.containment)[0],n=e(i.containment).offset(),r=e(t).css("overflow")!=="hidden",this.containment=[n.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,n.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,n.left+(r?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,n.top+(r?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,n){n||(n=this.position);var r=t==="absolute"?1:-1,i=this.cssPosition!=="absolute"||this.scrollParent[0]!==document&&!!e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,s=/(html|body)/i.test(i[0].tagName);return{top:n.top+this.offset.relative.top*r+this.offset.parent.top*r-(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():s?0:i.scrollTop())*r,left:n.left+this.offset.relative.left*r+this.offset.parent.left*r-(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():s?0:i.scrollLeft())*r}},_generatePosition:function(t){var n,r,i=this.options,s=t.pageX,o=t.pageY,u=this.cssPosition!=="absolute"||this.scrollParent[0]!==document&&!!e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,a=/(html|body)/i.test(u[0].tagName);return this.cssPosition==="relative"&&(this.scrollParent[0]===document||this.scrollParent[0]===this.offsetParent[0])&&(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(s=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(o=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(s=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(o=this.containment[3]+this.offset.click.top)),i.grid&&(n=this.originalPageY+Math.round((o-this.originalPageY)/i.grid[1])*i.grid[1],o=this.containment?n-this.offset.click.top>=this.containment[1]&&n-this.offset.click.top<=this.containment[3]?n:n-this.offset.click.top>=this.containment[1]?n-i.grid[1]:n+i.grid[1]:n,r=this.originalPageX+Math.round((s-this.originalPageX)/i.grid[0])*i.grid[0],s=this.containment?r-this.offset.click.left>=this.containment[0]&&r-this.offset.click.left<=this.containment[2]?r:r-this.offset.click.left>=this.containment[0]?r-i.grid[0]:r+i.grid[0]:r)),{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+(this.cssPosition==="fixed"?-this.scrollParent.scrollTop():a?0:u.scrollTop()),left:s-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+(this.cssPosition==="fixed"?-this.scrollParent.scrollLeft():a?0:u.scrollLeft())}},_rearrange:function(e,t,n,r){n?n[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],this.direction==="down"?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var i=this.counter;this._delay(function(){i===this.counter&&this.refreshPositions(!r)})},_clear:function(e,t){function i(e,t,n){return function(r){n._trigger(e,r,t._uiHash(t))}}this.reverting=!1;var n,r=[];!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null;if(this.helper[0]===this.currentItem[0]){for(n in this._storedCSS)if(this._storedCSS[n]==="auto"||this._storedCSS[n]==="static")this._storedCSS[n]="";this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();this.fromOutside&&!t&&r.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),(this.fromOutside||this.domPosition.prev!==this.currentItem.prev().not(".ui-sortable-helper")[0]||this.domPosition.parent!==this.currentItem.parent()[0])&&!t&&r.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(t||(r.push(function(e){this._trigger("remove",e,this._uiHash())}),r.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),r.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer))));for(n=this.containers.length-1;n>=0;n--)t||r.push(i("deactivate",this,this.containers[n])),this.containers[n].containerCache.over&&(r.push(i("out",this,this.containers[n])),this.containers[n].containerCache.over=0);this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex",this._storedZIndex==="auto"?"":this._storedZIndex),this.dragging=!1;if(this.cancelHelperRemoval){if(!t){this._trigger("beforeStop",e,this._uiHash());for(n=0;n<r.length;n++)r[n].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!1}t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null;if(!t){for(n=0;n<r.length;n++)r[n].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){e.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var n=t||this;return{helper:n.helper,placeholder:n.placeholder||e([]),position:n.position,originalPosition:n.originalPosition,offset:n.positionAbs,item:n.currentItem,sender:t?t.element:null}}})}(jQuery),function(e,t){var n=5;e.widget("ui.slider",e.ui.mouse,{version:"1.10.4",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget"+" ui-widget-content"+" ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var t,n,r=this.options,i=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),s="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",o=[];n=r.values&&r.values.length||1,i.length>n&&(i.slice(n).remove(),i=i.slice(0,n));for(t=i.length;t<n;t++)o.push(s);this.handles=i.add(e(o.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(t){e(this).data("ui-slider-handle-index",t)})},_createRange:function(){var t=this.options,n="";t.range?(t.range===!0&&(t.values?t.values.length&&t.values.length!==2?t.values=[t.values[0],t.values[0]]:e.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),!this.range||!this.range.length?(this.range=e("<div></div>").appendTo(this.element),n="ui-slider-range ui-widget-header ui-corner-all"):this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}),this.range.addClass(n+(t.range==="min"||t.range==="max"?" ui-slider-range-"+t.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){var e=this.handles.add(this.range).filter("a");this._off(e),this._on(e,this._handleEvents),this._hoverable(e),this._focusable(e)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(t){var n,r,i,s,o,u,a,f,l=this,c=this.options;return c.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),n={x:t.pageX,y:t.pageY},r=this._normValueFromMouse(n),i=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var n=Math.abs(r-l.values(t));if(i>n||i===n&&(t===l._lastChangedValue||l.values(t)===c.min))i=n,s=e(this),o=t}),u=this._start(t,o),u===!1?!1:(this._mouseSliding=!0,this._handleIndex=o,s.addClass("ui-state-active").focus(),a=s.offset(),f=!e(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=f?{left:0,top:0}:{left:t.pageX-a.left-s.width()/2,top:t.pageY-a.top-s.height()/2-(parseInt(s.css("borderTopWidth"),10)||0)-(parseInt(s.css("borderBottomWidth"),10)||0)+(parseInt(s.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,o,r),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},n=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,n),!1},_mouseStop:function(e){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation=this.options.orientation==="vertical"?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,n,r,i,s;return this.orientation==="horizontal"?(t=this.elementSize.width,n=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,n=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),r=n/t,r>1&&(r=1),r<0&&(r=0),this.orientation==="vertical"&&(r=1-r),i=this._valueMax()-this._valueMin(),s=this._valueMin()+r*i,this._trimAlignValue(s)},_start:function(e,t){var n={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._trigger("start",e,n)},_slide:function(e,t,n){var r,i,s;this.options.values&&this.options.values.length?(r=this.values(t?0:1),this.options.values.length===2&&this.options.range===!0&&(t===0&&n>r||t===1&&n<r)&&(n=r),n!==this.values(t)&&(i=this.values(),i[t]=n,s=this._trigger("slide",e,{handle:this.handles[t],value:n,values:i}),r=this.values(t?0:1),s!==!1&&this.values(t,n))):n!==this.value()&&(s=this._trigger("slide",e,{handle:this.handles[t],value:n}),s!==!1&&this.value(n))},_stop:function(e,t){var n={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._trigger("stop",e,n)},_change:function(e,t){if(!this._keySliding&&!this._mouseSliding){var n={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(n.value=this.values(t),n.values=this.values()),this._lastChangedValue=t,this._trigger("change",e,n)}},value:function(e){if(arguments.length){this.options.value=this._trimAlignValue(e),this._refreshValue(),this._change(null,0);return}return this._value()},values:function(t,n){var r,i,s;if(arguments.length>1){this.options.values[t]=this._trimAlignValue(n),this._refreshValue(),this._change(null,t);return}if(!arguments.length)return this._values();if(!e.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(t):this.value();r=this.options.values,i=arguments[0];for(s=0;s<r.length;s+=1)r[s]=this._trimAlignValue(i[s]),this._change(null,s);this._refreshValue()},_setOption:function(t,n){var r,i=0;t==="range"&&this.options.range===!0&&(n==="min"?(this.options.value=this._values(0),this.options.values=null):n==="max"&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),e.isArray(this.options.values)&&(i=this.options.values.length),e.Widget.prototype._setOption.apply(this,arguments);switch(t){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":this._animateOff=!0,this._refreshValue();for(r=0;r<i;r+=1)this._change(null,r);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var e=this.options.value;return e=this._trimAlignValue(e),e},_values:function(e){var t,n,r;if(arguments.length)return t=this.options.values[e],t=this._trimAlignValue(t),t;if(this.options.values&&this.options.values.length){n=this.options.values.slice();for(r=0;r<n.length;r+=1)n[r]=this._trimAlignValue(n[r]);return n}return[]},_trimAlignValue:function(e){if(e<=this._valueMin())return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,n=(e-this._valueMin())%t,r=e-n;return Math.abs(n)*2>=t&&(r+=n>0?t:-t),parseFloat(r.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var t,n,r,i,s,o=this.options.range,u=this.options,a=this,f=this._animateOff?!1:u.animate,l={};this.options.values&&this.options.values.length?this.handles.each(function(r){n=(a.values(r)-a._valueMin())/(a._valueMax()-a._valueMin())*100,l[a.orientation==="horizontal"?"left":"bottom"]=n+"%",e(this).stop(1,1)[f?"animate":"css"](l,u.animate),a.options.range===!0&&(a.orientation==="horizontal"?(r===0&&a.range.stop(1,1)[f?"animate":"css"]({left:n+"%"},u.animate),r===1&&a.range[f?"animate":"css"]({width:n-t+"%"},{queue:!1,duration:u.animate})):(r===0&&a.range.stop(1,1)[f?"animate":"css"]({bottom:n+"%"},u.animate),r===1&&a.range[f?"animate":"css"]({height:n-t+"%"},{queue:!1,duration:u.animate}))),t=n}):(r=this.value(),i=this._valueMin(),s=this._valueMax(),n=s!==i?(r-i)/(s-i)*100:0,l[this.orientation==="horizontal"?"left":"bottom"]=n+"%",this.handle.stop(1,1)[f?"animate":"css"](l,u.animate),o==="min"&&this.orientation==="horizontal"&&this.range.stop(1,1)[f?"animate":"css"]({width:n+"%"},u.animate),o==="max"&&this.orientation==="horizontal"&&this.range[f?"animate":"css"]({width:100-n+"%"},{queue:!1,duration:u.animate}),o==="min"&&this.orientation==="vertical"&&this.range.stop(1,1)[f?"animate":"css"]({height:n+"%"},u.animate),o==="max"&&this.orientation==="vertical"&&this.range[f?"animate":"css"]({height:100-n+"%"},{queue:!1,duration:u.animate}))},_handleEvents:{keydown:function(t){var r,i,s,o,u=e(t.target).data("ui-slider-handle-index");switch(t.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:t.preventDefault();if(!this._keySliding){this._keySliding=!0,e(t.target).addClass("ui-state-active"),r=this._start(t,u);if(r===!1)return}}o=this.options.step,this.options.values&&this.options.values.length?i=s=this.values(u):i=s=this.value();switch(t.keyCode){case e.ui.keyCode.HOME:s=this._valueMin();break;case e.ui.keyCode.END:s=this._valueMax();break;case e.ui.keyCode.PAGE_UP:s=this._trimAlignValue(i+(this._valueMax()-this._valueMin())/n);break;case e.ui.keyCode.PAGE_DOWN:s=this._trimAlignValue(i-(this._valueMax()-this._valueMin())/n);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(i===this._valueMax())return;s=this._trimAlignValue(i+o);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(i===this._valueMin())return;s=this._trimAlignValue(i-o)}this._slide(t,u,s)},click:function(e){e.preventDefault()},keyup:function(t){var n=e(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,n),this._change(t,n),e(t.target).removeClass("ui-state-active"))}}})}(jQuery),define("jquery-ui",["jquery"],function(){});if(typeof jQuery=="undefined")throw new Error("Bootstrap's JavaScript requires jQuery");+function(e){function t(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t)if(e.style[n]!==undefined)return{end:t[n]};return!1}e.fn.emulateTransitionEnd=function(t){var n=!1,r=this;e(this).one(e.support.transition.end,function(){n=!0});var i=function(){n||e(r).trigger(e.support.transition.end)};return setTimeout(i,t),this},e(function(){e.support.transition=t()})}(jQuery),+function(e){var t='[data-dismiss="alert"]',n=function(n){e(n).on("click",t,this.close)};n.prototype.close=function(t){function s(){i.trigger("closed.bs.alert").remove()}var n=e(this),r=n.attr("data-target");r||(r=n.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,""));var i=e(r);t&&t.preventDefault(),i.length||(i=n.hasClass("alert")?n:n.parent()),i.trigger(t=e.Event("close.bs.alert"));if(t.isDefaultPrevented())return;i.removeClass("in"),e.support.transition&&i.hasClass("fade")?i.one(e.support.transition.end,s).emulateTransitionEnd(150):s()};var r=e.fn.alert;e.fn.alert=function(t){return this.each(function(){var r=e(this),i=r.data("bs.alert");i||r.data("bs.alert",i=new n(this)),typeof t=="string"&&i[t].call(r)})},e.fn.alert.Constructor=n,e.fn.alert.noConflict=function(){return e.fn.alert=r,this},e(document).on("click.bs.alert.data-api",t,n.prototype.close)}(jQuery),+function(e){var t=function(n,r){this.$element=e(n),this.options=e.extend({},t.DEFAULTS,r),this.isLoading=!1};t.DEFAULTS={loadingText:"loading..."},t.prototype.setState=function(t){var n="disabled",r=this.$element,i=r.is("input")?"val":"html",s=r.data();t+="Text",s.resetText||r.data("resetText",r[i]()),r[i](s[t]||this.options[t]),setTimeout(e.proxy(function(){t=="loadingText"?(this.isLoading=!0,r.addClass(n).attr(n,n)):this.isLoading&&(this.isLoading=!1,r.removeClass(n).removeAttr(n))},this),0)},t.prototype.toggle=function(){var e=!0,t=this.$element.closest('[data-toggle="buttons"]');if(t.length){var n=this.$element.find("input");n.prop("type")=="radio"&&(n.prop("checked")&&this.$element.hasClass("active")?e=!1:t.find(".active").removeClass("active")),e&&n.prop("checked",!this.$element.hasClass("active")).trigger("change")}e&&this.$element.toggleClass("active")};var n=e.fn.button;e.fn.button=function(n){return this.each(function(){var r=e(this),i=r.data("bs.button"),s=typeof n=="object"&&n;i||r.data("bs.button",i=new t(this,s)),n=="toggle"?i.toggle():n&&i.setState(n)})},e.fn.button.Constructor=t,e.fn.button.noConflict=function(){return e.fn.button=n,this},e(document).on("click.bs.button.data-api","[data-toggle^=button]",function(t){var n=e(t.target);n.hasClass("btn")||(n=n.closest(".btn")),n.button("toggle"),t.preventDefault()})}(jQuery),+function(e){var t=function(t,n){this.$element=e(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=n,this.paused=this.sliding=this.interval=this.$active=this.$items=null,this.options.pause=="hover"&&this.$element.on("mouseenter",e.proxy(this.pause,this)).on("mouseleave",e.proxy(this.cycle,this))};t.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},t.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},t.prototype.getActiveIndex=function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},t.prototype.to=function(t){var n=this,r=this.getActiveIndex();if(t>this.$items.length-1||t<0)return;return this.sliding?this.$element.one("slid.bs.carousel",function(){n.to(t)}):r==t?this.pause().cycle():this.slide(t>r?"next":"prev",e(this.$items[t]))},t.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},t.prototype.next=function(){if(this.sliding)return;return this.slide("next")},t.prototype.prev=function(){if(this.sliding)return;return this.slide("prev")},t.prototype.slide=function(t,n){var r=this.$element.find(".item.active"),i=n||r[t](),s=this.interval,o=t=="next"?"left":"right",u=t=="next"?"first":"last",a=this;if(!i.length){if(!this.options.wrap)return;i=this.$element.find(".item")[u]()}if(i.hasClass("active"))return this.sliding=!1;var f=e.Event("slide.bs.carousel",{relatedTarget:i[0],direction:o});this.$element.trigger(f);if(f.isDefaultPrevented())return;return this.sliding=!0,s&&this.pause(),this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid.bs.carousel",function(){var t=e(a.$indicators.children()[a.getActiveIndex()]);t&&t.addClass("active")})),e.support.transition&&this.$element.hasClass("slide")?(i.addClass(t),i[0].offsetWidth,r.addClass(o),i.addClass(o),r.one(e.support.transition.end,function(){i.removeClass([t,o].join(" ")).addClass("active"),r.removeClass(["active",o].join(" ")),a.sliding=!1,setTimeout(function(){a.$element.trigger("slid.bs.carousel")},0)}).emulateTransitionEnd(r.css("transition-duration").slice(0,-1)*1e3)):(r.removeClass("active"),i.addClass("active"),this.sliding=!1,this.$element.trigger("slid.bs.carousel")),s&&this.cycle(),this};var n=e.fn.carousel;e.fn.carousel=function(n){return this.each(function(){var r=e(this),i=r.data("bs.carousel"),s=e.extend({},t.DEFAULTS,r.data(),typeof n=="object"&&n),o=typeof n=="string"?n:s.slide;i||r.data("bs.carousel",i=new t(this,s)),typeof n=="number"?i.to(n):o?i[o]():s.interval&&i.pause().cycle()})},e.fn.carousel.Constructor=t,e.fn.carousel.noConflict=function(){return e.fn.carousel=n,this},e(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(t){var n=e(this),r,i=e(n.attr("data-target")||(r=n.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,"")),s=e.extend({},i.data(),n.data()),o=n.attr("data-slide-to");o&&(s.interval=!1),i.carousel(s),(o=n.attr("data-slide-to"))&&i.data("bs.carousel").to(o),t.preventDefault()}),e(window).on("load",function(){e('[data-ride="carousel"]').each(function(){var t=e(this);t.carousel(t.data())})})}(jQuery),+function(e){var t=function(n,r){this.$element=e(n),this.options=e.extend({},t.DEFAULTS,r),this.transitioning=null,this.options.parent&&(this.$parent=e(this.options.parent)),this.options.toggle&&this.toggle()};t.DEFAULTS={toggle:!0},t.prototype.dimension=function(){var e=this.$element.hasClass("width");return e?"width":"height"},t.prototype.show=function(){if(this.transitioning||this.$element.hasClass("in"))return;var t=e.Event("show.bs.collapse");this.$element.trigger(t);if(t.isDefaultPrevented())return;var n=this.$parent&&this.$parent.find("> .panel > .in");if(n&&n.length){var r=n.data("bs.collapse");if(r&&r.transitioning)return;n.collapse("hide"),r||n.data("bs.collapse",null)}var i=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[i](0),this.transitioning=1;var s=function(){this.$element.removeClass("collapsing").addClass("collapse in")[i]("auto"),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return s.call(this);var o=e.camelCase(["scroll",i].join("-"));this.$element.one(e.support.transition.end,e.proxy(s,this)).emulateTransitionEnd(350)[i](this.$element[0][o])},t.prototype.hide=function(){if(this.transitioning||!this.$element.hasClass("in"))return;var t=e.Event("hide.bs.collapse");this.$element.trigger(t);if(t.isDefaultPrevented())return;var n=this.dimension();this.$element[n](this.$element[n]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var r=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};if(!e.support.transition)return r.call(this);this.$element[n](0).one(e.support.transition.end,e.proxy(r,this)).emulateTransitionEnd(350)},t.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var n=e.fn.collapse;e.fn.collapse=function(n){return this.each(function(){var r=e(this),i=r.data("bs.collapse"),s=e.extend({},t.DEFAULTS,r.data(),typeof n=="object"&&n);!i&&s.toggle&&n=="show"&&(n=!n),i||r.data("bs.collapse",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.collapse.Constructor=t,e.fn.collapse.noConflict=function(){return e.fn.collapse=n,this},e(document).on("click.bs.collapse.data-api","[data-toggle=collapse]",function(t){var n=e(this),r,i=n.attr("data-target")||t.preventDefault()||(r=n.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,""),s=e(i),o=s.data("bs.collapse"),u=o?"toggle":n.data(),a=n.attr("data-parent"),f=a&&e(a);if(!o||!o.transitioning)f&&f.find('[data-toggle=collapse][data-parent="'+a+'"]').not(n).addClass("collapsed"),n[s.hasClass("in")?"addClass":"removeClass"]("collapsed");s.collapse(u)})}(jQuery),+function(e){function i(r){e(t).remove(),e(n).each(function(){var t=s(e(this)),n={relatedTarget:this};if(!t.hasClass("open"))return;t.trigger(r=e.Event("hide.bs.dropdown",n));if(r.isDefaultPrevented())return;t.removeClass("open").trigger("hidden.bs.dropdown",n)})}function s(t){var n=t.attr("data-target");n||(n=t.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var r=n&&e(n);return r&&r.length?r:t.parent()}var t=".dropdown-backdrop",n="[data-toggle=dropdown]",r=function(t){e(t).on("click.bs.dropdown",this.toggle)};r.prototype.toggle=function(t){var n=e(this);if(n.is(".disabled, :disabled"))return;var r=s(n),o=r.hasClass("open");i();if(!o){"ontouchstart"in document.documentElement&&!r.closest(".navbar-nav").length&&e('<div class="dropdown-backdrop"/>').insertAfter(e(this)).on("click",i);var u={relatedTarget:this};r.trigger(t=e.Event("show.bs.dropdown",u));if(t.isDefaultPrevented())return;r.toggleClass("open").trigger("shown.bs.dropdown",u),n.focus()}return!1},r.prototype.keydown=function(t){if(!/(38|40|27)/.test(t.keyCode))return;var r=e(this);t.preventDefault(),t.stopPropagation();if(r.is(".disabled, :disabled"))return;var i=s(r),o=i.hasClass("open");if(!o||o&&t.keyCode==27)return t.which==27&&i.find(n).focus(),r.click();var u=" li:not(.divider):visible a",a=i.find("[role=menu]"+u+", [role=listbox]"+u);if(!a.length)return;var f=a.index(a.filter(":focus"));t.keyCode==38&&f>0&&f--,t.keyCode==40&&f<a.length-1&&f++,~f||(f=0),a.eq(f).focus()};var o=e.fn.dropdown;e.fn.dropdown=function(t){return this.each(function(){var n=e(this),i=n.data("bs.dropdown");i||n.data("bs.dropdown",i=new r(this)),typeof t=="string"&&i[t].call(n)})},e.fn.dropdown.Constructor=r,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=o,this},e(document).on("click.bs.dropdown.data-api",i).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",n,r.prototype.toggle).on("keydown.bs.dropdown.data-api",n+", [role=menu], [role=listbox]",r.prototype.keydown)}(jQuery),+function(e){var t=function(t,n){this.options=n,this.$element=e(t),this.$backdrop=this.isShown=null,this.options.remote&&this.$element.find(".modal-content").load(this.options.remote,e.proxy(function(){this.$element.trigger("loaded.bs.modal")},this))};t.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},t.prototype.toggle=function(e){return this[this.isShown?"hide":"show"](e)},t.prototype.show=function(t){var n=this,r=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(r);if(this.isShown||r.isDefaultPrevented())return;this.isShown=!0,this.escape(),this.$element.on("click.dismiss.bs.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.backdrop(function(){var r=e.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(document.body),n.$element.show().scrollTop(0),r&&n.$element[0].offsetWidth,n.$element.addClass("in").attr("aria-hidden",!1),n.enforceFocus();var i=e.Event("shown.bs.modal",{relatedTarget:t});r?n.$element.find(".modal-dialog").one(e.support.transition.end,function(){n.$element.focus().trigger(i)}).emulateTransitionEnd(300):n.$element.focus().trigger(i)})},t.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t);if(!this.isShown||t.isDefaultPrevented())return;this.isShown=!1,this.escape(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.bs.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one(e.support.transition.end,e.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal()},t.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){this.$element[0]!==e.target&&!this.$element.has(e.target).length&&this.$element.focus()},this))},t.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",e.proxy(function(e){e.which==27&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},t.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.removeBackdrop(),e.$element.trigger("hidden.bs.modal")})},t.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},t.prototype.backdrop=function(t){var n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var r=e.support.transition&&n;this.$backdrop=e('<div class="modal-backdrop '+n+'" />').appendTo(document.body),this.$element.on("click.dismiss.bs.modal",e.proxy(function(e){if(e.target!==e.currentTarget)return;this.options.backdrop=="static"?this.$element[0].focus.call(this.$element[0]):this.hide.call(this)},this)),r&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in");if(!t)return;r?this.$backdrop.one(e.support.transition.end,t).emulateTransitionEnd(150):t()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(e.support.transition.end,t).emulateTransitionEnd(150):t()):t&&t()};var n=e.fn.modal;e.fn.modal=function(n,r){return this.each(function(){var i=e(this),s=i.data("bs.modal"),o=e.extend({},t.DEFAULTS,i.data(),typeof n=="object"&&n);s||i.data("bs.modal",s=new t(this,o)),typeof n=="string"?s[n](r):o.show&&s.show(r)})},e.fn.modal.Constructor=t,e.fn.modal.noConflict=function(){return e.fn.modal=n,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(t){var n=e(this),r=n.attr("href"),i=e(n.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),s=i.data("bs.modal")?"toggle":e.extend({remote:!/#/.test(r)&&r},i.data(),n.data());n.is("a")&&t.preventDefault(),i.modal(s,this).one("hide",function(){n.is(":visible")&&n.focus()})}),e(document).on("show.bs.modal",".modal",function(){e(document.body).addClass("modal-open")}).on("hidden.bs.modal",".modal",function(){e(document.body).removeClass("modal-open")})}(jQuery),+function(e){var t=function(e,t){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",e,t)};t.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},t.prototype.init=function(t,n,r){this.enabled=!0,this.type=t,this.$element=e(n),this.options=this.getOptions(r);var i=this.options.trigger.split(" ");for(var s=i.length;s--;){var o=i[s];if(o=="click")this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if(o!="manual"){var u=o=="hover"?"mouseenter":"focusin",a=o=="hover"?"mouseleave":"focusout";this.$element.on(u+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(a+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},t.prototype.getDefaults=function(){return t.DEFAULTS},t.prototype.getOptions=function(t){return t=e.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&typeof t.delay=="number"&&(t.delay={show:t.delay,hide:t.delay}),t},t.prototype.getDelegateOptions=function(){var t={},n=this.getDefaults();return this._options&&e.each(this._options,function(e,r){n[e]!=r&&(t[e]=r)}),t},t.prototype.enter=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);clearTimeout(n.timeout),n.hoverState="in";if(!n.options.delay||!n.options.delay.show)return n.show();n.timeout=setTimeout(function(){n.hoverState=="in"&&n.show()},n.options.delay.show)},t.prototype.leave=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);clearTimeout(n.timeout),n.hoverState="out";if(!n.options.delay||!n.options.delay.hide)return n.hide();n.timeout=setTimeout(function(){n.hoverState=="out"&&n.hide()},n.options.delay.hide)},t.prototype.show=function(){var t=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(t);if(t.isDefaultPrevented())return;var n=this,r=this.tip();this.setContent(),this.options.animation&&r.addClass("fade");var i=typeof this.options.placement=="function"?this.options.placement.call(this,r[0],this.$element[0]):this.options.placement,s=/\s?auto?\s?/i,o=s.test(i);o&&(i=i.replace(s,"")||"top"),r.detach().css({top:0,left:0,display:"block"}).addClass(i),this.options.container?r.appendTo(this.options.container):r.insertAfter(this.$element);var u=this.getPosition(),a=r[0].offsetWidth,f=r[0].offsetHeight;if(o){var l=this.$element.parent(),c=i,h=document.documentElement.scrollTop||document.body.scrollTop,p=this.options.container=="body"?window.innerWidth:l.outerWidth(),d=this.options.container=="body"?window.innerHeight:l.outerHeight(),v=this.options.container=="body"?0:l.offset().left;i=i=="bottom"&&u.top+u.height+f-h>d?"top":i=="top"&&u.top-h-f<0?"bottom":i=="right"&&u.right+a>p?"left":i=="left"&&u.left-a<v?"right":i,r.removeClass(c).addClass(i)}var m=this.getCalculatedOffset(i,u,a,f);this.applyPlacement(m,i),this.hoverState=null;var g=function(){n.$element.trigger("shown.bs."+n.type)};e.support.transition&&this.$tip.hasClass("fade")?r.one(e.support.transition.end,g).emulateTransitionEnd(150):g()}},t.prototype.applyPlacement=function(t,n){var r,i=this.tip(),s=i[0].offsetWidth,o=i[0].offsetHeight,u=parseInt(i.css("margin-top"),10),a=parseInt(i.css("margin-left"),10);isNaN(u)&&(u=0),isNaN(a)&&(a=0),t.top=t.top+u,t.left=t.left+a,e.offset.setOffset(i[0],e.extend({using:function(e){i.css({top:Math.round(e.top),left:Math.round(e.left)})}},t),0),i.addClass("in");var f=i[0].offsetWidth,l=i[0].offsetHeight;n=="top"&&l!=o&&(r=!0,t.top=t.top+o-l);if(/bottom|top/.test(n)){var c=0;t.left<0&&(c=t.left*-2,t.left=0,i.offset(t),f=i[0].offsetWidth,l=i[0].offsetHeight),this.replaceArrow(c-s+f,f,"left")}else this.replaceArrow(l-o,l,"top");r&&i.offset(t)},t.prototype.replaceArrow=function(e,t,n){this.arrow().css(n,e?50*(1-e/t)+"%":"")},t.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},t.prototype.hide=function(){function i(){t.hoverState!="in"&&n.detach(),t.$element.trigger("hidden.bs."+t.type)}var t=this,n=this.tip(),r=e.Event("hide.bs."+this.type);this.$element.trigger(r);if(r.isDefaultPrevented())return;return n.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?n.one(e.support.transition.end,i).emulateTransitionEnd(150):i(),this.hoverState=null,this},t.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||typeof e.attr("data-original-title")!="string")&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},t.prototype.hasContent=function(){return this.getTitle()},t.prototype.getPosition=function(){var t=this.$element[0];return e.extend({},typeof t.getBoundingClientRect=="function"?t.getBoundingClientRect():{width:t.offsetWidth,height:t.offsetHeight},this.$element.offset())},t.prototype.getCalculatedOffset=function(e,t,n,r){return e=="bottom"?{top:t.top+t.height,left:t.left+t.width/2-n/2}:e=="top"?{top:t.top-r,left:t.left+t.width/2-n/2}:e=="left"?{top:t.top+t.height/2-r/2,left:t.left-n}:{top:t.top+t.height/2-r/2,left:t.left+t.width}},t.prototype.getTitle=function(){var e,t=this.$element,n=this.options;return e=t.attr("data-original-title")||(typeof n.title=="function"?n.title.call(t[0]):n.title),e},t.prototype.tip=function(){return this.$tip=this.$tip||e(this.options.template)},t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},t.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},t.prototype.enable=function(){this.enabled=!0},t.prototype.disable=function(){this.enabled=!1},t.prototype.toggleEnabled=function(){this.enabled=!this.enabled},t.prototype.toggle=function(t){var n=t?e(t.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;n.tip().hasClass("in")?n.leave(n):n.enter(n)},t.prototype.destroy=function(){clearTimeout(this.timeout),this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var n=e.fn.tooltip;e.fn.tooltip=function(n){return this.each(function(){var r=e(this),i=r.data("bs.tooltip"),s=typeof n=="object"&&n;if(!i&&n=="destroy")return;i||r.data("bs.tooltip",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.tooltip.Constructor=t,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=n,this}}(jQuery),+function(e){var t=function(e,t){this.init("popover",e,t)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");t.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),t.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),t.prototype.constructor=t,t.prototype.getDefaults=function(){return t.DEFAULTS},t.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content")[this.options.html?typeof n=="string"?"html":"append":"text"](n),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},t.prototype.hasContent=function(){return this.getTitle()||this.getContent()},t.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||(typeof t.content=="function"?t.content.call(e[0]):t.content)},t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},t.prototype.tip=function(){return this.$tip||(this.$tip=e(this.options.template)),this.$tip};var n=e.fn.popover;e.fn.popover=function(n){return this.each(function(){var r=e(this),i=r.data("bs.popover"),s=typeof n=="object"&&n;if(!i&&n=="destroy")return;i||r.data("bs.popover",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.popover.Constructor=t,e.fn.popover.noConflict=function(){return e.fn.popover=n,this}}(jQuery),+function(e){function t(n,r){var i,s=e.proxy(this.process,this);this.$element=e(n).is("body")?e(window):e(n),this.$body=e("body"),this.$scrollElement=this.$element.on("scroll.bs.scroll-spy.data-api",s),this.options=e.extend({},t.DEFAULTS,r),this.selector=(this.options.target||(i=e(n).attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.offsets=e([]),this.targets=e([]),this.activeTarget=null,this.refresh(),this.process()}t.DEFAULTS={offset:10},t.prototype.refresh=function(){var t=this.$element[0]==window?"offset":"position";this.offsets=e([]),this.targets=e([]);var n=this,r=this.$body.find(this.selector).map(function(){var r=e(this),i=r.data("target")||r.attr("href"),s=/^#./.test(i)&&e(i);return s&&s.length&&s.is(":visible")&&[[s[t]().top+(!e.isWindow(n.$scrollElement.get(0))&&n.$scrollElement.scrollTop()),i]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){n.offsets.push(this[0]),n.targets.push(this[1])})},t.prototype.process=function(){var e=this.$scrollElement.scrollTop()+this.options.offset,t=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,n=t-this.$scrollElement.height(),r=this.offsets,i=this.targets,s=this.activeTarget,o;if(e>=n)return s!=(o=i.last()[0])&&this.activate(o);if(s&&e<=r[0])return s!=(o=i[0])&&this.activate(o);for(o=r.length;o--;)s!=i[o]&&e>=r[o]&&(!r[o+1]||e<=r[o+1])&&this.activate(i[o])},t.prototype.activate=function(t){this.activeTarget=t,e(this.selector).parentsUntil(this.options.target,".active").removeClass("active");var n=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',r=e(n).parents("li").addClass("active");r.parent(".dropdown-menu").length&&(r=r.closest("li.dropdown").addClass("active")),r.trigger("activate.bs.scrollspy")};var n=e.fn.scrollspy;e.fn.scrollspy=function(n){return this.each(function(){var r=e(this),i=r.data("bs.scrollspy"),s=typeof n=="object"&&n;i||r.data("bs.scrollspy",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.scrollspy.Constructor=t,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=n,this},e(window).on("load",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);t.scrollspy(t.data())})})}(jQuery),+function(e){var t=function(t){this.element=e(t)};t.prototype.show=function(){var t=this.element,n=t.closest("ul:not(.dropdown-menu)"),r=t.data("target");r||(r=t.attr("href"),r=r&&r.replace(/.*(?=#[^\s]*$)/,""));if(t.parent("li").hasClass("active"))return;var i=n.find(".active:last a")[0],s=e.Event("show.bs.tab",{relatedTarget:i});t.trigger(s);if(s.isDefaultPrevented())return;var o=e(r);this.activate(t.parent("li"),n),this.activate(o,o.parent(),function(){t.trigger({type:"shown.bs.tab",relatedTarget:i})})},t.prototype.activate=function(t,n,r){function o(){i.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),t.addClass("active"),s?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active"),r&&r()}var i=n.find("> .active"),s=r&&e.support.transition&&i.hasClass("fade");s?i.one(e.support.transition.end,o).emulateTransitionEnd(150):o(),i.removeClass("in")};var n=e.fn.tab;e.fn.tab=function(n){return this.each(function(){var r=e(this),i=r.data("bs.tab");i||r.data("bs.tab",i=new t(this)),typeof n=="string"&&i[n]()})},e.fn.tab.Constructor=t,e.fn.tab.noConflict=function(){return e.fn.tab=n,this},e(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(t){t.preventDefault(),e(this).tab("show")})}(jQuery),+function(e){var t=function(n,r){this.options=e.extend({},t.DEFAULTS,r),this.$window=e(window).on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(n),this.affixed=this.unpin=this.pinnedOffset=null,this.checkPosition()};t.RESET="affix affix-top affix-bottom",t.DEFAULTS={offset:0},t.prototype.getPinnedOffset=function(){if(this.pinnedOffset)return this.pinnedOffset;this.$element.removeClass(t.RESET).addClass("affix");var e=this.$window.scrollTop(),n=this.$element.offset();return this.pinnedOffset=n.top-e},t.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},t.prototype.checkPosition=function(){if(!this.$element.is(":visible"))return;var n=e(document).height(),r=this.$window.scrollTop(),i=this.$element.offset(),s=this.options.offset,o=s.top,u=s.bottom;this.affixed=="top"&&(i.top+=r),typeof s!="object"&&(u=o=s),typeof o=="function"&&(o=s.top(this.$element)),typeof u=="function"&&(u=s.bottom(this.$element));var a=this.unpin!=null&&r+this.unpin<=i.top?!1:u!=null&&i.top+this.$element.height()>=n-u?"bottom":o!=null&&r<=o?"top":!1;if(this.affixed===a)return;this.unpin&&this.$element.css("top","");var f="affix"+(a?"-"+a:""),l=e.Event(f+".bs.affix");this.$element.trigger(l);if(l.isDefaultPrevented())return;this.affixed=a,this.unpin=a=="bottom"?this.getPinnedOffset():null,this.$element.removeClass(t.RESET).addClass(f).trigger(e.Event(f.replace("affix","affixed"))),a=="bottom"&&this.$element.offset({top:n-u-this.$element.height()})};var n=e.fn.affix;e.fn.affix=function(n){return this.each(function(){var r=e(this),i=r.data("bs.affix"),s=typeof n=="object"&&n;i||r.data("bs.affix",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.affix.Constructor=t,e.fn.affix.noConflict=function(){return e.fn.affix=n,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var t=e(this),n=t.data();n.offset=n.offset||{},n.offsetBottom&&(n.offset.bottom=n.offsetBottom),n.offsetTop&&(n.offset.top=n.offsetTop),t.affix(n)})})}(jQuery),define("bootstrap",["jquery"],function(){}),!function(e,t){function f(e,t){var n,r,i=e.toLowerCase();t=[].concat(t);for(n=0;n<t.length;n+=1){r=t[n];if(!r)continue;if(r.test&&r.test(e))return!0;if(r.toLowerCase()===i)return!0}}var n=t.prototype.trim,r=t.prototype.trimRight,i=t.prototype.trimLeft,s=function(e){return e*1||0},o=function(e,t){if(t<1)return"";var n="";while(t>0)t&1&&(n+=e),t>>=1,e+=e;return n},u=[].slice,a=function(e){return e==null?"\\s":e.source?e.source:"["+d.escapeRegExp(e)+"]"},l={lt:"<",gt:">",quot:'"',amp:"&",apos:"'"},c={};for(var h in l)c[l[h]]=h;c["'"]="#39";var p=function(){function e(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}var n=o,r=function(){return r.cache.hasOwnProperty(arguments[0])||(r.cache[arguments[0]]=r.parse(arguments[0])),r.format.call(null,r.cache[arguments[0]],arguments)};return r.format=function(r,i){var s=1,o=r.length,u="",a,f=[],l,c,h,d,v,m;for(l=0;l<o;l++){u=e(r[l]);if(u==="string")f.push(r[l]);else if(u==="array"){h=r[l];if(h[2]){a=i[s];for(c=0;c<h[2].length;c++){if(!a.hasOwnProperty(h[2][c]))throw new Error(p('[_.sprintf] property "%s" does not exist',h[2][c]));a=a[h[2][c]]}}else h[1]?a=i[h[1]]:a=i[s++];if(/[^s]/.test(h[8])&&e(a)!="number")throw new Error(p("[_.sprintf] expecting number but found %s",e(a)));switch(h[8]){case"b":a=a.toString(2);break;case"c":a=t.fromCharCode(a);break;case"d":a=parseInt(a,10);break;case"e":a=h[7]?a.toExponential(h[7]):a.toExponential();break;case"f":a=h[7]?parseFloat(a).toFixed(h[7]):parseFloat(a);break;case"o":a=a.toString(8);break;case"s":a=(a=t(a))&&h[7]?a.substring(0,h[7]):a;break;case"u":a=Math.abs(a);break;case"x":a=a.toString(16);break;case"X":a=a.toString(16).toUpperCase()}a=/[def]/.test(h[8])&&h[3]&&a>=0?"+"+a:a,v=h[4]?h[4]=="0"?"0":h[4].charAt(1):" ",m=h[6]-t(a).length,d=h[6]?n(v,m):"",f.push(h[5]?a+d:d+a)}}return f.join("")},r.cache={},r.parse=function(e){var t=e,n=[],r=[],i=0;while(t){if((n=/^[^\x25]+/.exec(t))!==null)r.push(n[0]);else if((n=/^\x25{2}/.exec(t))!==null)r.push("%");else{if((n=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(t))===null)throw new Error("[_.sprintf] huh?");if(n[2]){i|=1;var s=[],o=n[2],u=[];if((u=/^([a-z_][a-z_\d]*)/i.exec(o))===null)throw new Error("[_.sprintf] huh?");s.push(u[1]);while((o=o.substring(u[0].length))!=="")if((u=/^\.([a-z_][a-z_\d]*)/i.exec(o))!==null)s.push(u[1]);else{if((u=/^\[(\d+)\]/.exec(o))===null)throw new Error("[_.sprintf] huh?");s.push(u[1])}n[2]=s}else i|=2;if(i===3)throw new Error("[_.sprintf] mixing positional and named placeholders is not (yet) supported");r.push(n)}t=t.substring(n[0].length)}return r},r}(),d={VERSION:"2.3.0",isBlank:function(e){return e==null&&(e=""),/^\s*$/.test(e)},stripTags:function(e){return e==null?"":t(e).replace(/<\/?[^>]+>/g,"")},capitalize:function(e){return e=e==null?"":t(e),e.charAt(0).toUpperCase()+e.slice(1)},chop:function(e,n){return e==null?[]:(e=t(e),n=~~n,n>0?e.match(new RegExp(".{1,"+n+"}","g")):[e])},clean:function(e){return d.strip(e).replace(/\s+/g," ")},count:function(e,n){if(e==null||n==null)return 0;e=t(e),n=t(n);var r=0,i=0,s=n.length;for(;;){i=e.indexOf(n,i);if(i===-1)break;r++,i+=s}return r},chars:function(e){return e==null?[]:t(e).split("")},swapCase:function(e){return e==null?"":t(e).replace(/\S/g,function(e){return e===e.toUpperCase()?e.toLowerCase():e.toUpperCase()})},escapeHTML:function(e){return e==null?"":t(e).replace(/[&<>"']/g,function(e){return"&"+c[e]+";"})},unescapeHTML:function(e){return e==null?"":t(e).replace(/\&([^;]+);/g,function(e,n){var r;return n in l?l[n]:(r=n.match(/^#x([\da-fA-F]+)$/))?t.fromCharCode(parseInt(r[1],16)):(r=n.match(/^#(\d+)$/))?t.fromCharCode(~~r[1]):e})},escapeRegExp:function(e){return e==null?"":t(e).replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")},splice:function(e,t,n,r){var i=d.chars(e);return i.splice(~~t,~~n,r),i.join("")},insert:function(e,t,n){return d.splice(e,t,0,n)},include:function(e,n){return n===""?!0:e==null?!1:t(e).indexOf(n)!==-1},join:function(){var e=u.call(arguments),t=e.shift();return t==null&&(t=""),e.join(t)},lines:function(e){return e==null?[]:t(e).split("\n")},reverse:function(e){return d.chars(e).reverse().join("")},startsWith:function(e,n){return n===""?!0:e==null||n==null?!1:(e=t(e),n=t(n),e.length>=n.length&&e.slice(0,n.length)===n)},endsWith:function(e,n){return n===""?!0:e==null||n==null?!1:(e=t(e),n=t(n),e.length>=n.length&&e.slice(e.length-n.length)===n)},succ:function(e){return e==null?"":(e=t(e),e.slice(0,-1)+t.fromCharCode(e.charCodeAt(e.length-1)+1))},titleize:function(e){return e==null?"":(e=t(e).toLowerCase(),e.replace(/(?:^|\s|-)\S/g,function(e){return e.toUpperCase()}))},camelize:function(e){return d.trim(e).replace(/[-_\s]+(.)?/g,function(e,t){return t?t.toUpperCase():""})},underscored:function(e){return d.trim(e).replace(/([a-z\d])([A-Z]+)/g,"$1_$2").replace(/[-\s]+/g,"_").toLowerCase()},dasherize:function(e){return d.trim(e).replace(/([A-Z])/g,"-$1").replace(/[-_\s]+/g,"-").toLowerCase()},classify:function(e){return d.titleize(t(e).replace(/[\W_]/g," ")).replace(/\s/g,"")},humanize:function(e){return d.capitalize(d.underscored(e).replace(/_id$/,"").replace(/_/g," "))},trim:function(e,r){return e==null?"":!r&&n?n.call(e):(r=a(r),t(e).replace(new RegExp("^"+r+"+|"+r+"+$","g"),""))},ltrim:function(e,n){return e==null?"":!n&&i?i.call(e):(n=a(n),t(e).replace(new RegExp("^"+n+"+"),""))},rtrim:function(e,n){return e==null?"":!n&&r?r.call(e):(n=a(n),t(e).replace(new RegExp(n+"+$"),""))},truncate:function(e,n,r){return e==null?"":(e=t(e),r=r||"...",n=~~n,e.length>n?e.slice(0,n)+r:e)},prune:function(e,n,r){if(e==null)return"";e=t(e),n=~~n,r=r!=null?t(r):"...";if(e.length<=n)return e;var i=function(e){return e.toUpperCase()!==e.toLowerCase()?"A":" "},s=e.slice(0,n+1).replace(/.(?=\W*\w*$)/g,i);return s.slice(s.length-2).match(/\w\w/)?s=s.replace(/\s*\S+$/,""):s=d.rtrim(s.slice(0,s.length-1)),(s+r).length>e.length?e:e.slice(0,s.length)+r},words:function(e,t){return d.isBlank(e)?[]:d.trim(e,t).split(t||/\s+/)},pad:function(e,n,r,i){e=e==null?"":t(e),n=~~n;var s=0;r?r.length>1&&(r=r.charAt(0)):r=" ";switch(i){case"right":return s=n-e.length,e+o(r,s);case"both":return s=n-e.length,o(r,Math.ceil(s/2))+e+o(r,Math.floor(s/2));default:return s=n-e.length,o(r,s)+e}},lpad:function(e,t,n){return d.pad(e,t,n)},rpad:function(e,t,n){return d.pad(e,t,n,"right")},lrpad:function(e,t,n){return d.pad(e,t,n,"both")},sprintf:p,vsprintf:function(e,t){return t.unshift(e),p.apply(null,t)},toNumber:function(e,t){return e?(e=d.trim(e),e.match(/^-?\d+(?:\.\d+)?$/)?s(s(e).toFixed(~~t)):NaN):0},numberFormat:function(e,t,n,r){if(isNaN(e)||e==null)return"";e=e.toFixed(~~t),r=typeof r=="string"?r:",";var i=e.split("."),s=i[0],o=i[1]?(n||".")+i[1]:"";return s.replace(/(\d)(?=(?:\d{3})+$)/g,"$1"+r)+o},strRight:function(e,n){if(e==null)return"";e=t(e),n=n!=null?t(n):n;var r=n?e.indexOf(n):-1;return~r?e.slice(r+n.length,e.length):e},strRightBack:function(e,n){if(e==null)return"";e=t(e),n=n!=null?t(n):n;var r=n?e.lastIndexOf(n):-1;return~r?e.slice(r+n.length,e.length):e},strLeft:function(e,n){if(e==null)return"";e=t(e),n=n!=null?t(n):n;var r=n?e.indexOf(n):-1;return~r?e.slice(0,r):e},strLeftBack:function(e,t){if(e==null)return"";e+="",t=t!=null?""+t:t;var n=e.lastIndexOf(t);return~n?e.slice(0,n):e},toSentence:function(e,t,n,r){t=t||", ",n=n||" and ";var i=e.slice(),s=i.pop();return e.length>2&&r&&(n=d.rtrim(t)+n),i.length?i.join(t)+n+s:s},toSentenceSerial:function(){var e=u.call(arguments);return e[3]=!0,d.toSentence.apply(d,e)},slugify:function(e){if(e==null)return"";var n="",r="aaaaaaaaaceeeeeiiiilnoooooosstuuuunczz",i=new RegExp(a(n),"g");return e=t(e).toLowerCase().replace(i,function(e){var t=n.indexOf(e);return r.charAt(t)||"-"}),d.dasherize(e.replace(/[^\w\s-]/g,""))},surround:function(e,t){return[t,e,t].join("")},quote:function(e,t){return d.surround(e,t||'"')},unquote:function(e,t){return t=t||'"',e[0]===t&&e[e.length-1]===t?e.slice(1,e.length-1):e},exports:function(){var e={};for(var t in this){if(!this.hasOwnProperty(t)||t.match(/^(?:include|contains|reverse)$/))continue;e[t]=this[t]}return e},repeat:function(e,n,r){if(e==null)return"";n=~~n;if(r==null)return o(t(e),n);for(var i=[];n>0;i[--n]=e);return i.join(r)},naturalCmp:function(e,n){if(e==n)return 0;if(!e)return-1;if(!n)return 1;var r=/(\.\d+)|(\d+)|(\D+)/g,i=t(e).toLowerCase().match(r),s=t(n).toLowerCase().match(r),o=Math.min(i.length,s.length);for(var u=0;u<o;u++){var a=i[u],f=s[u];if(a!==f){var l=parseInt(a,10);if(!isNaN(l)){var c=parseInt(f,10);if(!isNaN(c)&&l-c)return l-c}return a<f?-1:1}}return i.length===s.length?i.length-s.length:e<n?-1:1},levenshtein:function(e,n){if(e==null&&n==null)return 0;if(e==null)return t(n).length;if(n==null)return t(e).length;e=t(e),n=t(n);var r=[],i,s;for(var o=0;o<=n.length;o++)for(var u=0;u<=e.length;u++)o&&u?e.charAt(u-1)===n.charAt(o-1)?s=i:s=Math.min(r[u],r[u-1],i)+1:s=o+u,i=r[u],r[u]=s;return r.pop()},toBoolean:function(e,t,n){typeof e=="number"&&(e=""+e);if(typeof e!="string")return!!e;e=d.trim(e);if(f(e,t||["true","1"]))return!0;if(f(e,n||["false","0"]))return!1}};d.strip=d.trim,d.lstrip=d.ltrim,d.rstrip=d.rtrim,d.center=d.lrpad,d.rjust=d.lpad,d.ljust=d.rpad,d.contains=d.include,d.q=d.quote,d.toBool=d.toBoolean,typeof exports!="undefined"&&(typeof module!="undefined"&&module.exports&&(module.exports=d),exports._s=d),typeof define=="function"&&define.amd&&define("underscore.string",[],function(){return d}),e._=e._||{},e._.string=e._.str=d}(this,String),"ace"in window||(window.ace={}),"vars"in window.ace||(window.ace.vars={icon:" ace-icon ",".icon":".ace-icon"}),ace.config={cookie_expiry:604800,storage_method:2},ace.settings={is:function(e,t){return ace.data.get("settings",e+"-"+t)==1},exists:function(e,t){return ace.data.get("settings",e+"-"+t)!==null},set:function(e,t){ace.data.set("settings",e+"-"+t,1)},unset:function(e,t){ace.data.set("settings",e+"-"+t,-1)},remove:function(e,t){ace.data.remove("settings",e+"-"+t)},navbar_fixed:function(e,t,n){var r=document.getElementById("navbar");if(!r)return!1;e=e||!1;if(!e&&n!==!1){var i=null;(ace.settings.is("sidebar","fixed")||(i=document.getElementById("sidebar"))&&ace.hasClass(i,"sidebar-fixed"))&&ace.settings.sidebar_fixed(!1)}e?(ace.hasClass(r,"navbar-fixed-top")||ace.addClass(r,"navbar-fixed-top"),t!==!1&&ace.settings.set("navbar","fixed")):(ace.removeClass(r,"navbar-fixed-top"),t!==!1&&ace.settings.unset("navbar","fixed")),document.getElementById("ace-settings-navbar").checked=e,window.jQuery&&jQuery(document).trigger("settings.ace",["navbar_fixed",e])},sidebar_fixed:function(e,t,n){var r=document.getElementById("sidebar");if(!r)return!1;e=e||!1;if(!e&&n!==!1){var i=null;(ace.settings.is("breadcrumbs","fixed")||(i=document.getElementById("breadcrumbs"))&&ace.hasClass(i,"breadcrumbs-fixed"))&&ace.settings.breadcrumbs_fixed(!1)}e&&n!==!1&&!ace.settings.is("navbar","fixed")&&ace.settings.navbar_fixed(!0);if(e){if(!ace.hasClass(r,"sidebar-fixed")){ace.addClass(r,"sidebar-fixed");var s=document.getElementById("menu-toggler");s&&ace.addClass(s,"fixed")}t!==!1&&ace.settings.set("sidebar","fixed")}else{ace.removeClass(r,"sidebar-fixed");var s=document.getElementById("menu-toggler");s&&ace.removeClass(s,"fixed"),t!==!1&&ace.settings.unset("sidebar","fixed")}document.getElementById("ace-settings-sidebar").checked=e,window.jQuery&&jQuery(document).trigger("settings.ace",["sidebar_fixed",e])},breadcrumbs_fixed:function(e,t,n){var r=document.getElementById("breadcrumbs");if(!r)return!1;e=e||!1,e&&n!==!1&&!ace.settings.is("sidebar","fixed")&&ace.settings.sidebar_fixed(!0),e?(ace.hasClass(r,"breadcrumbs-fixed")||ace.addClass(r,"breadcrumbs-fixed"),t!==!1&&ace.settings.set("breadcrumbs","fixed")):(ace.removeClass(r,"breadcrumbs-fixed"),t!==!1&&ace.settings.unset("breadcrumbs","fixed")),document.getElementById("ace-settings-breadcrumbs").checked=e,window.jQuery&&jQuery(document).trigger("settings.ace",["breadcrumbs_fixed",e])},main_container_fixed:function(e,t){e=e||!1;var n=document.getElementById("main-container");if(!n)return!1;var r=document.getElementById("navbar-container");e?(ace.hasClass(n,"container")||ace.addClass(n,"container"),ace.hasClass(r,"container")||ace.addClass(r,"container"),t!==!1&&ace.settings.set("main-container","fixed")):(ace.removeClass(n,"container"),ace.removeClass(r,"container"),t!==!1&&ace.settings.unset("main-container","fixed")),document.getElementById("ace-settings-add-container").checked=e;if(navigator.userAgent.match(/webkit/i)){var i=document.getElementById("sidebar");ace.toggleClass(i,"menu-min"),setTimeout(function(){ace.toggleClass(i,"menu-min")},0)}window.jQuery&&jQuery(document).trigger("settings.ace",["main_container_fixed",e])},sidebar_collapsed:function(e,t){var n=document.getElementById("sidebar");if(!n)return!1;e=e||!1;var r=ace.isHTTMlElement(this)?this:n.querySelector(".sidebar-collapse"),i=r?r.querySelector(ace.vars[".icon"]):null,s,o;i&&(s=i.getAttribute("data-icon1"),o=i.getAttribute("data-icon2")),e?(ace.addClass(n,"menu-min"),i&&(ace.removeClass(i,s),ace.addClass(i,o)),t!==!1&&ace.settings.set("sidebar","collapsed")):(ace.removeClass(n,"menu-min"),i&&(ace.removeClass(i,o),ace.addClass(i,s)),t!==!1&&ace.settings.unset("sidebar","collapsed")),window.jQuery&&jQuery(document).trigger("settings.ace",["sidebar_collapsed",e])}},ace.settings.check=function(e,t){if(!ace.settings.exists(e,t))return;var n=ace.settings.is(e,t),r={"navbar-fixed":"navbar-fixed-top","sidebar-fixed":"sidebar-fixed","breadcrumbs-fixed":"breadcrumbs-fixed","sidebar-collapsed":"menu-min","main-container-fixed":"container"},i=document.getElementById(e);n!=ace.hasClass(i,r[e+"-"+t])&&ace.settings[e.replace("-","_")+"_"+t](n)},ace.data_storage=function(e,t){var n="ace.",r=null,i=0;(e==1||e===t)&&"localStorage"in window&&window.localStorage!==null?(r=ace.storage,i=1):r==null&&(e==2||e===t)&&"cookie"in document&&document.cookie!==null&&(r=ace.cookie,i=2),this.set=function(e,t,s,o){if(!r)return;if(s===o)s=t,t=e,s==null?r.remove(n+t):i==1?r.set(n+t,s):i==2&&r.set(n+t,s,ace.config.cookie_expiry);else if(i==1)s==null?r.remove(n+e+"."+t):r.set(n+e+"."+t,s);else if(i==2){var u=r.get(n+e),a=u?JSON.parse(u):{};if(s==null){delete a[t];if(ace.sizeof(a)==0){r.remove(n+e);return}}else a[t]=s;r.set(n+e,JSON.stringify(a),ace.config.cookie_expiry)}},this.get=function(e,t,s){if(!r)return null;if(t===s)return t=e,r.get(n+t);if(i==1)return r.get(n+e+"."+t);if(i==2){var o=r.get(n+e),u=o?JSON.parse(o):{};return t in u?u[t]:null}},this.remove=function(e,t,n){if(!r)return;t===n?(t=e,this.set(t,null)):this.set(e,t,null)}},ace.cookie={get:function(e){var t=document.cookie,n,r=e+"=",i;if(!t)return;i=t.indexOf("; "+r);if(i==-1){i=t.indexOf(r);if(i!=0)return null}else i+=2;return n=t.indexOf(";",i),n==-1&&(n=t.length),decodeURIComponent(t.substring(i+r.length,n))},set:function(e,t,n,r,i,s){var o=new Date;typeof n=="object"&&n.toGMTString?n=n.toGMTString():parseInt(n,10)?(o.setTime(o.getTime()+parseInt(n,10)*1e3),n=o.toGMTString()):n="",document.cookie=e+"="+encodeURIComponent(t)+(n?"; expires="+n:"")+(r?"; path="+r:"")+(i?"; domain="+i:"")+(s?"; secure":"")},remove:function(e,t){this.set(e,"",-1e3,t)}},ace.storage={get:function(e){return window.localStorage.getItem(e)},set:function(e,t){window.localStorage.setItem(e,t)},remove:function(e){window.localStorage.removeItem(e)}},ace.sizeof=function(e){var t=0;for(var n in e)e.hasOwnProperty(n)&&t++;return t},ace.hasClass=function(e,t){return(" "+e.className+" ").indexOf(" "+t+" ")>-1},ace.addClass=function(e,t){if(!ace.hasClass(e,t)){var n=e.className;e.className=n+(n.length?" ":"")+t}},ace.removeClass=function(e,t){ace.replaceClass(e,t)},ace.replaceClass=function(e,t,n){var r=new RegExp("(^|\\s)"+t+"(\\s|$)","i");e.className=e.className.replace(r,function(e,t,r){return n?t+n+r:" "}).replace(/^\s+|\s+$/g,"")},ace.toggleClass=function(e,t){ace.hasClass(e,t)?ace.removeClass(e,t):ace.addClass(e,t)},ace.isHTTMlElement=function(e){return window.HTMLElement?e instanceof HTMLElement:"nodeType"in e?e.nodeType==1:!1},ace.data=new ace.data_storage(ace.config.storage_method),define("ace-extra",["jquery"],function(){}),"ace"in window||(window.ace={}),"helper"in window.ace||(window.ace.helper={}),"vars"in window.ace||(window.ace.vars={icon:" ace-icon ",".icon":".ace-icon"}),ace.vars.touch="ontouchstart"in document.documentElement,ace.general_vars=function(e){var t="menu-min",n="responsive-min",r="h-sidebar",i=e("#sidebar").eq(0);ace.vars.mobile_style=1,i.hasClass("responsive")&&!e("#menu-toggler").hasClass("navbar-toggle")?ace.vars.mobile_style=2:i.hasClass(n)?ace.vars.mobile_style=3:i.hasClass("navbar-collapse")&&(ace.vars.mobile_style=4),e(window).on("resize.ace.vars",function(){ace.vars.window={width:parseInt(e(this).width()),height:parseInt(e(this).height())},ace.vars.mobile_view=ace.vars.mobile_style<4&&ace.helper.mobile_view(),ace.vars.collapsible=!ace.vars.mobile_view&&ace.helper.collapsible(),ace.vars.nav_collapse=(ace.vars.collapsible||ace.vars.mobile_view)&&e("#navbar").hasClass("navbar-collapse");var i=e(document.getElementById("sidebar"));ace.vars.minimized=!ace.vars.collapsible&&i.hasClass(t)||ace.vars["mobile_style"]==3&&ace.vars.mobile_view&&i.hasClass(n),ace.vars.horizontal=!ace.vars.mobile_view&&!ace.vars.collapsible&&i.hasClass(r)}).triggerHandler("resize.ace.vars")},ace.general_things=function(e){var t=!!e.fn.ace_scroll;t&&e(".dropdown-content").ace_scroll({reset:!1,mouseWheelLock:!0}),e(window).on("resize.reset_scroll",function(){t&&e(".ace-scroll").ace_scroll("reset")}),e(document).on("settings.ace.reset_scroll",function(n,r){r=="sidebar_collapsed"&&t&&e(".ace-scroll").ace_scroll("reset")}),e(document).on("click.dropdown.pos",'.dropdown-toggle[data-position="auto"]',function(){var t=e(this).offset(),n=e(this.parentNode);parseInt(t.top+e(this).height())+50>ace.helper.scrollTop()+ace.helper.winHeight()-n.find(".dropdown-menu").eq(0).height()?n.addClass("dropup"):n.removeClass("dropup")}),e(document).on("click",".dropdown-navbar .nav-tabs",function(t){t.stopPropagation();var n,r,i=t.target;(n=e(t.target).closest("[data-toggle=tab]"))&&n.length>0&&(n.tab("show"),t.preventDefault())}),e('.ace-nav [class*="icon-animated-"]').closest("a").one("click",function(){var t=e(this).find('[class*="icon-animated-"]').eq(0),n=t.attr("class").match(/icon\-animated\-([\d\w]+)/);t.removeClass(n[0])}),e(".sidebar .nav-list .badge[title],.sidebar .nav-list .badge[title]").each(function(){var t=e(this).attr("class").match(/tooltip\-(?:\w+)/);t=t?t[0]:"tooltip-error",e(this).tooltip({placement:function(t,n){var r=e(n).offset();return parseInt(r.left)<parseInt(document.body.scrollWidth/2)?"right":"left"},container:"body",template:'<div class="tooltip '+t+'"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'})});var n=e(".btn-scroll-up");if(n.length>0){var r=!1;e(window).on("scroll.scroll_btn",function(){ace.helper.scrollTop()>parseInt(ace.helper.winHeight()/4)?r||(n.addClass("display"),r=!0):r&&(n.removeClass("display"),r=!1)}).triggerHandler("scroll.scroll_btn"),n.on(ace.click_event,function(){var t=Math.min(500,Math.max(100,parseInt(ace.helper.scrollTop()/3)));return e("html,body").animate({scrollTop:0},t),!1})}if(ace.vars.webkit){var i=e(".ace-nav").get(0);i&&e(window).on("resize.webkit",function(){ace.helper.redraw(i)})}},ace.helper.collapsible=function(){var e;return document.querySelector("#sidebar.navbar-collapse")!=null&&(e=document.querySelector('.navbar-toggle[data-target*=".sidebar"]'))!=null&&e.scrollHeight>0},ace.helper.mobile_view=function(){var e;return(e=document.getElementById("menu-toggler"))!=null&&e.scrollHeight>0},ace.helper.redraw=function(e){var t=e.style.display;e.style.display="none",e.offsetHeight,e.style.display=t},ace.helper.scrollTop=function(){return document.scrollTop||document.documentElement.scrollTop||document.body.scrollTop},ace.helper.winHeight=function(){return window.innerHeight||document.documentElement.clientHeight},ace.helper.camelCase=function(e){return e.replace(/-([\da-z])/gi,function(e,t){return t?t.toUpperCase():""})},ace.helper.removeStyle="removeProperty"in document.body.style?function(e,t){e.style.removeProperty(t)}:function(e,t){e.style[ace.helper.camelCase(t)]=""},ace.helper.hasClass="classList"in document.documentElement?function(e,t){return e.classList.contains(t)}:function(e,t){return e.className.indexOf(t)>-1},ace.add_touch_drag=function(e){if(!ace.vars.touch)return;var t="touchstart MSPointerDown pointerdown",n="touchend touchcancel MSPointerUp MSPointerCancel pointerup pointercancel",r="touchmove MSPointerMove MSPointerHover pointermove";e.event.special.ace_drag={setup:function(){var i=0,s=e(this);s.on(t,function(t){function h(e){if(!u)return;var t=e.originalEvent.touches?e.originalEvent.touches[0]:e;a={coords:[t.pageX,t.pageY]};if(u&&a){l=0,c=0,f=Math.abs(c=u.coords[1]-a.coords[1])>i&&Math.abs(l=u.coords[0]-a.coords[0])<=Math.abs(c)?c>0?"up":"down":Math.abs(l=u.coords[0]-a.coords[0])>i&&Math.abs(c)<=Math.abs(l)?l>0?"left":"right":!1;if(f!==!1){var n={};u.origin.trigger({type:"ace_drag",direction:f,dx:l,dy:c,retval:n}),e.preventDefault()}}u.coords[0]=a.coords[0],u.coords[1]=a.coords[1]}var o=t.originalEvent.touches?t.originalEvent.touches[0]:t,u={coords:[o.pageX,o.pageY],origin:e(t.target)},a;u.origin.trigger({type:"ace_dragStart",start:u||[-1,-1]});var f=!1,l=0,c=0;s.on(r,h).one(n,function(e){s.off(r,h),u.origin.trigger({type:"ace_dragEnd",stop:a||[-1,-1]}),u=a=undefined})})}}},ace.handle_side_menu=function(e){var t=e(".sidebar").eq(0);e(document).on(ace.click_event+".ace.menu","#menu-toggler",function(){return t.toggleClass("display"),e(this).toggleClass("display"),e(this).hasClass("display")&&"sidebar_scroll"in ace.helper&&ace.helper.sidebar_scroll.reset(),!1}).on(ace.click_event+".ace.menu",".sidebar-collapse",function(){if(ace.vars.collapsible||ace.vars.horizontal)return;ace.vars.minimized=!ace.vars.minimized,ace.settings.sidebar_collapsed.call(this,ace.vars.minimized),setTimeout(function(){e(".isotope").isotope("layout")},500)}).on(ace.click_event+".ace.menu",".sidebar-expand",function(){ace.vars.minimized&&ace.settings.sidebar_collapsed.call(this,!1,!1);var n=e(this).find(ace.vars[".icon"]),r=n.attr("data-icon1"),i=n.attr("data-icon2");t.hasClass("responsive-min")?(n.removeClass(r).addClass(i),t.removeClass("responsive-min"),t.addClass("display responsive-max"),ace.vars.minimized=!1):(n.removeClass(i).addClass(r),t.removeClass("display responsive-max"),t.addClass("responsive-min"),ace.vars.minimized=!0),e(document).triggerHandler("settings.ace",["sidebar_collapsed",ace.vars.minimized])});var n=ace.vars.ios_safari;e(document).on(ace.click_event+".ace.submenu",".sidebar .nav-list",function(t){var r=this,i=e(t.target).closest("a");if(!i||i.length==0)return;var s=ace.vars.minimized&&!ace.vars.collapsible;if(!i.hasClass("dropdown-toggle")){if(ace.click_event=="tap"&&s&&i.get(0).parentNode.parentNode==r){var o=i.find(".menu-text").get(0);if(t.target!=o&&!e.contains(o,t.target))return t.preventDefault(),!1}if(n&&i.attr("data-link")!=="false")return document.location=i.attr("href"),t.preventDefault(),!1;return}var u=i.siblings(".submenu").get(0);if(!u)return!1;var a=0,f=250,l=u.parentNode.parentNode;if(s&&l==r||e(u.parentNode).hasClass("hover")&&!ace.vars.collapsible)return t.preventDefault(),!1;u.scrollHeight==0&&e(l).find("> .open > .submenu").each(function(){this!=u&&!e(this.parentNode).hasClass("active")&&(a-=this.scrollHeight,ace.submenu.hide(this,f))});var c=0;return(c=ace.submenu.toggle(u,f))==1?a!=0&&(a+=u.scrollHeight):c==-1&&(a-=u.scrollHeight),a!=0&&"sidebar_scroll"in ace.helper&&ace.helper.sidebar_scroll.prehide(a),t.preventDefault(),!1})},ace.submenu={show:function(e,t){var n=$(e),r;n.trigger(r=$.Event("show.ace.submenu"));if(r.isDefaultPrevented())return!1;n.css({height:0,overflow:"hidden",display:"block"}).removeClass("nav-hide").addClass("nav-show").parent().addClass("open"),t>0&&n.css({height:e.scrollHeight,"transition-property":"height","transition-duration":t/1e3+"s"});var i=function(e){e&&e.stopPropagation(),n.css({"transition-property":"","transition-duration":"",overflow:"",height:""}),ace.vars.transition&&n.off(".trans"),n.trigger($.Event("shown.ace.submenu"))};return t>0&&ace.vars.transition?n.one("transitionend.trans webkitTransitionEnd.trans mozTransitionEnd.trans oTransitionEnd.trans",i):i(),ace.vars.android&&setTimeout(function(){n.css({overflow:"",height:""})},t+10),!0},hide:function(e,t){var n=$(e),r;n.trigger(r=$.Event("hide.ace.submenu"));if(r.isDefaultPrevented())return!1;n.css({height:e.scrollHeight,overflow:"hidden"}).parent().removeClass("open"),e.offsetHeight,t>0&&n.css({height:0,"transition-property":"height","transition-duration":t/1e3+"s"});var i=function(e){e&&e.stopPropagation(),n.css({display:"none",overflow:"",height:"","transition-property":"","transition-duration":""}).removeClass("nav-show").addClass("nav-hide"),ace.vars.transition&&n.off(".trans"),n.trigger($.Event("hidden.ace.submenu"))};return t>0&&ace.vars.transition?n.one("transitionend.trans webkitTransitionEnd.trans mozTransitionEnd.trans oTransitionEnd.trans",i):i(),ace.vars.android&&setTimeout(function(){n.css({display:"none",overflow:"",height:""})},t+10),!0},toggle:function(e,t){if(e.scrollHeight==0){if(ace.submenu.show(e,t))return 1}else if(ace.submenu.hide(e,t))return-1;return 0}},ace.sidebar_scrollable=function(e,t,n,r,i,s){if(!e.fn.ace_scroll)return;var o=ace.vars.safari&&navigator.userAgent.match(/version\/[1-5]/i),u=e(".sidebar"),a=e(".navbar"),f=u.find(".nav-list"),l=u.find(".sidebar-toggle"),c=u.find(".sidebar-shortcuts"),h=e(window),p=u.get(0),d=f.get(0);if(!p||!d)return;var v=null,m=null,g=null,y=null,b=null,w=!1,E=!1,t=t||!1,n=n||!1,r=r||!1,S=!0,x="getComputedStyle"in window?function(){return p.offsetHeight,window.getComputedStyle(p).position=="fixed"}:function(){return p.offsetHeight,u.css("position")=="fixed"},T,N,C=x(),k=u.hasClass("h-sidebar"),L=ace.helper.sidebar_scroll={available_height:function(){var e=f.parent().offset();return C&&(e.top-=ace.helper.scrollTop()),h.innerHeight()-e.top-(r?0:l.outerHeight())},content_height:function(){return d.scrollHeight},initiate:function(a){if(E)return;if(!C)return;f.wrap('<div style="position: relative;" />'),f.after("<div><div></div></div>"),f.wrap('<div class="nav-wrap" />'),r||l.css({"z-index":1}),n||c.css({"z-index":99}),v=f.parent().next().ace_scroll({size:L.available_height(),reset:!0,mouseWheelLock:!0,hoverReset:!1,dragEvent:!0,touchDrag:!1}).closest(".ace-scroll").addClass("nav-scroll"),b=v.data("ace_scroll"),m=v.find(".scroll-content").eq(0),g=m.find(" > div").eq(0),y=v.find(".scroll-bar").eq(0),n&&(f.parent().prepend(c).wrapInner("<div />"),f=f.parent()),r&&(f.append(l),f.closest(".nav-wrap").addClass("nav-wrap-t")),f.css({position:"relative"}),s===!0&&v.addClass("scrollout"),d=f.get(0),d.style.top=0,m.on("scroll.nav",function(){d.style.top=-1*this.scrollTop+"px"}),f.on("mousewheel.ace_scroll DOMMouseScroll.ace_scroll",function(e){return v.trigger(e)});var h=m.get(0);f.on("ace_drag.nav",function(e){if(!w)return;if(e.direction=="up"||e.direction=="down"){b.move_bar(!0),move_nav=!1;var t=e.dy;Math.abs(t)>20&&(t*=2),t!=0&&(h.scrollTop=h.scrollTop+t,d.style.top=-1*h.scrollTop+"px")}}),i&&f.on("ace_dragStart.nav",function(e){e.stopPropagation(),f.css("transition-property","none"),y.css("transition-property","none")}).on("ace_dragEnd.nav",function(e){e.stopPropagation(),f.css("transition-property","top"),y.css("transition-property","top")});if(o&&!r){var p=l.get(0);p&&m.on("scroll.safari",function(){ace.helper.redraw(p)})}E=!0;if(a==1){L.reset();if(t&&b.is_active()){var S,x=u.find(".nav-list");ace.vars.minimized&&!ace.vars.collapsible?S=x.find("> .active"):(S=f.find("> .active.hover"),S.length==0&&(S=f.find(".active:not(.open)")));var T=S.outerHeight();x=x.get(0);var N=S.get(0);while(N!=x)T+=N.offsetTop,N=N.parentNode;var k=T-v.height();k>0&&(d.style.top=-k+"px",m.scrollTop(k))}t=!1}typeof i=="number"&&i>0&&(f.css({"transition-property":"top","transition-duration":(i/1e3).toFixed(2)+"s"}),y.css({"transition-property":"top","transition-duration":(i/1500).toFixed(2)+"s"}),v.on("drag.start",function(e){e.stopPropagation(),f.css("transition-property","none")}).on("drag.end",function(e){e.stopPropagation(),f.css("transition-property","top")}));if(ace.vars.android){var A=ace.helper.scrollTop();A<2&&(window.scrollTo(A,0),setTimeout(function(){L.reset()},20));var O=ace.helper.winHeight(),M;e(window).on("scroll.ace_scroll",function(){w&&b.is_active()&&(M=ace.helper.winHeight(),M!=O&&(O=M,L.reset()))})}},reset:function(){if(!C){L.disable();return}E||L.initiate();var e=!ace.vars.collapsible&&(!k||k&&ace.vars.mobile_view)&&(T=L.available_height())<(N=d.scrollHeight);w=!0,e&&(g.css({height:N,width:8}),v.prev().css({"max-height":T}),b.update({size:T}).enable().reset()),!e||!b.is_active()?w&&L.disable():u.addClass("sidebar-scroll")},disable:function(){w=!1,v&&(v.css({height:"","max-height":""}),g.css({height:"",width:""}),v.prev().css({"max-height":""}),b.disable()),parseInt(d.style.top)<0&&i&&ace.vars.transition?f.one("transitionend.trans webkitTransitionEnd.trans mozTransitionEnd.trans oTransitionEnd.trans",function(){u.removeClass("sidebar-scroll"),f.off(".trans")}):u.removeClass("sidebar-scroll"),d.style.top=0},prehide:function(e){if(!w||ace.vars.minimized)return;if(L.content_height()+e<L.available_height())L.disable();else if(e<0){var t=m.scrollTop()+e;if(t<0)return;d.style.top=-1*t+"px"}}};L.initiate(!0),e(document).on("settings.ace.scroll",function(e,t,n){if(t=="sidebar_collapsed"&&C)L.reset();else if(t==="sidebar_fixed"||t==="navbar_fixed")C=x(),C&&!w?L.reset():C||L.disable()}),h.on("resize.ace.scroll",function(){C=x(),L.reset()}),u.on("hidden.ace.submenu shown.ace.submenu",".submenu",function(e){e.stopPropagation(),ace.vars.minimized||(ace.vars.webkit?setTimeout(function(){L.reset()},0):L.reset())})},ace.sidebar_hoverable=function(e){function l(t){var n=e(t);t.style.removeProperty("top"),t.style.removeProperty("bottom");var r=null;ace.vars.minimized&&(r=t.parentNode.querySelector(".menu-text"))&&r.style.removeProperty("margin-top");var i=n.offset(),s=ace.helper.scrollTop(),u=!1,l=s;a&&(l+=o.clientHeight+1);var c=t.scrollHeight;r&&(c+=40,i.top-=40);var h=parseInt(i.top+c),p;if((p=h-(window.innerHeight+s-50))>0)if(c-p<f&&i.top-p>l)t.style.top="auto",t.style.bottom="-10px",r&&(r.style.marginTop=-(c-50)+"px",u=!0);else{i.top-p<l&&(p=i.top-l),h-p<i.top+f&&(p-=f);var d=r?40:20;p>d&&(t.style.top=-p+"px",r&&(r.style.marginTop=-p+"px",u=!0))}var v=this.className.lastIndexOf("pull_up");u?v==-1&&(this.className=this.className+" pull_up"):v>=0&&(this.className=this.className.replace(/(^|\s)pull_up($|\s)/,"")),ace.vars.safari&&ace.helper.redraw(t)}if(!("querySelector"in document&&"removeProperty"in document.body.style))return;ace.helper.sidebar_hover={reset:function(){n.find(".submenu").each(function(){var t=this,n=this.parentNode;if(t){t.style.removeProperty("top"),t.style.removeProperty("bottom");var r=n.querySelector(".menu-text");r&&r.style.removeProperty("margin-top")}n.className.lastIndexOf("_up")>=0&&e(n).removeClass("pull_up")})}};var t="getComputedStyle"in window?function(){return o.offsetHeight,window.getComputedStyle(o).position=="fixed"}:function(){return o.offsetHeight,s.css("position")=="fixed"};e(window).on("resize.ace_hover",function(){a=t(),ace.helper.sidebar_hover.reset()}),e(document).on("settings.ace.hover",function(e,t,n){t=="sidebar_collapsed"?ace.helper.sidebar_hover.reset():t=="navbar_fixed"&&(a=n)});var n=e(".sidebar").eq(0),r=n.get(0),i=n.find(".nav-list").get(0),s=e(".navbar").eq(0),o=s.get(0),u=n.hasClass("h-sidebar"),a=s.css("position")=="fixed";n.find(".submenu").parent().addClass("hsub"),n.on("mouseenter.ace_hover",".nav-list li.hsub",function(e){if(ace.vars.collapsible||u&&!ace.vars.mobile_view)return;var t=this.querySelector(".submenu");t&&(ace.helper.hasClass(this,"hover")?l.call(this,t):this.parentNode==i&&ace.vars.minimized&&l.call(this,t))});var f=50},ace.widget_boxes=function(e){e(document).on("hide.bs.collapse show.bs.collapse",function(t){var n=t.target.getAttribute("id");e('[href*="#'+n+'"]').find(ace.vars[".icon"]).each(function(){var n=e(this),r,i=null,s=null;if(i=n.attr("data-icon-show"))s=n.attr("data-icon-hide");else if(r=n.attr("class").match(/fa\-(.*)\-(up|down)/))i="fa-"+r[1]+"-down",s="fa-"+r[1]+"-up";if(i)return t.type=="show"?n.removeClass(i).addClass(s):n.removeClass(s).addClass(i),!1})});var t=function(t,n){this.$box=e(t);var r=this;this.reload=function(){var e=this.$box,t=!1;e.css("position")=="static"&&(t=!0,e.addClass("position-relative")),e.append('<div class="widget-box-overlay"><i class="'+ace.vars.icon+'loading-icon fa fa-spinner fa-spin fa-2x white"></i></div>'),e.one("reloaded.ace.widget",function(){e.find(".widget-box-overlay").remove(),t&&e.removeClass("position-relative")})},this.close=function(){var e=this.$box,t=300;e.fadeOut(t,function(){e.trigger("closed.ace.widget"),e.remove()})},this.toggle=function(e,t){var n=this.$box,r=n.find(".widget-body"),i=null,s=typeof e!="undefined"?e:n.hasClass("collapsed")?"show":"hide",o=s=="show"?"shown":"hidden";typeof t=="undefined"&&(t=n.find("> .widget-header a[data-action=collapse]").eq(0),t.length==0&&(t=null));if(t){i=t.find(ace.vars[".icon"]).eq(0);var u,a=null,f=null;if(a=i.attr("data-icon-show"))f=i.attr("data-icon-hide");else if(u=i.attr("class").match(/fa\-(.*)\-(up|down)/))a="fa-"+u[1]+"-down",f="fa-"+u[1]+"-up"}var l=r.find(".widget-body-inner");l.length==0?r=r.wrapInner('<div class="widget-body-inner"></div>').find(":first-child").eq(0):r=l.eq(0);var c=300,h=200;s=="show"?(i&&i.removeClass(a).addClass(f),n.removeClass("collapsed"),r.slideUp(0,function(){r.slideDown(c,function(){n.trigger(o+".ace.widget")})})):(i&&i.removeClass(f).addClass(a),r.slideUp(h,function(){n.addClass("collapsed"),n.trigger(o+".ace.widget")}))},this.hide=function(){this.toggle("hide")},this.show=function(){this.toggle("show")},this.fullscreen=function(){var e=this.$box.find("> .widget-header a[data-action=fullscreen]").find(ace.vars[".icon"]).eq(0),t=null,n=null;(t=e.attr("data-icon1"))?n=e.attr("data-icon2"):(t="fa-expand",n="fa-compress"),this.$box.hasClass("fullscreen")?(e.addClass(t).removeClass(n),this.$box.removeClass("fullscreen")):(e.removeClass(t).addClass(n),this.$box.addClass("fullscreen")),this.$box.trigger("fullscreened.ace.widget")}};e.fn.widget_box=function(n,r){var i,s=this.each(function(){var s=e(this),o=s.data("widget_box"),u=typeof n=="object"&&n;o||s.data("widget_box",o=new t(this,u)),typeof n=="string"&&(i=o[n](r))});return i===undefined?s:i},e(document).on("click.ace.widget",".widget-header a[data-action]",function(n){n.preventDefault();var r=e(this),i=r.closest(".widget-box");if(i.length==0||i.hasClass("ui-sortable-helper"))return;var s=i.data("widget_box");s||i.data("widget_box",s=new t(i.get(0)));var o=r.data("action");if(o=="collapse"){var u=i.hasClass("collapsed")?"show":"hide",a;i.trigger(a=e.Event(u+".ace.widget"));if(a.isDefaultPrevented())return;s.toggle(u,r)}else if(o=="close"){var a;i.trigger(a=e.Event("close.ace.widget"));if(a.isDefaultPrevented())return;s.close()}else if(o=="reload"){r.blur();var a;i.trigger(a=e.Event("reload.ace.widget"));if(a.isDefaultPrevented())return;s.reload()}else if(o=="fullscreen"){var a;i.trigger(a=e.Event("fullscreen.ace.widget"));if(a.isDefaultPrevented())return;s.fullscreen()}else o=="settings"&&i.trigger("setting.ace.widget")})},ace.settings_box=function(e){e("#ace-settings-btn").on(ace.click_event,function(t){t.preventDefault(),e(this).toggleClass("open"),e("#ace-settings-box").toggleClass("open")}),e("#ace-settings-navbar").on("click",function(){ace.settings.navbar_fixed(this.checked)}).each(function(){this.checked=ace.settings.is("navbar","fixed")}),e("#ace-settings-sidebar").on("click",function(){ace.settings.sidebar_fixed(this.checked)}).each(function(){this.checked=ace.settings.is("sidebar","fixed")}),e("#ace-settings-breadcrumbs").on("click",function(){ace.settings.breadcrumbs_fixed(this.checked)}).each(function(){this.checked=ace.settings.is("breadcrumbs","fixed")}),e("#ace-settings-add-container").on("click",function(){ace.settings.main_container_fixed(this.checked)}).each(function(){this.checked=ace.settings.is("main-container","fixed")}),e("#ace-settings-compact").removeAttr("checked").on("click",function(){if(this.checked){e("#sidebar").addClass("compact");var t=e("#ace-settings-hover");t.length>0&&!t.get(0).checked&&t.removeAttr("checked").trigger("click")}else e("#sidebar").removeClass("compact"),"sidebar_scroll"in ace.helper&&ace.helper.sidebar_scroll.reset()}),e("#ace-settings-highlight").removeAttr("checked").on("click",function(){this.checked?e("#sidebar .nav-list > li").addClass("highlight"):e("#sidebar .nav-list > li").removeClass("highlight")}),e("#ace-settings-hover").removeAttr("checked").on("click",function(){if(e(".sidebar").hasClass("h-sidebar"))return;if(this.checked)ace.vars["no-scroll"]=!0,e("#sidebar li").addClass("hover").filter(".open").removeClass("open").find("> .submenu").css("display","none");else{ace.vars["no-scroll"]=!1,e("#sidebar li.hover").removeClass("hover");var t=e("#ace-settings-compact");t.length>0&&t.get(0).checked&&t.trigger("click"),"sidebar_hover"in ace.helper&&ace.helper.sidebar_hover.reset()}"sidebar_scroll"in ace.helper&&ace.helper.sidebar_scroll.reset()})},ace.settings_rtl=function(e){e("#ace-settings-rtl").removeAttr("checked").on("click",function(){ace.switch_direction(jQuery)})},ace.switch_direction=function(e){function n(e,n){t.find("."+e).removeClass(e).addClass("tmp-rtl-"+e).end().find("."+n).removeClass(n).addClass(e).end().find(".tmp-rtl-"+e).removeClass("tmp-rtl-"+e).addClass(n)}var t=e(document.body);t.toggleClass("rtl").find(".dropdown-menu:not(.datepicker-dropdown,.colorpicker)").toggleClass("dropdown-menu-right").end().find(".pull-right:not(.dropdown-menu,blockquote,.profile-skills .pull-right)").removeClass("pull-right").addClass("tmp-rtl-pull-right").end().find(".pull-left:not(.dropdown-submenu,.profile-skills .pull-left)").removeClass("pull-left").addClass("pull-right").end().find(".tmp-rtl-pull-right").removeClass("tmp-rtl-pull-right").addClass("pull-left").end().find(".chosen-select").toggleClass("chosen-rtl").next().toggleClass("chosen-rtl"),n("align-left","align-right"),n("no-padding-left","no-padding-right"),n("arrowed","arrowed-right"),n("arrowed-in","arrowed-in-right"),n("tabs-left","tabs-right"),n("messagebar-item-left","messagebar-item-right"),e(".fa").each(function(){if(this.className.match(/ui-icon/)||e(this).closest(".fc-button").length>0)return;var t=this.attributes.length;for(var n=0;n<t;n++){var r=this.attributes[n].value;r.match(/fa\-(?:[\w\-]+)\-left/)?this.attributes[n].value=r.replace(/fa\-([\w\-]+)\-(left)/i,"fa-$1-right"):r.match(/fa\-(?:[\w\-]+)\-right/)&&(this.attributes[n].value=r.replace(/fa\-([\w\-]+)\-(right)/i,"fa-$1-left"))}});var r=t.hasClass("rtl");r?e(".scroll-hz").addClass("make-ltr").find(".scroll-content").wrapInner('<div class="make-rtl" />'):e(".scroll-hz").removeClass("make-ltr").find(".make-rtl").children().unwrap(),e.fn.ace_scroll&&e(".scroll-hz").ace_scroll("reset");try{var i=e("#piechart-placeholder");if(i.length>0){var s=e(document.body).hasClass("rtl")?"nw":"ne";i.data("draw").call(i.get(0),i,i.data("chart"),s)}}catch(o){}},ace.settings_skin=function(e){try{e("#skin-colorpicker").ace_colorpicker()}catch(t){}e("#skin-colorpicker").on("change",function(){var t=e(this).find("option:selected").data("skin"),n=e(document.body);n.removeClass("no-skin skin-1 skin-2 skin-3"),n.addClass(t),ace.data.set("skin",t);var r=["red","blue","green",""];e(".ace-nav > li.grey").removeClass("dark"),e(".ace-nav > li").removeClass("no-border margin-1"),e(".ace-nav > li:not(:last-child)").removeClass("light-pink").find("> a > "+ace.vars[".icon"]).removeClass("pink").end().eq(0).find(".badge").removeClass("badge-warning"),e(".sidebar-shortcuts .btn").removeClass("btn-pink btn-white").find(ace.vars[".icon"]).removeClass("white"),e(".ace-nav > li.grey").removeClass("red").find(".badge").removeClass("badge-yellow"),e(".sidebar-shortcuts .btn").removeClass("btn-primary btn-white");var i=0;e(".sidebar-shortcuts .btn").each(function(){e(this).find(ace.vars[".icon"]).removeClass(r[i++])});var s=["btn-success","btn-info","btn-warning","btn-danger"];if(t=="no-skin"){var i=0;e(".sidebar-shortcuts .btn").each(function(){e(this).attr("class","btn "+s[i++%4])})}else if(t=="skin-1"){e(".ace-nav > li.grey").addClass("dark");var i=0;e(".sidebar-shortcuts").find(".btn").each(function(){e(this).attr("class","btn "+s[i++%4])})}else if(t=="skin-2")e(".ace-nav > li").addClass("no-border margin-1"),e(".ace-nav > li:not(:last-child)").addClass("light-pink").find("> a > "+ace.vars[".icon"]).addClass("pink").end().eq(0).find(".badge").addClass("badge-warning"),e(".sidebar-shortcuts .btn").attr("class","btn btn-white btn-pink").find(ace.vars[".icon"]).addClass("white");else if(t=="skin-3"){n.addClass("no-skin"),e(".ace-nav > li.grey").addClass("red").find(".badge").addClass("badge-yellow");var i=0;e(".sidebar-shortcuts .btn").each(function(){e(this).attr("class","btn btn-primary btn-white"),e(this).find(ace.vars[".icon"]).addClass(r[i++])})}"sidebar_scroll"in ace.helper&&ace.helper.sidebar_scroll.reset()})},ace.widget_reload_handler=function(e){e(document).on("reload.ace.widget",".widget-box",function(t){var n=e(this);setTimeout(function(){n.trigger("reloaded.ace.widget")},parseInt(Math.random()*1e3+1e3))})},ace.enable_searchbox_autocomplete=function(e){ace.vars.US_STATES=["Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","Florida","Georgia","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey","New Mexico","New York","North Dakota","North Carolina","Ohio","Oklahoma","Oregon","Pennsylvania","Rhode Island","South Carolina","South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","West Virginia","Wisconsin","Wyoming"];try{e("#nav-search-input").typeahead({source:ace.vars.US_STATES,updater:function(t){return e("#nav-search-input").focus(),t}})}catch(t){}},jQuery(function(e){ace.click_event=ace.vars.touch&&e.fn.tap?"tap":"click";var t=navigator.userAgent;ace.vars.webkit=!!t.match(/AppleWebKit/i),ace.vars.safari=!!t.match(/Safari/i)&&!t.match(/Chrome/i),ace.vars.android=ace.vars.safari&&!!t.match(/Android/i),ace.vars.ios_safari=!!t.match(/OS ([4-8])(_\d)+ like Mac OS X/i)&&!t.match(/CriOS/i),ace.vars.non_auto_fixed=ace.vars.android||ace.vars.ios_safari,ace.vars.non_auto_fixed&&e("body").addClass("mob-safari"),ace.vars.transition="transition"in document.body.style||"WebkitTransition"in document.body.style||"MozTransition"in document.body.style||"OTransition"in document.body.style;var n={general_vars:null,handle_side_menu:null,add_touch_drag:null,sidebar_scrollable:[!0,!0,ace.vars.safari||ace.vars.ios_safari,200,!1],sidebar_hoverable:null,general_things:null,widget_boxes:null,widget_reload_handler:null,settings_box:null,settings_rtl:null,settings_skin:null,enable_searchbox_autocomplete:null,auto_hide_sidebar:null,auto_padding:null,auto_container:null};for(var r in n){if(!(r in ace))continue;var i=n[r];if(i===!1)continue;i==null?i=[jQuery]:i instanceof String?i=[jQuery,i]:i instanceof Array&&i.unshift(jQuery),ace[r].apply(null,i)}}),define("ace",["ace-extra"],function(){}),function(e,t){var n=function(t,n){function P(e){e.preventDefault(),e.stopPropagation();var t=c.offset(),n=t[S],i=s?e.pageY:e.pageX;i>n+g?(g=i-n-m+b,g>y&&(g=y)):(g=i-n-b,g<0&&(g=0)),r.update_scroll()}function j(t){t.preventDefault(),t.stopPropagation(),s?B=H=t.pageY:B=H=t.pageX,O=!0,e("html").off("mousemove.ace_scroll").on("mousemove.ace_scroll",F),e(M).off("mouseup.ace_scroll").on("mouseup.ace_scroll",I),c.addClass("active"),_&&r.$element.trigger("drag.start")}function F(e){e.preventDefault(),e.stopPropagation(),s?B=e.pageY:B=e.pageX,B-H+g>y?B=H+y-g:B-H+g<0&&(B=H-g),g+=B-H,H=B,g<0?g=0:g>y&&(g=y),r.update_scroll()}function I(t){t.preventDefault(),t.stopPropagation(),O=!1,e("html").off(".ace_scroll"),e(M).off(".ace_scroll"),c.removeClass("active"),_&&r.$element.trigger("drag.end")}var r=this,i=e.extend({},e.fn.ace_scroll.defaults,n);this.size=0,this.$element=e(t),this.element=t;var s=!0,o=!1,u=!1,a=!1,f=null,l=null,c=null,h=null,p=null,d=null,v=null,m=0,g=0,y=0,b=0,w=!0,E=!1,S,x,T,N,C,k,L=1,A=!1,O=!1,M="onmouseup"in window?window:"html",_=i.dragEvent||!1,D=n.scrollEvent||!1;this.create=function(t){if(a)return;t&&(i=e.extend({},e.fn.ace_scroll.defaults,t)),this.size=parseInt(this.$element.attr("data-size"))||i.size||200,s=!i.horizontal,S=s?"top":"left",x=s?"height":"width",T=s?"maxHeight":"maxWidth",N=s?"clientHeight":"clientWidth",C=s?"scrollTop":"scrollLeft",k=s?"scrollHeight":"scrollWidth",this.$element.addClass("ace-scroll "+((s?"":" scroll-hz")+(i.styleClass?" "+i.styleClass:""))),this.$element.css("position")=="static"?(A=this.element.style.position,this.element.style.position="relative"):A=!1,this.$element.wrapInner('<div class="scroll-content" />'),this.$element.prepend('<div class="scroll-track"><div class="scroll-bar"></div></div>'),f=this.$element.find(".scroll-content").eq(0),s||f.wrapInner("<div />"),l=f.get(0),c=this.$element.find(".scroll-track").eq(0),h=c.find(".scroll-bar").eq(0),p=c.get(0),d=h.get(0),v=d.style,c.hide(),c.on("mousedown",P),h.on("mousedown",j),f.on("scroll",function(){w&&(g=parseInt(Math.round(this[C]*L)),v[S]=g+"px"),w=!1,D&&this.$element.trigger("scroll",[l])});if(i.mouseWheel){var n=i.mouseWheelLock,m=!i.lockAnyway;this.$element.on("mousewheel.ace_scroll DOMMouseScroll.ace_scroll",function(t){if(o)return;if(!u)return m;O&&(O=!1,e("html").off(".ace_scroll"),e(M).off(".ace_scroll"),_&&r.$element.trigger("drag.end"));var i=t.originalEvent.detail<0||t.originalEvent.wheelDelta>0?1:-1,s=!1,a=l[N],f=l[C];n||(i==-1?s=l[k]<=f+a:s=f==0),r.move_bar(!0);var c=parseInt(Math.round(Math.min(Math.max(a/8,54)),r.size))+1;return l[C]=f-i*c,s&&m})}var y=ace.vars.touch&&"ace_drag"in e.event.special&&i.touchDrag;if(y){var b="",E=y?"ace_drag":"swipe";this.$element.on(E+".ace_scroll",function(e){b=e.direction;if(s&&(b=="up"||b=="down")||!s&&(b=="left"||b=="right")){var t=s?e.dy:e.dx;t!=0&&(Math.abs(t)>20&&y&&(t*=2),r.move_bar(!0),l[C]=l[C]+t)}})}i.hoverReset&&this.$element.on("mouseenter.ace_scroll touchstart.ace_scroll",function(){r.reset()}),s||f.children(0).css(x,this.size),f.css(T,this.size),o=!1,a=!0},this.is_active=function(){return u},this.is_enabled=function(){return!o},this.move_bar=function(e){w=e},this.reset=function(){if(o)return;a||this.create();var e=s?l[k]:this.size;if(s&&e==0||!s&&this.element.scrollWidth==0){this.$element.removeClass("scroll-active");return}var t=s?this.size:l.clientWidth;s||f.children(0).css(x,this.size),f.css(T,this.size),e>t?(u=!0,c.css(x,t).show(),L=parseFloat((t/e).toFixed(5)),m=parseInt(Math.round(t*L)),b=parseInt(Math.round(m/2)),y=t-m,g=parseInt(Math.round(l[C]*L)),v[x]=m+"px",v[S]=g+"px",this.$element.addClass("scroll-active"),E||(i.reset&&(l[C]=0,v[S]=0),E=!0)):(u=!1,c.hide(),this.$element.removeClass("scroll-active"),f.css(T,""));return},this.disable=function(){return l[C]=0,v[S]=0,o=!0,u=!1,c.hide(),this.$element.removeClass("scroll-active"),f.css(T,""),this},this.enable=function(){return o=!1,this.reset(),this},this.destroy=function(){return u=!1,o=!1,a=!1,this.$element.removeClass("ace-scroll scroll-hz"+(i.extraClass?" "+i.extraClass:"")),this.$element.off(".ace_scroll"),s||f.find("> div").children().unwrap(),f.children().unwrap(),f.remove(),c.remove(),A!==!1&&(this.element.style.position=A),this},this.modify=function(t){return t&&(i=e.extend({},e.fn.ace_scroll.defaults,t)),this.destroy(),this.create(),this.reset(),this},this.update=function(e){return this.size=e.size,this},this.update_scroll=function(){w=!1,v[S]=g+"px",l[C]=parseInt(Math.round(g/L))};var H=-1,B=-1;return this.create(),this.reset(),this};e.fn.ace_scroll=function(r,i){var s,o=this.each(function(){var t=e(this),o=t.data("ace_scroll"),u=typeof r=="object"&&r;o||t.data("ace_scroll",o=new n(this,u)),typeof r=="string"&&(s=o[r](i))});return s===t?o:s},e.fn.ace_scroll.defaults={size:200,horizontal:!1,mouseWheel:!0,mouseWheelLock:!1,lockAnyway:!1,styleClass:!1,hoverReset:!0,reset:!1,dragEvent:!1,touchDrag:!0,touchSwipe:!1,scrollEvent:!1}}(window.jQuery),function(e,t){var n=function(t,n){var r=e.extend({},e.fn.ace_colorpicker.defaults,n),i=e(t),s="",o="",u=null,a=[];i.addClass("hide").find("option").each(function(){var e="colorpick-btn",t=this.value.replace(/[^\w\s,#\(\)\.]/g,"");this.value!=t&&(this.value=t),this.selected&&(e+=" selected",o=t),a.push(t),s+='<li><a class="'+e+'" href="#" style="background-color:'+t+';" data-color="'+t+'"></a></li>'}).end().on("change.color",function(){i.next().find(".btn-colorpicker").css("background-color",this.value)}).after('<div class="dropdown dropdown-colorpicker">		<a data-toggle="dropdown" class="dropdown-toggle" '+(r.auto_pos?'data-position="auto"':"")+' href="#"><span class="btn-colorpicker" style="background-color:'+o+'"></span></a><ul class="dropdown-menu'+(r.caret?" dropdown-caret":"")+(r.pull_right?" dropdown-menu-right":"")+'">'+s+"</ul></div>");var f=i.next().find(".dropdown-menu");f.on(ace.click_event,function(t){var n=e(t.target);if(!n.is(".colorpick-btn"))return!1;u&&u.removeClass("selected"),u=n,u.addClass("selected");var r=u.data("color");return i.val(r).trigger("change"),t.preventDefault(),!0}),u=i.next().find("a.selected"),this.pick=function(n,r){if(typeof n=="number"){if(n>=a.length)return;t.selectedIndex=n,f.find("a:eq("+n+")").trigger(ace.click_event)}else if(typeof n=="string"){var s=n.replace(/[^\w\s,#\(\)\.]/g,"");n=a.indexOf(s),n==-1&&r===!0&&(a.push(s),e("<option />").appendTo(i).val(s),e('<li><a class="colorpick-btn" href="#"></a></li>').appendTo(f).find("a").css("background-color",s).data("color",s),n=a.length-1);if(n==-1)return;f.find("a:eq("+n+")").trigger(ace.click_event)}},this.destroy=function(){i.removeClass("hide").off("change.color").next().remove(),a=[]}};e.fn.ace_colorpicker=function(r,i){var s,o=this.each(function(){var t=e(this),o=t.data("ace_colorpicker"),u=typeof r=="object"&&r;o||t.data("ace_colorpicker",o=new n(this,u)),typeof r=="string"&&(s=o[r](i))});return s===t?o:s},e.fn.ace_colorpicker.defaults={pull_right:!1,caret:!0,auto_pos:!0}}(window.jQuery),function(e,t){var n="multiple"in document.createElement("INPUT"),r="FileList"in window,i="FileReader"in window,s="File"in window,o=function(t,n){var r=this;this.settings=e.extend({},e.fn.ace_file_input.defaults,n),this.$element=e(t),this.element=t,this.disabled=!1,this.can_reset=!0,this.$element.off("change.ace_inner_call").on("change.ace_inner_call",function(e,t){if(t===!0)return;return a.call(r)});var i=this.$element.closest("label").css({display:"block"}),s=i.length==0?"label":"span";this.$element.wrap("<"+s+' class="ace-file-input" />'),this.apply_settings(),this.reset_input_field()};o.error={FILE_LOAD_FAILED:1,IMAGE_LOAD_FAILED:2,THUMBNAIL_FAILED:3},o.prototype.apply_settings=function(){var t=this;this.multi=this.$element.attr("multiple")&&n,this.well_style=this.settings.style=="well",this.well_style?this.$element.parent().addClass("ace-file-multiple"):this.$element.parent().removeClass("ace-file-multiple"),this.$element.parent().find(":not(input[type=file])").remove(),this.$element.after('<span class="ace-file-container" data-title="'+this.settings.btn_choose+'"><span class="ace-file-name" data-title="'+this.settings.no_file+'">'+(this.settings.no_icon?'<i class="'+ace.vars.icon+this.settings.no_icon+'"></i>':"")+"</span></span>"),this.$label=this.$element.next(),this.$container=this.$element.closest(".ace-file-input");var i=!!this.settings.icon_remove;if(i){var s=e('<a class="remove" href="#"><i class="'+ace.vars.icon+this.settings.icon_remove+'"></i></a>').appendTo(this.$element.parent());s.on(ace.click_event,function(e){e.preventDefault();if(!t.can_reset)return!1;var n=!0;t.settings.before_remove&&(n=t.settings.before_remove.call(t.element));if(!n)return!1;var r=t.reset_input();return!1})}this.settings.droppable&&r&&u.call(this)},o.prototype.show_file_list=function(t){var n=typeof t=="undefined"?this.$element.data("ace_input_files"):t;if(!n||n.length==0)return;this.well_style&&(this.$label.find(".ace-file-name").remove(),this.settings.btn_change||this.$label.addClass("hide-placeholder")),this.$label.attr("data-title",this.settings.btn_change).addClass("selected");for(var r=0;r<n.length;r++){var s=typeof n[r]=="string"?n[r]:e.trim(n[r].name),o=s.lastIndexOf("\\")+1;o==0&&(o=s.lastIndexOf("/")+1),s=s.substr(o);var u="fa fa-file",a="file";/\.(jpe?g|png|gif|svg|bmp|tiff?)$/i.test(s)?(u="fa fa-picture-o file-image",a="image"):/\.(mpe?g|flv|mov|avi|swf|mp4|mkv|webm|wmv|3gp)$/i.test(s)?(u="fa fa-film file-video",a="video"):/\.(mp3|ogg|wav|wma|amr|aac)$/i.test(s)&&(u="fa fa-music file-audio",a="audio");if(!this.well_style)this.$label.find(".ace-file-name").attr({"data-title":s}).find(ace.vars[".icon"]).attr("class",ace.vars.icon+u);else{this.$label.append('<span class="ace-file-name" data-title="'+s+'"><i class="'+ace.vars.icon+u+'"></i></span>');var l=e.trim(n[r].type),c=i&&this.settings.thumbnail&&(l.length>0&&l.match("image")||l.length==0&&a=="image");if(c){var h=this;e.when(f.call(this,n[r])).fail(function(e){h.settings.preview_error&&h.settings.preview_error.call(h,s,e.code)})}}}return!0},o.prototype.reset_input=function(){this.reset_input_ui(),this.reset_input_field()},o.prototype.reset_input_ui=function(){this.$label.attr({"data-title":this.settings.btn_choose,"class":"ace-file-container"}).find(".ace-file-name:first").attr({"data-title":this.settings.no_file,"class":"ace-file-name"}).find(ace.vars[".icon"]).attr("class",ace.vars.icon+this.settings.no_icon).prev("img").remove(),this.settings.no_icon||this.$label.find(ace.vars[".icon"]).remove(),this.$label.find(".ace-file-name").not(":first").remove(),this.reset_input_data()},o.prototype.reset_input_field=function(){this.$element.wrap("<form>").parent().get(0).reset(),this.$element.unwrap()},o.prototype.reset_input_data=function(){this.$element.data("ace_input_files")&&(this.$element.removeData("ace_input_files"),this.$element.removeData("ace_input_method"))},o.prototype.enable_reset=function(e){this.can_reset=e},o.prototype.disable=function(){this.disabled=!0,this.$element.attr("disabled","disabled").addClass("disabled")},o.prototype.enable=function(){this.disabled=!1,this.$element.removeAttr("disabled").removeClass("disabled")},o.prototype.files=function(){return e(this).data("ace_input_files")||null},o.prototype.method=function(){return e(this).data("ace_input_method")||""},o.prototype.update_settings=function(t){this.settings=e.extend({},this.settings,t),this.apply_settings()},o.prototype.loading=function(t){if(t===!1)this.$container.find(".ace-file-overlay").remove(),this.element.removeAttribute("readonly");else{var n=typeof t=="string"?t:'<i class="overlay-content fa fa-spin fa-spinner orange2 fa-2x"></i>',r=this.$container.find(".ace-file-overlay");r.length==0&&(r=e('<div class="ace-file-overlay"></div>').appendTo(this.$container),r.on("click tap",function(e){return e.stopImmediatePropagation(),e.preventDefault(),!1}),this.element.setAttribute("readonly","true")),r.empty().append(n)}};var u=function(){var e=this,t=this.$element.parent();t.off("dragenter").on("dragenter",function(e){e.preventDefault(),e.stopPropagation()}).off("dragover").on("dragover",function(e){e.preventDefault(),e.stopPropagation()}).off("drop").on("drop",function(t){t.preventDefault(),t.stopPropagation();var n=t.originalEvent.dataTransfer,r=n.files;if(!e.multi&&r.length>1){var i=[];i.push(r[0]),r=i}return r=c.call(e,r,!0),r===!1?!1:(e.$element.data("ace_input_method","drop"),e.$element.data("ace_input_files",r),e.show_file_list(r),e.$element.triggerHandler("change",[!0]),!0)})},a=function(){var e=this.element.files||[this.element.value];return e=c.call(this,e,!1),e===!1?!1:(this.$element.data("ace_input_method","select"),this.$element.data("ace_input_files",e),this.show_file_list(e),!0)},f=function(t){var n=this,r=n.$label.find(".ace-file-name:last"),i=new e.Deferred,s=new FileReader;return s.onload=function(s){r.prepend("<img class='middle' style='display:none;' />");var u=r.find("img:last").get(0);e(u).one("load",function(){var s=50;n.settings.thumbnail=="large"?s=150:n.settings.thumbnail=="fit"&&(s=r.width()),r.addClass(s>50?"large":"");var a=l(u,s,t.type);if(a==null){e(this).remove(),i.reject({code:o.error.THUMBNAIL_FAILED});return}var f=a.w,c=a.h;n.settings.thumbnail=="small"&&(f=c=s),e(u).css({"background-image":"url("+a.src+")",width:f,height:c}).data("thumb",a.src).attr({src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg=="}).show(),i.resolve()}).one("error",function(){r.find("img").remove(),i.reject({code:o.error.IMAGE_LOAD_FAILED})}),u.src=s.target.result},s.onerror=function(e){i.reject({code:o.error.FILE_LOAD_FAILED})},s.readAsDataURL(t),i.promise()},l=function(t,n,r){var i=t.width,s=t.height;i=i>0?i:e(t).width(),s=s>0?s:e(t).height();if(i>n||s>n)i>s?(s=parseInt(n/i*s),i=n):(i=parseInt(n/s*i),s=n);var o;try{var u=document.createElement("canvas");u.width=i,u.height=s;var a=u.getContext("2d");a.drawImage(t,0,0,t.width,t.height,0,0,i,s),o=u.toDataURL()}catch(f){o=null}return o?(/^data\:image\/(png|jpe?g|gif);base64,[0-9A-Za-z\+\/\=]+$/.test(o)||(o=null),o?{src:o,w:i,h:s}:null):null},c=function(e,t){var n=d.call(this,e,t);if(n===-1)return this.reset_input(),!1;if(!n||n.length==0)return this.$element.data("ace_input_files")||this.reset_input(),!1;if(n instanceof Array||r&&n instanceof FileList)e=n;n=!0,this.settings.before_change&&(n=this.settings.before_change.call(this.element,e,t));if(n===-1)return this.reset_input(),!1;if(!n||n.length==0)return this.$element.data("ace_input_files")||this.reset_input(),!1;if(n instanceof Array||r&&n instanceof FileList)e=n;return e},h=function(e){return e?(typeof e=="string"&&(e=[e]),e.length==0?null:new RegExp(".(?:"+e.join("|")+")$","i")):null},p=function(e){return e?(typeof e=="string"&&(e=[e]),e.length==0?null:new RegExp("^(?:"+e.join("|").replace(/\//g,"\\/")+")$","i")):null},d=function(t,n){var r=h(this.settings.allowExt),i=h(this.settings.denyExt),o=p(this.settings.allowMime),u=p(this.settings.denyMime),a=this.settings.maxSize||!1;if(!(r||i||o||u||a))return!0;var f=[],l={};for(var c=0;c<t.length;c++){var d=t[c],v=s?d.name:d;if(r&&!r.test(v)){"ext"in l||(l.ext=[]),l.ext.push(v);continue}if(i&&i.test(v)){"ext"in l||(l.ext=[]),l.ext.push(v);continue}var m;if(!s){f.push(d);continue}if((m=e.trim(d.type)).length>0){if(o&&!o.test(m)){"mime"in l||(l.mime=[]),l.mime.push(v);continue}if(u&&u.test(m)){"mime"in l||(l.mime=[]),l.mime.push(v);continue}}if(a&&d.size>a){"size"in l||(l.size=[]),l.size.push(v);continue}f.push(d)}if(f.length==t.length)return t;var g={ext:0,mime:0,size:0};"ext"in l&&(g.ext=l.ext.length),"mime"in l&&(g.mime=l.mime.length),"size"in l&&(g.size=l.size.length);var y;return this.$element.trigger(y=new e.Event("file.error.ace"),{file_count:t.length,invalid_count:t.length-f.length,error_list:l,error_count:g,dropped:n}),y.isDefaultPrevented()?-1:f};e.fn.ace_file_input=function(n,r){var i,s=this.each(function(){var t=e(this),s=t.data("ace_file_input"),u=typeof n=="object"&&n;s||t.data("ace_file_input",s=new o(this,u)),typeof n=="string"&&(i=s[n](r))});return i===t?s:i},e.fn.ace_file_input.defaults={style:!1,no_file:"No File ...",no_icon:"fa fa-upload",btn_choose:"Choose",btn_change:"Change",icon_remove:"fa fa-times",droppable:!1,thumbnail:!1,allowExt:null,denyExt:null,allowMime:null,denyMime:null,maxSize:!1,before_change:null,before_remove:null,preview_error:null}}(window.jQuery),function(e,t){e.fn.ace_wysiwyg=function(t,n){var r=e.extend({speech_button:!0,wysiwyg:{},toolbar:["font",null,"fontSize",null,{name:"bold",className:"btn-info"},{name:"italic",className:"btn-info"},{name:"strikethrough",className:"btn-info"},{name:"underline",className:"btn-info"},null,{name:"insertunorderedlist",className:"btn-success"},{name:"insertorderedlist",className:"btn-success"},{name:"outdent",className:"btn-purple"},{name:"indent",className:"btn-purple"},null,{name:"justifyleft",className:"btn-primary"},{name:"justifycenter",className:"btn-primary"},{name:"justifyright",className:"btn-primary"},{name:"justifyfull",className:"btn-inverse"},null,{name:"createLink",className:"btn-pink"},{name:"unlink",className:"btn-pink"},null,{name:"insertImage",className:"btn-success"},null,"foreColor",null,{name:"undo",className:"btn-grey"},{name:"redo",className:"btn-grey"}]},t),i=["#ac725e","#d06b64","#f83a22","#fa573c","#ff7537","#ffad46","#42d692","#16a765","#7bd148","#b3dc6c","#fbe983","#fad165","#92e1c0","#9fe1e7","#9fc6e7","#4986e7","#9a9cff","#b99aff","#c2c2c2","#cabdbf","#cca6ac","#f691b2","#cd74e6","#a47ae2","#444444"],s={font:{values:["Arial","Courier","Comic Sans MS","Helvetica","Open Sans","Tahoma","Verdana"],icon:"fa fa-font",title:"Font"},fontSize:{values:{5:"Huge",3:"Normal",1:"Small"},icon:"fa fa-text-height",title:"Font Size"},bold:{icon:"fa fa-bold",title:"Bold (Ctrl/Cmd+B)"},italic:{icon:"fa fa-italic",title:"Italic (Ctrl/Cmd+I)"},strikethrough:{icon:"fa fa-strikethrough",title:"Strikethrough"},underline:{icon:"fa fa-underline",title:"Underline"},insertunorderedlist:{icon:"fa fa-list-ul",title:"Bullet list"},insertorderedlist:{icon:"fa fa-list-ol",title:"Number list"},outdent:{icon:"fa fa-outdent",title:"Reduce indent (Shift+Tab)"},indent:{icon:"fa fa-indent",title:"Indent (Tab)"},justifyleft:{icon:"fa fa-align-left",title:"Align Left (Ctrl/Cmd+L)"},justifycenter:{icon:"fa fa-align-center",title:"Center (Ctrl/Cmd+E)"},justifyright:{icon:"fa fa-align-right",title:"Align Right (Ctrl/Cmd+R)"},justifyfull:{icon:"fa fa-align-justify",title:"Justify (Ctrl/Cmd+J)"},createLink:{icon:"fa fa-link",title:"Hyperlink",button_text:"Add",placeholder:"URL",button_class:"btn-primary"},unlink:{icon:"fa fa-chain-broken",title:"Remove Hyperlink"},insertImage:{icon:"fa fa-picture-o",title:"Insert picture",button_text:'<i class="'+ace.vars.icon+'fa fa-file"></i> Choose Image &hellip;',placeholder:"Image URL",button_insert:"Insert",button_class:"btn-success",button_insert_class:"btn-primary",choose_file:!0},foreColor:{values:i,title:"Change Color"},backColor:{values:i,title:"Change Background Color"},undo:{icon:"fa fa-undo",title:"Undo (Ctrl/Cmd+Z)"},redo:{icon:"fa fa-repeat",title:"Redo (Ctrl/Cmd+Y)"},viewSource:{icon:"fa fa-code",title:"View Source"}},o=r.toolbar||["font",null,"fontSize",null,"bold","italic","strikethrough","underline",null,"insertunorderedlist","insertorderedlist","outdent","indent",null,"justifyleft","justifycenter","justifyright","justifyfull",null,"createLink","unlink",null,"insertImage",null,"foreColor",null,"undo","redo",null,"viewSource"];return this.each(function(){var t=' <div class="wysiwyg-toolbar btn-toolbar center"> <div class="btn-group"> ';for(var n in o)if(o.hasOwnProperty(n)){var i=o[n];if(i===null){t+=' </div> <div class="btn-group"> ';continue}if(typeof i=="string"&&i in s)i=s[i],i.name=o[n];else{if(!(typeof i=="object"&&i.name in s))continue;i=e.extend(s[i.name],i)}var u="className"in i?i.className:"btn-default";switch(i.name){case"font":t+=' <a class="btn btn-sm '+u+' dropdown-toggle" data-toggle="dropdown" title="'+i.title+'"><i class="'+ace.vars.icon+i.icon+'"></i><i class="'+ace.vars.icon+'fa fa-angle-down icon-on-right"></i></a> ',t+=' <ul class="dropdown-menu dropdown-light dropdown-caret">';for(var a in i.values)i.values.hasOwnProperty(a)&&(t+=' <li><a data-edit="fontName '+i.values[a]+'" style="font-family:\''+i.values[a]+"'\">"+i.values[a]+"</a></li> ");t+=" </ul>";break;case"fontSize":t+=' <a class="btn btn-sm '+u+' dropdown-toggle" data-toggle="dropdown" title="'+i.title+'"><i class="'+ace.vars.icon+i.icon+'"></i>&nbsp;<i class="'+ace.vars.icon+'fa fa-angle-down icon-on-right"></i></a> ',t+=' <ul class="dropdown-menu dropdown-light dropdown-caret"> ';for(var f in i.values)i.values.hasOwnProperty(f)&&(t+=' <li><a data-edit="fontSize '+f+'"><font size="'+f+'">'+i.values[f]+"</font></a></li> ");t+=" </ul> ";break;case"createLink":t+=' <div class="btn-group"> <a class="btn btn-sm '+u+' dropdown-toggle" data-toggle="dropdown" title="'+i.title+'"><i class="'+ace.vars.icon+i.icon+'"></i></a> ',t+=' <div class="dropdown-menu dropdown-caret dropdown-menu-right">							 <div class="input-group">								<input class="form-control" placeholder="'+i.placeholder+'" type="text" data-edit="'+i.name+'" />								<span class="input-group-btn">									<button class="btn btn-sm '+i.button_class+'" type="button">'+i.button_text+"</button>								</span>							 </div>						</div> </div>";break;case"insertImage":t+=' <div class="btn-group"> <a class="btn btn-sm '+u+' dropdown-toggle" data-toggle="dropdown" title="'+i.title+'"><i class="'+ace.vars.icon+i.icon+'"></i></a> ',t+=' <div class="dropdown-menu dropdown-caret dropdown-menu-right">							 <div class="input-group">								<input class="form-control" placeholder="'+i.placeholder+'" type="text" data-edit="'+i.name+'" />								<span class="input-group-btn">									<button class="btn btn-sm '+i.button_insert_class+'" type="button">'+i.button_insert+"</button>								</span>							 </div>",i.choose_file&&"FileReader"in window&&(t+='<div class="space-2"></div>							 <label class="center block no-margin-bottom">								<button class="btn btn-sm '+i.button_class+' wysiwyg-choose-file" type="button">'+i.button_text+'</button>								<input type="file" data-edit="'+i.name+'" />							  </label>'),t+=" </div> </div>";break;case"foreColor":case"backColor":t+=' <select class="hide wysiwyg_colorpicker" title="'+i.title+'"> ';for(var l in i.values)t+=' <option value="'+i.values[l]+'">'+i.values[l]+"</option> ";t+=" </select> ",t+=' <input style="display:none;" disabled class="hide" type="text" data-edit="'+i.name+'" /> ';break;case"viewSource":t+=' <a class="btn btn-sm '+u+'" data-view="source" title="'+i.title+'"><i class="'+ace.vars.icon+i.icon+'"></i></a> ';break;default:t+=' <a class="btn btn-sm '+u+'" data-edit="'+i.name+'" title="'+i.title+'"><i class="'+ace.vars.icon+i.icon+'"></i></a> '}}t+=" </div> ";var c;r.speech_button&&"onwebkitspeechchange"in(c=document.createElement("input"))&&(t+=' <input class="wysiwyg-speech-input" type="text" data-edit="inserttext" x-webkit-speech />'),c=null,t+=" </div> ",r.toolbar_place?t=r.toolbar_place.call(this,t):t=e(this).before(t).prev(),t.find("a[title]").tooltip({animation:!1,container:"body"}),t.find(".dropdown-menu input[type=text]").on("click",function(){return!1}).on("change",function(){e(this).closest(".dropdown-menu").siblings(".dropdown-toggle").dropdown("toggle")}).on("keydown",function(t){t.which==27?(this.value="",e(this).change()):t.which==13&&(t.preventDefault(),t.stopPropagation(),e(this).change())}),t.find("input[type=file]").prev().on(ace.click_event,function(t){e(this).next().click()}),t.find(".wysiwyg_colorpicker").each(function(){e(this).ace_colorpicker({pull_right:!0}).change(function(){e(this).nextAll("input").eq(0).val(this.value).change()}).next().find(".btn-colorpicker").tooltip({title:this.title,animation:!1,container:"body"})});var h=e(this),p=!1;t.find("a[data-view=source]").on("click",function(t){t.preventDefault();if(!p)e("<textarea />").css({width:h.outerWidth(),height:h.outerHeight()}).val(h.html()).insertAfter(h),h.hide(),e(this).addClass("active");else{var n=h.next();h.html(n.val()).show(),n.remove(),e(this).removeClass("active")}p=!p});var d=e.extend({},{activeToolbarClass:"active",toolbarSelector:t},r.wysiwyg||{});e(this).wysiwyg(d)}),this}}(window.jQuery),function(e,t){function n(t,n){var r=n.max;r=(""+r).length;var i=parseInt(Math.max(r*20+40,90)),s=e(t);s.addClass("spinner-input form-control").wrap('<div class="ace-spinner">');var o=s.closest(".ace-spinner").spinner(n).wrapInner("<div class='input-group'></div>"),u=o.data("spinner");n.on_sides?(s.before('<div class="spinner-buttons input-group-btn">					<button type="button" class="btn spinner-down btn-xs '+n.btn_down_class+'">						<i class="'+ace.vars.icon+n.icon_down+'"></i>					</button>				</div>').after('<div class="spinner-buttons input-group-btn">					<button type="button" class="btn spinner-up btn-xs '+n.btn_up_class+'">						<i class="'+ace.vars.icon+n.icon_up+'"></i>					</button>				</div>'),o.addClass("touch-spinner"),o.css("width",i+"px")):(s.after('<div class="spinner-buttons input-group-btn">					<button type="button" class="btn spinner-up btn-xs '+n.btn_up_class+'">						<i class="'+ace.vars.icon+n.icon_up+'"></i>					</button>					<button type="button" class="btn spinner-down btn-xs '+n.btn_down_class+'">						<i class="'+ace.vars.icon+n.icon_down+'"></i>					</button>				</div>'),ace.vars.touch||n.touch_spinner?(o.addClass("touch-spinner"),o.css("width",i+"px")):(s.next().addClass("btn-group-vertical"),o.css("width",i+"px"))),s.on("mousewheel.spinner DOMMouseScroll.spinner",function(e){var t=e.originalEvent.detail<0||e.originalEvent.wheelDelta>0?1:-1;return u.step(t>0),u.triggerChangedEvent(),!1}),o.on("changed",function(){s.trigger("change")}),this._call=function(e,t){u[e](t)}}e.fn.ace_spinner=function(r,i){var s,o=this.each(function(){var t=e(this),o=t.data("ace_spinner"),u=typeof r=="object"&&r;o||(u=e.extend({},e.fn.ace_spinner.defaults,r),t.data("ace_spinner",o=new n(this,u))),typeof r=="string"&&(s=o._call(r,i))});return s===t?o:s},e.fn.ace_spinner.defaults={icon_up:"fa fa-chevron-up",icon_down:"fa fa-chevron-down",on_sides:!1,btn_up_class:"",btn_down_class:"",max:999,touch_spinner:!1}}(window.jQuery),function(e,t){var n={"open-icon":ace.vars.icon+"fa fa-folder-open","close-icon":ace.vars.icon+"fa fa-folder",selectable:!0,"selected-icon":ace.vars.icon+"fa fa-check","unselected-icon":ace.vars.icon+"fa fa-times"};e.fn.ace_tree=function(t){return n=e.extend({},n,t),this.each(function(){var t=e(this);t.html('<div class="tree-folder" style="display:none;">				<div class="tree-folder-header">					<i class="'+ace.vars.icon+n["close-icon"]+'"></i>					<div class="tree-folder-name"></div>				</div>				<div class="tree-folder-content"></div>				<div class="tree-loader" style="display:none"></div>			</div>			<div class="tree-item" style="display:none;">				'+(n["unselected-icon"]==null?"":'<i class="'+ace.vars.icon+n["unselected-icon"]+'"></i>')+'				<div class="tree-item-name"></div>			</div>'),t.addClass(n["selectable"]==1?"tree-selectable":"tree-unselectable"),t.tree(n)}),this}}(window.jQuery),function(e,t){e.fn.ace_wizard=function(t){return this.each(function(){var n=e(this);n.wizard();var r=n.siblings(".wizard-actions").eq(0),i=n.data("wizard");i.$prevBtn.remove(),i.$nextBtn.remove(),i.$prevBtn=r.find(".btn-prev").eq(0).on(ace.click_event,function(){i.previous()}).attr("disabled","disabled"),i.$nextBtn=r.find(".btn-next").eq(0).on(ace.click_event,function(){i.next()}).removeAttr("disabled"),i.nextText=i.$nextBtn.text();var s=t&&(t.selectedItem&&t.selectedItem.step||t.step);s&&(i.currentStep=s,i.setState())}),this}}(window.jQuery),define("ace-element",["ace"],function(){}),function(e,t){function o(t){e.extend(!0,n,t)}function u(n,r,i){function M(e){d?H()&&(z(),q(e)):_()}function _(){v=r.theme?"ui":"fc",n.addClass("fc"),r.isRTL?n.addClass("fc-rtl"):n.addClass("fc-ltr"),r.theme&&n.addClass("ui-widget"),d=e("<div class='fc-content' style='position:relative'/>").prependTo(n),h=new a(o,r),p=h.render(),p&&n.prepend(p),j(r.defaultView),r.handleWindowResize&&e(window).resize(X),B()||D()}function D(){setTimeout(function(){!b.start&&B()&&I()},0)}function P(){b&&(gt("viewDestroy",b,b,b.element),b.triggerEventDestroy()),e(window).unbind("resize",X),h.destroy(),d.remove(),n.removeClass("fc fc-rtl ui-widget")}function H(){return n.is(":visible")}function B(){return e("body").is(":visible")}function j(e){(!b||e!=b.name)&&F(e)}function F(t){T++,b&&(gt("viewDestroy",b,b,b.element),it(),b.triggerEventDestroy(),pt(),b.element.remove(),h.deactivateButton(b.name)),h.activateButton(t),b=new s[t](e("<div class='fc-view fc-view-"+t+"' style='position:relative'/>").appendTo(d),o),I(),dt(),T--}function I(e){(!b.start||e||C<b.start||C>=b.end)&&H()&&q(e)}function q(e){T++,b.start&&(gt("viewDestroy",b,b,b.element),it(),Q()),pt(),b.render(C,e||0),W(),dt(),(b.afterRender||V)(),tt(),nt(),gt("viewRender",b,b,b.element),b.trigger("viewDisplay",l),T--,G()}function R(){H()&&(it(),Q(),z(),W(),K())}function z(){r.contentHeight?E=r.contentHeight:r.height?E=r.height-(p?p.height():0)-U(d):E=Math.round(d.width()/Math.max(r.aspectRatio,.5))}function W(){E===t&&z(),T++,b.setHeight(E),b.setWidth(d.width()),T--,w=n.outerWidth()}function X(){if(!T)if(b.start){var e=++x;setTimeout(function(){e==x&&!T&&H()&&w!=(w=n.outerWidth())&&(T++,R(),b.trigger("windowResize",l),T--)},200)}else D()}function $(){Q(),Y()}function J(e){Q(),K(e)}function K(e){H()&&(b.setEventData(k),b.renderEvents(k,e),b.trigger("eventAfterAllRender"))}function Q(){b.triggerEventDestroy(),b.clearEvents(),b.clearEventData()}function G(){!r.lazyFetching||u(b.visStart,b.visEnd)?Y():K()}function Y(){f(b.visStart,b.visEnd)}function Z(e){k=e,K()}function et(e){J(e)}function tt(){h.updateTitle(b.title)}function nt(){var e=new Date;e>=b.start&&e<b.end?h.disableButton("today"):h.enableButton("today")}function rt(e,n,r){b.select(e,n,r===t?!0:r)}function it(){b&&b.unselect()}function st(){I(-1)}function ot(){I(1)}function ut(){m(C,-1),I()}function at(){m(C,1),I()}function ft(){C=new Date,I()}function lt(e,t,n){e instanceof Date?C=S(e):N(C,e,t,n),I()}function ct(e,n,r){e!==t&&m(C,e),n!==t&&g(C,n),r!==t&&y(C,r),I()}function ht(){return S(C)}function pt(){d.css({width:"100%",height:d.height(),overflow:"hidden"})}function dt(){d.css({width:"",height:"",overflow:""})}function vt(){return b}function mt(e,n){if(n===t)return r[e];if(e=="height"||e=="contentHeight"||e=="aspectRatio")r[e]=n,R()}function gt(e,t){if(r[e])return r[e].apply(t||l,Array.prototype.slice.call(arguments,2))}var o=this;o.options=r,o.render=M,o.destroy=P,o.refetchEvents=$,o.reportEvents=Z,o.reportEventChange=et,o.rerenderEvents=J,o.changeView=j,o.select=rt,o.unselect=it,o.prev=st,o.next=ot,o.prevYear=ut,o.nextYear=at,o.today=ft,o.gotoDate=lt,o.incrementDate=ct,o.formatDate=function(e,t){return A(e,t,r)},o.formatDates=function(e,t,n){return O(e,t,n,r)},o.getDate=ht,o.getView=vt,o.option=mt,o.trigger=gt,c.call(o,r,i);var u=o.isFetchNeeded,f=o.fetchEvents,l=n[0],h,p,d,v,b,w,E,x=0,T=0,C=new Date,k=[],L;N(C,r.year,r.month,r.date),r.droppable&&e(document).bind("dragstart",function(t,n){var i=t.target,s=e(i);if(!s.parents(".fc").length){var o=r.dropAccept;if(e.isFunction(o)?o.call(i,s):s.is(o))L=i,b.dragStart(L,t,n)}}).bind("dragstop",function(e,t){L&&(b.dragStop(L,e,t),L=null)})}function a(t,n){function u(){o=n.theme?"ui":"fc";var t=n.header;if(t)return i=e("<table class='fc-header' style='width:100%'/>").append(e("<tr/>").append(f("left")).append(f("center")).append(f("right"))),i}function a(){i.remove()}function f(r){var i=e("<td class='fc-header-"+r+"'/>"),u=n.header[r];return u&&e.each(u.split(" "),function(r){r>0&&i.append("<span class='fc-header-space'/>");var u;e.each(this.split(","),function(r,a){if(a=="title")i.append("<span class='fc-header-title'><h2>&nbsp;</h2></span>"),u&&u.addClass(o+"-corner-right"),u=null;else{var f;t[a]?f=t[a]:s[a]&&(f=function(){h.removeClass(o+"-state-hover"),t.changeView(a)});if(f){var l=n.theme?Q(n.buttonIcons,a):null,c=Q(n.buttonText,a),h=e("<span class='fc-button fc-button-"+a+" "+o+"-state-default'>"+(l?"<span class='fc-icon-wrap'><span class='ui-icon ui-icon-"+l+"'/>"+"</span>":c)+"</span>").click(function(){h.hasClass(o+"-state-disabled")||f()}).mousedown(function(){h.not("."+o+"-state-active").not("."+o+"-state-disabled").addClass(o+"-state-down")}).mouseup(function(){h.removeClass(o+"-state-down")}).hover(function(){h.not("."+o+"-state-active").not("."+o+"-state-disabled").addClass(o+"-state-hover")},function(){h.removeClass(o+"-state-hover").removeClass(o+"-state-down")}).appendTo(i);Y(h),u||h.addClass(o+"-corner-left"),u=h}}}),u&&u.addClass(o+"-corner-right")}),i}function l(e){i.find("h2").html(e)}function c(e){i.find("span.fc-button-"+e).addClass(o+"-state-active")}function h(e){i.find("span.fc-button-"+e).removeClass(o+"-state-active")}function p(e){i.find("span.fc-button-"+e).addClass(o+"-state-disabled")}function d(e){i.find("span.fc-button-"+e).removeClass(o+"-state-disabled")}var r=this;r.render=u,r.destroy=a,r.updateTitle=l,r.activateButton=c,r.deactivateButton=h,r.disableButton=p,r.enableButton=d;var i=e([]),o}function c(n,r){function w(e,t){return!p||e<p||t>d}function E(e,t){p=e,d=t,y=[];var n=++v,r=h.length;m=r;for(var i=0;i<r;i++)x(h[i],n)}function x(t,r){T(t,function(i){if(r==v){if(i){n.eventDataTransform&&(i=e.map(i,n.eventDataTransform)),t.eventDataTransform&&(i=e.map(i,t.eventDataTransform));for(var s=0;s<i.length;s++)i[s].source=t,H(i[s]);y=y.concat(i)}m--,m||a(y)}})}function T(t,r){var s,o=i.sourceFetchers,u;for(s=0;s<o.length;s++){u=o[s](t,p,d,r);if(u===!0)return;if(typeof u=="object"){T(u,r);return}}var a=t.events;if(a)e.isFunction(a)?(D(),a(S(p),S(d),function(e){r(e),P()})):e.isArray(a)?r(a):r();else{var l=t.url;if(l){var c=t.success,h=t.error,v=t.complete,m;e.isFunction(t.data)?m=t.data():m=t.data;var g=e.extend({},m||{}),y=rt(t.startParam,n.startParam),b=rt(t.endParam,n.endParam);y&&(g[y]=Math.round(+p/1e3)),b&&(g[b]=Math.round(+d/1e3)),D(),e.ajax(e.extend({},f,t,{data:g,success:function(t){t=t||[];var n=nt(c,this,arguments);e.isArray(n)&&(t=n),r(t)},error:function(){nt(h,this,arguments),r()},complete:function(){nt(v,this,arguments),P()}}))}else r()}}function N(e){e=k(e),e&&(m++,x(e,v))}function k(t){e.isFunction(t)||e.isArray(t)?t={events:t}:typeof t=="string"&&(t={url:t});if(typeof t=="object")return B(t),h.push(t),t}function L(t){h=e.grep(h,function(e){return!j(e,t)}),y=e.grep(y,function(e){return!j(e.source,t)}),a(y)}function A(e){var t,n=y.length,r,i=u().defaultEventEnd,s=e.start-e._start,o=e.end?e.end-(e._end||i(e)):0;for(t=0;t<n;t++)r=y[t],r._id==e._id&&r!=e&&(r.start=new Date(+r.start+s),e.end?r.end?r.end=new Date(+r.end+o):r.end=new Date(+i(r)+o):r.end=null,r.title=e.title,r.url=e.url,r.allDay=e.allDay,r.className=e.className,r.editable=e.editable,r.color=e.color,r.backgroundColor=e.backgroundColor,r.borderColor=e.borderColor,r.textColor=e.textColor,H(r));H(e),a(y)}function O(e,t){H(e),e.source||(t&&(c.events.push(e),e.source=c),y.push(e)),a(y)}function M(t){if(!t){y=[];for(var n=0;n<h.length;n++)e.isArray(h[n].events)&&(h[n].events=[])}else{if(!e.isFunction(t)){var r=t+"";t=function(e){return e._id==r}}y=e.grep(y,t,!0);for(var n=0;n<h.length;n++)e.isArray(h[n].events)&&(h[n].events=e.grep(h[n].events,t,!0))}a(y)}function _(t){return e.isFunction(t)?e.grep(y,t):t?(t+="",e.grep(y,function(e){return e._id==t})):y}function D(){g++||o("loading",null,!0,u())}function P(){--g||o("loading",null,!1,u())}function H(e){var r=e.source||{},i=rt(r.ignoreTimezone,n.ignoreTimezone);e._id=e._id||(e.id===t?"_fc"+l++:e.id+""),e.date&&(e.start||(e.start=e.date),delete e.date),e._start=S(e.start=C(e.start,i)),e.end=C(e.end,i),e.end&&e.end<=e.start&&(e.end=null),e._end=e.end?S(e.end):null,e.allDay===t&&(e.allDay=rt(r.allDayDefault,n.allDayDefault)),e.className?typeof e.className=="string"&&(e.className=e.className.split(/\s+/)):e.className=[]}function B(e){e.className?typeof e.className=="string"&&(e.className=e.className.split(/\s+/)):e.className=[];var t=i.sourceNormalizers;for(var n=0;n<t.length;n++)t[n](e)}function j(e,t){return e&&t&&F(e)==F(t)}function F(e){return(typeof e=="object"?e.events||e.url:"")||e}var s=this;s.isFetchNeeded=w,s.fetchEvents=E,s.addEventSource=N,s.removeEventSource=L,s.updateEvent=A,s.renderEvent=O,s.removeEvents=M,s.clientEvents=_,s.normalizeEvent=H;var o=s.trigger,u=s.getView,a=s.reportEvents,c={events:[]},h=[c],p,d,v=0,m=0,g=0,y=[];for(var b=0;b<r.length;b++)k(r[b])}function m(e,t,n){return e.setFullYear(e.getFullYear()+t),n||E(e),e}function g(e,t,n){if(+e){var r=e.getMonth()+t,i=S(e);i.setDate(1),i.setMonth(r),e.setMonth(r),n||E(e);while(e.getMonth()!=i.getMonth())e.setDate(e.getDate()+(e<i?1:-1))}return e}function y(e,t,n){if(+e){var r=e.getDate()+t,i=S(e);i.setHours(9),i.setDate(r),e.setDate(r),n||E(e),b(e,i)}return e}function b(e,t){if(+e)while(e.getDate()!=t.getDate())e.setTime(+e+(e<t?1:-1)*d)}function w(e,t){return e.setMinutes(e.getMinutes()+t),e}function E(e){return e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0),e}function S(e,t){return t?E(new Date(+e)):new Date(+e)}function x(){var e=0,t;do t=new Date(1970,e++,1);while(t.getHours());return t}function T(e,t){return Math.round((S(e,!0)-S(t,!0))/p)}function N(e,n,r,i){n!==t&&n!=e.getFullYear()&&(e.setDate(1),e.setMonth(0),e.setFullYear(n)),r!==t&&r!=e.getMonth()&&(e.setDate(1),e.setMonth(r)),i!==t&&e.setDate(i)}function C(e,n){return typeof e=="object"?e:typeof e=="number"?new Date(e*1e3):typeof e=="string"?e.match(/^\d+(\.\d+)?$/)?new Date(parseFloat(e)*1e3):(n===t&&(n=!0),k(e,n)||(e?new Date(e):null)):null}function k(e,t){var n=e.match(/^([0-9]{4})(-([0-9]{2})(-([0-9]{2})([T ]([0-9]{2}):([0-9]{2})(:([0-9]{2})(\.([0-9]+))?)?(Z|(([-+])([0-9]{2})(:?([0-9]{2}))?))?)?)?)?$/);if(!n)return null;var r=new Date(n[1],0,1);if(t||!n[13]){var i=new Date(n[1],0,1,9,0);n[3]&&(r.setMonth(n[3]-1),i.setMonth(n[3]-1)),n[5]&&(r.setDate(n[5]),i.setDate(n[5])),b(r,i),n[7]&&r.setHours(n[7]),n[8]&&r.setMinutes(n[8]),n[10]&&r.setSeconds(n[10]),n[12]&&r.setMilliseconds(Number("0."+n[12])*1e3),b(r,i)}else{r.setUTCFullYear(n[1],n[3]?n[3]-1:0,n[5]||1),r.setUTCHours(n[7]||0,n[8]||0,n[10]||0,n[12]?Number("0."+n[12])*1e3:0);if(n[14]){var s=Number(n[16])*60+(n[18]?Number(n[18]):0);s*=n[15]=="-"?1:-1,r=new Date(+r+s*60*1e3)}}return r}function L(e){if(typeof e=="number")return e*60;if(typeof e=="object")return e.getHours()*60+e.getMinutes();var t=e.match(/(\d+)(?::(\d+))?\s*(\w+)?/);if(t){var n=parseInt(t[1],10);return t[3]&&(n%=12,t[3].toLowerCase().charAt(0)=="p"&&(n+=12)),n*60+(t[2]?parseInt(t[2],10):0)}}function A(e,t,n){return O(e,null,t,n)}function O(e,t,r,i){i=i||n;var s=e,o=t,u,a=r.length,f,l,c,h="";for(u=0;u<a;u++){f=r.charAt(u);if(f=="'"){for(l=u+1;l<a;l++)if(r.charAt(l)=="'"){s&&(l==u+1?h+="'":h+=r.substring(u+1,l),u=l);break}}else if(f=="("){for(l=u+1;l<a;l++)if(r.charAt(l)==")"){var p=A(s,r.substring(u+1,l),i);parseInt(p.replace(/\D/,""),10)&&(h+=p),u=l;break}}else if(f=="["){for(l=u+1;l<a;l++)if(r.charAt(l)=="]"){var d=r.substring(u+1,l),p=A(s,d,i);p!=A(o,d,i)&&(h+=p),u=l;break}}else if(f=="{")s=t,o=e;else if(f=="}")s=e,o=t;else{for(l=a;l>u;l--)if(c=M[r.substring(u,l)]){s&&(h+=c(s,i)),u=l-1;break}l==u&&s&&(h+=f)}}return h}function _(e){var t,n=new Date(e.getTime());return n.setDate(n.getDate()+4-(n.getDay()||7)),t=n.getTime(),n.setMonth(0),n.setDate(1),Math.floor(Math.round((t-n)/864e5)/7)+1}function D(e){return e.end?P(e.end,e.allDay):y(S(e.start),1)}function P(e,t){return e=S(e),t||e.getHours()||e.getMinutes()?y(e,1):E(e)}function H(n,r,i){n.unbind("mouseover").mouseover(function(n){var s=n.target,o,u,a;while(s!=this)o=s,s=s.parentNode;(u=o._fci)!==t&&(o._fci=t,a=r[u],i(a.event,a.element,a),e(n.target).trigger(n)),n.stopPropagation()})}function B(t,n,r){for(var i=0,s;i<t.length;i++)s=e(t[i]),s.width(Math.max(0,n-F(s,r)))}function j(t,n,r){for(var i=0,s;i<t.length;i++)s=e(t[i]),s.height(Math.max(0,n-U(s,r)))}function F(e,t){return I(e)+R(e)+(t?q(e):0)}function I(t){return(parseFloat(e.css(t[0],"paddingLeft",!0))||0)+(parseFloat(e.css(t[0],"paddingRight",!0))||0)}function q(t){return(parseFloat(e.css(t[0],"marginLeft",!0))||0)+(parseFloat(e.css(t[0],"marginRight",!0))||0)}function R(t){return(parseFloat(e.css(t[0],"borderLeftWidth",!0))||0)+(parseFloat(e.css(t[0],"borderRightWidth",!0))||0)}function U(e,t){return z(e)+X(e)+(t?W(e):0)}function z(t){return(parseFloat(e.css(t[0],"paddingTop",!0))||0)+(parseFloat(e.css(t[0],"paddingBottom",!0))||0)}function W(t){return(parseFloat(e.css(t[0],"marginTop",!0))||0)+(parseFloat(e.css(t[0],"marginBottom",!0))||0)}function X(t){return(parseFloat(e.css(t[0],"borderTopWidth",!0))||0)+(parseFloat(e.css(t[0],"borderBottomWidth",!0))||0)}function V(){}function $(e,t){return e-t}function J(e){return Math.max.apply(Math,e)}function K(e){return(e<10?"0":"")+e}function Q(e,n){if(e[n]!==t)return e[n];var r=n.split(/(?=[A-Z])/),i=r.length-1,s;for(;i>=0;i--){s=e[r[i].toLowerCase()];if(s!==t)return s}return e[""]}function G(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#039;").replace(/"/g,"&quot;").replace(/\n/g,"<br />")}function Y(e){e.attr("unselectable","on").css("MozUserSelect","none").bind("selectstart.ui",function(){return!1})}function Z(e){e.children().removeClass("fc-first fc-last").filter(":first-child").addClass("fc-first").end().filter(":last-child").addClass("fc-last")}function et(e,t){e.each(function(e,n){n.className=n.className.replace(/^fc-\w*/,"fc-"+h[t.getDay()])})}function tt(e,t){var n=e.source||{},r=e.color,i=n.color,s=t("eventColor"),o=e.backgroundColor||r||n.backgroundColor||i||t("eventBackgroundColor")||s,u=e.borderColor||r||n.borderColor||i||t("eventBorderColor")||s,a=e.textColor||n.textColor||t("eventTextColor"),f=[];return o&&f.push("background-color:"+o),u&&f.push("border-color:"+u),a&&f.push("color:"+a),f.join(";")}function nt(t,n,r){e.isFunction(t)&&(t=[t]);if(t){var i,s;for(i=0;i<t.length;i++)s=t[i].apply(n,r)||s;return s}}function rt(){for(var e=0;e<arguments.length;e++)if(arguments[e]!==t)return arguments[e]}function it(e,t){function a(e,t){t&&(g(e,t),e.setDate(1));var a=r("firstDay"),f=S(e,!0);f.setDate(1);var l=g(S(f),1),c=S(f);y(c,-((c.getDay()-a+7)%7)),s(c);var h=S(l);y(h,(7-h.getDay()+a)%7),s(h,-1,!0);var p=o(),d=Math.round(T(h,c)/7);r("weekMode")=="fixed"&&(y(h,(6-d)*7),d=6),n.title=u(f,r("titleFormat")),n.start=f,n.end=l,n.visStart=c,n.visEnd=h,i(d,p,!0)}var n=this;n.render=a,ut.call(n,e,t,"month");var r=n.opt,i=n.renderBasic,s=n.skipHiddenDays,o=n.getCellsPerWeek,u=t.formatDate}function st(e,t){function a(e,t){t&&y(e,t*7);var a=y(S(e),-((e.getDay()-r("firstDay")+7)%7)),f=y(S(a),7),l=S(a);s(l);var c=S(f);s(c,-1,!0);var h=o();n.start=a,n.end=f,n.visStart=l,n.visEnd=c,n.title=u(l,y(S(c),-1),r("titleFormat")),i(1,h,!1)}var n=this;n.render=a,ut.call(n,e,t,"basicWeek");var r=n.opt,i=n.renderBasic,s=n.skipHiddenDays,o=n.getCellsPerWeek,u=t.formatDates}function ot(e,t){function u(e,t){t&&y(e,t),s(e,t<0?-1:1);var u=S(e,!0),a=y(S(u),1);n.title=o(e,r("titleFormat")),n.start=n.visStart=u,n.end=n.visEnd=a,i(1,1,!1)}var n=this;n.render=u,ut.call(n,e,t,"basicDay");var r=n.opt,i=n.renderBasic,s=n.skipHiddenDays,o=t.formatDate}function ut(t,n,r){function $(e,t,n){D=e,P=t,H=n,J(),b||K(),Q()}function J(){R=s("theme")?"ui":"fc",z=s("columnFormat"),W=s("weekNumbers"),X=s("weekNumberTitle"),s("weekNumberCalculation")!="iso"?V="w":V="W"}function K(){L=e("<div class='fc-event-container' style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(t)}function Q(){var n=et();v&&v.remove(),v=e(n).appendTo(t),m=v.find("thead"),g=m.find(".fc-day-header"),b=v.find("tbody"),w=b.find("tr"),x=b.find(".fc-day"),T=w.find("td:first-child"),N=w.eq(0).find(".fc-day > div"),C=w.eq(0).find(".fc-day-content > div"),Z(m.add(m.find("tr"))),Z(w),w.eq(0).addClass("fc-first"),w.filter(":last").addClass("fc-last"),x.each(function(t,n){var r=l(Math.floor(t/P),t%P);o("dayRender",i,r,e(n))}),ot(x)}function et(){var e="<table class='fc-border-separate' style='width:100%' cellspacing='0'>"+tt()+nt()+"</table>";return e}function tt(){var e=R+"-widget-header",t="",n,r;t+="<thead><tr>",W&&(t+="<th class='fc-week-number "+e+"'>"+G(X)+"</th>");for(n=0;n<P;n++)r=l(0,n),t+="<th class='fc-day-header fc-"+h[r.getDay()]+" "+e+"'>"+G(d(r,z))+"</th>";return t+="</tr></thead>",t}function nt(){var e=R+"-widget-content",t="",n,r,i;t+="<tbody>";for(n=0;n<D;n++){t+="<tr class='fc-week'>",W&&(i=l(n,0),t+="<td class='fc-week-number "+e+"'>"+"<div>"+G(d(i,V))+"</div>"+"</td>");for(r=0;r<P;r++)i=l(n,r),t+=rt(i);t+="</tr>"}return t+="</tbody>",t}function rt(e){var t=R+"-widget-content",n=i.start.getMonth(),r=E(new Date),s="",o=["fc-day","fc-"+h[e.getDay()],t];return e.getMonth()!=n&&o.push("fc-other-month"),+e==+r?o.push("fc-today",R+"-state-highlight"):e<r?o.push("fc-past"):o.push("fc-future"),s+="<td class='"+o.join(" ")+"'"+" data-date='"+d(e,"yyyy-MM-dd")+"'"+">"+"<div>",H&&(s+="<div class='fc-day-number'>"+e.getDate()+"</div>"),s+="<div class='fc-day-content'><div style='position:relative'>&nbsp;</div></div></div></td>",s}function it(t){O=t;var n=O-m.height(),r,i,o;s("weekMode")=="variable"?r=i=Math.floor(n/(D==1?2:6)):(r=Math.floor(n/D),i=n-r*(D-1)),T.each(function(t,n){t<D&&(o=e(n),o.find("> div").css("min-height",(t==D-1?i:r)-U(o)))})}function st(e){A=e,I.clear(),q.clear(),_=0,W&&(_=m.find("th.fc-week-number").outerWidth()),M=Math.floor((A-_)/P),B(g.slice(0,-1),M)}function ot(e){e.click(ut).mousedown(f)}function ut(t){if(!s("selectable")){var n=k(e(this).data("date"));o("dayClick",this,n,!0,t)}}function ft(e,t,n){n&&j.build();var r=p(e,t);for(var i=0;i<r.length;i++){var s=r[i];ot(lt(s.row,s.leftCol,s.row,s.rightCol))}}function lt(e,n,r,i){var s=j.rect(e,n,r,i,t);return u(s,t)}function ct(e,t){return S(e)}function ht(e,t,n){ft(e,y(S(t),1),!0)}function pt(){a()}function dt(e,t,n){var r=c(e),i=x[r.row*P+r.col];o("dayClick",i,e,t,n)}function vt(e,t,n){F.start(function(e){a(),e&&lt(e.row,e.col,e.row,e.col)},t)}function mt(e,t,n){var r=F.stop();a();if(r){var i=l(r);o("drop",e,i,!0,t,n)}}function gt(e){return S(e.start)}function yt(e){return I.left(e)}function bt(e){return I.right(e)}function wt(e){return q.left(e)}function Et(e){return q.right(e)}function St(e){return w.eq(e)}var i=this;i.renderBasic=$,i.setHeight=it,i.setWidth=st,i.renderDayOverlay=ft,i.defaultSelectionEnd=ct,i.renderSelection=ht,i.clearSelection=pt,i.reportDayClick=dt,i.dragStart=vt,i.dragStop=mt,i.defaultEventEnd=gt,i.getHoverListener=function(){return F},i.colLeft=yt,i.colRight=bt,i.colContentLeft=wt,i.colContentRight=Et,i.getIsCellAllDay=function(){return!0},i.allDayRow=St,i.getRowCnt=function(){return D},i.getColCnt=function(){return P},i.getColWidth=function(){return M},i.getDaySegmentContainer=function(){return L},xt.call(i,t,n,r),At.call(i),Lt.call(i),at.call(i);var s=i.opt,o=i.trigger,u=i.renderOverlay,a=i.clearOverlays,f=i.daySelectionMousedown,l=i.cellToDate,c=i.dateToCell,p=i.rangeToSegments,d=n.formatDate,v,m,g,b,w,x,T,N,C,L,A,O,M,_,D,P,H,j,F,I,q,R,z,W,X,V;Y(t.addClass("fc-grid")),j=new Ot(function(t,n){var r,i,s;g.each(function(t,o){r=e(o),i=r.offset().left,t&&(s[1]=i),s=[i],n[t]=s}),s[1]=i+r.outerWidth(),w.each(function(n,o){n<D&&(r=e(o),i=r.offset().top,n&&(s[1]=i),s=[i],t[n]=s)}),s[1]=i+r.outerHeight()}),F=new Mt(j),I=new Dt(function(e){return N.eq(e)}),q=new Dt(function(e){return C.eq(e)})}function at(){function t(t,n){e.renderDayEvents(t,n)}function n(){e.getDaySegmentContainer().empty()}var e=this;e.renderEvents=t,e.clearEvents=n,Tt.call(e)}function ft(e,t){function a(e,t){t&&y(e,t*7);var a=y(S(e),-((e.getDay()-r("firstDay")+7)%7)),f=y(S(a),7),l=S(a);s(l);var c=S(f);s(c,-1,!0);var h=o();n.title=u(l,y(S(c),-1),r("titleFormat")),n.start=a,n.end=f,n.visStart=l,n.visEnd=c,i(h)}var n=this;n.render=a,ct.call(n,e,t,"agendaWeek");var r=n.opt,i=n.renderAgenda,s=n.skipHiddenDays,o=n.getCellsPerWeek,u=t.formatDates}function lt(e,t){function u(e,t){t&&y(e,t),s(e,t<0?-1:1);var u=S(e,!0),a=y(S(u),1);n.title=o(e,r("titleFormat")),n.start=n.visStart=u,n.end=n.visEnd=a,i(1)}var n=this;n.render=u,ct.call(n,e,t,"agendaDay");var r=n.opt,i=n.renderAgenda,s=n.skipHiddenDays,o=t.formatDate}function ct(n,r,i){function Et(e){st=e,St(),T?Nt():Tt()}function St(){pt=o("theme")?"ui":"fc",dt=o("isRTL"),vt=L(o("minTime")),mt=L(o("maxTime")),gt=o("columnFormat"),yt=o("weekNumbers"),bt=o("weekNumberTitle"),o("weekNumberCalculation")!="iso"?wt="w":wt="W",nt=o("snapMinutes")||o("slotMinutes")}function Tt(){var t=pt+"-widget-header",r=pt+"-widget-content",i,s,u,a,f,l=o("slotMinutes")%15==0;Nt(),P=e("<div style='position:absolute;z-index:2;left:0;width:100%'/>").appendTo(n),o("allDaySlot")?(H=e("<div class='fc-event-container' style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(P),i="<table style='width:100%' class='fc-agenda-allday' cellspacing='0'><tr><th class='"+t+" fc-agenda-axis'>"+o("allDayText")+"</th>"+"<td>"+"<div class='fc-day-content'><div style='position:relative'/></div>"+"</td>"+"<th class='"+t+" fc-agenda-gutter'>&nbsp;</th>"+"</tr>"+"</table>",F=e(i).appendTo(P),I=F.find("tr"),Ft(I.find("td")),P.append("<div class='fc-agenda-divider "+t+"'>"+"<div class='fc-agenda-divider-inner'/>"+"</div>")):H=e([]),q=e("<div style='position:absolute;width:100%;overflow-x:hidden;overflow-y:auto'/>").appendTo(P),R=e("<div style='position:relative;width:100%;overflow:hidden'/>").appendTo(q),z=e("<div class='fc-event-container' style='position:absolute;z-index:8;top:0;left:0'/>").appendTo(R),i="<table class='fc-agenda-slots' style='width:100%' cellspacing='0'><tbody>",s=x(),a=w(S(s),mt),w(s,vt),ot=0;for(u=0;s<a;u++)f=s.getMinutes(),i+="<tr class='fc-slot"+u+" "+(f?"fc-minor":"")+"'>"+"<th class='fc-agenda-axis "+t+"'>"+(!l||!f?b(s,o("axisFormat")):"&nbsp;")+"</th>"+"<td class='"+r+"'>"+"<div style='position:relative'>&nbsp;</div>"+"</td>"+"</tr>",w(s,o("slotMinutes")),ot++;i+="</tbody></table>",W=e(i).appendTo(R),It(W.find("td"))}function Nt(){var t=Ct();T&&T.remove(),T=e(t).appendTo(n),N=T.find("thead"),C=N.find("th").slice(1,-1),k=T.find("tbody"),A=k.find("td").slice(0,-1),O=A.find("> div"),M=A.find(".fc-day-content > div"),_=A.eq(0),D=O.eq(0),Z(N.add(N.find("tr"))),Z(k.add(k.find("tr")))}function Ct(){var e="<table style='width:100%' class='fc-agenda-days fc-border-separate' cellspacing='0'>"+kt()+_t()+"</table>";return e}function kt(){var e=pt+"-widget-header",t,n="",r,i;n+="<thead><tr>",yt?(t=v(0,0),r=b(t,wt),dt?r+=bt:r=bt+r,n+="<th class='fc-agenda-axis fc-week-number "+e+"'>"+G(r)+"</th>"):n+="<th class='fc-agenda-axis "+e+"'>&nbsp;</th>";for(i=0;i<st;i++)t=v(0,i),n+="<th class='fc-"+h[t.getDay()]+" fc-col"+i+" "+e+"'>"+G(b(t,gt))+"</th>";return n+="<th class='fc-agenda-gutter "+e+"'>&nbsp;</th>"+"</tr>"+"</thead>",n}function _t(){var e=pt+"-widget-header",t=pt+"-widget-content",n,r=E(new Date),i,s,o,u,a="";a+="<tbody><tr><th class='fc-agenda-axis "+e+"'>&nbsp;</th>",s="";for(i=0;i<st;i++)n=v(0,i),u=["fc-col"+i,"fc-"+h[n.getDay()],t],+n==+r?u.push(pt+"-state-highlight","fc-today"):n<r?u.push("fc-past"):u.push("fc-future"),o="<td class='"+u.join(" ")+"'>"+"<div>"+"<div class='fc-day-content'>"+"<div style='position:relative'>&nbsp;</div>"+"</div>"+"</div>"+"</td>",s+=o;return a+=s,a+="<td class='fc-agenda-gutter "+t+"'>&nbsp;</td>"+"</tr>"+"</tbody>",a}function Pt(e){e===t&&(e=J),J=e,ct={};var n=k.position().top,r=q.position().top,i=Math.min(e-n,W.height()+r+1);D.height(i-U(_)),P.css("top",n),q.height(i-r-1),tt=W.find("tr:first").height()+1,rt=o("slotMinutes")/nt,it=tt/rt}function Ht(t){V=t,ft.clear(),lt.clear();var n=N.find("th:first");F&&(n=n.add(F.find("th:first"))),n=n.add(W.find("th:first")),K=0,B(n.width("").each(function(t,n){K=Math.max(K,e(n).outerWidth())}),K);var r=T.find(".fc-agenda-gutter");F&&(r=r.add(F.find("th.fc-agenda-gutter")));var i=q[0].clientWidth;et=q.width()-i,et?(B(r,et),r.show().prev().removeClass("fc-last")):r.hide().prev().addClass("fc-last"),Q=Math.floor((i-K)/st),B(C.slice(0,-1),Q)}function Bt(){function r(){q.scrollTop(n)}var e=x(),t=S(e);t.setHours(o("firstHour"));var n=Qt(e,t)+1;r(),setTimeout(r,0)}function jt(){Bt()}function Ft(e){e.click(qt).mousedown(p)}function It(e){e.click(qt).mousedown(rn)}function qt(e){if(!o("selectable")){var t=Math.min(st-1,Math.floor((e.pageX-T.offset().left-K)/Q)),n=v(0,t),r=this.parentNode.className.match(/fc-slot(\d+)/);if(r){var i=parseInt(r[1])*o("slotMinutes"),s=Math.floor(i/60);n.setHours(s),n.setMinutes(i%60+vt),u("dayClick",A[t],n,!1,e)}else u("dayClick",A[t],n,!0,e)}}function Rt(e,t,n){n&&ut.build();var r=g(e,t);for(var i=0;i<r.length;i++){var s=r[i];Ft(Ut(s.row,s.leftCol,s.row,s.rightCol))}}function Ut(e,t,n,r){var i=ut.rect(e,t,n,r,P);return a(i,P)}function zt(e,t){for(var n=0;n<st;n++){var r=v(0,n),i=y(S(r),1),s=new Date(Math.max(r,e)),o=new Date(Math.min(i,t));if(s<o){var u=ut.rect(0,n,0,n,R),f=Qt(r,s),l=Qt(r,o);u.top=f,u.height=l-f,It(a(u,R))}}}function Wt(e){return ft.left(e)}function Xt(e){return lt.left(e)}function Vt(e){return ft.right(e)}function $t(e){return lt.right(e)}function Jt(e){return o("allDaySlot")&&!e.row}function Kt(e){var t=v(0,e.col),n=e.row;return o("allDaySlot")&&n--,n>=0&&w(t,vt+n*nt),t}function Qt(e,n){e=S(e,!0);if(n<w(S(e),vt))return 0;if(n>=w(S(e),mt))return W.height();var r=o("slotMinutes"),i=n.getHours()*60+n.getMinutes()-vt,s=Math.floor(i/r),u=ct[s];return u===t&&(u=ct[s]=W.find("tr").eq(s).find("td div")[0].offsetTop),Math.max(0,Math.round(u-1+tt*(i%r/r)))}function Gt(e){return I}function Yt(e){var t=S(e.start);return e.allDay?t:w(t,o("defaultEventMinutes"))}function Zt(e,t){return t?S(e):w(S(e),o("slotMinutes"))}function en(e,t,n){n?o("allDaySlot")&&Rt(e,y(S(t),1),!0):tn(e,t)}function tn(t,n){var r=o("selectHelper");ut.build();if(r){var i=m(t).col;if(i>=0&&i<st){var s=ut.rect(0,i,0,i,R),u=Qt(t,t),a=Qt(t,n);if(a>u){s.top=u,s.height=a-u,s.left+=2,s.width-=5;if(e.isFunction(r)){var f=r(t,n);f&&(s.position="absolute",X=e(f).css(s).appendTo(R))}else s.isStart=!0,s.isEnd=!0,X=e(d({title:"",start:t,end:n,className:["fc-select-helper"],editable:!1},s)),X.css("opacity",o("dragOpacity"));X&&(It(X),R.append(X),B(X,s.width,!0),j(X,s.height,!0))}}}else zt(t,n)}function nn(){f(),X&&(X.remove(),X=null)}function rn(t){if(t.which==1&&o("selectable")){c(t);var n;at.start(function(e,t){nn();if(e&&e.col==t.col&&!Jt(e)){var r=Kt(t),i=Kt(e);n=[r,w(S(r),nt),i,w(S(i),nt)].sort($),tn(n[0],n[3])}else n=null},t),e(document).one("mouseup",function(e){at.stop(),n&&(+n[0]==+n[1]&&sn(n[0],!1,e),l(n[0],n[3],!1,e))})}}function sn(e,t,n){u("dayClick",A[m(e).col],e,t,n)}function on(e,t,n){at.start(function(e){f();if(e)if(Jt(e))Ut(e.row,e.col,e.row,e.col);else{var t=Kt(e),n=w(S(t),o("defaultEventMinutes"));zt(t,n)}},t)}function un(e,t,n){var r=at.stop();f(),r&&u("drop",e,Kt(r),Jt(r),t,n)}var s=this;s.renderAgenda=Et,s.setWidth=Ht,s.setHeight=Pt,s.afterRender=jt,s.defaultEventEnd=Yt,s.timePosition=Qt,s.getIsCellAllDay=Jt,s.allDayRow=Gt,s.getCoordinateGrid=function(){return ut},s.getHoverListener=function(){return at},s.colLeft=Wt,s.colRight=Vt,s.colContentLeft=Xt,s.colContentRight=$t,s.getDaySegmentContainer=function(){return H},s.getSlotSegmentContainer=function(){return z},s.getMinMinute=function(){return vt},s.getMaxMinute=function(){return mt},s.getSlotContainer=function(){return R},s.getRowCnt=function(){return 1},s.getColCnt=function(){return st},s.getColWidth=function(){return Q},s.getSnapHeight=function(){return it},s.getSnapMinutes=function(){return nt},s.defaultSelectionEnd=Zt,s.renderDayOverlay=Rt,s.renderSelection=en,s.clearSelection=nn,s.reportDayClick=sn,s.dragStart=on,s.dragStop=un,xt.call(s,n,r,i),At.call(s),Lt.call(s),ht.call(s);var o=s.opt,u=s.trigger,a=s.renderOverlay,f=s.clearOverlays,l=s.reportSelection,c=s.unselect,p=s.daySelectionMousedown,d=s.slotSegHtml,v=s.cellToDate,m=s.dateToCell,g=s.rangeToSegments,b=r.formatDate,T,N,C,k,A,O,M,_,D,P,H,F,I,q,R,z,W,X,V,J,K,Q,et,tt,nt,rt,it,st,ot,ut,at,ft,lt,ct={},pt,dt,vt,mt,gt,yt,bt,wt;Y(n.addClass("fc-agenda")),ut=new Ot(function(t,n){function l(e){return Math.max(a,Math.min(f,e))}var r,i,s;C.each(function(t,o){r=e(o),i=r.offset().left,t&&(s[1]=i),s=[i],n[t]=s}),s[1]=i+r.outerWidth(),o("allDaySlot")&&(r=I,i=r.offset().top,t[0]=[i,i+r.outerHeight()]);var u=R.offset().top,a=q.offset().top,f=a+q.outerHeight();for(var c=0;c<ot*rt;c++)t.push([l(u+it*c),l(u+it*(c+1))])}),at=new Mt(ut),ft=new Dt(function(e){return O.eq(e)}),lt=new Dt(function(e){return M.eq(e)})}function ht(){function V(e,t){var n,i=e.length,s=[],o=[];for(n=0;n<i;n++)e[n].allDay?s.push(e[n]):o.push(e[n]);r("allDaySlot")&&(R(s,t),f()),Y(J(o),t)}function $(){l().empty(),c().empty()}function J(t){var n=N(),r=d(),i=p(),s,o=e.map(t,Q),u,a,f,l,c=[];for(u=0;u<n;u++){s=x(0,u),w(s,r),l=K(t,o,s,w(S(s),i-r)),l=pt(l);for(a=0;a<l.length;a++)f=l[a],f.col=u,c.push(f)}return c}function K(e,t,n,r){var i=[],s,o=e.length,u,a,f,l,c,h,p;for(s=0;s<o;s++)u=e[s],a=u.start,f=t[s],f>n&&a<r&&(a<n?(l=S(n),h=!1):(l=a,h=!0),f>r?(c=S(r),p=!1):(c=f,p=!0),i.push({event:u,start:l,end:c,isStart:h,isEnd:p}));return i.sort(St)}function Q(e){return e.end?S(e.end):w(S(e.start),r("defaultEventMinutes"))}function Y(n,s){var o,u=n.length,a,f,l,h,p,d,v,g,y,w,S="",x,T,N,C,k,L=c(),A=r("isRTL");for(o=0;o<u;o++)a=n[o],f=a.event,l=m(a.start,a.start),h=m(a.start,a.end),p=b(a.col),d=E(a.col),v=d-p,d-=v*.025,v=d-p,g=v*(a.forwardCoord-a.backwardCoord),r("slotEventOverlap")&&(g=Math.max((g-10)*2,g)),A?(w=d-a.backwardCoord*v,y=w-g):(y=p+a.backwardCoord*v,w=y+g),y=Math.max(y,p),w=Math.min(w,d),g=w-y,a.top=l,a.left=y,a.outerWidth=g,a.outerHeight=h-l,S+=Z(f,a);L[0].innerHTML=S,x=L.children();for(o=0;o<u;o++)a=n[o],f=a.event,T=e(x[o]),N=i("eventRender",f,f,T),N===!1?T.remove():(N&&N!==!0&&(T.remove(),T=e(N).css({position:"absolute",top:a.top,left:a.left}).appendTo(L)),a.element=T,f._id===s?et(f,T,a):T[0]._fci=o,O(f,T));H(L,n,et);for(o=0;o<u;o++){a=n[o];if(T=a.element)a.vsides=U(T,!0),a.hsides=F(T,!0),C=T.find(".fc-event-title"),C.length&&(a.contentTop=C[0].offsetTop)}for(o=0;o<u;o++){a=n[o];if(T=a.element)T[0].style.width=Math.max(0,a.outerWidth-a.hsides)+"px",k=Math.max(0,a.outerHeight-a.vsides),T[0].style.height=k+"px",f=a.event,a.contentTop!==t&&k-a.contentTop<10&&(T.find("div.fc-event-time").text(W(f.start,r("timeFormat"))+" - "+f.title),T.find("div.fc-event-title").remove()),i("eventAfterRender",f,f,T)}}function Z(e,t){var n="<",i=e.url,u=tt(e,r),a=["fc-event","fc-event-vert"];return s(e)&&a.push("fc-event-draggable"),t.isStart&&a.push("fc-event-start"),t.isEnd&&a.push("fc-event-end"),a=a.concat(e.className),e.source&&(a=a.concat(e.source.className||[])),i?n+="a href='"+G(e.url)+"'":n+="div",n+=" class='"+a.join(" ")+"'"+" style="+"'"+"position:absolute;"+"top:"+t.top+"px;"+"left:"+t.left+"px;"+u+"'"+">"+"<div class='fc-event-inner'>"+"<div class='fc-event-time'>"+G(X(e.start,e.end,r("timeFormat")))+"</div>"+"<div class='fc-event-title'>"+G(e.title||"")+"</div>"+"</div>"+"<div class='fc-event-bg'></div>",t.isEnd&&o(e)&&(n+="<div class='ui-resizable-handle ui-resizable-s'>=</div>"),n+="</"+(i?"a":"div")+">",n}function et(e,t,n){var r=t.find("div.fc-event-time");s(e)&&rt(e,t,r),n.isEnd&&o(e)&&it(e,t,r),a(e,t)}function nt(e,t,n){function b(){a||(t.width(o).height("").draggable("option","grid",null),a=!0)}var s=n.isStart,o,u,a=!0,f,l=h(),c=C(),p=k(),m=L(),g=d();t.draggable({opacity:r("dragOpacity","month"),revertDuration:r("dragRevertDuration"),start:function(n,h){i("eventDragStart",t,e,n,h),_(e,t),o=t.width(),l.start(function(n,i){q();if(n){u=!1;var o=x(0,i.col),l=x(0,n.col);f=T(l,o),n.row?s?a&&(t.width(c-10),j(t,p*Math.round((e.end?(e.end-e.start)/v:r("defaultEventMinutes"))/m)),t.draggable("option","grid",[c,1]),a=!1):u=!0:(I(y(S(e.start),f),y(D(e),f)),b()),u=u||a&&!f}else b(),u=!0;t.draggable("option","revert",u)},n,"drag")},stop:function(n,r){l.stop(),q(),i("eventDragStop",t,e,n,r);if(u)b(),t.css("filter",""),M(e,t);else{var s=0;a||(s=Math.round((t.offset().top-A().offset().top)/p)*m+g-(e.start.getHours()*60+e.start.getMinutes())),P(this,e,f,s,a,n,r)}}})}function rt(e,t,s){function B(){q(),p&&(v?(s.hide(),t.draggable("option","grid",null),I(y(S(e.start),A),y(D(e),A))):(j(O),s.css("display",""),t.draggable("option","grid",[a,f])))}function j(t){var n=w(S(e.start),t),i;e.end&&(i=w(S(e.end),t)),s.text(X(n,i,r("timeFormat")))}var o=n.getCoordinateGrid(),u=N(),a=C(),f=k(),l=L(),c,h,p,d,v,m,b,E,A,O,H;t.draggable({scroll:!1,grid:[a,f],axis:u==1?"y":!1,opacity:r("dragOpacity"),revertDuration:r("dragRevertDuration"),start:function(n,r){i("eventDragStart",t,e,n,r),_(e,t),o.build(),c=t.position(),h=o.cell(n.pageX,n.pageY),p=d=!0,v=m=g(h),b=E=0,A=0,O=H=0},drag:function(e,n){var r=o.cell(e.pageX,e.pageY);p=!!r;if(p){v=g(r),b=Math.round((n.position.left-c.left)/a);if(b!=E){var i=x(0,h.col),s=h.col+b;s=Math.max(0,s),s=Math.min(u-1,s);var y=x(0,s);A=T(y,i)}v||(O=Math.round((n.position.top-c.top)/f)*l)}if(p!=d||v!=m||b!=E||O!=H)B(),d=p,m=v,E=b,H=O;t.draggable("option","revert",!p)},stop:function(n,r){q(),i("eventDragStop",t,e,n,r),p&&(v||A||O)?P(this,e,A,v?0:O,v,n,r):(p=!0,v=!1,b=0,A=0,O=0,B(),t.css("filter",""),t.css(c),M(e,t))}})}function it(e,t,n){var s,o,a=k(),f=L();t.resizable({handles:{s:".ui-resizable-handle"},grid:a,start:function(n,r){s=o=0,_(e,t),i("eventResizeStart",this,e,n,r)},resize:function(i,l){s=Math.round((Math.max(a,t.height())-l.originalSize.height)/a),s!=o&&(n.text(X(e.start,!s&&!e.end?null:w(u(e),f*s),r("timeFormat"))),o=s)},stop:function(n,r){i("eventResizeStop",this,e,n,r),s?B(this,e,0,f*s,n,r):M(e,t)}})}var n=this;n.renderEvents=V,n.clearEvents=$,n.slotSegHtml=Z,Tt.call(n);var r=n.opt,i=n.trigger,s=n.isEventDraggable,o=n.isEventResizable,u=n.eventEnd,a=n.eventElementHandlers,f=n.setHeight,l=n.getDaySegmentContainer,c=n.getSlotSegmentContainer,h=n.getHoverListener,p=n.getMaxMinute,d=n.getMinMinute,m=n.timePosition,g=n.getIsCellAllDay,b=n.colContentLeft,E=n.colContentRight,x=n.cellToDate,N=n.getColCnt,C=n.getColWidth,k=n.getSnapHeight,L=n.getSnapMinutes,A=n.getSlotContainer,O=n.reportEventElement,M=n.showEvents,_=n.hideEvents,P=n.eventDrop,B=n.eventResize,I=n.renderDayOverlay,q=n.clearOverlays,R=n.renderDayEvents,z=n.calendar,W=z.formatDate,X=z.formatDates;n.draggableDayEvent=nt}function pt(e){var t=dt(e),n=t[0],r;vt(t);if(n){for(r=0;r<n.length;r++)mt(n[r]);for(r=0;r<n.length;r++)gt(n[r],0,0)}return yt(t)}function dt(e){var t=[],n,r,i;for(n=0;n<e.length;n++){r=e[n];for(i=0;i<t.length;i++)if(!bt(r,t[i]).length)break;(t[i]||(t[i]=[])).push(r)}return t}function vt(e){var t,n,r,i,s;for(t=0;t<e.length;t++){n=e[t];for(r=0;r<n.length;r++){i=n[r],i.forwardSegs=[];for(s=t+1;s<e.length;s++)bt(i,e[s],i.forwardSegs)}}}function mt(e){var n=e.forwardSegs,r=0,i,s;if(e.forwardPressure===t){for(i=0;i<n.length;i++)s=n[i],mt(s),r=Math.max(r,1+s.forwardPressure);e.forwardPressure=r}}function gt(e,n,r){var i=e.forwardSegs,s;if(e.forwardCoord===t){i.length?(i.sort(Et),gt(i[0],n+1,r),e.forwardCoord=i[0].backwardCoord):e.forwardCoord=1,e.backwardCoord=e.forwardCoord-(e.forwardCoord-r)/(n+1);for(s=0;s<i.length;s++)gt(i[s],0,e.forwardCoord)}}function yt(e){var t=[],n,r,i;for(n=0;n<e.length;n++){r=e[n];for(i=0;i<r.length;i++)t.push(r[i])}return t}function bt(e,t,n){n=n||[];for(var r=0;r<t.length;r++)wt(e,t[r])&&n.push(t[r]);return n}function wt(e,t){return e.end>t.start&&e.start<t.end}function Et(e,t){return t.forwardPressure-e.forwardPressure||(e.backwardCoord||0)-(t.backwardCoord||0)||St(e,t)}function St(e,t){return e.start-t.start||t.end-t.start-(e.end-e.start)||(e.event.title||"").localeCompare(t.event.title)}function xt(n,r,i){function p(t,n){var r=h[t];return e.isPlainObject(r)?Q(r,n||i):r}function d(e,t){return r.trigger.apply(r,[e,t||s].concat(Array.prototype.slice.call(arguments,2),[s]))}function v(e){var t=e.source||{};return rt(e.startEditable,t.startEditable,p("eventStartEditable"),e.editable,t.editable,p("editable"))&&!p("disableDragging")}function m(e){var t=e.source||{};return rt(e.durationEditable,t.durationEditable,p("eventDurationEditable"),e.editable,t.editable,p("editable"))&&!p("disableResizing")}function g(e){f={};var t,n=e.length,r;for(t=0;t<n;t++)r=e[t],f[r._id]?f[r._id].push(r):f[r._id]=[r]}function b(){f={},l={},c=[]}function E(e){return e.end?S(e.end):o(e)}function x(e,t){c.push({event:e,element:t}),l[e._id]?l[e._id].push(t):l[e._id]=[t]}function N(){e.each(c,function(e,t){s.trigger("eventDestroy",t.event,t.event,t.element)})}function C(e,t){t.click(function(n){if(!t.hasClass("ui-draggable-dragging")&&!t.hasClass("ui-resizable-resizing"))return d("eventClick",this,e,n)}).hover(function(t){d("eventMouseover",this,e,t)},function(t){d("eventMouseout",this,e,t)})}function k(e,t){A(e,t,"show")}function L(e,t){A(e,t,"hide")}function A(e,t,n){var r=l[e._id],i,s=r.length;for(i=0;i<s;i++)(!t||r[i][0]!=t[0])&&r[i][n]()}function O(e,t,n,r,i,s,o){var u=t.allDay,l=t._id;_(f[l],n,r,i),d("eventDrop",e,t,n,r,i,function(){_(f[l],-n,-r,u),a(l)},s,o),a(l)}function M(e,t,n,r,i,s){var o=t._id;D(f[o],n,r),d("eventResize",e,t,n,r,function(){D(f[o],-n,-r),a(o)},i,s),a(o)}function _(e,n,r,i){r=r||0;for(var s,o=e.length,a=0;a<o;a++)s=e[a],i!==t&&(s.allDay=i),w(y(s.start,n,!0),r),s.end&&(s.end=w(y(s.end,n,!0),r)),u(s,h)}function D(e,t,n){n=n||0;for(var r,i=e.length,s=0;s<i;s++)r=e[s],r.end=w(y(E(r),t,!0),n),u(r,h)}function q(e){return typeof e=="object"&&(e=e.getDay()),H[e]}function R(){return B}function U(e,t,n){t=t||1;while(H[(e.getDay()+(n?t:0)+7)%7])y(e,t)}function z(){var e=W.apply(null,arguments),t=X(e),n=V(t);return n}function W(e,t){var n=s.getColCnt(),r=I?-1:1,i=I?n-1:0;typeof e=="object"&&(t=e.col,e=e.row);var o=e*n+(t*r+i);return o}function X(e){var t=s.visStart.getDay();return e+=j[t],Math.floor(e/B)*7+F[(e%B+B)%B]-t}function V(e){var t=S(s.visStart);return y(t,e),t}function $(e){var t=J(e),n=K(t),r=G(n);return r}function J(e){return T(e,s.visStart)}function K(e){var t=s.visStart.getDay();return e+=t,Math.floor(e/7)*B+j[(e%7+7)%7]-j[t]}function G(e){var t=s.getColCnt(),n=I?-1:1,r=I?t-1:0,i=Math.floor(e/t),o=(e%t+t)%t*n+r;return{row:i,col:o}}function Y(e,t){var n=s.getRowCnt(),r=s.getColCnt(),i=[],o=J(e),u=J(t),a=K(o),f=K(u)-1;for(var l=0;l<n;l++){var c=l*r,h=c+r-1,p=Math.max(a,c),d=Math.min(f,h);if(p<=d){var v=G(p),m=G(d),g=[v.col,m.col].sort(),y=X(p)==o,b=X(d)+1==u;i.push({row:l,leftCol:g[0],rightCol:g[1],isStart:y,isEnd:b})}}return i}var s=this;s.element=n,s.calendar=r,s.name=i,s.opt=p,s.trigger=d,s.isEventDraggable=v,s.isEventResizable=m,s.setEventData=g,s.clearEventData=b,s.eventEnd=E,s.reportEventElement=x,s.triggerEventDestroy=N,s.eventElementHandlers=C,s.showEvents=k,s.hideEvents=L,s.eventDrop=O,s.eventResize=M;var o=s.defaultEventEnd,u=r.normalizeEvent,a=r.reportEventChange,f={},l={},c=[],h=r.options;s.isHiddenDay=q,s.skipHiddenDays=U,s.getCellsPerWeek=R,s.dateToCell=$,s.dateToDayOffset=J,s.dayOffsetToCellOffset=K,s.cellOffsetToCell=G,s.cellToDate=z,s.cellToCellOffset=W,s.cellOffsetToDayOffset=X,s.dayOffsetToDate=V,s.rangeToSegments=Y;var P=p("hiddenDays")||[],H=[],B,j=[],F=[],I=p("isRTL");(function(){p("weekends")===!1&&P.push(0,6);for(var t=0,n=0;t<7;t++)j[t]=n,H[t]=e.inArray(t,P)!=-1,H[t]||(F[n]=t,n++);B=n;if(!B)throw"invalid hiddenDays"})()}function Tt(){function q(e,t){var n=U(e,!1,!0);Ct(n,function(e,t){u(e.event,t)}),st(n,t),Ct(n,function(e,t){r("eventAfterRender",e.event,e.event,t)})}function R(e,t,n){var r=U([e],!0,!1),i=[];return Ct(r,function(e,r){e.row===t&&r.css("top",n),i.push(r[0])}),i}function U(t,n,r){var i=N(),s=n?e("<div/>"):i,o=z(t),u,a;return X(o),u=V(o),s[0].innerHTML=u,a=s.children(),n&&i.append(a),K(o,a),Ct(o,function(e,t){e.hsides=F(t,!0)}),Ct(o,function(e,t){t.width(Math.max(0,e.outerWidth-e.hsides))}),Ct(o,function(e,t){e.outerHeight=t.outerHeight(!0)}),Q(o,r),o}function z(e){var t=[];for(var n=0;n<e.length;n++){var r=W(e[n]);t.push.apply(t,r)}return t}function W(e){var t=e.start,n=D(e),r=M(t,n);for(var i=0;i<r.length;i++)r[i].event=e;return r}function X(e){var t=n("isRTL");for(var r=0;r<e.length;r++){var i=e[r],s=(t?i.isEnd:i.isStart)?w:g,o=(t?i.isStart:i.isEnd)?E:b,u=s(i.leftCol),a=o(i.rightCol);i.left=u,i.outerWidth=a-u}}function V(e){var t="";for(var n=0;n<e.length;n++)t+=$(e[n]);return t}function $(e){var t="",r=n("isRTL"),o=e.event,u=o.url,a=["fc-event","fc-event-hori"];i(o)&&a.push("fc-event-draggable"),e.isStart&&a.push("fc-event-start"),e.isEnd&&a.push("fc-event-end"),a=a.concat(o.className),o.source&&(a=a.concat(o.source.className||[]));var f=tt(o,n);return u?t+="<a href='"+G(u)+"'":t+="<div",t+=" class='"+a.join(" ")+"'"+" style="+"'"+"position:absolute;"+"left:"+e.left+"px;"+f+"'"+">"+"<div class='fc-event-inner'>",!o.allDay&&e.isStart&&(t+="<span class='fc-event-time'>"+G(C(o.start,o.end,n("timeFormat")))+"</span>"),t+="<span class='fc-event-title'>"+G(o.title||"")+"</span>"+"</div>",e.isEnd&&s(o)&&(t+="<div class='ui-resizable-handle ui-resizable-"+(r?"w":"e")+"'>"+"&nbsp;&nbsp;&nbsp;"+"</div>"),t+="</"+(u?"a":"div")+">",t}function K(t,n){for(var i=0;i<t.length;i++){var s=t[i],o=s.event,u=n.eq(i),a=r("eventRender",o,o,u);a===!1?u.remove():(a&&a!==!0&&(a=e(a).css({position:"absolute",left:s.left}),u.replaceWith(a),u=a),s.element=u)}}function Q(e,t){var n=Z(e),r=it(),i=[];if(t)for(var s=0;s<r.length;s++)r[s].height(n[s]);for(var s=0;s<r.length;s++)i.push(r[s].position().top);Ct(e,function(e,t){t.css("top",i[e.row]+e.top)})}function Z(e){var t=p(),n=d(),r=[],i=et(e);for(var s=0;s<t;s++){var o=i[s],u=[];for(var a=0;a<n;a++)u.push(0);for(var f=0;f<o.length;f++){var l=o[f];l.top=J(u.slice(l.leftCol,l.rightCol+1));for(var a=l.leftCol;a<=l.rightCol;a++)u[a]=l.top+l.outerHeight}r.push(J(u))}return r}function et(e){var t=p(),n=[],r,i,s;for(r=0;r<e.length;r++)i=e[r],s=i.row,i.element&&(n[s]?n[s].push(i):n[s]=[i]);for(s=0;s<t;s++)n[s]=nt(n[s]||[]);return n}function nt(e){var t=[],n=rt(e);for(var r=0;r<n.length;r++)t.push.apply(t,n[r]);return t}function rt(e){e.sort(kt);var t=[];for(var n=0;n<e.length;n++){var r=e[n];for(var i=0;i<t.length;i++)if(!Nt(r,t[i]))break;t[i]?t[i].push(r):t[i]=[r]}return t}function it(){var e,t=p(),n=[];for(e=0;e<t;e++)n[e]=m(e).find("div.fc-day-content > div");return n}function st(e,t){var n=N();Ct(e,function(e,n,r){var i=e.event;i._id===t?ot(i,n,e):n[0]._fci=r}),H(n,e,ot)}function ot(e,n,r){i(e)&&t.draggableDayEvent(e,n,r),r.isEnd&&s(e)&&t.resizableDayEvent(e,n,r),a(e,n)}function ut(e,t){var i=O(),s;t.draggable({delay:50,opacity:n("dragOpacity"),revertDuration:n("dragRevertDuration"),start:function(n,o){r("eventDragStart",t,e,n,o),l(e,t),i.start(function(n,r,i,o){t.draggable("option","revert",!n||!i&&!o),L();if(n){var u=_(r),a=_(n);s=T(a,u),k(y(S(e.start),s),y(D(e),s))}else s=0},n,"drag")},stop:function(n,o){i.stop(),L(),r("eventDragStop",t,e,n,o),s?c(this,e,s,0,e.allDay,n,o):(t.css("filter",""),f(e,t))}})}function at(t,i,s){var u=n("isRTL"),a=u?"w":"e",c=i.find(".ui-resizable-"+a),v=!1;Y(i),i.mousedown(function(e){e.preventDefault()}).click(function(e){v&&(e.preventDefault(),e.stopImmediatePropagation())}),c.mousedown(function(n){function x(n){r("eventResizeStop",this,t,n),e("body").css("cursor",""),u.stop(),L(),b&&h(this,t,b,0,n),setTimeout(function(){v=!1},0)}if(n.which!=1)return;v=!0;var u=O(),c=p(),m=d(),g=i.css("top"),b,w,E=e.extend({},t),S=I(j(t.start));A(),e("body").css("cursor",a+"-resize").one("mouseup",x),r("eventResizeStart",this,t,n),u.start(function(n,r){if(n){var i=P(r),u=P(n);u=Math.max(u,S),b=B(u)-B(i);if(b){E.end=y(o(t),b,!0);var c=w;w=R(E,s.row,g),w=e(w),w.find("*").css("cursor",a+"-resize"),c&&c.remove(),l(t)}else w&&(f(t),w.remove(),w=null);L(),k(t.start,y(D(t),b))}},n)})}var t=this;t.renderDayEvents=q,t.draggableDayEvent=ut,t.resizableDayEvent=at;var n=t.opt,r=t.trigger,i=t.isEventDraggable,s=t.isEventResizable,o=t.eventEnd,u=t.reportEventElement,a=t.eventElementHandlers,f=t.showEvents,l=t.hideEvents,c=t.eventDrop,h=t.eventResize,p=t.getRowCnt,d=t.getColCnt,v=t.getColWidth,m=t.allDayRow,g=t.colLeft,b=t.colRight,w=t.colContentLeft,E=t.colContentRight,x=t.dateToCell,N=t.getDaySegmentContainer,C=t.calendar.formatDates,k=t.renderDayOverlay,L=t.clearOverlays,A=t.clearSelection,O=t.getHoverListener,M=t.rangeToSegments,_=t.cellToDate,P=t.cellToCellOffset,B=t.cellOffsetToDayOffset,j=t.dateToDayOffset,I=t.dayOffsetToCellOffset}function Nt(e,t){for(var n=0;n<t.length;n++){var r=t[n];if(r.leftCol<=e.rightCol&&r.rightCol>=e.leftCol)return!0}return!1}function Ct(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=r.element;i&&t(r,i,n)}}function kt(e,t){return t.rightCol-t.leftCol-(e.rightCol-e.leftCol)||t.event.allDay-e.event.allDay||e.event.start-t.event.start||(e.event.title||"").localeCompare(t.event.title)}function Lt(){function a(e,t,n){f(),t||(t=i(e,n)),s(e,t,n),l(e,t,n)}function f(e){u&&(u=!1,o(),r("unselect",null,e))}function l(e,t,n,i){u=!0,r("select",null,e,t,n,i)}function c(r){var i=t.cellToDate,u=t.getIsCellAllDay,a=t.getHoverListener(),c=t.reportDayClick;if(r.which==1&&n("selectable")){f(r);var h=this,p;a.start(function(e,t){o(),e&&u(e)?(p=[i(t),i(e)].sort($),s(p[0],p[1],!0)):p=null},r),e(document).one("mouseup",function(e){a.stop(),p&&(+p[0]==+p[1]&&c(p[0],!0,e),l(p[0],p[1],!0,e))})}}var t=this;t.select=a,t.unselect=f,t.reportSelection=l,t.daySelectionMousedown=c;var n=t.opt,r=t.trigger,i=t.defaultSelectionEnd,s=t.renderSelection,o=t.clearSelection,u=!1;n("selectable")&&n("unselectAuto")&&e(document).mousedown(function(t){var r=n("unselectCancel");if(r&&e(t.target).parents(r).length)return;f(t)})}function At(){function i(t,i){var s=r.shift();return s||(s=e("<div class='fc-cell-overlay' style='position:absolute;z-index:3'/>")),s[0].parentNode!=i[0]&&s.appendTo(i),n.push(s.css(t).show()),s}function s(){var e;while(e=n.shift())r.push(e.hide().unbind())}var t=this;t.renderOverlay=i,t.clearOverlays=s;var n=[],r=[]}function Ot(e){var t=this,n,r;t.build=function(){n=[],r=[],e(n,r)},t.cell=function(e,t){var i=n.length,s=r.length,o,u=-1,a=-1;for(o=0;o<i;o++)if(t>=n[o][0]&&t<n[o][1]){u=o;break}for(o=0;o<s;o++)if(e>=r[o][0]&&e<r[o][1]){a=o;break}return u>=0&&a>=0?{row:u,col:a}:null},t.rect=function(e,t,i,s,o){var u=o.offset();return{top:n[e][0]-u.top,left:r[t][0]-u.left,width:r[s][1]-r[t][0],height:n[i][1]-n[e][0]}}}function Mt(t){function u(e){_t(e);var n=t.cell(e.pageX,e.pageY);if(!n!=!o||n&&(n.row!=o.row||n.col!=o.col))n?(s||(s=n),i(n,s,n.row-s.row,n.col-s.col)):i(n,s),o=n}var n=this,r,i,s,o;n.start=function(n,a,f){i=n,s=o=null,t.build(),u(a),r=f||"mousemove",e(document).bind(r,u)},n.stop=function(){return e(document).unbind(r,u),o}}function _t(e){e.pageX===t&&(e.pageX=e.originalEvent.pageX,e.pageY=e.originalEvent.pageY)}function Dt(e){function o(t){return r[t]=r[t]||e(t)}var n=this,r={},i={},s={};n.left=function(e){return i[e]=i[e]===t?o(e).position().left:i[e]},n.right=function(e){return s[e]=s[e]===t?n.left(e)+o(e).width():s[e]},n.clear=function(){r={},i={},s={}}}var n={defaultView:"month",aspectRatio:1.35,header:{left:"title",center:"",right:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"iso",weekNumberTitle:"W",allDayDefault:!0,ignoreTimezone:!0,lazyFetching:!0,startParam:"start",endParam:"end",titleFormat:{month:"MMMM yyyy",week:"MMM d[ yyyy]{ '&#8212;'[ MMM] d yyyy}",day:"dddd, MMM d, yyyy"},columnFormat:{month:"ddd",week:"ddd M/d",day:"dddd M/d"},timeFormat:{"":"h(:mm)t"},isRTL:!1,firstDay:0,monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],buttonText:{prev:"<span class='fc-text-arrow'>&lsaquo;</span>",next:"<span class='fc-text-arrow'>&rsaquo;</span>",prevYear:"<span class='fc-text-arrow'>&laquo;</span>",nextYear:"<span class='fc-text-arrow'>&raquo;</span>",today:"today",month:"month",week:"week",day:"day"},theme:!1,buttonIcons:{prev:"circle-triangle-w",next:"circle-triangle-e"},unselectAuto:!0,dropAccept:"*",handleWindowResize:!0},r={header:{left:"next,prev today",center:"",right:"title"},buttonText:{prev:"<span class='fc-text-arrow'>&rsaquo;</span>",next:"<span class='fc-text-arrow'>&lsaquo;</span>",prevYear:"<span class='fc-text-arrow'>&raquo;</span>",nextYear:"<span class='fc-text-arrow'>&laquo;</span>"},buttonIcons:{prev:"circle-triangle-e",next:"circle-triangle-w"}},i=e.fullCalendar={version:"1.6.4"},s=i.views={};e.fn.fullCalendar=function(i){if(typeof i=="string"){var s=Array.prototype.slice.call(arguments,1),o;return this.each(function(){var n=e.data(this,"fullCalendar");if(n&&e.isFunction(n[i])){var r=n[i].apply(n,s);o===t&&(o=r),i=="destroy"&&e.removeData(this,"fullCalendar")}}),o!==t?o:this}i=i||{};var a=i.eventSources||[];return delete i.eventSources,i.events&&(a.push(i.events),delete i.events),i=e.extend(!0,{},n,i.isRTL||i.isRTL===t&&n.isRTL?r:{},i),this.each(function(t,n){var r=e(n),s=new u(r,i,a);r.data("fullCalendar",s),s.render()}),this},i.sourceNormalizers=[],i.sourceFetchers=[];var f={dataType:"json",cache:!1},l=1;i.addDays=y,i.cloneDate=S,i.parseDate=C,i.parseISO8601=k,i.parseTime=L,i.formatDate=A,i.formatDates=O;var h=["sun","mon","tue","wed","thu","fri","sat"],p=864e5,d=36e5,v=6e4,M={s:function(e){return e.getSeconds()},ss:function(e){return K(e.getSeconds())},m:function(e){return e.getMinutes()},mm:function(e){return K(e.getMinutes())},h:function(e){return e.getHours()%12||12},hh:function(e){return K(e.getHours()%12||12)},H:function(e){return e.getHours()},HH:function(e){return K(e.getHours())},d:function(e){return e.getDate()},dd:function(e){return K(e.getDate())},ddd:function(e,t){return t.dayNamesShort[e.getDay()]},dddd:function(e,t){return t.dayNames[e.getDay()]},M:function(e){return e.getMonth()+1},MM:function(e){return K(e.getMonth()+1)},MMM:function(e,t){return t.monthNamesShort[e.getMonth()]},MMMM:function(e,t){return t.monthNames[e.getMonth()]},yy:function(e){return(e.getFullYear()+"").substring(2)},yyyy:function(e){return e.getFullYear()},t:function(e){return e.getHours()<12?"a":"p"},tt:function(e){return e.getHours()<12?"am":"pm"},T:function(e){return e.getHours()<12?"A":"P"},TT:function(e){return e.getHours()<12?"AM":"PM"},u:function(e){return A(e,"yyyy-MM-dd'T'HH:mm:ss'Z'")},S:function(e){var t=e.getDate();return t>10&&t<20?"th":["st","nd","rd"][t%10-1]||"th"},w:function(e,t){return t.weekNumberCalculation(e)},W:function(e){return _(e)}};i.dateFormatters=M,i.applyAll=nt,s.month=it,s.basicWeek=st,s.basicDay=ot,o({weekMode:"fixed"}),s.agendaWeek=ft,s.agendaDay=lt,o({allDaySlot:!0,allDayText:"all-day",firstHour:6,slotMinutes:30,defaultEventMinutes:120,axisFormat:"h(:mm)tt",timeFormat:{agenda:"h:mm{ - h:mm}"},dragOpacity:{agenda:.5},minTime:0,maxTime:24,slotEventOverlap:!0})}(jQuery),define("full-calendar",["jquery"],function(){}),function(e){function o(t,o,u){var a=t.success,f=e.extend({},t.data||{},{"start-min":n(o,"u"),"start-max":n(u,"u"),singleevents:!0,"max-results":9999}),l=t.currentTimezone;return l&&(f.ctz=l=l.replace(" ","_")),e.extend({},t,{url:t.url.replace(/\/basic$/,"/full")+"?alt=json-in-script&callback=?",dataType:"jsonp",data:f,startParam:!1,endParam:!1,success:function(t){var n=[];t.feed.entry&&e.each(t.feed.entry,function(t,s){var o=s.gd$when[0].startTime,u=r(o,!0),a=r(s.gd$when[0].endTime,!0),f=o.indexOf("T")==-1,c;e.each(s.link,function(e,t){t.type=="text/html"&&(c=t.href,l&&(c+=(c.indexOf("?")==-1?"?":"&")+"ctz="+l))}),f&&i(a,-1),n.push({id:s.gCal$uid.value,title:s.title.$t,url:c,start:u,end:a,allDay:f,location:s.gd$where[0].valueString,description:s.content.$t})});var o=[n].concat(Array.prototype.slice.call(arguments,1)),u=s(a,this,o);return e.isArray(u)?u:n}})}var t=e.fullCalendar,n=t.formatDate,r=t.parseISO8601,i=t.addDays,s=t.applyAll;t.sourceNormalizers.push(function(e){if(e.dataType=="gcal"||e.dataType===undefined&&(e.url||"").match(/^(http|https):\/\/www.google.com\/calendar\/feeds\//))e.dataType="gcal",e.editable===undefined&&(e.editable=!1)}),t.sourceFetchers.push(function(e,t,n){if(e.dataType=="gcal")return o(e,t,n)}),t.gcalFeed=function(t,n){return e.extend({},n,{url:t,dataType:"gcal"})}}(jQuery),define("google-calendar",["full-calendar"],function(){}),function(e,t){function s(){return new Date(Date.UTC.apply(Date,arguments))}function o(){var e=new Date;return s(e.getFullYear(),e.getMonth(),e.getDate())}function u(e){return function(){return this[e].apply(this,arguments)}}function c(t,n){function u(e,t){return t.toLowerCase()}var r=e(t).data(),i={},s,o=new RegExp("^"+n.toLowerCase()+"([A-Z])");n=new RegExp("^"+n.toLowerCase());for(var a in r)n.test(a)&&(s=a.replace(o,u),i[s]=r[a]);return i}function h(t){var n={};if(!m[t]){t=t.split("-")[0];if(!m[t])return}var r=m[t];return e.each(v,function(e,t){t in r&&(n[t]=r[t])}),n}var n="&laquo;",r="&raquo;",i=e(window),a=function(){var t={get:function(e){return this.slice(e)[0]},contains:function(e){var t=e&&e.valueOf();for(var n=0,r=this.length;n<r;n++)if(this[n].valueOf()===t)return n;return-1},remove:function(e){this.splice(e,1)},replace:function(t){if(!t)return;e.isArray(t)||(t=[t]),this.clear(),this.push.apply(this,t)},clear:function(){this.length=0},copy:function(){var e=new a;return e.replace(this),e}};return function(){var n=[];return n.push.apply(n,arguments),e.extend(n,t),n}}(),f=function(t,n){this.dates=new a,this.viewDate=o(),this.focusDate=null,this._process_options(n),this.element=e(t),this.isInline=!1,this.isInput=this.element.is("input"),this.component=this.element.is(".date")?this.element.find(".add-on, .input-group-addon, .btn"):!1,this.hasInput=this.component&&this.element.find("input").length,this.component&&this.component.length===0&&(this.component=!1),this.picker=e(g.template),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.viewMode=this.o.startView,this.o.calendarWeeks&&this.picker.find("tfoot th.today").attr("colspan",function(e,t){return parseInt(t)+1}),this._allow_update=!1,this.setStartDate(this._o.startDate),this.setEndDate(this._o.endDate),this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),this.fillDow(),this.fillMonths(),this._allow_update=!0,this.update(),this.showMode(),this.isInline&&this.show()};f.prototype={constructor:f,_process_options:function(t){this._o=e.extend({},this._o,t);var n=this.o=e.extend({},this._o),r=n.language;m[r]||(r=r.split("-")[0],m[r]||(r=d.language)),n.language=r;switch(n.startView){case 2:case"decade":n.startView=2;break;case 1:case"year":n.startView=1;break;default:n.startView=0}switch(n.minViewMode){case 1:case"months":n.minViewMode=1;break;case 2:case"years":n.minViewMode=2;break;default:n.minViewMode=0}n.startView=Math.max(n.startView,n.minViewMode),n.multidate!==!0&&(n.multidate=Number(n.multidate)||!1,n.multidate!==!1?n.multidate=Math.max(0,n.multidate):n.multidate=1),n.multidateSeparator=String(n.multidateSeparator),n.weekStart%=7,n.weekEnd=(n.weekStart+6)%7;var i=g.parseFormat(n.format);n.startDate!==-Infinity&&(n.startDate?n.startDate instanceof Date?n.startDate=this._local_to_utc(this._zero_time(n.startDate)):n.startDate=g.parseDate(n.startDate,i,n.language):n.startDate=-Infinity),n.endDate!==Infinity&&(n.endDate?n.endDate instanceof Date?n.endDate=this._local_to_utc(this._zero_time(n.endDate)):n.endDate=g.parseDate(n.endDate,i,n.language):n.endDate=Infinity),n.daysOfWeekDisabled=n.daysOfWeekDisabled||[],e.isArray(n.daysOfWeekDisabled)||(n.daysOfWeekDisabled=n.daysOfWeekDisabled.split(/[,\s]*/)),n.daysOfWeekDisabled=e.map(n.daysOfWeekDisabled,function(e){return parseInt(e,10)});var s=String(n.orientation).toLowerCase().split(/\s+/g),o=n.orientation.toLowerCase();s=e.grep(s,function(e){return/^auto|left|right|top|bottom$/.test(e)}),n.orientation={x:"auto",y:"auto"};if(!!o&&o!=="auto")if(s.length===1)switch(s[0]){case"top":case"bottom":n.orientation.y=s[0];break;case"left":case"right":n.orientation.x=s[0]}else o=e.grep(s,function(e){return/^left|right$/.test(e)}),n.orientation.x=o[0]||"auto",o=e.grep(s,function(e){return/^top|bottom$/.test(e)}),n.orientation.y=o[0]||"auto"},_events:[],_secondaryEvents:[],_applyEvents:function(e){for(var n=0,r,i,s;n<e.length;n++)r=e[n][0],e[n].length===2?(i=t,s=e[n][1]):e[n].length===3&&(i=e[n][1],s=e[n][2]),r.on(s,i)},_unapplyEvents:function(e){for(var n=0,r,i,s;n<e.length;n++)r=e[n][0],e[n].length===2?(s=t,i=e[n][1]):e[n].length===3&&(s=e[n][1],i=e[n][2]),r.off(i,s)},_buildEvents:function(){this.isInput?this._events=[[this.element,{focus:e.proxy(this.show,this),keyup:e.proxy(function(t){e.inArray(t.keyCode,[27,37,39,38,40,32,13,9])===-1&&this.update()},this),keydown:e.proxy(this.keydown,this)}]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),{focus:e.proxy(this.show,this),keyup:e.proxy(function(t){e.inArray(t.keyCode,[27,37,39,38,40,32,13,9])===-1&&this.update()},this),keydown:e.proxy(this.keydown,this)}],[this.component,{click:e.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:e.proxy(this.show,this)}]],this._events.push([this.element,"*",{blur:e.proxy(function(e){this._focused_from=e.target},this)}],[this.element,{blur:e.proxy(function(e){this._focused_from=e.target},this)}]),this._secondaryEvents=[[this.picker,{click:e.proxy(this.click,this)}],[e(window),{resize:e.proxy(this.place,this)}],[e(document),{"mousedown touchstart":e.proxy(function(e){this.element.is(e.target)||this.element.find(e.target).length||this.picker.is(e.target)||this.picker.find(e.target).length||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(t,n){var r=n||this.dates.get(-1),i=this._utc_to_local(r);this.element.trigger({type:t,date:i,dates:e.map(this.dates,this._utc_to_local),format:e.proxy(function(e,t){arguments.length===0?(e=this.dates.length-1,t=this.o.format):typeof e=="string"&&(t=e,e=this.dates.length-1),t=t||this.o.format;var n=this.dates.get(e);return g.formatDate(n,t,this.o.language)},this)})},show:function(){this.isInline||this.picker.appendTo("body"),this.picker.show(),this.place(),this._attachSecondaryEvents(),this._trigger("show")},hide:function(){if(this.isInline)return;if(!this.picker.is(":visible"))return;this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this._trigger("hide")},remove:function(){this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date},_utc_to_local:function(e){return e&&new Date(e.getTime()+e.getTimezoneOffset()*6e4)},_local_to_utc:function(e){return e&&new Date(e.getTime()-e.getTimezoneOffset()*6e4)},_zero_time:function(e){return e&&new Date(e.getFullYear(),e.getMonth(),e.getDate())},_zero_utc_time:function(e){return e&&new Date(Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()))},getDates:function(){return e.map(this.dates,this._utc_to_local)},getUTCDates:function(){return e.map(this.dates,function(e){return new Date(e)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){return new Date(this.dates.get(-1))},setDates:function(){var t=e.isArray(arguments[0])?arguments[0]:arguments;this.update.apply(this,t),this._trigger("changeDate"),this.setValue()},setUTCDates:function(){var t=e.isArray(arguments[0])?arguments[0]:arguments;this.update.apply(this,e.map(t,this._utc_to_local)),this._trigger("changeDate"),this.setValue()},setDate:u("setDates"),setUTCDate:u("setUTCDates"),setValue:function(){var e=this.getFormattedDate();this.isInput?this.element.val(e).change():this.component&&this.element.find("input").val(e).change()},getFormattedDate:function(n){n===t&&(n=this.o.format);var r=this.o.language;return e.map(this.dates,function(e){return g.formatDate(e,n,r)}).join(this.o.multidateSeparator)},setStartDate:function(e){this._process_options({startDate:e}),this.update(),this.updateNavArrows()},setEndDate:function(e){this._process_options({endDate:e}),this.update(),this.updateNavArrows()},setDaysOfWeekDisabled:function(e){this._process_options({daysOfWeekDisabled:e}),this.update(),this.updateNavArrows()},place:function(){if(this.isInline)return;var t=this.picker.outerWidth(),n=this.picker.outerHeight(),r=10,s=i.width(),o=i.height(),u=i.scrollTop(),a=parseInt(this.element.parents().filter(function(){return e(this).css("z-index")!=="auto"}).first().css("z-index"))+10,f=this.component?this.component.parent().offset():this.element.offset(),l=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),c=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),h=f.left,p=f.top;this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),this.o.orientation.x!=="auto"?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),this.o.orientation.x==="right"&&(h-=t-c)):(this.picker.addClass("datepicker-orient-left"),f.left<0?h-=f.left-r:f.left+t>s&&(h=s-t-r));var d=this.o.orientation.y,v,m;d==="auto"&&(v=-u+f.top-n,m=u+o-(f.top+l+n),Math.max(v,m)===m?d="top":d="bottom"),this.picker.addClass("datepicker-orient-"+d),d==="top"?p+=l:p-=n+parseInt(this.picker.css("padding-top")),this.picker.css({top:p,left:h,zIndex:a})},_allow_update:!0,update:function(){if(!this._allow_update)return;var t=this.dates.copy(),n=[],r=!1;arguments.length?(e.each(arguments,e.proxy(function(e,t){t instanceof Date&&(t=this._local_to_utc(t)),n.push(t)},this)),r=!0):(n=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val(),n&&this.o.multidate?n=n.split(this.o.multidateSeparator):n=[n],delete this.element.data().date),n=e.map(n,e.proxy(function(e){return g.parseDate(e,this.o.format,this.o.language)},this)),n=e.grep(n,e.proxy(function(e){return e<this.o.startDate||e>this.o.endDate||!e},this),!0),this.dates.replace(n),this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate&&(this.viewDate=new Date(this.o.endDate)),r?this.setValue():n.length&&String(t)!==String(this.dates)&&this._trigger("changeDate"),!this.dates.length&&t.length&&this._trigger("clearDate"),this.fill()},fillDow:function(){var e=this.o.weekStart,t="<tr>";if(this.o.calendarWeeks){var n='<th class="cw">&nbsp;</th>';t+=n,this.picker.find(".datepicker-days thead tr:first-child").prepend(n)}while(e<this.o.weekStart+7)t+='<th class="dow">'+m[this.o.language].daysMin[e++%7]+"</th>";t+="</tr>",this.picker.find(".datepicker-days thead").append(t)},fillMonths:function(){var e="",t=0;while(t<12)e+='<span class="month">'+m[this.o.language].monthsShort[t++]+"</span>";this.picker.find(".datepicker-months td").html(e)},setRange:function(t){!t||!t.length?delete this.range:this.range=e.map(t,function(e){return e.valueOf()}),this.fill()},getClassNames:function(t){var n=[],r=this.viewDate.getUTCFullYear(),i=this.viewDate.getUTCMonth(),s=new Date;return t.getUTCFullYear()<r||t.getUTCFullYear()===r&&t.getUTCMonth()<i?n.push("old"):(t.getUTCFullYear()>r||t.getUTCFullYear()===r&&t.getUTCMonth()>i)&&n.push("new"),this.focusDate&&t.valueOf()===this.focusDate.valueOf()&&n.push("focused"),this.o.todayHighlight&&t.getUTCFullYear()===s.getFullYear()&&t.getUTCMonth()===s.getMonth()&&t.getUTCDate()===s.getDate()&&n.push("today"),this.dates.contains(t)!==-1&&n.push("active"),(t.valueOf()<this.o.startDate||t.valueOf()>this.o.endDate||e.inArray(t.getUTCDay(),this.o.daysOfWeekDisabled)!==-1)&&n.push("disabled"),this.range&&(t>this.range[0]&&t<this.range[this.range.length-1]&&n.push("range"),e.inArray(t.valueOf(),this.range)!==-1&&n.push("selected")),n},fill:function(){var n=new Date(this.viewDate),r=n.getUTCFullYear(),i=n.getUTCMonth(),o=this.o.startDate!==-Infinity?this.o.startDate.getUTCFullYear():-Infinity,u=this.o.startDate!==-Infinity?this.o.startDate.getUTCMonth():-Infinity,a=this.o.endDate!==Infinity?this.o.endDate.getUTCFullYear():Infinity,f=this.o.endDate!==Infinity?this.o.endDate.getUTCMonth():Infinity,l=m[this.o.language].today||m.en.today||"",c=m[this.o.language].clear||m.en.clear||"",h;this.picker.find(".datepicker-days thead th.datepicker-switch").text(m[this.o.language].months[i]+" "+r),this.picker.find("tfoot th.today").text(l).toggle(this.o.todayBtn!==!1),this.picker.find("tfoot th.clear").text(c).toggle(this.o.clearBtn!==!1),this.updateNavArrows(),this.fillMonths();var p=s(r,i-1,28),d=g.getDaysInMonth(p.getUTCFullYear(),p.getUTCMonth());p.setUTCDate(d),p.setUTCDate(d-(p.getUTCDay()-this.o.weekStart+7)%7);var v=new Date(p);v.setUTCDate(v.getUTCDate()+42),v=v.valueOf();var y=[],b;while(p.valueOf()<v){if(p.getUTCDay()===this.o.weekStart){y.push("<tr>");if(this.o.calendarWeeks){var w=new Date(+p+(this.o.weekStart-p.getUTCDay()-7)%7*864e5),E=new Date(Number(w)+(11-w.getUTCDay())%7*864e5),S=new Date(Number(S=s(E.getUTCFullYear(),0,1))+(11-S.getUTCDay())%7*864e5),x=(E-S)/864e5/7+1;y.push('<td class="cw">'+x+"</td>")}}b=this.getClassNames(p),b.push("day");if(this.o.beforeShowDay!==e.noop){var T=this.o.beforeShowDay(this._utc_to_local(p));T===t?T={}:typeof T=="boolean"?T={enabled:T}:typeof T=="string"&&(T={classes:T}),T.enabled===!1&&b.push("disabled"),T.classes&&(b=b.concat(T.classes.split(/\s+/))),T.tooltip&&(h=T.tooltip)}b=e.unique(b),y.push('<td class="'+b.join(" ")+'"'+(h?' title="'+h+'"':"")+">"+p.getUTCDate()+"</td>"),p.getUTCDay()===this.o.weekEnd&&y.push("</tr>"),p.setUTCDate(p.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(y.join(""));var N=this.picker.find(".datepicker-months").find("th:eq(1)").text(r).end().find("span").removeClass("active");e.each(this.dates,function(e,t){t.getUTCFullYear()===r&&N.eq(t.getUTCMonth()).addClass("active")}),(r<o||r>a)&&N.addClass("disabled"),r===o&&N.slice(0,u).addClass("disabled"),r===a&&N.slice(f+1).addClass("disabled"),y="",r=parseInt(r/10,10)*10;var C=this.picker.find(".datepicker-years").find("th:eq(1)").text(r+"-"+(r+9)).end().find("td");r-=1;var k=e.map(this.dates,function(e){return e.getUTCFullYear()}),L;for(var A=-1;A<11;A++)L=["year"],A===-1?L.push("old"):A===10&&L.push("new"),e.inArray(r,k)!==-1&&L.push("active"),(r<o||r>a)&&L.push("disabled"),y+='<span class="'+L.join(" ")+'">'+r+"</span>",r+=1;C.html(y)},updateNavArrows:function(){if(!this._allow_update)return;var e=new Date(this.viewDate),t=e.getUTCFullYear(),n=e.getUTCMonth();switch(this.viewMode){case 0:this.o.startDate!==-Infinity&&t<=this.o.startDate.getUTCFullYear()&&n<=this.o.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==Infinity&&t>=this.o.endDate.getUTCFullYear()&&n>=this.o.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:this.o.startDate!==-Infinity&&t<=this.o.startDate.getUTCFullYear()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==Infinity&&t>=this.o.endDate.getUTCFullYear()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}},click:function(t){t.preventDefault();var n=e(t.target).closest("span, td, th"),r,i,o;if(n.length===1)switch(n[0].nodeName.toLowerCase()){case"th":switch(n[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":var u=g.modes[this.viewMode].navStep*(n[0].className==="prev"?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,u),this._trigger("changeMonth",this.viewDate);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,u),this.viewMode===1&&this._trigger("changeYear",this.viewDate)}this.fill();break;case"today":var a=new Date;a=s(a.getFullYear(),a.getMonth(),a.getDate(),0,0,0),this.showMode(-2);var f=this.o.todayBtn==="linked"?null:"view";this._setDate(a,f);break;case"clear":var l;this.isInput?l=this.element:this.component&&(l=this.element.find("input")),l&&l.val("").change(),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()}break;case"span":n.is(".disabled")||(this.viewDate.setUTCDate(1),n.is(".month")?(o=1,i=n.parent().find("span").index(n),r=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(i),this._trigger("changeMonth",this.viewDate),this.o.minViewMode===1&&this._setDate(s(r,i,o))):(o=1,i=0,r=parseInt(n.text(),10)||0,this.viewDate.setUTCFullYear(r),this._trigger("changeYear",this.viewDate),this.o.minViewMode===2&&this._setDate(s(r,i,o))),this.showMode(-1),this.fill());break;case"td":n.is(".day")&&!n.is(".disabled")&&(o=parseInt(n.text(),10)||1,r=this.viewDate.getUTCFullYear(),i=this.viewDate.getUTCMonth(),n.is(".old")?i===0?(i=11,r-=1):i-=1:n.is(".new")&&(i===11?(i=0,r+=1):i+=1),this._setDate(s(r,i,o)))}this.picker.is(":visible")&&this._focused_from&&e(this._focused_from).focus(),delete this._focused_from},_toggle_multidate:function(e){var t=this.dates.contains(e);e?t!==-1?this.dates.remove(t):this.dates.push(e):this.dates.clear();if(typeof this.o.multidate=="number")while(this.dates.length>this.o.multidate)this.dates.remove(0)},_setDate:function(e,t){(!t||t==="date")&&this._toggle_multidate(e&&new Date(e));if(!t||t==="view")this.viewDate=e&&new Date(e);this.fill(),this.setValue(),this._trigger("changeDate");var n;this.isInput?n=this.element:this.component&&(n=this.element.find("input")),n&&n.change(),this.o.autoclose&&(!t||t==="date")&&this.hide()},moveMonth:function(e,n){if(!e)return t;if(!n)return e;var r=new Date(e.valueOf()),i=r.getUTCDate(),s=r.getUTCMonth(),o=Math.abs(n),u,a;n=n>0?1:-1;if(o===1){a=n===-1?function(){return r.getUTCMonth()===s}:function(){return r.getUTCMonth()!==u},u=s+n,r.setUTCMonth(u);if(u<0||u>11)u=(u+12)%12}else{for(var f=0;f<o;f++)r=this.moveMonth(r,n);u=r.getUTCMonth(),r.setUTCDate(i),a=function(){return u!==r.getUTCMonth()}}while(a())r.setUTCDate(--i),r.setUTCMonth(u);return r},moveYear:function(e,t){return this.moveMonth(e,t*12)},dateWithinRange:function(e){return e>=this.o.startDate&&e<=this.o.endDate},keydown:function(e){if(this.picker.is(":not(:visible)")){e.keyCode===27&&this.show();return}var t=!1,n,r,i,s=this.focusDate||this.viewDate;switch(e.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),e.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation)break;n=e.keyCode===37?-1:1,e.ctrlKey?(r=this.moveYear(this.dates.get(-1)||o(),n),i=this.moveYear(s,n),this._trigger("changeYear",this.viewDate)):e.shiftKey?(r=this.moveMonth(this.dates.get(-1)||o(),n),i=this.moveMonth(s,n),this._trigger("changeMonth",this.viewDate)):(r=new Date(this.dates.get(-1)||o()),r.setUTCDate(r.getUTCDate()+n),i=new Date(s),i.setUTCDate(s.getUTCDate()+n)),this.dateWithinRange(r)&&(this.focusDate=this.viewDate=i,this.setValue(),this.fill(),e.preventDefault());break;case 38:case 40:if(!this.o.keyboardNavigation)break;n=e.keyCode===38?-1:1,e.ctrlKey?(r=this.moveYear(this.dates.get(-1)||o(),n),i=this.moveYear(s,n),this._trigger("changeYear",this.viewDate)):e.shiftKey?(r=this.moveMonth(this.dates.get(-1)||o(),n),i=this.moveMonth(s,n),this._trigger("changeMonth",this.viewDate)):(r=new Date(this.dates.get(-1)||o()),r.setUTCDate(r.getUTCDate()+n*7),i=new Date(s),i.setUTCDate(s.getUTCDate()+n*7)),this.dateWithinRange(r)&&(this.focusDate=this.viewDate=i,this.setValue(),this.fill(),e.preventDefault());break;case 32:break;case 13:s=this.focusDate||this.dates.get(-1)||this.viewDate,this._toggle_multidate(s),t=!0,this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(e.preventDefault(),this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}if(t){this.dates.length?this._trigger("changeDate"):this._trigger("clearDate");var u;this.isInput?u=this.element:this.component&&(u=this.element.find("input")),u&&u.change()}},showMode:function(e){e&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+e))),this.picker.find(">div").hide().filter(".datepicker-"+g.modes[this.viewMode].clsName).css("display","block"),this.updateNavArrows()}};var l=function(t,n){this.element=e(t),this.inputs=e.map(n.inputs,function(e){return e.jquery?e[0]:e}),delete n.inputs,e(this.inputs).datepicker(n).bind("changeDate",e.proxy(this.dateUpdated,this)),this.pickers=e.map(this.inputs,function(t){return e(t).data("datepicker")}),this.updateDates()};l.prototype={updateDates:function(){this.dates=e.map(this.pickers,function(e){return e.getUTCDate()}),this.updateRanges()},updateRanges:function(){var t=e.map(this.dates,function(e){return e.valueOf()});e.each(this.pickers,function(e,n){n.setRange(t)})},dateUpdated:function(t){if(this.updating)return;this.updating=!0;var n=e(t.target).data("datepicker"),r=n.getUTCDate(),i=e.inArray(t.target,this.inputs),s=this.inputs.length;if(i===-1)return;e.each(this.pickers,function(e,t){t.getUTCDate()||t.setUTCDate(r)});if(r<this.dates[i])while(i>=0&&r<this.dates[i])this.pickers[i--].setUTCDate(r);else if(r>this.dates[i])while(i<s&&r>this.dates[i])this.pickers[i++].setUTCDate(r);this.updateDates(),delete this.updating},remove:function(){e.map(this.pickers,function(e){e.remove()}),delete this.element.data().datepicker}};var p=e.fn.datepicker;e.fn.datepicker=function(n){var r=Array.apply(null,arguments);r.shift();var i;return this.each(function(){var s=e(this),o=s.data("datepicker"),u=typeof n=="object"&&n;if(!o){var a=c(this,"date"),p=e.extend({},d,a,u),v=h(p.language),m=e.extend({},d,v,a,u);if(s.is(".input-daterange")||m.inputs){var g={inputs:m.inputs||s.find("input").toArray()};s.data("datepicker",o=new l(this,e.extend(m,g)))}else s.data("datepicker",o=new f(this,m))}if(typeof n=="string"&&typeof o[n]=="function"){i=o[n].apply(o,r);if(i!==t)return!1}}),i!==t?i:this};var d=e.fn.datepicker.defaults={autoclose:!1,beforeShowDay:e.noop,calendarWeeks:!1,clearBtn:!1,daysOfWeekDisabled:[],endDate:Infinity,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-Infinity,startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0},v=e.fn.datepicker.locale_opts=["format","rtl","weekStart"];e.fn.datepicker.Constructor=f;var m=e.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"}},g={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(e){return e%4===0&&e%100!==0||e%400===0},getDaysInMonth:function(e,t){return[31,g.isLeapYear(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(e){var t=e.replace(this.validParts,"\0").split("\0"),n=e.match(this.validParts);if(!t||!t.length||!n||n.length===0)throw new Error("Invalid date format.");return{separators:t,parts:n}},parseDate:function(n,r,i){function w(){var e=this.slice(0,u[c].length),t=u[c].slice(0,e.length);return e===t}if(!n)return t;if(n instanceof Date)return n;typeof r=="string"&&(r=g.parseFormat(r));var o=/([\-+]\d+)([dmwy])/,u=n.match(/([\-+]\d+)([dmwy])/g),a,l,c;if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(n)){n=new Date;for(c=0;c<u.length;c++){a=o.exec(u[c]),l=parseInt(a[1]);switch(a[2]){case"d":n.setUTCDate(n.getUTCDate()+l);break;case"m":n=f.prototype.moveMonth.call(f.prototype,n,l);break;case"w":n.setUTCDate(n.getUTCDate()+l*7);break;case"y":n=f.prototype.moveYear.call(f.prototype,n,l)}}return s(n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate(),0,0,0)}u=n&&n.match(this.nonpunctuation)||[],n=new Date;var h={},p=["yyyy","yy","M","MM","m","mm","d","dd"],d={yyyy:function(e,t){return e.setUTCFullYear(t)},yy:function(e,t){return e.setUTCFullYear(2e3+t)},m:function(e,t){if(isNaN(e))return e;t-=1;while(t<0)t+=12;t%=12,e.setUTCMonth(t);while(e.getUTCMonth()!==t)e.setUTCDate(e.getUTCDate()-1);return e},d:function(e,t){return e.setUTCDate(t)}},v,y;d.M=d.MM=d.mm=d.m,d.dd=d.d,n=s(n.getFullYear(),n.getMonth(),n.getDate(),0,0,0);var b=r.parts.slice();u.length!==b.length&&(b=e(b).filter(function(t,n){return e.inArray(n,p)!==-1}).toArray());if(u.length===b.length){var E;for(c=0,E=b.length;c<E;c++){v=parseInt(u[c],10),a=b[c];if(isNaN(v))switch(a){case"MM":y=e(m[i].months).filter(w),v=e.inArray(y[0],m[i].months)+1;break;case"M":y=e(m[i].monthsShort).filter(w),v=e.inArray(y[0],m[i].monthsShort)+1}h[a]=v}var S,x;for(c=0;c<p.length;c++)x=p[c],x in h&&!isNaN(h[x])&&(S=new Date(n),d[x](S,h[x]),isNaN(S)||(n=S))}return n},formatDate:function(t,n,r){if(!t)return"";typeof n=="string"&&(n=g.parseFormat(n));var i={d:t.getUTCDate(),D:m[r].daysShort[t.getUTCDay()],DD:m[r].days[t.getUTCDay()],m:t.getUTCMonth()+1,M:m[r].monthsShort[t.getUTCMonth()],MM:m[r].months[t.getUTCMonth()],yy:t.getUTCFullYear().toString().substring(2),yyyy:t.getUTCFullYear()};i.dd=(i.d<10?"0":"")+i.d,i.mm=(i.m<10?"0":"")+i.m,t=[];var s=e.extend([],n.separators);for(var o=0,u=n.parts.length;o<=u;o++)s.length&&t.push(s.shift()),t.push(i[n.parts[o]]);return t.join("")},headTemplate:'<thead><tr><th class="prev">'+n+"</th>"+'<th colspan="5" class="datepicker-switch"></th>'+'<th class="next">'+r+"</th>"+"</tr>"+"</thead>",contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};g.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+g.headTemplate+"<tbody></tbody>"+g.footTemplate+"</table>"+"</div>"+'<div class="datepicker-months">'+'<table class="table-condensed">'+g.headTemplate+g.contTemplate+g.footTemplate+"</table>"+"</div>"+'<div class="datepicker-years">'+'<table class="table-condensed">'+g.headTemplate+g.contTemplate+g.footTemplate+"</table>"+"</div>"+"</div>",e.fn.datepicker.DPGlobal=g,e.fn.datepicker.noConflict=function(){return e.fn.datepicker=p,this},e(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(t){var n=e(this);if(n.data("datepicker"))return;t.preventDefault(),n.datepicker("show")}),e(function(){e('[data-provide="datepicker-inline"]').datepicker()})}(window.jQuery),define("datepicker",["jquery"],function(){}),function(e){e.fn.datepicker.dates.ja={days:["","","","","","","",""],daysShort:["","","","","","","",""],daysMin:["","","","","","","",""],months:["1","2","3","4","5","6","7","8","9","10","11","12"],monthsShort:["1","2","3","4","5","6","7","8","9","10","11","12"],today:"",format:"yyyy/mm/dd"}}(jQuery),define("datepicker-locale",["bootstrap","datepicker"],function(){}),function(e,t,n,r){var i=function(t,n){this.iconUp=n.iconUp||"fa fa-chevron-up",this.iconDown=n.iconDown||"fa fa-chevron-down",this.widget="",this.$element=e(t),this.defaultTime=n.defaultTime,this.disableFocus=n.disableFocus,this.disableMousewheel=n.disableMousewheel,this.isOpen=n.isOpen,this.minuteStep=n.minuteStep,this.modalBackdrop=n.modalBackdrop,this.orientation=n.orientation,this.secondStep=n.secondStep,this.showInputs=n.showInputs,this.showMeridian=n.showMeridian,this.showSeconds=n.showSeconds,this.template=n.template,this.appendWidgetTo=n.appendWidgetTo,this.showWidgetOnAddonClick=n.showWidgetOnAddonClick,this._init()};i.prototype={constructor:i,_init:function(){var t=this;this.showWidgetOnAddonClick&&(this.$element.parent().hasClass("input-append")||this.$element.parent().hasClass("input-prepend"))?(this.$element.parent(".input-append, .input-prepend").find(".add-on").on({"click.timepicker":e.proxy(this.showWidget,this)}),this.$element.on({"focus.timepicker":e.proxy(this.highlightUnit,this),"click.timepicker":e.proxy(this.highlightUnit,this),"keydown.timepicker":e.proxy(this.elementKeydown,this),"blur.timepicker":e.proxy(this.blurElement,this),"mousewheel.timepicker DOMMouseScroll.timepicker":e.proxy(this.mousewheel,this)})):this.template?this.$element.on({"focus.timepicker":e.proxy(this.showWidget,this),"click.timepicker":e.proxy(this.showWidget,this),"blur.timepicker":e.proxy(this.blurElement,this),"mousewheel.timepicker DOMMouseScroll.timepicker":e.proxy(this.mousewheel,this)}):this.$element.on({"focus.timepicker":e.proxy(this.highlightUnit,this),"click.timepicker":e.proxy(this.highlightUnit,this),"keydown.timepicker":e.proxy(this.elementKeydown,this),"blur.timepicker":e.proxy(this.blurElement,this),"mousewheel.timepicker DOMMouseScroll.timepicker":e.proxy(this.mousewheel,this)}),this.template!==!1?this.$widget=e(this.getTemplate()).on("click",e.proxy(this.widgetClick,this)):this.$widget=!1,this.showInputs&&this.$widget!==!1&&this.$widget.find("input").each(function(){e(this).on({"click.timepicker":function(){e(this).select()},"keydown.timepicker":e.proxy(t.widgetKeydown,t),"keyup.timepicker":e.proxy(t.widgetKeyup,t)})}),this.setDefaultTime(this.defaultTime)},blurElement:function(){this.highlightedUnit=null,this.updateFromElementVal()},clear:function(){this.hour="",this.minute="",this.second="",this.meridian="",this.$element.val("")},decrementHour:function(){if(this.showMeridian)if(this.hour===1)this.hour=12;else{if(this.hour===12)return this.hour--,this.toggleMeridian();if(this.hour===0)return this.hour=11,this.toggleMeridian();this.hour--}else this.hour<=0?this.hour=23:this.hour--},decrementMinute:function(e){var t;e?t=this.minute-e:t=this.minute-this.minuteStep,t<0?(this.decrementHour(),this.minute=t+60):this.minute=t},decrementSecond:function(){var e=this.second-this.secondStep;e<0?(this.decrementMinute(!0),this.second=e+60):this.second=e},elementKeydown:function(e){switch(e.keyCode){case 9:case 27:this.updateFromElementVal();break;case 37:e.preventDefault(),this.highlightPrevUnit();break;case 38:e.preventDefault();switch(this.highlightedUnit){case"hour":this.incrementHour(),this.highlightHour();break;case"minute":this.incrementMinute(),this.highlightMinute();break;case"second":this.incrementSecond(),this.highlightSecond();break;case"meridian":this.toggleMeridian(),this.highlightMeridian()}this.update();break;case 39:e.preventDefault(),this.highlightNextUnit();break;case 40:e.preventDefault();switch(this.highlightedUnit){case"hour":this.decrementHour(),this.highlightHour();break;case"minute":this.decrementMinute(),this.highlightMinute();break;case"second":this.decrementSecond(),this.highlightSecond();break;case"meridian":this.toggleMeridian(),this.highlightMeridian()}this.update()}},getCursorPosition:function(){var e=this.$element.get(0);if("selectionStart"in e)return e.selectionStart;if(n.selection){e.focus();var t=n.selection.createRange(),r=n.selection.createRange().text.length;return t.moveStart("character",-e.value.length),t.text.length-r}},getTemplate:function(){var e,t,n,r,i,s;this.showInputs?(t='<input type="text" class="bootstrap-timepicker-hour" maxlength="2"/>',n='<input type="text" class="bootstrap-timepicker-minute" maxlength="2"/>',r='<input type="text" class="bootstrap-timepicker-second" maxlength="2"/>',i='<input type="text" class="bootstrap-timepicker-meridian" maxlength="2"/>'):(t='<span class="bootstrap-timepicker-hour"></span>',n='<span class="bootstrap-timepicker-minute"></span>',r='<span class="bootstrap-timepicker-second"></span>',i='<span class="bootstrap-timepicker-meridian"></span>'),s='<table><tr><td><a href="#" data-action="incrementHour"><i class="'+this.iconUp+'"></i></a></td>'+'<td class="separator">&nbsp;</td>'+'<td><a href="#" data-action="incrementMinute"><i class="'+this.iconUp+'"></i></a></td>'+(this.showSeconds?'<td class="separator">&nbsp;</td><td><a href="#" data-action="incrementSecond"><i class="'+this.iconUp+'"></i></a></td>':"")+(this.showMeridian?'<td class="separator">&nbsp;</td><td class="meridian-column"><a href="#" data-action="toggleMeridian"><i class="'+this.iconUp+'"></i></a></td>':"")+"</tr>"+"<tr>"+"<td>"+t+"</td> "+'<td class="separator">:</td>'+"<td>"+n+"</td> "+(this.showSeconds?'<td class="separator">:</td><td>'+r+"</td>":"")+(this.showMeridian?'<td class="separator">&nbsp;</td><td>'+i+"</td>":"")+"</tr>"+"<tr>"+'<td><a href="#" data-action="decrementHour"><i class="'+this.iconDown+'"></i></a></td>'+'<td class="separator"></td>'+'<td><a href="#" data-action="decrementMinute"><i class="'+this.iconDown+'"></i></a></td>'+(this.showSeconds?'<td class="separator">&nbsp;</td><td><a href="#" data-action="decrementSecond"><i class="'+this.iconDown+'"></i></a></td>':"")+(this.showMeridian?'<td class="separator">&nbsp;</td><td><a href="#" data-action="toggleMeridian"><i class="'+this.iconDown+'"></i></a></td>':"")+"</tr>"+"</table>";switch(this.template){case"modal":e='<div class="bootstrap-timepicker-widget modal hide fade in" data-backdrop="'+(this.modalBackdrop?"true":"false")+'">'+'<div class="modal-header">'+'<a href="#" class="close" data-dismiss="modal"></a>'+"<h3>Pick a Time</h3>"+"</div>"+'<div class="modal-content">'+s+"</div>"+'<div class="modal-footer">'+'<a href="#" class="btn btn-primary" data-dismiss="modal">OK</a>'+"</div>"+"</div>";break;case"dropdown":e='<div class="bootstrap-timepicker-widget dropdown-menu">'+s+"</div>"}return e},getTime:function(){return this.hour===""?"":this.hour+":"+(this.minute.toString().length===1?"0"+this.minute:this.minute)+(this.showSeconds?":"+(this.second.toString().length===1?"0"+this.second:this.second):"")+(this.showMeridian?" "+this.meridian:"")},hideWidget:function(){if(this.isOpen===!1)return;this.$element.trigger({type:"hide.timepicker",time:{value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,meridian:this.meridian}}),this.template==="modal"&&this.$widget.modal?this.$widget.modal("hide"):this.$widget.removeClass("open"),e(n).off("mousedown.timepicker, touchend.timepicker"),this.isOpen=!1,this.$widget.detach()},highlightUnit:function(){this.position=this.getCursorPosition(),this.position>=0&&this.position<=2?this.highlightHour():this.position>=3&&this.position<=5?this.highlightMinute():this.position>=6&&this.position<=8?this.showSeconds?this.highlightSecond():this.highlightMeridian():this.position>=9&&this.position<=11&&this.highlightMeridian()},highlightNextUnit:function(){switch(this.highlightedUnit){case"hour":this.highlightMinute();break;case"minute":this.showSeconds?this.highlightSecond():this.showMeridian?this.highlightMeridian():this.highlightHour();break;case"second":this.showMeridian?this.highlightMeridian():this.highlightHour();break;case"meridian":this.highlightHour()}},highlightPrevUnit:function(){switch(this.highlightedUnit){case"hour":this.showMeridian?this.highlightMeridian():this.showSeconds?this.highlightSecond():this.highlightMinute();break;case"minute":this.highlightHour();break;case"second":this.highlightMinute();break;case"meridian":this.showSeconds?this.highlightSecond():this.highlightMinute()}},highlightHour:function(){var e=this.$element.get(0),t=this;this.highlightedUnit="hour",e.setSelectionRange&&setTimeout(function(){t.hour<10?e.setSelectionRange(0,1):e.setSelectionRange(0,2)},0)},highlightMinute:function(){var e=this.$element.get(0),t=this;this.highlightedUnit="minute",e.setSelectionRange&&setTimeout(function(){t.hour<10?e.setSelectionRange(2,4):e.setSelectionRange(3,5)},0)},highlightSecond:function(){var e=this.$element.get(0),t=this;this.highlightedUnit="second",e.setSelectionRange&&setTimeout(function(){t.hour<10?e.setSelectionRange(5,7):e.setSelectionRange(6,8)},0)},highlightMeridian:function(){var e=this.$element.get(0),t=this;this.highlightedUnit="meridian",e.setSelectionRange&&(this.showSeconds?setTimeout(function(){t.hour<10?e.setSelectionRange(8,10):e.setSelectionRange(9,11)},0):setTimeout(function(){t.hour<10?e.setSelectionRange(5,7):e.setSelectionRange(6,8)},0))},incrementHour:function(){if(this.showMeridian){if(this.hour===11)return this.hour++,this.toggleMeridian();this.hour===12&&(this.hour=0)}if(this.hour===23){this.hour=0;return}this.hour++},incrementMinute:function(e){var t;e?t=this.minute+e:t=this.minute+this.minuteStep-this.minute%this.minuteStep,t>59?(this.incrementHour(),this.minute=t-60):this.minute=t},incrementSecond:function(){var e=this.second+this.secondStep-this.second%this.secondStep;e>59?(this.incrementMinute(!0),this.second=e-60):this.second=e},mousewheel:function(t){if(this.disableMousewheel)return;t.preventDefault(),t.stopPropagation();var n=t.originalEvent.wheelDelta||-t.originalEvent.detail,r=null;t.type==="mousewheel"?r=t.originalEvent.wheelDelta*-1:t.type==="DOMMouseScroll"&&(r=40*t.originalEvent.detail),r&&(t.preventDefault(),e(this).scrollTop(r+e(this).scrollTop()));switch(this.highlightedUnit){case"minute":n>0?this.incrementMinute():this.decrementMinute(),this.highlightMinute();break;case"second":n>0?this.incrementSecond():this.decrementSecond(),this.highlightSecond();break;case"meridian":this.toggleMeridian(),this.highlightMeridian();break;default:n>0?this.incrementHour():this.decrementHour(),this.highlightHour()}return!1},place:function(){if(this.isInline)return;var n=this.$widget.outerWidth(),r=this.$widget.outerHeight(),i=10,s=e(t).width(),o=e(t).height(),u=e(t).scrollTop(),a=parseInt(this.$element.parents().filter(function(){}).first().css("z-index"),10)+10,f=this.component?this.component.parent().offset():this.$element.offset(),l=this.component?this.component.outerHeight(!0):this.$element.outerHeight(!1),c=this.component?this.component.outerWidth(!0):this.$element.outerWidth(!1),h=f.left,p=f.top;this.$widget.removeClass("timepicker-orient-top timepicker-orient-bottom timepicker-orient-right timepicker-orient-left"),this.orientation.x!=="auto"?(this.picker.addClass("datepicker-orient-"+this.orientation.x),this.orientation.x==="right"&&(h-=n-c)):(this.$widget.addClass("timepicker-orient-left"),f.left<0?h-=f.left-i:f.left+n>s&&(h=s-n-i));var d=this.orientation.y,v,m;d==="auto"&&(v=-u+f.top-r,m=u+o-(f.top+l+r),Math.max(v,m)===m?d="top":d="bottom"),this.$widget.addClass("timepicker-orient-"+d),d==="top"?p+=l:p-=r+parseInt(this.$widget.css("padding-top"),10),this.$widget.css({top:p,left:h,zIndex:a})},remove:function(){e("document").off(".timepicker"),this.$widget&&this.$widget.remove(),delete this.$element.data().timepicker},setDefaultTime:function(e){if(!this.$element.val())if(e==="current"){var t=new Date,n=t.getHours(),r=t.getMinutes(),i=t.getSeconds(),s="AM";i!==0&&(i=Math.ceil(t.getSeconds()/this.secondStep)*this.secondStep,i===60&&(r+=1,i=0)),r!==0&&(r=Math.ceil(t.getMinutes()/this.minuteStep)*this.minuteStep,r===60&&(n+=1,r=0)),this.showMeridian&&(n===0?n=12:n>=12?(n>12&&(n-=12),s="PM"):s="AM"),this.hour=n,this.minute=r,this.second=i,this.meridian=s,this.update()}else e===!1?(this.hour=0,this.minute=0,this.second=0,this.meridian="AM"):this.setTime(e);else this.updateFromElementVal()},setTime:function(e,t){if(!e){this.clear();return}var n,r,i,s,o;typeof e=="object"&&e.getMonth?(r=e.getHours(),i=e.getMinutes(),s=e.getSeconds(),this.showMeridian&&(o="AM",r>12&&(o="PM",r%=12),r===12&&(o="PM"))):(e.match(/p/i)!==null?o="PM":o="AM",e=e.replace(/[^0-9\:]/g,""),n=e.split(":"),r=n[0]?n[0].toString():n.toString(),i=n[1]?n[1].toString():"",s=n[2]?n[2].toString():"",r.length>4&&(s=r.substr(4,2)),r.length>2&&(i=r.substr(2,2),r=r.substr(0,2)),i.length>2&&(s=i.substr(2,2),i=i.substr(0,2)),s.length>2&&(s=s.substr(2,2)),r=parseInt(r,10),i=parseInt(i,10),s=parseInt(s,10),isNaN(r)&&(r=0),isNaN(i)&&(i=0),isNaN(s)&&(s=0),this.showMeridian?r<1?r=1:r>12&&(r=12):(r>=24?r=23:r<0&&(r=0),r<13&&o==="PM"&&(r+=12)),i<0?i=0:i>=60&&(i=59),this.showSeconds&&(isNaN(s)?s=0:s<0?s=0:s>=60&&(s=59))),this.hour=r,this.minute=i,this.second=s,this.meridian=o,this.update(t)},showWidget:function(){if(this.isOpen)return;if(this.$element.is(":disabled"))return;this.$widget.appendTo(this.appendWidgetTo);var t=this;e(n).on("mousedown.timepicker, touchend.timepicker",function(e){t.$element.parent().find(e.target).length||t.$widget.is(e.target)||t.$widget.find(e.target).length||t.hideWidget()}),this.$element.trigger({type:"show.timepicker",time:{value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,meridian:this.meridian}}),this.place(),this.disableFocus&&this.$element.blur(),this.hour===""&&(this.defaultTime?this.setDefaultTime(this.defaultTime):this.setTime("0:0:0")),this.template==="modal"&&this.$widget.modal?this.$widget.modal("show").on("hidden",e.proxy(this.hideWidget,this)):this.isOpen===!1&&this.$widget.addClass("open"),this.isOpen=!0},toggleMeridian:function(){this.meridian=this.meridian==="AM"?"PM":"AM"},update:function(e){this.updateElement(),e||this.updateWidget(),this.$element.trigger({type:"changeTime.timepicker",time:{value:this.getTime(),hours:this.hour,minutes:this.minute,seconds:this.second,meridian:this.meridian}})},updateElement:function(){this.$element.val(this.getTime()).change()},updateFromElementVal:function(){this.setTime(this.$element.val())},updateWidget:function(){if(this.$widget===!1)return;var e=this.hour,t=this.minute.toString().length===1?"0"+this.minute:this.minute,n=this.second.toString().length===1?"0"+this.second:this.second;this.showInputs?(this.$widget.find("input.bootstrap-timepicker-hour").val(e),this.$widget.find("input.bootstrap-timepicker-minute").val(t),this.showSeconds&&this.$widget.find("input.bootstrap-timepicker-second").val(n),this.showMeridian&&this.$widget.find("input.bootstrap-timepicker-meridian").val(this.meridian)):(this.$widget.find("span.bootstrap-timepicker-hour").text(e),this.$widget.find("span.bootstrap-timepicker-minute").text(t),this.showSeconds&&this.$widget.find("span.bootstrap-timepicker-second").text(n),this.showMeridian&&this.$widget.find("span.bootstrap-timepicker-meridian").text(this.meridian))},updateFromWidgetInputs:function(){if(this.$widget===!1)return;var e=this.$widget.find("input.bootstrap-timepicker-hour").val()+":"+this.$widget.find("input.bootstrap-timepicker-minute").val()+(this.showSeconds?":"+this.$widget.find("input.bootstrap-timepicker-second").val():"")+(this.showMeridian?this.$widget.find("input.bootstrap-timepicker-meridian").val():"");this.setTime(e,!0)},widgetClick:function(t){t.stopPropagation(),t.preventDefault();var n=e(t.target),r=n.closest("a").data("action");r&&this[r](),this.update(),n.is("input")&&n.get(0).setSelectionRange(0,2)},widgetKeydown:function(t){var n=e(t.target),r=n.attr("class").replace("bootstrap-timepicker-","");switch(t.keyCode){case 9:if(this.showMeridian&&r==="meridian"||this.showSeconds&&r==="second"||!this.showMeridian&&!this.showSeconds&&r==="minute")return this.hideWidget();break;case 27:this.hideWidget();break;case 38:t.preventDefault();switch(r){case"hour":this.incrementHour();break;case"minute":this.incrementMinute();break;case"second":this.incrementSecond();break;case"meridian":this.toggleMeridian()}this.setTime(this.getTime()),n.get(0).setSelectionRange(0,2);break;case 40:t.preventDefault();switch(r){case"hour":this.decrementHour();break;case"minute":this.decrementMinute();break;case"second":this.decrementSecond();break;case"meridian":this.toggleMeridian()}this.setTime(this.getTime()),n.get(0).setSelectionRange(0,2)}},widgetKeyup:function(e){(e.keyCode===65||e.keyCode===77||e.keyCode===80||e.keyCode===46||e.keyCode===8||e.keyCode>=46&&e.keyCode<=57)&&this.updateFromWidgetInputs()}},e.fn.timepicker=function(t){var n=Array.apply(null,arguments);return n.shift(),this.each(function(){var r=e(this),s=r.data("timepicker"),o=typeof t=="object"&&t;s||r.data("timepicker",s=new i(this,e.extend({},e.fn.timepicker.defaults,o,e(this).data()))),typeof t=="string"&&s[t].apply(s,n)})},e.fn.timepicker.defaults={defaultTime:"current",disableFocus:!1,disableMousewheel:!1,isOpen:!1,minuteStep:15,modalBackdrop:!1,orientation:{x:"auto",y:"auto"},secondStep:15,showSeconds:!1,showInputs:!0,showMeridian:!0,template:"dropdown",appendWidgetTo:"body",showWidgetOnAddonClick:!0},e.fn.timepicker.Constructor=i}(jQuery,window,document),define("timepicker",["jquery"],function(){}),function(e,t){var n=e.fn.wizard,r=function(t,n){var r;this.$element=e(t),this.options=e.extend({},e.fn.wizard.defaults,n),this.options.disablePreviousStep=this.$element.data().restrict==="previous"?!0:!1,this.currentStep=this.options.selectedItem.step,this.numSteps=this.$element.find(".wizard-steps > li").length,this.$prevBtn=this.$element.find("button.btn-prev"),this.$nextBtn=this.$element.find("button.btn-next"),r=this.$nextBtn.children().detach(),this.nextText=e.trim(this.$nextBtn.text()),this.$nextBtn.append(r),this.$prevBtn.on("click",e.proxy(this.previous,this)),this.$nextBtn.on("click",e.proxy(this.next,this)),this.$element.on("click","li.complete",e.proxy(this.stepclicked,this)),this.currentStep>1&&this.selectedItem(this.options.selectedItem),this.options.disablePreviousStep&&(this.$prevBtn.attr("disabled",!0),this.$element.find(".wizard-steps").addClass("previous-disabled")),this.$stepContainer=e(this.$element.data("target")||"body")};r.prototype={constructor:r,setState:function(){var t=this.currentStep>1,n=this.currentStep===1,r=this.currentStep===this.numSteps;this.options.disablePreviousStep||this.$prevBtn.attr("disabled",n===!0||t===!1);var i=this.$nextBtn.data();if(i&&i.last){this.lastText=i.last;if(typeof this.lastText!="undefined"){var s=r!==!0?this.nextText:this.lastText,o=this.$nextBtn.children().detach();this.$nextBtn.text(s).append(o)}}var u=this.$element.find(".wizard-steps > li");u.removeClass("active").removeClass("complete"),u.find("span.badge").removeClass("badge-info").removeClass("badge-success");var a=".wizard-steps > li:lt("+(this.currentStep-1)+")",f=this.$element.find(a);f.addClass("complete"),f.find("span.badge").addClass("badge-success");var l=".wizard-steps > li:eq("+(this.currentStep-1)+")",c=this.$element.find(l);c.addClass("active"),c.find("span.badge").addClass("badge-info");var h=c.data().target;this.$stepContainer.find(".step-pane").removeClass("active"),e(h).addClass("active"),this.$element.trigger("changed")},stepclicked:function(t){var n=e(t.currentTarget),r=this.$element.find(".wizard-steps li").index(n),i=!0;this.options.disablePreviousStep&&r<this.currentStep&&(i=!1);if(i){var s=e.Event("stepclick");this.$element.trigger(s,{step:r+1});if(s.isDefaultPrevented())return;this.currentStep=r+1,this.setState()}},previous:function(){var t=this.currentStep>1;this.options.disablePreviousStep&&(t=!1);if(t){var n=e.Event("change");this.$element.trigger(n,{step:this.currentStep,direction:"previous"});if(n.isDefaultPrevented())return;this.currentStep-=1,this.setState()}},next:function(){var t=this.currentStep+1<=this.numSteps,n=this.currentStep===this.numSteps;if(t){var r=e.Event("change");this.$element.trigger(r,{step:this.currentStep,direction:"next"});if(r.isDefaultPrevented())return;this.currentStep+=1,this.setState()}else n&&this.$element.trigger("finished")},selectedItem:function(e){var t,n;return e?(n=e.step||-1,n>=1&&n<=this.numSteps&&(this.currentStep=n,this.setState()),t=this):t={step:this.currentStep},t}},e.fn.wizard=function(n){var i=Array.prototype.slice.call(arguments,1),s,o=this.each(function(){var t=e(this),o=t.data("wizard"),u=typeof n=="object"&&n;o||t.data("wizard",o=new r(this,u)),typeof n=="string"&&(s=o[n].apply(o,i))});return s===t?o:s},e.fn.wizard.defaults={selectedItem:{step:1}},e.fn.wizard.Constructor=r,e.fn.wizard.noConflict=function(){return e.fn.wizard=n,this},e(function(){e("body").on("mouseover.wizard.data-api",".wizard",function(){var t=e(this);if(t.data("wizard"))return;t.wizard(t.data())})})}(window.jQuery),define("wizard",["bootstrap"],function(){}),function(e){e.Jcrop=function(t,n){function a(e){return Math.round(e)+"px"}function f(e){return r.baseClass+"-"+e}function l(){return e.fx.step.hasOwnProperty("backgroundColor")}function c(t){var n=e(t).offset();return[n.left,n.top]}function h(e){return[e.pageX-i[0],e.pageY-i[1]]}function p(t){typeof t!="object"&&(t={}),r=e.extend(r,t),e.each(["onChange","onSelect","onRelease","onDblClick"],function(e,t){typeof r[t]!="function"&&(r[t]=function(){})})}function d(e,t,n){i=c(A),nt.setCursor(e==="move"?e:e+"-resize");if(e==="move")return nt.activateHandlers(m(t),E,n);var r=Z.getFixed(),s=g(e),o=Z.getCorner(g(s));Z.setPressed(Z.getCorner(s)),Z.setCurrent(o),nt.activateHandlers(v(e,r),E,n)}function v(e,t){return function(n){if(!r.aspectRatio)switch(e){case"e":n[1]=t.y2;break;case"w":n[1]=t.y2;break;case"n":n[0]=t.x2;break;case"s":n[0]=t.x2}else switch(e){case"e":n[1]=t.y+1;break;case"w":n[1]=t.y+1;break;case"n":n[0]=t.x+1;break;case"s":n[0]=t.x+1}Z.setCurrent(n),tt.update()}}function m(e){var t=e;return rt.watchKeys(),function(e){Z.moveOffset([e[0]-t[0],e[1]-t[1]]),t=e,tt.update()}}function g(e){switch(e){case"n":return"sw";case"s":return"nw";case"e":return"nw";case"w":return"ne";case"ne":return"sw";case"nw":return"se";case"se":return"nw";case"sw":return"ne"}}function y(e){return function(t){return r.disabled?!1:e==="move"&&!r.allowMove?!1:(i=c(A),K=!0,d(e,h(t)),t.stopPropagation(),t.preventDefault(),!1)}}function b(e,t,n){var r=e.width(),i=e.height();r>t&&t>0&&(r=t,i=t/e.width()*e.height()),i>n&&n>0&&(i=n,r=n/e.height()*e.width()),X=e.width()/r,V=e.height()/i,e.width(r).height(i)}function w(e){return{x:e.x*X,y:e.y*V,x2:e.x2*X,y2:e.y2*V,w:e.w*X,h:e.h*V}}function E(e){var t=Z.getFixed();t.w>r.minSelect[0]&&t.h>r.minSelect[1]?(tt.enableHandles(),tt.done()):tt.release(),nt.setCursor(r.allowSelect?"crosshair":"default")}function S(e){if(r.disabled)return!1;if(!r.allowSelect)return!1;K=!0,i=c(A),tt.disableHandles(),nt.setCursor("crosshair");var t=h(e);return Z.setPressed(t),tt.update(),nt.activateHandlers(x,E,e.type.substring(0,5)==="touch"),rt.watchKeys(),e.stopPropagation(),e.preventDefault(),!1}function x(e){Z.setCurrent(e),tt.update()}function T(){var t=e("<div></div>").addClass(f("tracker"));return o&&t.css({opacity:0,backgroundColor:"white"}),t}function it(e){_.removeClass().addClass(f("holder")).addClass(e)}function st(e,t){function b(){window.setTimeout(w,c)}var n=e[0]/X,i=e[1]/V,s=e[2]/X,o=e[3]/V;if(Q)return;var u=Z.flipCoords(n,i,s,o),a=Z.getFixed(),f=[a.x,a.y,a.x2,a.y2],l=f,c=r.animationDelay,h=u[0]-f[0],p=u[1]-f[1],d=u[2]-f[2],v=u[3]-f[3],m=0,g=r.swingSpeed;n=l[0],i=l[1],s=l[2],o=l[3],tt.animMode(!0);var y,w=function(){return function(){m+=(100-m)/g,l[0]=Math.round(n+m/100*h),l[1]=Math.round(i+m/100*p),l[2]=Math.round(s+m/100*d),l[3]=Math.round(o+m/100*v),m>=99.8&&(m=100),m<100?(ut(l),b()):(tt.done(),tt.animMode(!1),typeof t=="function"&&t.call(yt))}}();b()}function ot(e){ut([e[0]/X,e[1]/V,e[2]/X,e[3]/V]),r.onSelect.call(yt,w(Z.getFixed())),tt.enableHandles()}function ut(e){Z.setPressed([e[0],e[1]]),Z.setCurrent([e[2],e[3]]),tt.update()}function at(){return w(Z.getFixed())}function ft(){return Z.getFixed()}function lt(e){p(e),gt()}function ct(){r.disabled=!0,tt.disableHandles(),tt.setCursor("default"),nt.setCursor("default")}function ht(){r.disabled=!1,gt()}function pt(){tt.done(),nt.activateHandlers(null,null)}function dt(){_.remove(),C.show(),C.css("visibility","visible"),e(t).removeData("Jcrop")}function vt(e,t){tt.release(),ct();var n=new Image;n.onload=function(){var i=n.width,s=n.height,o=r.boxWidth,u=r.boxHeight;A.width(i).height(s),A.attr("src",e),D.attr("src",e),b(A,o,u),O=A.width(),M=A.height(),D.width(O).height(M),F.width(O+j*2).height(M+j*2),_.width(O).height(M),et.resize(O,M),ht(),typeof t=="function"&&t.call(yt)},n.src=e}function mt(e,t,n){var i=t||r.bgColor;r.bgFade&&l()&&r.fadeTime&&!n?e.animate({backgroundColor:i},{queue:!1,duration:r.fadeTime}):e.css("backgroundColor",i)}function gt(e){r.allowResize?e?tt.enableOnly():tt.enableHandles():tt.disableHandles(),nt.setCursor(r.allowSelect?"crosshair":"default"),tt.setCursor(r.allowMove?"move":"default"),r.hasOwnProperty("trueSize")&&(X=r.trueSize[0]/O,V=r.trueSize[1]/M),r.hasOwnProperty("setSelect")&&(ot(r.setSelect),tt.done(),delete r.setSelect),et.refresh(),r.bgColor!=I&&(mt(r.shade?et.getShades():_,r.shade?r.shadeColor||r.bgColor:r.bgColor),I=r.bgColor),q!=r.bgOpacity&&(q=r.bgOpacity,r.shade?et.refresh():tt.setBgOpacity(q)),R=r.maxSize[0]||0,U=r.maxSize[1]||0,z=r.minSize[0]||0,W=r.minSize[1]||0,r.hasOwnProperty("outerImage")&&(A.attr("src",r.outerImage),delete r.outerImage),tt.refresh()}var r=e.extend({},e.Jcrop.defaults),i,s=navigator.userAgent.toLowerCase(),o=/msie/.test(s),u=/msie [1-6]\./.test(s);typeof t!="object"&&(t=e(t)[0]),typeof n!="object"&&(n={}),p(n);var N={border:"none",visibility:"visible",margin:0,padding:0,position:"absolute",top:0,left:0},C=e(t),k=!0;if(t.tagName=="IMG"){if(C[0].width!=0&&C[0].height!=0)C.width(C[0].width),C.height(C[0].height);else{var L=new Image;L.src=C[0].src,C.width(L.width),C.height(L.height)}var A=C.clone().removeAttr("id").css(N).show();A.width(C.width()),A.height(C.height()),C.after(A).hide()}else A=C.css(N).show(),k=!1,r.shade===null&&(r.shade=!0);b(A,r.boxWidth,r.boxHeight);var O=A.width(),M=A.height(),_=e("<div />").width(O).height(M).addClass(f("holder")).css({position:"relative",backgroundColor:r.bgColor}).insertAfter(C).append(A);r.addClass&&_.addClass(r.addClass);var D=e("<div />"),P=e("<div />").width("100%").height("100%").css({zIndex:310,position:"absolute",overflow:"hidden"}),H=e("<div />").width("100%").height("100%").css("zIndex",320),B=e("<div />").css({position:"absolute",zIndex:600}).dblclick(function(){var e=Z.getFixed();r.onDblClick.call(yt,e)}).insertBefore(A).append(P,H);k&&(D=e("<img />").attr("src",A.attr("src")).css(N).width(O).height(M),P.append(D)),u&&B.css({overflowY:"hidden"});var j=r.boundary,F=T().width(O+j*2).height(M+j*2).css({position:"absolute",top:a(-j),left:a(-j),zIndex:290}).mousedown(S),I=r.bgColor,q=r.bgOpacity,R,U,z,W,X,V,J=!0,K,Q,G;i=c(A);var Y=function(){function e(){var e={},t=["touchstart","touchmove","touchend"],n=document.createElement("div"),r;try{for(r=0;r<t.length;r++){var i=t[r];i="on"+i;var s=i in n;s||(n.setAttribute(i,"return;"),s=typeof n[i]=="function"),e[t[r]]=s}return e.touchstart&&e.touchend&&e.touchmove}catch(o){return!1}}function t(){return r.touchSupport===!0||r.touchSupport===!1?r.touchSupport:e()}return{createDragger:function(e){return function(t){return r.disabled?!1:e==="move"&&!r.allowMove?!1:(i=c(A),K=!0,d(e,h(Y.cfilter(t)),!0),t.stopPropagation(),t.preventDefault(),!1)}},newSelection:function(e){return S(Y.cfilter(e))},cfilter:function(e){return e.pageX=e.originalEvent.changedTouches[0].pageX,e.pageY=e.originalEvent.changedTouches[0].pageY,e},isSupported:e,support:t()}}(),Z=function(){function u(r){r=p(r),n=e=r[0],i=t=r[1]}function a(e){e=p(e),s=e[0]-n,o=e[1]-i,n=e[0],i=e[1]}function f(){return[s,o]}function l(r){var s=r[0],o=r[1];0>e+s&&(s-=s+e),0>t+o&&(o-=o+t),M<i+o&&(o+=M-(i+o)),O<n+s&&(s+=O-(n+s)),e+=s,n+=s,t+=o,i+=o}function c(e){var t=h();switch(e){case"ne":return[t.x2,t.y];case"nw":return[t.x,t.y];case"se":return[t.x2,t.y2];case"sw":return[t.x,t.y2]}}function h(){if(!r.aspectRatio)return v();var s=r.aspectRatio,o=r.minSize[0]/X,u=r.maxSize[0]/X,a=r.maxSize[1]/V,f=n-e,l=i-t,c=Math.abs(f),h=Math.abs(l),p=c/h,g,y,b,w;return u===0&&(u=O*10),a===0&&(a=M*10),p<s?(y=i,b=h*s,g=f<0?e-b:b+e,g<0?(g=0,w=Math.abs((g-e)/s),y=l<0?t-w:w+t):g>O&&(g=O,w=Math.abs((g-e)/s),y=l<0?t-w:w+t)):(g=n,w=c/s,y=l<0?t-w:t+w,y<0?(y=0,b=Math.abs((y-t)*s),g=f<0?e-b:b+e):y>M&&(y=M,b=Math.abs(y-t)*s,g=f<0?e-b:b+e)),g>e?(g-e<o?g=e+o:g-e>u&&(g=e+u),y>t?y=t+(g-e)/s:y=t-(g-e)/s):g<e&&(e-g<o?g=e-o:e-g>u&&(g=e-u),y>t?y=t+(e-g)/s:y=t-(e-g)/s),g<0?(e-=g,g=0):g>O&&(e-=g-O,g=O),y<0?(t-=y,y=0):y>M&&(t-=y-M,y=M),m(d(e,t,g,y))}function p(e){return e[0]<0&&(e[0]=0),e[1]<0&&(e[1]=0),e[0]>O&&(e[0]=O),e[1]>M&&(e[1]=M),[Math.round(e[0]),Math.round(e[1])]}function d(e,t,n,r){var i=e,s=n,o=t,u=r;return n<e&&(i=n,s=e),r<t&&(o=r,u=t),[i,o,s,u]}function v(){var r=n-e,s=i-t,o;return R&&Math.abs(r)>R&&(n=r>0?e+R:e-R),U&&Math.abs(s)>U&&(i=s>0?t+U:t-U),W/V&&Math.abs(s)<W/V&&(i=s>0?t+W/V:t-W/V),z/X&&Math.abs(r)<z/X&&(n=r>0?e+z/X:e-z/X),e<0&&(n-=e,e-=e),t<0&&(i-=t,t-=t),n<0&&(e-=n,n-=n),i<0&&(t-=i,i-=i),n>O&&(o=n-O,e-=o,n-=o),i>M&&(o=i-M,t-=o,i-=o),e>O&&(o=e-M,i-=o,t-=o),t>M&&(o=t-M,i-=o,t-=o),m(d(e,t,n,i))}function m(e){return{x:e[0],y:e[1],x2:e[2],y2:e[3],w:e[2]-e[0],h:e[3]-e[1]}}var e=0,t=0,n=0,i=0,s,o;return{flipCoords:d,setPressed:u,setCurrent:a,getOffset:f,moveOffset:l,getCorner:c,getFixed:h}}(),et=function(){function s(e,t){i.left.css({height:a(t)}),i.right.css({height:a(t)})}function o(){return u(Z.getFixed())}function u(e){i.top.css({left:a(e.x),width:a(e.w),height:a(e.y)}),i.bottom.css({top:a(e.y2),left:a(e.x),width:a(e.w),height:a(M-e.y2)}),i.right.css({left:a(e.x2),width:a(O-e.x2)}),i.left.css({width:a(e.x)})}function f(){return e("<div />").css({position:"absolute",backgroundColor:r.shadeColor||r.bgColor}).appendTo(n)}function l(){t||(t=!0,n.insertBefore(A),o(),tt.setBgOpacity(1,0,1),D.hide(),c(r.shadeColor||r.bgColor,1),tt.isAwake()?p(r.bgOpacity,1):p(1,1))}function c(e,t){mt(v(),e,t)}function h(){t&&(n.remove(),D.show(),t=!1,tt.isAwake()?tt.setBgOpacity(r.bgOpacity,1,1):(tt.setBgOpacity(1,1,1),tt.disableHandles()),mt(_,0,1))}function p(e,i){t&&(r.bgFade&&!i?n.animate({opacity:1-e},{queue:!1,duration:r.fadeTime}):n.css({opacity:1-e}))}function d(){r.shade?l():h(),tt.isAwake()&&p(r.bgOpacity)}function v(){return n.children()}var t=!1,n=e("<div />").css({position:"absolute",zIndex:240,opacity:0}),i={top:f(),left:f().height(M),right:f().height(M),bottom:f()};return{update:o,updateRaw:u,getShades:v,setBgColor:c,enable:l,disable:h,resize:s,refresh:d,opacity:p}}(),tt=function(){function l(t){var n=e("<div />").css({position:"absolute",opacity:r.borderOpacity}).addClass(f(t));return P.append(n),n}function c(t,n){var r=e("<div />").mousedown(y(t)).css({cursor:t+"-resize",position:"absolute",zIndex:n}).addClass("ord-"+t);return Y.support&&r.bind("touchstart.jcrop",Y.createDragger(t)),H.append(r),r}function h(e){var t=r.handleSize,i=c(e,n++).css({opacity:r.handleOpacity}).addClass(f("handle"));return t&&i.width(t).height(t),i}function p(e){return c(e,n++).addClass("jcrop-dragbar")}function d(e){var t;for(t=0;t<e.length;t++)o[e[t]]=p(e[t])}function v(e){var t,n;for(n=0;n<e.length;n++){switch(e[n]){case"n":t="hline";break;case"s":t="hline bottom";break;case"e":t="vline right";break;case"w":t="vline"}i[e[n]]=l(t)}}function m(e){var t;for(t=0;t<e.length;t++)s[e[t]]=h(e[t])}function g(e,t){r.shade||D.css({top:a(-t),left:a(-e)}),B.css({top:a(t),left:a(e)})}function b(e,t){B.width(Math.round(e)).height(Math.round(t))}function E(){var e=Z.getFixed();Z.setPressed([e.x,e.y]),Z.setCurrent([e.x2,e.y2]),S()}function S(e){if(t)return x(e)}function x(e){var n=Z.getFixed();b(n.w,n.h),g(n.x,n.y),r.shade&&et.updateRaw(n),t||C(),e?r.onSelect.call(yt,w(n)):r.onChange.call(yt,w(n))}function N(e,n,i){if(!t&&!n)return;r.bgFade&&!i?A.animate({opacity:e},{queue:!1,duration:r.fadeTime}):A.css("opacity",e)}function C(){B.show(),r.shade?et.opacity(q):N(q,!0),t=!0}function k(){M(),B.hide(),r.shade?et.opacity(1):N(1),t=!1,r.onRelease.call(yt)}function L(){u&&H.show()}function O(){u=!0;if(r.allowResize)return H.show(),!0}function M(){u=!1,H.hide()}function _(e){e?(Q=!0,M()):(Q=!1,O())}function j(){_(!1),E()}var t,n=370,i={},s={},o={},u=!1;r.dragEdges&&e.isArray(r.createDragbars)&&d(r.createDragbars),e.isArray(r.createHandles)&&m(r.createHandles),r.drawBorders&&e.isArray(r.createBorders)&&v(r.createBorders),e(document).bind("touchstart.jcrop-ios",function(t){e(t.currentTarget).hasClass("jcrop-tracker")&&t.stopPropagation()});var F=T().mousedown(y("move")).css({cursor:"move",position:"absolute",zIndex:360});return Y.support&&F.bind("touchstart.jcrop",Y.createDragger("move")),P.append(F),M(),{updateVisible:S,update:x,release:k,refresh:E,isAwake:function(){return t},setCursor:function(e){F.css("cursor",e)},enableHandles:O,enableOnly:function(){u=!0},showHandles:L,disableHandles:M,animMode:_,setBgOpacity:N,done:j}}(),nt=function(){function s(t){F.css({zIndex:450}),t?e(document).bind("touchmove.jcrop",l).bind("touchend.jcrop",c):i&&e(document).bind("mousemove.jcrop",u).bind("mouseup.jcrop",a)}function o(){F.css({zIndex:290}),e(document).unbind(".jcrop")}function u(e){return t(h(e)),!1}function a(e){return e.preventDefault(),e.stopPropagation(),K&&(K=!1,n(h(e)),tt.isAwake()&&r.onSelect.call(yt,w(Z.getFixed())),o(),t=function(){},n=function(){}),!1}function f(e,r,i){return K=!0,t=e,n=r,s(i),!1}function l(e){return t(h(Y.cfilter(e))),!1}function c(e){return a(Y.cfilter(e))}function p(e){F.css("cursor",e)}var t=function(){},n=function(){},i=r.trackDocument;return i||F.mousemove(u).mouseup(a).mouseout(a),A.before(F),{activateHandlers:f,setCursor:p}}(),rt=function(){function i(){r.keySupport&&(t.show(),t.focus())}function s(e){t.hide()}function o(e,t,n){r.allowMove&&(Z.moveOffset([t,n]),tt.updateVisible(!0)),e.preventDefault(),e.stopPropagation()}function a(e){if(e.ctrlKey||e.metaKey)return!0;G=e.shiftKey?!0:!1;var t=G?10:1;switch(e.keyCode){case 37:o(e,-t,0);break;case 39:o(e,t,0);break;case 38:o(e,0,-t);break;case 40:o(e,0,t);break;case 27:r.allowSelect&&tt.release();break;case 9:return!0}return!1}var t=e('<input type="radio" />').css({position:"fixed",left:"-120px",width:"12px"}).addClass("jcrop-keymgr"),n=e("<div />").css({position:"absolute",overflow:"hidden"}).append(t);return r.keySupport&&(t.keydown(a).blur(s),u||!r.fixedSupport?(t.css({position:"absolute",left:"-20px"}),n.append(t).insertBefore(A)):t.insertBefore(A)),{watchKeys:i}}();Y.support&&F.bind("touchstart.jcrop",Y.newSelection),H.hide(),gt(!0);var yt={setImage:vt,animateTo:st,setSelect:ot,setOptions:lt,tellSelect:at,tellScaled:ft,setClass:it,disable:ct,enable:ht,cancel:pt,release:tt.release,destroy:dt,focus:rt.watchKeys,getBounds:function(){return[O*X,M*V]},getWidgetSize:function(){return[O,M]},getScaleFactor:function(){return[X,V]},getOptions:function(){return r},ui:{holder:_,selection:B}};return o&&_.bind("selectstart",function(){return!1}),C.data("Jcrop",yt),yt},e.fn.Jcrop=function(t,n){var r;return this.each(function(){if(e(this).data("Jcrop")){if(t==="api")return e(this).data("Jcrop");e(this).data("Jcrop").setOptions(t)}else this.tagName=="IMG"?e.Jcrop.Loader(this,function(){e(this).css({display:"block",visibility:"hidden"}),r=e.Jcrop(this,t),e.isFunction(n)&&n.call(r)}):(e(this).css({display:"block",visibility:"hidden"}),r=e.Jcrop(this,t),e.isFunction(n)&&n.call(r))}),this},e.Jcrop.Loader=function(t,n,r){function o(){s.complete?(i.unbind(".jcloader"),e.isFunction(n)&&n.call(s)):window.setTimeout(o,50)}var i=e(t),s=i[0];i.bind("load.jcloader",o).bind("error.jcloader",function(t){i.unbind(".jcloader"),e.isFunction(r)&&r.call(s)}),s.complete&&e.isFunction(n)&&(i.unbind(".jcloader"),n.call(s))},e.Jcrop.defaults={allowSelect:!0,allowMove:!0,allowResize:!0,trackDocument:!0,baseClass:"jcrop",addClass:null,bgColor:"black",bgOpacity:.6,bgFade:!1,borderOpacity:.4,handleOpacity:.5,handleSize:null,aspectRatio:0,keySupport:!0,createHandles:["n","s","e","w","nw","ne","se","sw"],createDragbars:["n","s","e","w"],createBorders:["n","s","e","w"],drawBorders:!0,dragEdges:!0,fixedSupport:!0,touchSupport:null,shade:null,boxWidth:0,boxHeight:0,boundary:2,fadeTime:400,animationDelay:20,swingSpeed:3,minSelect:[0,0],maxSize:[0,0],minSize:[0,0],onChange:function(){},onSelect:function(){},onDblClick:function(){},onRelease:function(){}}}(jQuery),define("jcrop",["jquery"],function(){}),function(e){function t(){var e=document.createElement("input"),t="onpaste";return e.setAttribute(t,""),typeof e[t]=="function"?"paste":"input"}var n=t()+".mask",r=navigator.userAgent,i=/iphone/i.test(r),s=/android/i.test(r),o;e.mask={definitions:{9:"[0-9]",a:"[A-Za-z]","*":"[A-Za-z0-9]"},dataName:"rawMaskFn",placeholder:"_"},e.fn.extend({caret:function(e,t){var n;if(this.length===0||this.is(":hidden"))return;return typeof e=="number"?(t=typeof t=="number"?t:e,this.each(function(){this.setSelectionRange?this.setSelectionRange(e,t):this.createTextRange&&(n=this.createTextRange(),n.collapse(!0),n.moveEnd("character",t),n.moveStart("character",e),n.select())})):(this[0].setSelectionRange?(e=this[0].selectionStart,t=this[0].selectionEnd):document.selection&&document.selection.createRange&&(n=document.selection.createRange(),e=0-n.duplicate().moveStart("character",-1e5),t=e+n.text.length),{begin:e,end:t})},unmask:function(){return this.trigger("unmask")},mask:function(t,r){var u,a,f,l,c,h;return!t&&this.length>0?(u=e(this[0]),u.data(e.mask.dataName)()):(r=e.extend({placeholder:e.mask.placeholder,completed:null},r),a=e.mask.definitions,f=[],l=h=t.length,c=null,e.each(t.split(""),function(e,t){t=="?"?(h--,l=e):a[t]?(f.push(new RegExp(a[t])),c===null&&(c=f.length-1)):f.push(null)}),this.trigger("unmask").each(function(){function v(e){while(++e<h&&!f[e]);return e}function m(e){while(--e>=0&&!f[e]);return e}function g(e,t){var n,i;if(e<0)return;for(n=e,i=v(t);n<h;n++)if(f[n]){if(!(i<h&&f[n].test(p[i])))break;p[n]=p[i],p[i]=r.placeholder,i=v(i)}S(),u.caret(Math.max(c,e))}function y(e){var t,n,i,s;for(t=e,n=r.placeholder;t<h;t++)if(f[t]){i=v(t),s=p[t],p[t]=n;if(!(i<h&&f[i].test(s)))break;n=s}}function b(e){var t=e.which,n,r,s;t===8||t===46||i&&t===127?(n=u.caret(),r=n.begin,s=n.end,s-r===0&&(r=t!==46?m(r):s=v(r-1),s=t===46?v(s):s),E(r,s),g(r,s-1),e.preventDefault()):t==27&&(u.val(d),u.caret(0,x()),e.preventDefault())}function w(t){var n=t.which,i=u.caret(),o,a,l;if(t.ctrlKey||t.altKey||t.metaKey||n<32)return;n&&(i.end-i.begin!==0&&(E(i.begin,i.end),g(i.begin,i.end-1)),o=v(i.begin-1),o<h&&(a=String.fromCharCode(n),f[o].test(a)&&(y(o),p[o]=a,S(),l=v(o),s?setTimeout(e.proxy(e.fn.caret,u,l),0):u.caret(l),r.completed&&l>=h&&r.completed.call(u))),t.preventDefault())}function E(e,t){var n;for(n=e;n<t&&n<h;n++)f[n]&&(p[n]=r.placeholder)}function S(){u.val(p.join(""))}function x(e){var t=u.val(),n=-1,i,s;for(i=0,pos=0;i<h;i++)if(f[i]){p[i]=r.placeholder;while(pos++<t.length){s=t.charAt(pos-1);if(f[i].test(s)){p[i]=s,n=i;break}}if(pos>t.length)break}else p[i]===t.charAt(pos)&&i!==l&&(pos++,n=i);return e?S():n+1<l?(u.val(""),E(0,h)):(S(),u.val(u.val().substring(0,n+1))),l?i:c}var u=e(this),p=e.map(t.split(""),function(e,t){if(e!="?")return a[e]?r.placeholder:e}),d=u.val();u.data(e.mask.dataName,function(){return e.map(p,function(e,t){return f[t]&&e!=r.placeholder?e:null}).join("")}),u.attr("readonly")||u.one("unmask",function(){u.unbind(".mask").removeData(e.mask.dataName)}).bind("focus.mask",function(){clearTimeout(o);var e,n;d=u.val(),e=x(),o=setTimeout(function(){S(),e==t.length?u.caret(0,e):u.caret(e)},10)}).bind("blur.mask",function(){x(),u.val()!=d&&u.change()}).bind("keydown.mask",b).bind("keypress.mask",w).bind(n,function(){setTimeout(function(){var e=x(!0);u.caret(e),r.completed&&e==u.val().length&&r.completed.call(u)},0)}),x()}))}})}(jQuery),define("maskedinput",["jquery"],function(){}),function(){var e,t,n,r,i,s={}.hasOwnProperty,o=function(e,t){function r(){this.constructor=e}for(var n in t)s.call(t,n)&&(e[n]=t[n]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};r=function(){function e(){this.options_index=0,this.parsed=[]}return e.prototype.add_node=function(e){return e.nodeName.toUpperCase()==="OPTGROUP"?this.add_group(e):this.add_option(e)},e.prototype.add_group=function(e){var t,n,r,i,s,o;t=this.parsed.length,this.parsed.push({array_index:t,group:!0,label:this.escapeExpression(e.label),children:0,disabled:e.disabled}),s=e.childNodes,o=[];for(r=0,i=s.length;r<i;r++)n=s[r],o.push(this.add_option(n,t,e.disabled));return o},e.prototype.add_option=function(e,t,n){if(e.nodeName.toUpperCase()==="OPTION")return e.text!==""?(t!=null&&(this.parsed[t].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:e.value,text:e.text,html:e.innerHTML,selected:e.selected,disabled:n===!0?n:e.disabled,group_array_index:t,classes:e.className,style:e.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1},e.prototype.escapeExpression=function(e){var t,n;return e==null||e===!1?"":/[\&\<\>\"\'\`]/.test(e)?(t={"<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},n=/&(?!\w+;)|[\<\>\"\'\`]/g,e.replace(n,function(e){return t[e]||"&amp;"})):e},e}(),r.select_to_array=function(e){var t,n,i,s,o;n=new r,o=e.childNodes;for(i=0,s=o.length;i<s;i++)t=o[i],n.add_node(t);return n.parsed},t=function(){function e(t,n){this.form_field=t,this.options=n!=null?n:{};if(!e.browser_is_supported())return;this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers()}return e.prototype.set_default_values=function(){var e=this;return this.click_test_action=function(t){return e.test_active_click(t)},this.activate_action=function(t){return e.activate_field(t)},this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.allow_single_deselect=this.options.allow_single_deselect!=null&&this.form_field.options[0]!=null&&this.form_field.options[0].text===""?this.options.allow_single_deselect:!1,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=this.options.enable_split_word_search!=null?this.options.enable_split_word_search:!0,this.group_search=this.options.group_search!=null?this.options.group_search:!0,this.search_contains=this.options.search_contains||!1,this.single_backstroke_delete=this.options.single_backstroke_delete!=null?this.options.single_backstroke_delete:!0,this.max_selected_options=this.options.max_selected_options||Infinity,this.inherit_select_classes=this.options.inherit_select_classes||!1,this.display_selected_options=this.options.display_selected_options!=null?this.options.display_selected_options:!0,this.display_disabled_options=this.options.display_disabled_options!=null?this.options.display_disabled_options:!0},e.prototype.set_default_text=function(){return this.form_field.getAttribute("data-placeholder")?this.default_text=this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.default_text=this.options.placeholder_text_multiple||this.options.placeholder_text||e.default_multiple_text:this.default_text=this.options.placeholder_text_single||this.options.placeholder_text||e.default_single_text,this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||e.default_no_result_text},e.prototype.mouse_enter=function(){return this.mouse_on_container=!0},e.prototype.mouse_leave=function(){return this.mouse_on_container=!1},e.prototype.input_focus=function(e){var t=this;if(this.is_multiple){if(!this.active_field)return setTimeout(function(){return t.container_mousedown()},50)}else if(!this.active_field)return this.activate_field()},e.prototype.input_blur=function(e){var t=this;if(!this.mouse_on_container)return this.active_field=!1,setTimeout(function(){return t.blur_test()},100)},e.prototype.results_option_build=function(e){var t,n,r,i,s;t="",s=this.results_data;for(r=0,i=s.length;r<i;r++){n=s[r],n.group?t+=this.result_add_group(n):t+=this.result_add_option(n);if(e!=null?e.first:void 0)n.selected&&this.is_multiple?this.choice_build(n):n.selected&&!this.is_multiple&&this.single_set_selected_text(n.text)}return t},e.prototype.result_add_option=function(e){var t,n;return e.search_match?this.include_option_in_results(e)?(t=[],!e.disabled&&(!e.selected||!this.is_multiple)&&t.push("active-result"),e.disabled&&(!e.selected||!this.is_multiple)&&t.push("disabled-result"),e.selected&&t.push("result-selected"),e.group_array_index!=null&&t.push("group-option"),e.classes!==""&&t.push(e.classes),n=document.createElement("li"),n.className=t.join(" "),n.style.cssText=e.style,n.setAttribute("data-option-array-index",e.array_index),n.innerHTML=e.search_text,this.outerHTML(n)):"":""},e.prototype.result_add_group=function(e){var t;return!e.search_match&&!e.group_match?"":e.active_options>0?(t=document.createElement("li"),t.className="group-result",t.innerHTML=e.search_text,this.outerHTML(t)):""},e.prototype.results_update_field=function(){this.set_default_text(),this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.results_build();if(this.results_showing)return this.winnow_results()},e.prototype.reset_single_select_options=function(){var e,t,n,r,i;r=this.results_data,i=[];for(t=0,n=r.length;t<n;t++)e=r[t],e.selected?i.push(e.selected=!1):i.push(void 0);return i},e.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},e.prototype.results_search=function(e){return this.results_showing?this.winnow_results():this.results_show()},e.prototype.winnow_results=function(){var e,t,n,r,i,s,o,u,a,f,l,c,h;this.no_results_clear(),i=0,o=this.get_search_text(),e=o.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),r=this.search_contains?"":"^",n=new RegExp(r+e,"i"),f=new RegExp(e,"i"),h=this.results_data;for(l=0,c=h.length;l<c;l++){t=h[l],t.search_match=!1,s=null;if(this.include_option_in_results(t)){t.group&&(t.group_match=!1,t.active_options=0),t.group_array_index!=null&&this.results_data[t.group_array_index]&&(s=this.results_data[t.group_array_index],s.active_options===0&&s.search_match&&(i+=1),s.active_options+=1);if(!t.group||!!this.group_search)t.search_text=t.group?t.label:t.html,t.search_match=this.search_string_match(t.search_text,n),t.search_match&&!t.group&&(i+=1),t.search_match?(o.length&&(u=t.search_text.search(f),a=t.search_text.substr(0,u+o.length)+"</em>"+t.search_text.substr(u+o.length),t.search_text=a.substr(0,u)+"<em>"+a.substr(u)),s!=null&&(s.group_match=!0)):t.group_array_index!=null&&this.results_data[t.group_array_index].search_match&&(t.search_match=!0)}}return this.result_clear_highlight(),i<1&&o.length?(this.update_results_content(""),this.no_results(o)):(this.update_results_content(this.results_option_build()),this.winnow_results_set_highlight())},e.prototype.search_string_match=function(e,t){var n,r,i,s;if(t.test(e))return!0;if(this.enable_split_word_search&&(e.indexOf(" ")>=0||e.indexOf("[")===0)){r=e.replace(/\[|\]/g,"").split(" ");if(r.length)for(i=0,s=r.length;i<s;i++){n=r[i];if(t.test(n))return!0}}},e.prototype.choices_count=function(){var e,t,n,r;if(this.selected_option_count!=null)return this.selected_option_count;this.selected_option_count=0,r=this.form_field.options;for(t=0,n=r.length;t<n;t++)e=r[t],e.selected&&(this.selected_option_count+=1);return this.selected_option_count},e.prototype.choices_click=function(e){e.preventDefault();if(!this.results_showing&&!this.is_disabled)return this.results_show()},e.prototype.keyup_checker=function(e){var t,n;t=(n=e.which)!=null?n:e.keyCode,this.search_field_scale();switch(t){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices_count()>0)return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:e.preventDefault();if(this.results_showing)return this.result_select(e);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}},e.prototype.clipboard_event_checker=function(e){var t=this;return setTimeout(function(){return t.results_search()},50)},e.prototype.container_width=function(){return this.options.width!=null?this.options.width:""+this.form_field.offsetWidth+"px"},e.prototype.include_option_in_results=function(e){return this.is_multiple&&!this.display_selected_options&&e.selected?!1:!this.display_disabled_options&&e.disabled?!1:e.empty?!1:!0},e.prototype.search_results_touchstart=function(e){return this.touch_started=!0,this.search_results_mouseover(e)},e.prototype.search_results_touchmove=function(e){return this.touch_started=!1,this.search_results_mouseout(e)},e.prototype.search_results_touchend=function(e){if(this.touch_started)return this.search_results_mouseup(e)},e.prototype.outerHTML=function(e){var t;return e.outerHTML?e.outerHTML:(t=document.createElement("div"),t.appendChild(e),t.innerHTML)},e.browser_is_supported=function(){return window.navigator.appName==="Microsoft Internet Explorer"?document.documentMode>=8:/iP(od|hone)/i.test(window.navigator.userAgent)?!1:/Android/i.test(window.navigator.userAgent)&&/Mobile/i.test(window.navigator.userAgent)?!1:!0},e.default_multiple_text="Select Some Options",e.default_single_text="Select an Option",e.default_no_result_text="No results match",e}(),e=jQuery,e.fn.extend({chosen:function(r){return t.browser_is_supported()?this.each(function(t){var i,s;i=e(this),s=i.data("chosen"),r==="destroy"&&s?s.destroy():s||i.data("chosen",new n(this,r))}):this}}),n=function(t){function n(){return i=n.__super__.constructor.apply(this,arguments),i}return o(n,t),n.prototype.setup=function(){return this.form_field_jq=e(this.form_field),this.current_selectedIndex=this.form_field.selectedIndex,this.is_rtl=this.form_field_jq.hasClass("chosen-rtl")},n.prototype.set_up_html=function(){var t,n;return t=["chosen-container"],t.push("chosen-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&t.push(this.form_field.className),this.is_rtl&&t.push("chosen-rtl"),n={"class":t.join(" "),style:"width: "+this.container_width()+";",title:this.form_field.title},this.form_field.id.length&&(n.id=this.form_field.id.replace(/[^\w]/g,"_")+"_chosen"),this.container=e("<div />",n),this.is_multiple?this.container.html('<ul class="chosen-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chosen-drop"><ul class="chosen-results"></ul></div>'):this.container.html('<a class="chosen-single chosen-default" tabindex="-1"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chosen-drop"><div class="chosen-search"><input type="text" autocomplete="off" /></div><ul class="chosen-results"></ul></div>'),this.form_field_jq.hide().after(this.container),this.dropdown=this.container.find("div.chosen-drop").first(),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chosen-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chosen-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chosen-search").first(),this.selected_item=this.container.find(".chosen-single").first()),this.results_build(),this.set_tab_index(),this.set_label_behavior(),this.form_field_jq.trigger("chosen:ready",{chosen:this})},n.prototype.register_observers=function(){var e=this;return this.container.bind("mousedown.chosen",function(t){e.container_mousedown(t)}),this.container.bind("mouseup.chosen",function(t){e.container_mouseup(t)}),this.container.bind("mouseenter.chosen",function(t){e.mouse_enter(t)}),this.container.bind("mouseleave.chosen",function(t){e.mouse_leave(t)}),this.search_results.bind("mouseup.chosen",function(t){e.search_results_mouseup(t)}),this.search_results.bind("mouseover.chosen",function(t){e.search_results_mouseover(t)}),this.search_results.bind("mouseout.chosen",function(t){e.search_results_mouseout(t)}),this.search_results.bind("mousewheel.chosen DOMMouseScroll.chosen",function(t){e.search_results_mousewheel(t)}),this.search_results.bind("touchstart.chosen",function(t){e.search_results_touchstart(t)}),this.search_results.bind("touchmove.chosen",function(t){e.search_results_touchmove(t)}),this.search_results.bind("touchend.chosen",function(t){e.search_results_touchend(t)}),this.form_field_jq.bind("chosen:updated.chosen",function(t){e.results_update_field(t)}),this.form_field_jq.bind("chosen:activate.chosen",function(t){e.activate_field(t)}),this.form_field_jq.bind("chosen:open.chosen",function(t){e.container_mousedown(t)}),this.form_field_jq.bind("chosen:close.chosen",function(t){e.input_blur(t)}),this.search_field.bind("blur.chosen",function(t){e.input_blur(t)}),this.search_field.bind("keyup.chosen",function(t){e.keyup_checker(t)}),this.search_field.bind("keydown.chosen",function(t){e.keydown_checker(t)}),this.search_field.bind("focus.chosen",function(t){e.input_focus(t)}),this.search_field.bind("cut.chosen",function(t){e.clipboard_event_checker(t)}),this.search_field.bind("paste.chosen",function(t){e.clipboard_event_checker(t)}),this.is_multiple?this.search_choices.bind("click.chosen",function(t){e.choices_click(t)}):this.container.bind("click.chosen",function(e){e.preventDefault()})},n.prototype.destroy=function(){return e(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.search_field[0].tabIndex&&(this.form_field_jq[0].tabIndex=this.search_field[0].tabIndex),this.container.remove(),this.form_field_jq.removeData("chosen"),this.form_field_jq.show()},n.prototype.search_field_disabled=function(){this.is_disabled=this.form_field_jq[0].disabled;if(this.is_disabled)return this.container.addClass("chosen-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus.chosen",this.activate_action),this.close_field();this.container.removeClass("chosen-disabled"),this.search_field[0].disabled=!1;if(!this.is_multiple)return this.selected_item.bind("focus.chosen",this.activate_action)},n.prototype.container_mousedown=function(t){if(!this.is_disabled){t&&t.type==="mousedown"&&!this.results_showing&&t.preventDefault();if(t==null||!e(t.target).hasClass("search-choice-close"))return this.active_field?!this.is_multiple&&t&&(e(t.target)[0]===this.selected_item[0]||e(t.target).parents("a.chosen-single").length)&&(t.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),e(this.container[0].ownerDocument).bind("click.chosen",this.click_test_action),this.results_show()),this.activate_field()}},n.prototype.container_mouseup=function(e){if(e.target.nodeName==="ABBR"&&!this.is_disabled)return this.results_reset(e)},n.prototype.search_results_mousewheel=function(e){var t;e.originalEvent&&(t=-e.originalEvent.wheelDelta||e.originalEvent.detail);if(t!=null)return e.preventDefault(),e.type==="DOMMouseScroll"&&(t*=40),this.search_results.scrollTop(t+this.search_results.scrollTop())},n.prototype.blur_test=function(e){if(!this.active_field&&this.container.hasClass("chosen-container-active"))return this.close_field()},n.prototype.close_field=function(){return e(this.container[0].ownerDocument).unbind("click.chosen",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chosen-container-active"),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},n.prototype.activate_field=function(){return this.container.addClass("chosen-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},n.prototype.test_active_click=function(t){var n;return n=e(t.target).closest(".chosen-container"),n.length&&this.container[0]===n[0]?this.active_field=!0:this.close_field()},n.prototype.results_build=function(){return this.parsing=!0,this.selected_option_count=null,this.results_data=r.select_to_array(this.form_field),this.is_multiple?this.search_choices.find("li.search-choice").remove():this.is_multiple||(this.single_set_selected_text(),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?(this.search_field[0].readOnly=!0,this.container.addClass("chosen-container-single-nosearch")):(this.search_field[0].readOnly=!1,this.container.removeClass("chosen-container-single-nosearch"))),this.update_results_content(this.results_option_build({first:!0})),this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.parsing=!1},n.prototype.result_do_highlight=function(e){var t,n,r,i,s;if(e.length){this.result_clear_highlight(),this.result_highlight=e,this.result_highlight.addClass("highlighted"),r=parseInt(this.search_results.css("maxHeight"),10),s=this.search_results.scrollTop(),i=r+s,n=this.result_highlight.position().top+this.search_results.scrollTop(),t=n+this.result_highlight.outerHeight();if(t>=i)return this.search_results.scrollTop(t-r>0?t-r:0);if(n<s)return this.search_results.scrollTop(n)}},n.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},n.prototype.results_show=function(){return this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.container.addClass("chosen-with-drop"),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results(),this.form_field_jq.trigger("chosen:showing_dropdown",{chosen:this}))},n.prototype.update_results_content=function(e){return this.search_results.html(e)},n.prototype.results_hide=function(){return this.results_showing&&(this.result_clear_highlight(),this.container.removeClass("chosen-with-drop"),this.form_field_jq.trigger("chosen:hiding_dropdown",{chosen:this})),this.results_showing=!1},n.prototype.set_tab_index=function(e){var t;if(this.form_field.tabIndex)return t=this.form_field.tabIndex,this.form_field.tabIndex=-1,this.search_field[0].tabIndex=t},n.prototype.set_label_behavior=function(){var t=this;this.form_field_label=this.form_field_jq.parents("label"),!this.form_field_label.length&&this.form_field.id.length&&(this.form_field_label=e("label[for='"+this.form_field.id+"']"));if(this.form_field_label.length>0)return this.form_field_label.bind("click.chosen",function(e){return t.is_multiple?t.container_mousedown(e):t.activate_field()})},n.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices_count()<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},n.prototype.search_results_mouseup=function(t){var n;n=e(t.target).hasClass("active-result")?e(t.target):e(t.target).parents(".active-result").first();if(n.length)return this.result_highlight=n,this.result_select(t),this.search_field.focus()},n.prototype.search_results_mouseover=function(t){var n;n=e(t.target).hasClass("active-result")?e(t.target):e(t.target).parents(".active-result").first();if(n)return this.result_do_highlight(n)},n.prototype.search_results_mouseout=function(t){if(e(t.target).hasClass("active-result"))return this.result_clear_highlight()},n.prototype.choice_build=function(t){var n,r,i=this;return n=e("<li />",{"class":"search-choice"}).html("<span>"+t.html+"</span>"),t.disabled?n.addClass("search-choice-disabled"):(r=e("<a />",{"class":"search-choice-close","data-option-array-index":t.array_index}),r.bind("click.chosen",function(e){return i.choice_destroy_link_click(e)}),n.append(r)),this.search_container.before(n)},n.prototype.choice_destroy_link_click=function(t){t.preventDefault(),t.stopPropagation();if(!this.is_disabled)return this.choice_destroy(e(t.target))},n.prototype.choice_destroy=function(e){if(this.result_deselect(e[0].getAttribute("data-option-array-index")))return this.show_search_field_default(),this.is_multiple&&this.choices_count()>0&&this.search_field.val().length<1&&this.results_hide(),e.parents("li").first().remove(),this.search_field_scale()},n.prototype.results_reset=function(){this.reset_single_select_options(),this.form_field.options[0].selected=!0,this.single_set_selected_text(),this.show_search_field_default(),this.results_reset_cleanup(),this.form_field_jq.trigger("change");if(this.active_field)return this.results_hide()},n.prototype.results_reset_cleanup=function(){return this.current_selectedIndex=this.form_field.selectedIndex,this.selected_item.find("abbr").remove()},n.prototype.result_select=function(e){var t,n;if(this.result_highlight)return t=this.result_highlight,this.result_clear_highlight(),this.is_multiple&&this.max_selected_options<=this.choices_count()?(this.form_field_jq.trigger("chosen:maxselected",{chosen:this}),!1):(this.is_multiple?t.removeClass("active-result"):this.reset_single_select_options(),n=this.results_data[t[0].getAttribute("data-option-array-index")],n.selected=!0,this.form_field.options[n.options_index].selected=!0,this.selected_option_count=null,this.is_multiple?this.choice_build(n):this.single_set_selected_text(n.text),(!e.metaKey&&!e.ctrlKey||!this.is_multiple)&&this.results_hide(),this.search_field.val(""),(this.is_multiple||this.form_field.selectedIndex!==this.current_selectedIndex)&&this.form_field_jq.trigger("change",{selected:this.form_field.options[n.options_index].value}),this.current_selectedIndex=this.form_field.selectedIndex,this.search_field_scale())},n.prototype.single_set_selected_text=function(e){return e==null&&(e=this.default_text),e===this.default_text?this.selected_item.addClass("chosen-default"):(this.single_deselect_control_build(),this.selected_item.removeClass("chosen-default")),this.selected_item.find("span").text(e)},n.prototype.result_deselect=function(e){var t;return t=this.results_data[e],this.form_field.options[t.options_index].disabled?!1:(t.selected=!1,this.form_field.options[t.options_index].selected=!1,this.selected_option_count=null,this.result_clear_highlight(),this.results_showing&&this.winnow_results(),this.form_field_jq.trigger("change",{deselected:this.form_field.options[t.options_index].value}),this.search_field_scale(),!0)},n.prototype.single_deselect_control_build=function(){if(!this.allow_single_deselect)return;return this.selected_item.find("abbr").length||this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'),this.selected_item.addClass("chosen-single-with-deselect")},n.prototype.get_search_text=function(){return this.search_field.val()===this.default_text?"":e("<div/>").text(e.trim(this.search_field.val())).html()},n.prototype.winnow_results_set_highlight=function(){var e,t;t=this.is_multiple?[]:this.search_results.find(".result-selected.active-result"),e=t.length?t.first():this.search_results.find(".active-result").first();if(e!=null)return this.result_do_highlight(e)},n.prototype.no_results=function(t){var n;return n=e('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>'),n.find("span").first().html(t),this.search_results.append(n),this.form_field_jq.trigger("chosen:no_results",{chosen:this})},n.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},n.prototype.keydown_arrow=function(){var e;if(!this.results_showing||!this.result_highlight)return this.results_show();e=this.result_highlight.nextAll("li.active-result").first();if(e)return this.result_do_highlight(e)},n.prototype.keyup_arrow=function(){var e;if(!this.results_showing&&!this.is_multiple)return this.results_show();if(this.result_highlight)return e=this.result_highlight.prevAll("li.active-result"),e.length?this.result_do_highlight(e.first()):(this.choices_count()>0&&this.results_hide(),this.result_clear_highlight())},n.prototype.keydown_backstroke=function(){var e;if(this.pending_backstroke)return this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke();e=this.search_container.siblings("li.search-choice").last();if(e.length&&!e.hasClass("search-choice-disabled"))return this.pending_backstroke=e,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")},n.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},n.prototype.keydown_checker=function(e){var t,n;t=(n=e.which)!=null?n:e.keyCode,this.search_field_scale(),t!==8&&this.pending_backstroke&&this.clear_backstroke();switch(t){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(e),this.mouse_on_container=!1;break;case 13:e.preventDefault();break;case 38:e.preventDefault(),this.keyup_arrow();break;case 40:e.preventDefault(),this.keydown_arrow()}},n.prototype.search_field_scale=function(){var t,n,r,i,s,o,u,a,f;if(this.is_multiple){r=0,u=0,s="position:absolute; left: -1000px; top: -1000px; display:none;",o=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"];for(a=0,f=o.length;a<f;a++)i=o[a],s+=i+":"+this.search_field.css(i)+";";return t=e("<div />",{style:s}),t.text(this.search_field.val()),e("body").append(t),u=t.width()+25,t.remove(),n=this.container.outerWidth(),u>n-10&&(u=n-10),this.search_field.css({width:u+"px"})}},n}(t)}.call(this),define("chosen",["jquery"],function(){}),function(e,t,n){function Q(n,r,i){var o=t.createElement(n);return r&&(o.id=s+r),i&&(o.style.cssText=i),e(o)}function G(){return n.innerHeight?n.innerHeight:e(n).height()}function Y(t,n){n!==Object(n)&&(n={}),this.cache={},this.el=t,this.value=function(t){var i;return this.cache[t]===undefined&&(i=e(this.el).attr("data-cbox-"+t),i!==undefined?this.cache[t]=i:n[t]!==undefined?this.cache[t]=n[t]:r[t]!==undefined&&(this.cache[t]=r[t])),this.cache[t]},this.get=function(t){var n=this.value(t);return e.isFunction(n)?n.call(this.el,this):n}}function Z(e){var t=E.length,n=(I+e)%t;return n<0?t+n:n}function et(e,t){return Math.round((/%/.test(e)?(t==="x"?S.width():G())/100:1)*parseInt(e,10))}function tt(e,t){return e.get("photo")||e.get("photoRegex").test(t)}function nt(e,t){return e.get("retinaUrl")&&n.devicePixelRatio>1?t.replace(e.get("photoRegex"),e.get("retinaSuffix")):t}function rt(e){"contains"in d[0]&&!d[0].contains(e.target)&&e.target!==p[0]&&(e.stopPropagation(),d.focus())}function it(e){it.str!==e&&(d.add(p).removeClass(it.str).addClass(e),it.str=e)}function st(){I=0,rel&&rel!=="nofollow"?(E=e("."+o).filter(function(){var t=e.data(this,i),n=new Y(this,t);return n.get("rel")===rel}),I=E.index(P.el),I===-1&&(E=E.add(P.el),I=E.length-1)):E=e(P.el)}function ot(n){e(t).trigger(n),D.triggerHandler(n)}function at(n){var r;if(!z){r=e(n).data("colorbox"),P=new Y(n,r),rel=P.get("rel"),st();if(!R){R=U=!0,it(P.get("className")),d.css({visibility:"hidden",display:"block",opacity:""}),x=Q(V,"LoadedContent","width:0; height:0; overflow:hidden; visibility:hidden"),m.css({width:"",height:""}).append(x),H=g.height()+w.height()+m.outerHeight(!0)-m.height(),B=y.width()+b.width()+m.outerWidth(!0)-m.width(),j=x.outerHeight(!0),F=x.outerWidth(!0);var i=et(P.get("initialWidth"),"x"),s=et(P.get("initialHeight"),"y"),o=P.get("maxWidth"),a=P.get("maxHeight");P.w=(o!==!1?Math.min(i,et(o,"x")):i)-F-B,P.h=(a!==!1?Math.min(s,et(a,"y")):s)-j-H,x.css({width:"",height:P.h}),X.position(),ot(u),P.get("onOpen"),_.add(C).hide(),d.focus(),P.get("trapFocus")&&t.addEventListener&&(t.addEventListener("focus",rt,!0),D.one(c,function(){t.removeEventListener("focus",rt,!0)})),P.get("returnFocus")&&D.one(c,function(){e(P.el).focus()})}p.css({opacity:parseFloat(P.get("opacity"))||"",cursor:P.get("overlayClose")?"pointer":"",visibility:"visible"}).show(),P.get("closeButton")?M.html(P.get("close")).appendTo(m):M.appendTo("<div/>"),ct()}}function ft(){!d&&t.body&&(K=!1,S=e(n),d=Q(V).attr({id:i,"class":e.support.opacity===!1?s+"IE":"",role:"dialog",tabindex:"-1"}).hide(),p=Q(V,"Overlay").hide(),N=e([Q(V,"LoadingOverlay")[0],Q(V,"LoadingGraphic")[0]]),v=Q(V,"Wrapper"),m=Q(V,"Content").append(C=Q(V,"Title"),k=Q(V,"Current"),O=e('<button type="button"/>').attr({id:s+"Previous"}),A=e('<button type="button"/>').attr({id:s+"Next"}),L=Q("button","Slideshow"),N),M=e('<button type="button"/>').attr({id:s+"Close"}),v.append(Q(V).append(Q(V,"TopLeft"),g=Q(V,"TopCenter"),Q(V,"TopRight")),Q(V,!1,"clear:left").append(y=Q(V,"MiddleLeft"),m,b=Q(V,"MiddleRight")),Q(V,!1,"clear:left").append(Q(V,"BottomLeft"),w=Q(V,"BottomCenter"),Q(V,"BottomRight"))).find("div div").css({"float":"left"}),T=Q(V,!1,"position:absolute; width:9999px; visibility:hidden; display:none; max-width:none;"),_=A.add(O).add(k).add(L),e(t.body).append(p,d.append(v,T)))}function lt(){function n(e){e.which>1||e.shiftKey||e.altKey||e.metaKey||e.ctrlKey||(e.preventDefault(),at(this))}return d?(K||(K=!0,A.click(function(){X.next()}),O.click(function(){X.prev()}),M.click(function(){X.close()}),p.click(function(){P.get("overlayClose")&&X.close()}),e(t).bind("keydown."+s,function(e){var t=e.keyCode;R&&P.get("escKey")&&t===27&&(e.preventDefault(),X.close()),R&&P.get("arrowKey")&&E[1]&&!e.altKey&&(t===37?(e.preventDefault(),O.click()):t===39&&(e.preventDefault(),A.click()))}),e.isFunction(e.fn.on)?e(t).on("click."+s,"."+o,n):e("."+o).live("click."+s,n)),!0):!1}function ct(){var r,i,o=X.prep,u,f=++$;U=!0,q=!1,ot(h),ot(a),P.get("onLoad"),P.h=P.get("height")?et(P.get("height"),"y")-j-H:P.get("innerHeight")&&et(P.get("innerHeight"),"y"),P.w=P.get("width")?et(P.get("width"),"x")-F-B:P.get("innerWidth")&&et(P.get("innerWidth"),"x"),P.mw=P.w,P.mh=P.h,P.get("maxWidth")&&(P.mw=et(P.get("maxWidth"),"x")-F-B,P.mw=P.w&&P.w<P.mw?P.w:P.mw),P.get("maxHeight")&&(P.mh=et(P.get("maxHeight"),"y")-j-H,P.mh=P.h&&P.h<P.mh?P.h:P.mh),r=P.get("href"),W=setTimeout(function(){N.show()},100),P.get("inline")?(u=Q(V).hide().insertBefore(e(r)[0]),D.one(h,function(){u.replaceWith(x.children())}),o(e(r))):P.get("iframe")?o(" "):P.get("html")?o(P.get("html")):tt(P,r)?(r=nt(P,r),q=t.createElement("img"),e(q).addClass(s+"Photo").bind("error",function(){o(Q(V,"Error").html(P.get("imgError")))}).one("load",function(){var t;if(f!==$)return;e.each(["alt","longdesc","aria-describedby"],function(t,n){var r=e(P.el).attr(n)||e(P.el).attr("data-"+n);r&&q.setAttribute(n,r)}),P.get("retinaImage")&&n.devicePixelRatio>1&&(q.height=q.height/n.devicePixelRatio,q.width=q.width/n.devicePixelRatio),P.get("scalePhotos")&&(i=function(){q.height-=q.height*t,q.width-=q.width*t},P.mw&&q.width>P.mw&&(t=(q.width-P.mw)/q.width,i()),P.mh&&q.height>P.mh&&(t=(q.height-P.mh)/q.height,i())),P.h&&(q.style.marginTop=Math.max(P.mh-q.height,0)/2+"px"),E[1]&&(P.get("loop")||E[I+1])&&(q.style.cursor="pointer",q.onclick=function(){X.next()}),q.style.width=q.width+"px",q.style.height=q.height+"px",setTimeout(function(){o(q)},1)}),setTimeout(function(){q.src=r},1)):r&&T.load(r,P.get("data"),function(t,n){f===$&&o(n==="error"?Q(V,"Error").html(P.get("xhrError")):e(this).contents())})}var r={html:!1,photo:!1,iframe:!1,inline:!1,transition:"elastic",speed:300,fadeOut:300,width:!1,initialWidth:"600",innerWidth:!1,maxWidth:!1,height:!1,initialHeight:"450",innerHeight:!1,maxHeight:!1,scalePhotos:!0,scrolling:!0,opacity:.9,preloading:!0,className:!1,overlayClose:!0,escKey:!0,arrowKey:!0,top:!1,bottom:!1,left:!1,right:!1,fixed:!1,data:undefined,closeButton:!0,fastIframe:!0,open:!1,reposition:!0,loop:!0,slideshow:!1,slideshowAuto:!0,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",photoRegex:/\.(gif|png|jp(e|g|eg)|bmp|ico|webp|jxr|svg)((#|\?).*)?$/i,retinaImage:!1,retinaUrl:!1,retinaSuffix:"@2x.$1",current:"image {current} of {total}",previous:"previous",next:"next",close:"close",xhrError:"This content failed to load.",imgError:"This image failed to load.",returnFocus:!0,trapFocus:!0,onOpen:!1,onLoad:!1,onComplete:!1,onCleanup:!1,onClosed:!1,rel:function(){return this.rel},href:function(){return e(this).attr("href")},title:function(){return this.title}},i="colorbox",s="cbox",o=s+"Element",u=s+"_open",a=s+"_load",f=s+"_complete",l=s+"_cleanup",c=s+"_closed",h=s+"_purge",p,d,v,m,g,y,b,w,E,S,x,T,N,C,k,L,A,O,M,_,D=e("<a/>"),P,H,B,j,F,I,q,R,U,z,W,X,V="div",$=0,J={},K,ut=function(){function i(){clearTimeout(r)}function o(){if(P.get("loop")||E[I+1])i(),r=setTimeout(X.next,P.get("slideshowSpeed"))}function u(){L.html(P.get("slideshowStop")).unbind(n).one(n,c),D.bind(f,o).bind(a,i),d.removeClass(t+"off").addClass(t+"on")}function c(){i(),D.unbind(f,o).unbind(a,i),L.html(P.get("slideshowStart")).unbind(n).one(n,function(){X.next(),u()}),d.removeClass(t+"on").addClass(t+"off")}function h(){e=!1,L.hide(),i(),D.unbind(f,o).unbind(a,i),d.removeClass(t+"off "+t+"on")}var e,t=s+"Slideshow_",n="click."+s,r;return function(){e?P.get("slideshow")||(D.unbind(l,h),h()):P.get("slideshow")&&E[1]&&(e=!0,D.one(l,h),P.get("slideshowAuto")?u():c(),L.show())}}();if(e.colorbox)return;e(ft),X=e.fn[i]=e[i]=function(t,n){var r,s=this;t=t||{};if(e.isFunction(s))s=e("<a/>"),t.open=!0;else if(!s[0])return s;return s[0]?(ft(),lt()&&(n&&(t.onComplete=n),s.each(function(){var n=e.data(this,i)||{};e.data(this,i,e.extend(n,t))}).addClass(o),r=new Y(s[0],t),r.get("open")&&at(s[0])),s):s},X.position=function(t,n){function l(){g[0].style.width=w[0].style.width=m[0].style.width=parseInt(d[0].style.width,10)-B+"px",m[0].style.height=y[0].style.height=b[0].style.height=parseInt(d[0].style.height,10)-H+"px"}var r,i=0,o=0,u=d.offset(),a,f;S.unbind("resize."+s),d.css({top:-9e4,left:-9e4}),a=S.scrollTop(),f=S.scrollLeft(),P.get("fixed")?(u.top-=a,u.left-=f,d.css({position:"fixed"})):(i=a,o=f,d.css({position:"absolute"})),P.get("right")!==!1?o+=Math.max(S.width()-P.w-F-B-et(P.get("right"),"x"),0):P.get("left")!==!1?o+=et(P.get("left"),"x"):o+=Math.round(Math.max(S.width()-P.w-F-B,0)/2),P.get("bottom")!==!1?i+=Math.max(G()-P.h-j-H-et(P.get("bottom"),"y"),0):P.get("top")!==!1?i+=et(P.get("top"),"y"):i+=Math.round(Math.max(G()-P.h-j-H,0)/2),d.css({top:u.top,left:u.left,visibility:"visible"}),v[0].style.width=v[0].style.height="9999px",r={width:P.w+F+B,height:P.h+j+H,top:i,left:o};if(t){var c=0;e.each(r,function(e){if(r[e]!==J[e]){c=t;return}}),t=c}J=r,t||d.css(r),d.dequeue().animate(r,{duration:t||0,complete:function(){l(),U=!1,v[0].style.width=P.w+F+B+"px",v[0].style.height=P.h+j+H+"px",P.get("reposition")&&setTimeout(function(){S.bind("resize."+s,X.position)},1),n&&n()},step:l})},X.resize=function(e){var t;R&&(e=e||{},e.width&&(P.w=et(e.width,"x")-F-B),e.innerWidth&&(P.w=et(e.innerWidth,"x")),x.css({width:P.w}),e.height&&(P.h=et(e.height,"y")-j-H),e.innerHeight&&(P.h=et(e.innerHeight,"y")),!e.innerHeight&&!e.height&&(t=x.scrollTop(),x.css({height:"auto"}),P.h=x.height()),x.css({height:P.h}),t&&x.scrollTop(t),X.position(P.get("transition")==="none"?0:P.get("speed")))},X.prep=function(n){function u(){return P.w=P.w||x.width(),P.w=P.mw&&P.mw<P.w?P.mw:P.w,P.w}function a(){return P.h=P.h||x.height(),P.h=P.mh&&P.mh<P.h?P.mh:P.h,P.h}if(!R)return;var r,o=P.get("transition")==="none"?0:P.get("speed");x.remove(),x=Q(V,"LoadedContent").append(n),x.hide().appendTo(T.show()).css({width:u(),overflow:P.get("scrolling")?"auto":"hidden"}).css({height:a()}).prependTo(m),T.hide(),e(q).css({"float":"none"}),it(P.get("className")),r=function(){function a(){e.support.opacity===!1&&d[0].style.removeAttribute("filter")}var n=E.length,r,u;if(!R)return;u=function(){clearTimeout(W),N.hide(),ot(f),P.get("onComplete")},C.html(P.get("title")).show(),x.show(),n>1?(typeof P.get("current")=="string"&&k.html(P.get("current").replace("{current}",I+1).replace("{total}",n)).show(),A[P.get("loop")||I<n-1?"show":"hide"]().html(P.get("next")),O[P.get("loop")||I?"show":"hide"]().html(P.get("previous")),ut(),P.get("preloading")&&e.each([Z(-1),Z(1)],function(){var n,r=E[this],s=new Y(r,e.data(r,i)),o=s.get("href");o&&tt(s,o)&&(o=nt(s,o),n=t.createElement("img"),n.src=o)})):_.hide(),P.get("iframe")?(r=t.createElement("iframe"),"frameBorder"in r&&(r.frameBorder=0),"allowTransparency"in r&&(r.allowTransparency="true"),P.get("scrolling")||(r.scrolling="no"),e(r).attr({src:P.get("href"),name:(new Date).getTime(),"class":s+"Iframe",allowFullScreen:!0}).one("load",u).appendTo(x),D.one(h,function(){r.src="//about:blank"}),P.get("fastIframe")&&e(r).trigger("load")):u(),P.get("transition")==="fade"?d.fadeTo(o,1,a):a()},P.get("transition")==="fade"?d.fadeTo(o,0,function(){X.position(0,r)}):X.position(o,r)},X.next=function(){!U&&E[1]&&(P.get("loop")||E[I+1])&&(I=Z(1),at(E[I]))},X.prev=function(){!U&&E[1]&&(P.get("loop")||I)&&(I=Z(-1),at(E[I]))},X.close=function(){R&&!z&&(z=!0,R=!1,ot(l),P.get("onCleanup"),S.unbind("."+s),p.fadeTo(P.get("fadeOut")||0,0),d.stop().fadeTo(P.get("fadeOut")||0,0,function(){d.hide(),p.hide(),ot(h),x.remove(),setTimeout(function(){z=!1,ot(c),P.get("onClosed")},1)}))},X.remove=function(){if(!d)return;d.stop(),e.colorbox.close(),d.stop().remove(),p.remove(),z=!1,d=null,e("."+o).removeData(i).removeClass(o),e(t).unbind("click."+s)},X.element=function(){return e(P.el)},X.settings=r}(jQuery,document,window),define("colorbox",["jquery"],function(){}),function(e){e.gritter={},e.gritter.options={position:"",class_name:"",fade_in_speed:"medium",fade_out_speed:1e3,time:6e3},e.gritter.add=function(e){try{return t.add(e||{})}catch(n){var r="Gritter Error: "+n;typeof console!="undefined"&&console.error?console.error(r,e):alert(r)}},e.gritter.remove=function(e,n){t.removeSpecific(e,n||{})},e.gritter.removeAll=function(e){t.stop(e||{})};var t={position:"",fade_in_speed:"",fade_out_speed:"",time:"",_custom_timer:0,_item_count:0,_is_setup:0,_tpl_close:'<div class="gritter-close"></div>',_tpl_title:'<span class="gritter-title">[[title]]</span>',_tpl_item:'<div id="gritter-item-[[number]]" class="gritter-item-wrapper [[item_class]]" style="display:none"><div class="gritter-top"></div><div class="gritter-item">[[close]][[image]]<div class="[[class_name]]">[[title]]<p>[[text]]</p></div><div style="clear:both"></div></div><div class="gritter-bottom"></div></div>',_tpl_wrap:'<div id="gritter-notice-wrapper"></div>',add:function(n){typeof n=="string"&&(n={text:n});if(n.text===null)throw'You must supply "text" parameter.';this._is_setup||this._runSetup();var r=n.title,i=n.text,s=n.image||"",o=n.sticky||!1,u=n.class_name||e.gritter.options.class_name,a=e.gritter.options.position,f=n.time||"";this._verifyWrapper(),this._item_count++;var l=this._item_count,c=this._tpl_item;e(["before_open","after_open","before_close","after_close"]).each(function(r,i){t["_"+i+"_"+l]=e.isFunction(n[i])?n[i]:function(){}}),this._custom_timer=0,f&&(this._custom_timer=f);var h=s!=""?'<img src="'+s+'" class="gritter-image" />':"",p=s!=""?"gritter-with-image":"gritter-without-image";r?r=this._str_replace("[[title]]",r,this._tpl_title):r="",c=this._str_replace(["[[title]]","[[text]]","[[close]]","[[image]]","[[number]]","[[class_name]]","[[item_class]]"],[r,i,this._tpl_close,h,this._item_count,p,u],c);if(this["_before_open_"+l]()===!1)return!1;e("#gritter-notice-wrapper").addClass(a).append(c);var d=e("#gritter-item-"+this._item_count);return d.fadeIn(this.fade_in_speed,function(){t["_after_open_"+l](e(this))}),o||this._setFadeTimer(d,l),e(d).bind("mouseenter mouseleave",function(n){n.type=="mouseenter"?o||t._restoreItemIfFading(e(this),l):o||t._setFadeTimer(e(this),l),t._hoverState(e(this),n.type)}),e(d).find(".gritter-close").click(function(){t.removeSpecific(l,{},null,!0)}),l},_countRemoveWrapper:function(t,n,r){n.remove(),this["_after_close_"+t](n,r),e(".gritter-item-wrapper").length==0&&e("#gritter-notice-wrapper").remove()},_fade:function(e,n,r,i){var r=r||{},s=typeof r.fade!="undefined"?r.fade:!0,o=r.speed||this.fade_out_speed,u=i;this["_before_close_"+n](e,u),i&&e.unbind("mouseenter mouseleave"),s?e.animate({opacity:0},o,function(){e.animate({height:0},300,function(){t._countRemoveWrapper(n,e,u)})}):this._countRemoveWrapper(n,e)},_hoverState:function(e,t){t=="mouseenter"?(e.addClass("hover"),e.find(".gritter-close").show()):(e.removeClass("hover"),e.find(".gritter-close").hide())},removeSpecific:function(t,n,r,i){if(!r)var r=e("#gritter-item-"+t);this._fade(r,t,n||{},i)},_restoreItemIfFading:function(e,t){clearTimeout(this["_int_id_"+t]),e.stop().css({opacity:"",height:""})},_runSetup:function(){for(opt in e.gritter.options)this[opt]=e.gritter.options[opt];this._is_setup=1},_setFadeTimer:function(e,n){var r=this._custom_timer?this._custom_timer:this.time;this["_int_id_"+n]=setTimeout(function(){t._fade(e,n)},r)},stop:function(t){var n=e.isFunction(t.before_close)?t.before_close:function(){},r=e.isFunction(t.after_close)?t.after_close:function(){},i=e("#gritter-notice-wrapper");n(i),i.fadeOut(function(){e(this).remove(),r()})},_str_replace:function(e,t,n,r){var i=0,s=0,o="",u="",a=0,f=0,l=[].concat(e),c=[].concat(t),h=n,p=c instanceof Array,d=h instanceof Array;h=[].concat(h),r&&(this.window[r]=0);for(i=0,a=h.length;i<a;i++){if(h[i]==="")continue;for(s=0,f=l.length;s<f;s++)o=h[i]+"",u=p?c[s]!==undefined?c[s]:"":c[0],h[i]=o.split(l[s]).join(u),r&&h[i]!==o&&(this.window[r]+=(o.length-h[i].length)/l[s].length)}return d?h:h[0]},_verifyWrapper:function(){e("#gritter-notice-wrapper").length==0&&e("body").append(this._tpl_wrap)}}}(jQuery),define("gritter",["ace"],function(){}),function(e){var t={},n=Math.max,r=Math.min;t.c={},t.c.d=e(document),t.c.t=function(e){return e.originalEvent.touches.length-1},t.o=function(){var n=this;this.o=null,this.$=null,this.i=null,this.g=null,this.v=null,this.cv=null,this.x=0,this.y=0,this.w=0,this.h=0,this.$c=null,this.c=null,this.t=0,this.isInit=!1,this.fgColor=null,this.pColor=null,this.dH=null,this.cH=null,this.eH=null,this.rH=null,this.scale=1,this.relative=!1,this.relativeWidth=!1,this.relativeHeight=!1,this.$div=null,this.run=function(){var t=function(e,t){var r;for(r in t)n.o[r]=t[r];n._carve().init(),n._configure()._draw()};if(this.$.data("kontroled"))return;this.$.data("kontroled",!0),this.extend(),this.o=e.extend({min:this.$.data("min")!==undefined?this.$.data("min"):0,max:this.$.data("max")!==undefined?this.$.data("max"):100,stopper:!0,readOnly:this.$.data("readonly")||this.$.attr("readonly")==="readonly",cursor:this.$.data("cursor")===!0&&30||this.$.data("cursor")||0,thickness:this.$.data("thickness")&&Math.max(Math.min(this.$.data("thickness"),1),.01)||.35,lineCap:this.$.data("linecap")||"butt",width:this.$.data("width")||200,height:this.$.data("height")||200,displayInput:this.$.data("displayinput")==null||this.$.data("displayinput"),displayPrevious:this.$.data("displayprevious"),fgColor:this.$.data("fgcolor")||"#87CEEB",inputColor:this.$.data("inputcolor"),font:this.$.data("font")||"Arial",fontWeight:this.$.data("font-weight")||"bold",inline:!1,step:this.$.data("step")||1,rotation:this.$.data("rotation"),draw:null,change:null,cancel:null,release:null,format:function(e){return e},parse:function(e){return parseFloat(e)}},this.o),this.o.flip=this.o.rotation==="anticlockwise"||this.o.rotation==="acw",this.o.inputColor||(this.o.inputColor=this.o.fgColor),this.$.is("fieldset")?(this.v={},this.i=this.$.find("input"),this.i.each(function(t){var r=e(this);n.i[t]=r,n.v[t]=n.o.parse(r.val()),r.bind("change blur",function(){var e={};e[t]=r.val(),n.val(e)})}),this.$.find("legend").remove()):(this.i=this.$,this.v=this.o.parse(this.$.val()),this.v===""&&(this.v=this.o.min),this.$.bind("change blur",function(){n.val(n._validate(n.o.parse(n.$.val())))})),!this.o.displayInput&&this.$.hide(),this.$c=e(document.createElement("canvas")).attr({width:this.o.width,height:this.o.height}),this.$div=e('<div style="'+(this.o.inline?"display:inline;":"")+"width:"+this.o.width+"px;height:"+this.o.height+"px;"+'"></div>'),this.$.wrap(this.$div).before(this.$c),this.$div=this.$.parent(),typeof G_vmlCanvasManager!="undefined"&&G_vmlCanvasManager.initElement(this.$c[0]),this.c=this.$c[0].getContext?this.$c[0].getContext("2d"):null;if(!this.c)throw{name:"CanvasNotSupportedException",message:"Canvas not supported. Please use excanvas on IE8.0.",toString:function(){return this.name+": "+this.message}};return this.scale=(window.devicePixelRatio||1)/(this.c.webkitBackingStorePixelRatio||this.c.mozBackingStorePixelRatio||this.c.msBackingStorePixelRatio||this.c.oBackingStorePixelRatio||this.c.backingStorePixelRatio||1),this.relativeWidth=this.o.width%1!==0&&this.o.width.indexOf("%"),this.relativeHeight=this.o.height%1!==0&&this.o.height.indexOf("%"),this.relative=this.relativeWidth||this.relativeHeight,this._carve(),this.v instanceof Object?(this.cv={},this.copy(this.v,this.cv)):this.cv=this.v,this.$.bind("configure",t).parent().bind("configure",t),this._listen()._configure()._xy().init(),this.isInit=!0,this.$.val(this.o.format(this.v)),this._draw(),this},this._carve=function(){if(this.relative){var e=this.relativeWidth?this.$div.parent().width()*parseInt(this.o.width)/100:this.$div.parent().width(),t=this.relativeHeight?this.$div.parent().height()*parseInt(this.o.height)/100:this.$div.parent().height();this.w=this.h=Math.min(e,t)}else this.w=this.o.width,this.h=this.o.height;return this.$div.css({width:this.w+"px",height:this.h+"px"}),this.$c.attr({width:this.w,height:this.h}),this.scale!==1&&(this.$c[0].width=this.$c[0].width*this.scale,this.$c[0].height=this.$c[0].height*this.scale,this.$c.width(this.w),this.$c.height(this.h)),this},this._draw=function(){var e=!0;n.g=n.c,n.clear(),n.dH&&(e=n.dH()),e!==!1&&n.draw()},this._touch=function(e){var r=function(e){var t=n.xy2val(e.originalEvent.touches[n.t].pageX,e.originalEvent.touches[n.t].pageY);if(t==n.cv)return;if(n.cH&&n.cH(t)===!1)return;n.change(n._validate(t)),n._draw()};return this.t=t.c.t(e),r(e),t.c.d.bind("touchmove.k",r).bind("touchend.k",function(){t.c.d.unbind("touchmove.k touchend.k"),n.val(n.cv)}),this},this._mouse=function(e){var r=function(e){var t=n.xy2val(e.pageX,e.pageY);if(t==n.cv)return;if(n.cH&&n.cH(t)===!1)return;n.change(n._validate(t)),n._draw()};return r(e),t.c.d.bind("mousemove.k",r).bind("keyup.k",function(e){if(e.keyCode===27){t.c.d.unbind("mouseup.k mousemove.k keyup.k");if(n.eH&&n.eH()===!1)return;n.cancel()}}).bind("mouseup.k",function(e){t.c.d.unbind("mousemove.k mouseup.k keyup.k"),n.val(n.cv)}),this},this._xy=function(){var e=this.$c.offset();return this.x=e.left,this.y=e.top,this},this._listen=function(){return this.o.readOnly?this.$.attr("readonly","readonly"):(this.$c.bind("mousedown",function(e){e.preventDefault(),n._xy()._mouse(e)}).bind("touchstart",function(e){e.preventDefault(),n._xy()._touch(e)}),this.listen()),this.relative&&e(window).resize(function(){n._carve().init(),n._draw()}),this},this._configure=function(){return this.o.draw&&(this.dH=this.o.draw),this.o.change&&(this.cH=this.o.change),this.o.cancel&&(this.eH=this.o.cancel),this.o.release&&(this.rH=this.o.release),this.o.displayPrevious?(this.pColor=this.h2rgba(this.o.fgColor,"0.4"),this.fgColor=this.h2rgba(this.o.fgColor,"0.6")):this.fgColor=this.o.fgColor,this},this._clear=function(){this.$c[0].width=this.$c[0].width},this._validate=function(e){return~~((e<0?-0.5:.5)+e/this.o.step)*this.o.step},this.listen=function(){},this.extend=function(){},this.init=function(){},this.change=function(e){},this.val=function(e){},this.xy2val=function(e,t){},this.draw=function(){},this.clear=function(){this._clear()},this.h2rgba=function(e,t){var n;return e=e.substring(1,7),n=[parseInt(e.substring(0,2),16),parseInt(e.substring(2,4),16),parseInt(e.substring(4,6),16)],"rgba("+n[0]+","+n[1]+","+n[2]+","+t+")"},this.copy=function(e,t){for(var n in e)t[n]=e[n]}},t.Dial=function(){t.o.call(this),this.startAngle=null,this.xy=null,this.radius=null,this.lineWidth=null,this.cursorExt=null,this.w2=null,this.PI2=2*Math.PI,this.extend=function(){this.o=e.extend({bgColor:this.$.data("bgcolor")||"#EEEEEE",angleOffset:this.$.data("angleoffset")||0,angleArc:this.$.data("anglearc")||360,inline:!0},this.o)},this.val=function(e,t){if(null==e)return this.v;e=this.o.parse(e);if(t!==!1&&e!=this.v&&this.rH&&this.rH(e)===!1)return;this.cv=this.o.stopper?n(r(e,this.o.max),this.o.min):e,this.v=this.cv,this.$.val(this.o.format(this.v)),this._draw()},this.xy2val=function(e,t){var i,s;return i=Math.atan2(e-(this.x+this.w2),-(t-this.y-this.w2))-this.angleOffset,this.o.flip&&(i=this.angleArc-i-this.PI2),this.angleArc!=this.PI2&&i<0&&i>-0.5?i=0:i<0&&(i+=this.PI2),s=~~(.5+i*(this.o.max-this.o.min)/this.angleArc)+this.o.min,this.o.stopper&&(s=n(r(s,this.o.max),this.o.min)),s},this.listen=function(){var t=this,i,s,o=function(e){e.preventDefault();var o=e.originalEvent,u=o.detail||o.wheelDeltaX,a=o.detail||o.wheelDeltaY,f=t._validate(t.o.parse(t.$.val()))+(u>0||a>0?t.o.step:u<0||a<0?-t.o.step:0);f=n(r(f,t.o.max),t.o.min),t.val(f,!1),t.rH&&(clearTimeout(i),i=setTimeout(function(){t.rH(f),i=null},100),s||(s=setTimeout(function(){i&&t.rH(f),s=null},200)))},u,a,f=1,l={37:-t.o.step,38:t.o.step,39:t.o.step,40:-t.o.step};this.$.bind("keydown",function(i){var s=i.keyCode;s>=96&&s<=105&&(s=i.keyCode=s-48),u=parseInt(String.fromCharCode(s));if(isNaN(u)){s!==13&&s!==8&&s!==9&&s!==189&&(s!==190||t.$.val().match(/\./))&&i.preventDefault();if(e.inArray(s,[37,38,39,40])>-1){i.preventDefault();var o=t.o.parse(t.$.val())+l[s]*f;t.o.stopper&&(o=n(r(o,t.o.max),t.o.min)),t.change(o),t._draw(),a=window.setTimeout(function(){f*=2},30)}}}).bind("keyup",function(e){isNaN(u)?a&&(window.clearTimeout(a),a=null,f=1,t.val(t.$.val())):t.$.val()>t.o.max&&t.$.val(t.o.max)||t.$.val()<t.o.min&&t.$.val(t.o.min)}),this.$c.bind("mousewheel DOMMouseScroll",o),this.$.bind("mousewheel DOMMouseScroll",o)},this.init=function(){if(this.v<this.o.min||this.v>this.o.max)this.v=this.o.min;this.$.val(this.v),this.w2=this.w/2,this.cursorExt=this.o.cursor/100,this.xy=this.w2*this.scale,this.lineWidth=this.xy*this.o.thickness,this.lineCap=this.o.lineCap,this.radius=this.xy-this.lineWidth/2,this.o.angleOffset&&(this.o.angleOffset=isNaN(this.o.angleOffset)?0:this.o.angleOffset),this.o.angleArc&&(this.o.angleArc=isNaN(this.o.angleArc)?this.PI2:this.o.angleArc),this.angleOffset=this.o.angleOffset*Math.PI/180,this.angleArc=this.o.angleArc*Math.PI/180,this.startAngle=1.5*Math.PI+this.angleOffset,this.endAngle=1.5*Math.PI+this.angleOffset+this.angleArc;var e=n(String(Math.abs(this.o.max)).length,String(Math.abs(this.o.min)).length,2)+2;this.o.displayInput&&this.i.css({width:(this.w/2+4>>0)+"px",height:(this.w/3>>0)+"px",position:"absolute","vertical-align":"middle","margin-top":(this.w/3>>0)+"px","margin-left":"-"+(this.w*3/4+2>>0)+"px",border:0,background:"none",font:this.o.fontWeight+" "+(this.w/e>>0)+"px "+this.o.font,"text-align":"center",color:this.o.inputColor||this.o.fgColor,padding:"0px","-webkit-appearance":"none"})||this.i.css({width:"0px",visibility:"hidden"})},this.change=function(e){this.cv=e,this.$.val(this.o.format(e))},this.angle=function(e){return(e-this.o.min)*this.angleArc/(this.o.max-this.o.min)},this.arc=function(e){var t,n;return e=this.angle(e),this.o.flip?(t=this.endAngle+1e-5,n=t-e-1e-5):(t=this.startAngle-1e-5,n=t+e+1e-5),this.o.cursor&&(t=n-this.cursorExt)&&(n+=this.cursorExt),{s:t,e:n,d:this.o.flip&&!this.o.cursor}},this.draw=function(){var e=this.g,t=this.arc(this.cv),n,r=1;e.lineWidth=this.lineWidth,e.lineCap=this.lineCap,e.strokeStyle=this.o.bgColor,e.arc(this.xy,this.xy,this.radius,this.endAngle-1e-5,this.startAngle+1e-5,!0),e.stroke(),this.o.displayPrevious&&(n=this.arc(this.v),e.beginPath(),e.strokeStyle=this.pColor,e.arc(this.xy,this.xy,this.radius,n.s,n.e,n.d),e.stroke(),r=this.cv==this.v),e.beginPath(),e.strokeStyle=r?this.o.fgColor:this.fgColor,e.arc(this.xy,this.xy,this.radius,t.s,t.e,t.d),e.stroke()},this.cancel=function(){this.val(this.v)}},e.fn.dial=e.fn.knob=function(n){return this.each(function(){var r=new t.Dial;r.o=n,r.$=e(this),r.run()}).parent()}}(jQuery),define("knob",["jquery"],function(){}),function(e){function t(t){if(typeof t.data=="undefined")return;typeof t.data=="string"&&(t.data={keys:t.data});if(!t.data||!t.data.keys||typeof t.data.keys!="string")return;var n=t.handler,r=t.data.keys.toLowerCase().split(" "),i=["text","password","number","email","url","range","date","month","week","time","datetime","datetime-local","search","color","tel"];t.handler=function(t){if(this!==t.target&&(/textarea|select/i.test(t.target.nodeName)||e.inArray(t.target.type,i)>-1))return;var s=e.hotkeys.specialKeys[t.keyCode],o=(t.type==="keydown"||t.type==="keypress")&&String.fromCharCode(t.which).toLowerCase();modif="",possible={},t.altKey&&s!=="alt"&&(modif+="alt+"),t.ctrlKey&&s!=="ctrl"&&(modif+="ctrl+"),t.metaKey&&!t.ctrlKey&&s!=="meta"&&(modif+="meta+"),t.shiftKey&&s!=="shift"&&(modif+="shift+"),s&&(possible[modif+s]=!0),o&&(possible[modif+o]=!0,possible[modif+e.hotkeys.shiftNums[o]]=!0,modif==="shift+"&&(possible[e.hotkeys.shiftNums[o]]=!0));for(var u=0,a=r.length;u<a;u++)if(possible[r[u]])return n.apply(this,arguments)}}e.hotkeys={version:"0.8",specialKeys:{8:"backspace",9:"tab",10:"return",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",186:";",191:"/",220:"\\",222:"'",224:"meta"},shiftNums:{"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":": ","'":'"',",":"<",".":">","/":"?","\\":"|"}},e.each(["keydown","keyup","keypress"],function(){e.event.special[this]={add:t}})}(this.jQuery),define("hotkeys",["jquery"],function(){}),function(e){var t=function(t){var n=e.Deferred(),r=new FileReader;return r.onload=function(e){n.resolve(e.target.result)},r.onerror=n.reject,r.onprogress=n.notify,r.readAsDataURL(t),n.promise()};e.fn.cleanHtml=function(){var t=e(this).html();return t&&t.replace(/(<br>|\s|<div><br><\/div>|&nbsp;)*$/,"").replace(/(width=".*?"|width:.*?;)/img,"")},e.fn.wysiwyg=function(n){var r=this,i,s,o,u=function(){s.activeToolbarClass&&e(s.toolbarSelector).find(o).each(function(){try{var t=e(this).data(s.commandRole);document.queryCommandState(t)?e(this).addClass(s.activeToolbarClass):e(this).removeClass(s.activeToolbarClass)}catch(n){}})},a=function(e,t){var n=e.split(" "),r=n.shift(),i=n.join(" ")+(t||"");document.execCommand(r,0,i),u()},f=function(t){e.each(t,function(e,t){r.keydown(e,function(e){r.attr("contenteditable")&&r.is(":visible")&&(e.preventDefault(),e.stopPropagation(),a(t))}).keyup(e,function(e){r.attr("contenteditable")&&r.is(":visible")&&(e.preventDefault(),e.stopPropagation())})})},l=function(){try{var e=window.getSelection();if(e.getRangeAt&&e.rangeCount)return e.getRangeAt(0)}catch(t){}},c=function(){i=l()},h=function(){try{var e=window.getSelection();if(i){try{e.removeAllRanges()}catch(t){document.body.createTextRange().select(),document.selection.empty()}e.addRange(i)}}catch(n){}},p=function(n){r.focus(),e.each(n,function(n,r){/^image\//.test(r.type)?e.when(t(r)).done(function(e){a("insertimage",e)}).fail(function(e){s.fileUploadError("file-reader",e)}):s.fileUploadError("unsupported-file-type",r.type)})},d=function(e,t){h(),document.queryCommandSupported("hiliteColor")&&document.execCommand("hiliteColor",0,t||"transparent"),c(),e.data(s.selectionMarker,t)},v=function(t,n){t.find(o).click(function(){h(),r.focus(),a(e(this).data(n.commandRole)),c()}),t.find("[data-toggle=dropdown]").click(h);var i=!!window.navigator.msPointerEnabled||!!document.all&&!!document.addEventListener;t.find("input[type=text][data-"+n.commandRole+"]").on("webkitspeechchange change",function(){var t=this.value;this.value="",h(),t&&(r.focus(),a(e(this).data(n.commandRole),t)),c()}).on("focus",function(){if(i)return;var t=e(this);t.data(n.selectionMarker)||(d(t,n.selectionColor),t.focus())}).on("blur",function(){if(i)return;var t=e(this);t.data(n.selectionMarker)&&d(t,!1)}),t.find("input[type=file][data-"+n.commandRole+"]").change(function(){h(),this.type==="file"&&this.files&&this.files.length>0&&p(this.files),c(),this.value=""})},m=function(){r.on("dragenter dragover",!1).on("drop",function(e){var t=e.originalEvent.dataTransfer;e.stopPropagation(),e.preventDefault(),t&&t.files&&t.files.length>0&&p(t.files)})};return s=e.extend({},e.fn.wysiwyg.defaults,n),o="a[data-"+s.commandRole+"],button[data-"+s.commandRole+"],input[type=button][data-"+s.commandRole+"]",f(s.hotKeys),s.dragAndDropImages&&m(),v(e(s.toolbarSelector),s),r.attr("contenteditable",!0).on("mouseup keyup mouseout",function(){c(),u()}),e(window).bind("touchend",function(e){var t=r.is(e.target)||r.has(e.target).length>0,n=l(),i=n&&n.startContainer===n.endContainer&&n.startOffset===n.endOffset;if(!i||t)c(),u()}),this},e.fn.wysiwyg.defaults={hotKeys:{"ctrl+b meta+b":"bold","ctrl+i meta+i":"italic","ctrl+u meta+u":"underline","ctrl+z meta+z":"undo","ctrl+y meta+y meta+shift+z":"redo","ctrl+l meta+l":"justifyleft","ctrl+r meta+r":"justifyright","ctrl+e meta+e":"justifycenter","ctrl+j meta+j":"justifyfull","shift+tab":"outdent",tab:"indent"},toolbarSelector:"[data-role=editor-toolbar]",commandRole:"edit",activeToolbarClass:"btn-info",selectionMarker:"edit-focus-marker",selectionColor:"darkgrey",dragAndDropImages:!0,fileUploadError:function(e,t){console.log("File upload error",e,t)}}}(window.jQuery),define("wysiwyg",["bootstrap","hotkeys"],function(){}),function(e,t,n){t.infinitescroll=function(n,r,i){this.element=t(i),this._create(n,r)||(this.failed=!0)},t.infinitescroll.defaults={loading:{finished:n,finishedMsg:"<em>Congratulations, you've reached the end of the internet.</em>",img:"data:image/gif;base64,R0lGODlh3AATAPQeAPDy+MnQ6LW/4N3h8MzT6rjC4sTM5r/I5NHX7N7j8c7U6tvg8OLl8uXo9Ojr9b3G5MfP6Ovu9tPZ7PT1+vX2+tbb7vf4+8/W69jd7rC73vn5/O/x+K243ai02////wAAACH/C05FVFNDQVBFMi4wAwEAAAAh+QQECgD/ACwAAAAA3AATAAAF/6AnjmRpnmiqrmzrvnAsz3Rt33iu73zv/8CgcEj0BAScpHLJbDqf0Kh0Sq1ar9isdioItAKGw+MAKYMFhbF63CW438f0mg1R2O8EuXj/aOPtaHx7fn96goR4hmuId4qDdX95c4+RBIGCB4yAjpmQhZN0YGYGXitdZBIVGAsLoq4BBKQDswm1CQRkcG6ytrYKubq8vbfAcMK9v7q7EMO1ycrHvsW6zcTKsczNz8HZw9vG3cjTsMIYqQkCLBwHCgsMDQ4RDAYIqfYSFxDxEfz88/X38Onr16+Bp4ADCco7eC8hQYMAEe57yNCew4IVBU7EGNDiRn8Z831cGLHhSIgdFf9chIeBg7oA7gjaWUWTVQAGE3LqBDCTlc9WOHfm7PkTqNCh54rePDqB6M+lR536hCpUqs2gVZM+xbrTqtGoWqdy1emValeXKzggYBBB5y1acFNZmEvXAoN2cGfJrTv3bl69Ffj2xZt3L1+/fw3XRVw4sGDGcR0fJhxZsF3KtBTThZxZ8mLMgC3fRatCbYMNFCzwLEqLgE4NsDWs/tvqdezZf13Hvk2A9Szdu2X3pg18N+68xXn7rh1c+PLksI/Dhe6cuO3ow3NfV92bdArTqC2Ebd3A8vjf5QWfH6Bg7Nz17c2fj69+fnq+8N2Lty+fuP78/eV2X13neIcCeBRwxorbZrA1ANoCDGrgoG8RTshahQ9iSKEEzUmYIYfNWViUhheCGJyIP5E4oom7WWjgCeBFAJNv1DVV01MAdJhhjdkplWNzO/5oXI846njjVEIqR2OS2B1pE5PVscajkxhMycqLJghQSwT40PgfAl4GqNSXYdZXJn5gSkmmmmJu1aZYb14V51do+pTOCmA40AqVCIhG5IJ9PvYnhIFOxmdqhpaI6GeHCtpooisuutmg+Eg62KOMKuqoTaXgicQWoIYq6qiklmoqFV0UoeqqrLbq6quwxirrrLTWauutJ4QAACH5BAUKABwALAcABADOAAsAAAX/IPd0D2dyRCoUp/k8gpHOKtseR9yiSmGbuBykler9XLAhkbDavXTL5k2oqFqNOxzUZPU5YYZd1XsD72rZpBjbeh52mSNnMSC8lwblKZGwi+0QfIJ8CncnCoCDgoVnBHmKfByGJimPkIwtiAeBkH6ZHJaKmCeVnKKTHIihg5KNq4uoqmEtcRUtEREMBggtEr4QDrjCuRC8h7/BwxENeicSF8DKy82pyNLMOxzWygzFmdvD2L3P0dze4+Xh1Arkyepi7dfFvvTtLQkZBC0T/FX3CRgCMOBHsJ+EHYQY7OinAGECgQsB+Lu3AOK+CewcWjwxQeJBihtNGHSoQOE+iQ3//4XkwBBhRZMcUS6YSXOAwIL8PGqEaSJCiYt9SNoCmnJPAgUVLChdaoFBURN8MAzl2PQphwQLfDFd6lTowglHve6rKpbjhK7/pG5VinZP1qkiz1rl4+tr2LRwWU64cFEihwEtZgbgR1UiHaMVvxpOSwBA37kzGz9e8G+B5MIEKLutOGEsAH2ATQwYfTmuX8aETWdGPZmiZcccNSzeTCA1Sw0bdiitC7LBWgu8jQr8HRzqgpK6gX88QbrB14z/kF+ELpwB8eVQj/JkqdylAudji/+ts3039vEEfK8Vz2dlvxZKG0CmbkKDBvllRd6fCzDvBLKBDSCeffhRJEFebFk1k/Mv9jVIoIJZSeBggwUaNeB+Qk34IE0cXlihcfRxkOAJFFhwGmKlmWDiakZhUJtnLBpnWWcnKaAZcxI0piFGGLBm1mc90kajSCveeBVWKeYEoU2wqeaQi0PetoE+rr14EpVC7oAbAUHqhYExbn2XHHsVqbcVew9tx8+XJKk5AZsqqdlddGpqAKdbAYBn1pcczmSTdWvdmZ17c1b3FZ99vnTdCRFM8OEcAhLwm1NdXnWcBBSMRWmfkWZqVlsmLIiAp/o1gGV2vpS4lalGYsUOqXrddcKCmK61aZ8SjEpUpVFVoCpTj4r661Km7kBHjrDyc1RAIQAAIfkEBQoAGwAsBwAEAM4ACwAABf/gtmUCd4goQQgFKj6PYKi0yrrbc8i4ohQt12EHcal+MNSQiCP8gigdz7iCioaCIvUmZLp8QBzW0EN2vSlCuDtFKaq4RyHzQLEKZNdiQDhRDVooCwkbfm59EAmKi4SGIm+AjIsKjhsqB4mSjT2IOIOUnICeCaB/mZKFNTSRmqVpmJqklSqskq6PfYYCDwYHDC4REQwGCBLGxxIQDsHMwhAIX8bKzcENgSLGF9PU1j3Sy9zX2NrgzQziChLk1BHWxcjf7N046tvN82715czn9Pryz6Ilc4ACj4EBOCZM8KEnAYYADBRKnACAYUMFv1wotIhCEcaJCisqwJFgAUSQGyX/kCSVUUTIdKMwJlyo0oXHlhskwrTJciZHEXsgaqS4s6PJiCAr1uzYU8kBBSgnWFqpoMJMUjGtDmUwkmfVmVypakWhEKvXsS4nhLW5wNjVroJIoc05wSzTr0PtiigpYe4EC2vj4iWrFu5euWIMRBhacaVJhYQBEFjA9jHjyQ0xEABwGceGAZYjY0YBOrRLCxUp29QM+bRkx5s7ZyYgVbTqwwti2ybJ+vLtDYpycyZbYOlptxdx0kV+V7lC5iJAyyRrwYKxAdiz82ng0/jnAdMJFz0cPi104Ec1Vj9/M6F173vKL/feXv156dw11tlqeMMnv4V5Ap53GmjQQH97nFfg+IFiucfgRX5Z8KAgbUlQ4IULIlghhhdOSB6AgX0IVn8eReghen3NRIBsRgnH4l4LuEidZBjwRpt6NM5WGwoW0KSjCwX6yJSMab2GwwAPDXfaBCtWpluRTQqC5JM5oUZAjUNS+VeOLWpJEQ7VYQANW0INJSZVDFSnZphjSikfmzE5N4EEbQI1QJmnWXCmHulRp2edwDXF43txukenJwvI9xyg9Q26Z3MzGUcBYFEChZh6DVTq34AU8Iflh51Sd+CnKFYQ6mmZkhqfBKfSxZWqA9DZanWjxmhrWwi0qtCrt/43K6WqVjjpmhIqgEGvculaGKklKstAACEAACH5BAUKABwALAcABADOAAsAAAX/ICdyQmaMYyAUqPgIBiHPxNpy79kqRXH8wAPsRmDdXpAWgWdEIYm2llCHqjVHU+jjJkwqBTecwItShMXkEfNWSh8e1NGAcLgpDGlRgk7EJ/6Ae3VKfoF/fDuFhohVeDeCfXkcCQqDVQcQhn+VNDOYmpSWaoqBlUSfmowjEA+iEAEGDRGztAwGCDcXEA60tXEiCrq8vREMEBLIyRLCxMWSHMzExnbRvQ2Sy7vN0zvVtNfU2tLY3rPgLdnDvca4VQS/Cpk3ABwSLQkYAQwT/P309vcI7OvXr94jBQMJ/nskkGA/BQBRLNDncAIAiDcG6LsxAWOLiQzmeURBKWSLCQbv/1F0eDGinJUKR47YY1IEgQASKk7Yc7ACRwZm7mHweRJoz59BJUogisKCUaFMR0x4SlJBVBFTk8pZivTR0K73rN5wqlXEAq5Fy3IYgHbEzQ0nLy4QSoCjXLoom96VOJEeCosK5n4kkFfqXjl94wa+l1gvAcGICbewAOAxY8l/Ky/QhAGz4cUkGxu2HNozhwMGBnCUqUdBg9UuW9eUynqSwLHIBujePef1ZGQZXcM+OFuEBeBhi3OYgLyqcuaxbT9vLkf4SeqyWxSQpKGB2gQpm1KdWbu72rPRzR9Ne2Nu9Kzr/1Jqj0yD/fvqP4aXOt5sW/5qsXXVcv1Nsp8IBUAmgswGF3llGgeU1YVXXKTN1FlhWFXW3gIE+DVChApysACHHo7Q4A35lLichh+ROBmLKAzgYmYEYDAhCgxKGOOMn4WR4kkDaoBBOxJtdNKQxFmg5JIWIBnQc07GaORfUY4AEkdV6jHlCEISSZ5yTXpp1pbGZbkWmcuZmQCaE6iJ0FhjMaDjTMsgZaNEHFRAQVp3bqXnZED1qYcECOz5V6BhSWCoVJQIKuKQi2KFKEkEFAqoAo7uYSmO3jk61wUUMKmknJ4SGimBmAa0qVQBhAAAIfkEBQoAGwAsBwAEAM4ACwAABf/gJm5FmRlEqhJC+bywgK5pO4rHI0D3pii22+Mg6/0Ej96weCMAk7cDkXf7lZTTnrMl7eaYoy10JN0ZFdco0XAuvKI6qkgVFJXYNwjkIBcNBgR8TQoGfRsJCRuCYYQQiI+ICosiCoGOkIiKfSl8mJkHZ4U9kZMbKaI3pKGXmJKrngmug4WwkhA0lrCBWgYFCCMQFwoQDRHGxwwGCBLMzRLEx8iGzMMO0cYNeCMKzBDW19lnF9DXDIY/48Xg093f0Q3s1dcR8OLe8+Y91OTv5wrj7o7B+7VNQqABIoRVCMBggsOHE36kSoCBIcSH3EbFangxogJYFi8CkJhqQciLJEf/LDDJEeJIBT0GsOwYUYJGBS0fjpQAMidGmyVP6sx4Y6VQhzs9VUwkwqaCCh0tmKoFtSMDmBOf9phg4SrVrROuasRQAaxXpVUhdsU6IsECZlvX3kwLUWzRt0BHOLTbNlbZG3vZinArge5Dvn7wbqtQkSYAAgtKmnSsYKVKo2AfW048uaPmG386i4Q8EQMBAIAnfB7xBxBqvapJ9zX9WgRS2YMpnvYMGdPK3aMjt/3dUcNI4blpj7iwkMFWDXDvSmgAlijrt9RTR78+PS6z1uAJZIe93Q8g5zcsWCi/4Y+C8bah5zUv3vv89uft30QP23punGCx5954oBBwnwYaNCDY/wYrsYeggnM9B2Fpf8GG2CEUVWhbWAtGouEGDy7Y4IEJVrbSiXghqGKIo7z1IVcXIkKWWR361QOLWWnIhwERpLaaCCee5iMBGJQmJGyPFTnbkfHVZGRtIGrg5HALEJAZbu39BuUEUmq1JJQIPtZilY5hGeSWsSk52G9XqsmgljdIcABytq13HyIM6RcUA+r1qZ4EBF3WHWB29tBgAzRhEGhig8KmqKFv8SeCeo+mgsF7YFXa1qWSbkDpom/mqR1PmHCqJ3fwNRVXjC7S6CZhFVCQ2lWvZiirhQq42SACt25IK2hv8TprriUV1usGgeka7LFcNmCldMLi6qZMgFLgpw16Cipb7bC1knXsBiEAACH5BAUKABsALAcABADOAAsAAAX/4FZsJPkUmUGsLCEUTywXglFuSg7fW1xAvNWLF6sFFcPb42C8EZCj24EJdCp2yoegWsolS0Uu6fmamg8n8YYcLU2bXSiRaXMGvqV6/KAeJAh8VgZqCX+BexCFioWAYgqNi4qAR4ORhRuHY408jAeUhAmYYiuVlpiflqGZa5CWkzc5fKmbbhIpsAoQDRG8vQwQCBLCwxK6vb5qwhfGxxENahvCEA7NzskSy7vNzzzK09W/PNHF1NvX2dXcN8K55cfh69Luveol3vO8zwi4Yhj+AQwmCBw4IYclDAAJDlQggVOChAoLKkgFkSCAHDwWLKhIEOONARsDKryogFPIiAUb/95gJNIiw4wnI778GFPhzBKFOAq8qLJEhQpiNArjMcHCmlTCUDIouTKBhApELSxFWiGiVKY4E2CAekPgUphDu0742nRrVLJZnyrFSqKQ2ohoSYAMW6IoDpNJ4bLdILTnAj8KUF7UeENjAKuDyxIgOuGiOI0EBBMgLNew5AUrDTMGsFixwBIaNCQuAXJB57qNJ2OWm2Aj4skwCQCIyNkhhtMkdsIuodE0AN4LJDRgfLPtn5YDLdBlraAByuUbBgxQwICxMOnYpVOPej074OFdlfc0TqC62OIbcppHjV4o+LrieWhfT8JC/I/T6W8oCl29vQ0XjLdBaA3s1RcPBO7lFvpX8BVoG4O5jTXRQRDuJ6FDTzEWF1/BCZhgbyAKE9qICYLloQYOFtahVRsWYlZ4KQJHlwHS/IYaZ6sZd9tmu5HQm2xi1UaTbzxYwJk/wBF5g5EEYOBZeEfGZmNdFyFZmZIR4jikbLThlh5kUUVJGmRT7sekkziRWUIACABk3T4qCsedgO4xhgGcY7q5pHJ4klBBTQRJ0CeHcoYHHUh6wgfdn9uJdSdMiebGJ0zUPTcoS286FCkrZxnYoYYKWLkBowhQoBeaOlZAgVhLidrXqg2GiqpQpZ4apwSwRtjqrB3muoF9BboaXKmshlqWqsWiGt2wphJkQbAU5hoCACH5BAUKABsALAcABADOAAsAAAX/oGFw2WZuT5oZROsSQnGaKjRvilI893MItlNOJ5v5gDcFrHhKIWcEYu/xFEqNv6B1N62aclysF7fsZYe5aOx2yL5aAUGSaT1oTYMBwQ5VGCAJgYIJCnx1gIOBhXdwiIl7d0p2iYGQUAQBjoOFSQR/lIQHnZ+Ue6OagqYzSqSJi5eTpTxGcjcSChANEbu8DBAIEsHBChe5vL13G7fFuscRDcnKuM3H0La3EA7Oz8kKEsXazr7Cw9/Gztar5uHHvte47MjktznZ2w0G1+D3BgirAqJmJMAQgMGEgwgn5Ei0gKDBhBMALGRYEOJBb5QcWlQo4cbAihZz3GgIMqFEBSM1/4ZEOWPAgpIIJXYU+PIhRG8ja1qU6VHlzZknJNQ6UanCjQkWCIGSUGEjAwVLjc44+DTqUQtPPS5gejUrTa5TJ3g9sWCr1BNUWZI161StiQUDmLYdGfesibQ3XMq1OPYthrwuA2yU2LBs2cBHIypYQPPlYAKFD5cVvNPtW8eVGbdcQADATsiNO4cFAPkvHpedPzc8kUcPgNGgZ5RNDZG05reoE9s2vSEP79MEGiQGy1qP8LA4ZcdtsJE48ONoLTBtTV0B9LsTnPceoIDBDQvS7W7vfjVY3q3eZ4A339J4eaAmKqU/sV58HvJh2RcnIBsDUw0ABqhBA5aV5V9XUFGiHfVeAiWwoFgJJrIXRH1tEMiDFV4oHoAEGlaWhgIGSGBO2nFomYY3mKjVglidaNYJGJDkWW2xxTfbjCbVaOGNqoX2GloR8ZeTaECS9pthRGJH2g0b3Agbk6hNANtteHD2GJUucfajCQBy5OOTQ25ZgUPvaVVQmbKh9510/qQpwXx3SQdfk8tZJOd5b6JJFplT3ZnmmX3qd5l1eg5q00HrtUkUn0AKaiGjClSAgKLYZcgWXwocGRcCFGCKwSB6ceqphwmYRUFYT/1WKlOdUpipmxW0mlCqHjYkAaeoZlqrqZ4qd+upQKaapn/AmgAegZ8KUtYtFAQQAgAh+QQFCgAbACwHAAQAzgALAAAF/+C2PUcmiCiZGUTrEkKBis8jQEquKwU5HyXIbEPgyX7BYa5wTNmEMwWsSXsqFbEh8DYs9mrgGjdK6GkPY5GOeU6ryz7UFopSQEzygOGhJBjoIgMDBAcBM0V/CYqLCQqFOwobiYyKjn2TlI6GKC2YjJZknouaZAcQlJUHl6eooJwKooobqoewrJSEmyKdt59NhRKFMxLEEA4RyMkMEAjDEhfGycqAG8TQx9IRDRDE3d3R2ctD1RLg0ttKEnbY5wZD3+zJ6M7X2RHi9Oby7u/r9g38UFjTh2xZJBEBMDAboogAgwkQI07IMUORwocSJwCgWDFBAIwZOaJIsOBjRogKJP8wTODw5ESVHVtm3AhzpEeQElOuNDlTZ0ycEUWKWFASqEahGwYUPbnxoAgEdlYSqDBkgoUNClAlIHbSAoOsqCRQnQHxq1axVb06FWFxLIqyaze0Tft1JVqyE+pWXMD1pF6bYl3+HTqAWNW8cRUFzmih0ZAAB2oGKukSAAGGRHWJgLiR6AylBLpuHKKUMlMCngMpDSAa9QIUggZVVvDaJobLeC3XZpvgNgCmtPcuwP3WgmXSq4do0DC6o2/guzcseECtUoO0hmcsGKDgOt7ssBd07wqesAIGZC1YIBa7PQHvb1+SFo+++HrJSQfB33xfav3i5eX3Hnb4CTJgegEq8tH/YQEOcIJzbm2G2EoYRLgBXFpVmFYDcREV4HIcnmUhiGBRouEMJGJGzHIspqgdXxK0yCKHRNXoIX4uorCdTyjkyNtdPWrA4Up82EbAbzMRxxZRR54WXVLDIRmRcag5d2R6ugl3ZXzNhTecchpMhIGVAKAYpgJjjsSklBEd99maZoo535ZvdamjBEpusJyctg3h4X8XqodBMx0tiNeg/oGJaKGABpogS40KSqiaEgBqlQWLUtqoVQnytekEjzo0hHqhRorppOZt2p923M2AAV+oBtpAnnPNoB6HaU6mAAIU+IXmi3j2mtFXuUoHKwXpzVrsjcgGOauKEjQrwq157hitGq2NoWmjh7z6Wmxb0m5w66+2VRAuXN/yFUAIACH5BAUKABsALAcABADOAAsAAAX/4CZuRiaM45MZqBgIRbs9AqTcuFLE7VHLOh7KB5ERdjJaEaU4ClO/lgKWjKKcMiJQ8KgumcieVdQMD8cbBeuAkkC6LYLhOxoQ2PF5Ys9PKPBMen17f0CCg4VSh32JV4t8jSNqEIOEgJKPlkYBlJWRInKdiJdkmQlvKAsLBxdABA4RsbIMBggtEhcQsLKxDBC2TAS6vLENdJLDxMZAubu8vjIbzcQRtMzJz79S08oQEt/guNiyy7fcvMbh4OezdAvGrakLAQwyABsELQkY9BP+//ckyPDD4J9BfAMh1GsBoImMeQUN+lMgUJ9CiRMa5msxoB9Gh/o8GmxYMZXIgxtR/yQ46S/gQAURR0pDwYDfywoyLPip5AdnCwsMFPBU4BPFhKBDi444quCmDKZOfwZ9KEGpCKgcN1jdALSpPqIYsabS+nSqvqplvYqQYAeDPgwKwjaMtiDl0oaqUAyo+3TuWwUAMPpVCfee0cEjVBGQq2ABx7oTWmQk4FglZMGN9fGVDMCuiH2AOVOu/PmyxM630gwM0CCn6q8LjVJ8GXvpa5Uwn95OTC/nNxkda1/dLSK475IjCD6dHbK1ZOa4hXP9DXs5chJ00UpVm5xo2qRpoxptwF2E4/IbJpB/SDz9+q9b1aNfQH08+p4a8uvX8B53fLP+ycAfemjsRUBgp1H20K+BghHgVgt1GXZXZpZ5lt4ECjxYR4ScUWiShEtZqBiIInRGWnERNnjiBglw+JyGnxUmGowsyiiZg189lNtPGACjV2+S9UjbU0JWF6SPvEk3QZEqsZYTk3UAaRSUnznJI5LmESCdBVSyaOWUWLK4I5gDUYVeV1T9l+FZClCAUVA09uSmRHBCKAECFEhW51ht6rnmWBXkaR+NjuHpJ40D3DmnQXt2F+ihZxlqVKOfQRACACH5BAUKABwALAcABADOAAsAAAX/ICdyUCkUo/g8mUG8MCGkKgspeC6j6XEIEBpBUeCNfECaglBcOVfJFK7YQwZHQ6JRZBUqTrSuVEuD3nI45pYjFuWKvjjSkCoRaBUMWxkwBGgJCXspQ36Bh4EEB0oKhoiBgyNLjo8Ki4QElIiWfJqHnISNEI+Ql5J9o6SgkqKkgqYihamPkW6oNBgSfiMMDQkGCBLCwxIQDhHIyQwQCGMKxsnKVyPCF9DREQ3MxMPX0cu4wt7J2uHWx9jlKd3o39MiuefYEcvNkuLt5O8c1ePI2tyELXGQwoGDAQf+iEC2xByDCRAjTlAgIUWCBRgCPJQ4AQBFXAs0coT40WLIjRxL/47AcHLkxIomRXL0CHPERZkpa4q4iVKiyp0tR/7kwHMkTUBBJR5dOCEBAVcKKtCAyOHpowXCpk7goABqBZdcvWploACpBKkpIJI1q5OD2rIWE0R1uTZu1LFwbWL9OlKuWb4c6+o9i3dEgw0RCGDUG9KlRw56gDY2qmCByZBaASi+TACA0TucAaTteCcy0ZuOK3N2vJlx58+LRQyY3Xm0ZsgjZg+oPQLi7dUcNXi0LOJw1pgNtB7XG6CBy+U75SYfPTSQAgZTNUDnQHt67wnbZyvwLgKiMN3oCZB3C76tdewpLFgIP2C88rbi4Y+QT3+8S5USMICZXWj1pkEDeUU3lOYGB3alSoEiMIjgX4WlgNF2EibIwQIXauWXSRg2SAOHIU5IIIMoZkhhWiJaiFVbKo6AQEgQXrTAazO1JhkBrBG3Y2Y6EsUhaGn95hprSN0oWpFE7rhkeaQBchGOEWnwEmc0uKWZj0LeuNV3W4Y2lZHFlQCSRjTIl8uZ+kG5HU/3sRlnTG2ytyadytnD3HrmuRcSn+0h1dycexIK1KCjYaCnjCCVqOFFJTZ5GkUUjESWaUIKU2lgCmAKKQIUjHapXRKE+t2og1VgankNYnohqKJ2CmKplso6GKz7WYCgqxeuyoF8u9IQAgA7",msg:null,msgText:"<em>Loading the next set of posts...</em>",selector:null,speed:"fast",start:n},state:{isDuringAjax:!1,isInvalidPage:!1,isDestroyed:!1,isDone:!1,isPaused:!1,isBeyondMaxPage:!1,currPage:1},debug:!1,behavior:n,binder:t(e),nextSelector:"div.navigation a:first",navSelector:"div.navigation",contentSelector:null,extraScrollPx:150,itemSelector:"div.post",animate:!1,pathParse:n,dataType:"html",appendCallback:!0,bufferPx:40,errorCallback:function(){},infid:0,pixelsFromNavToBottom:n,path:n,prefill:!1,maxPage:n},t.infinitescroll.prototype={_binding:function(t){var r=this,i=r.options;i.v="2.0b2.120520";if(!!i.behavior&&this["_binding_"+i.behavior]!==n){this["_binding_"+i.behavior].call(this);return}if(t!=="bind"&&t!=="unbind")return this._debug("Binding value  "+t+" not valid"),!1;t==="unbind"?this.options.binder.unbind("smartscroll.infscr."+r.options.infid):this.options.binder[t]("smartscroll.infscr."+r.options.infid,function(){r.scroll()}),this._debug("Binding",t)},_create:function(i,s){var o=t.extend(!0,{},t.infinitescroll.defaults,i);this.options=o;var u=t(e),a=this;if(!a._validate(i))return!1;var f=t(o.nextSelector).attr("href");if(!f)return this._debug("Navigation selector not found"),!1;o.path=o.path||this._determinepath(f),o.contentSelector=o.contentSelector||this.element,o.loading.selector=o.loading.selector||o.contentSelector,o.loading.msg=o.loading.msg||t('<div id="infscr-loading"><img alt="Loading..." src="'+o.loading.img+'" /><div>'+o.loading.msgText+"</div></div>"),(new Image).src=o.loading.img,o.pixelsFromNavToBottom===n&&(o.pixelsFromNavToBottom=t(document).height()-t(o.navSelector).offset().top,this._debug("pixelsFromNavToBottom: "+o.pixelsFromNavToBottom));var l=this;return o.loading.start=o.loading.start||function(){t(o.navSelector).hide(),o.loading.msg.appendTo(o.loading.selector).show(o.loading.speed,t.proxy(function(){this.beginAjax(o)},l))},o.loading.finished=o.loading.finished||function(){o.state.isBeyondMaxPage||o.loading.msg.fadeOut(o.loading.speed)},o.callback=function(e,r,i){!!o.behavior&&e["_callback_"+o.behavior]!==n&&e["_callback_"+o.behavior].call(t(o.contentSelector)[0],r,i),s&&s.call(t(o.contentSelector)[0],r,o,i),o.prefill&&u.bind("resize.infinite-scroll",e._prefill)},i.debug&&Function.prototype.bind&&(typeof console=="object"||typeof console=="function")&&typeof console.log=="object"&&["log","info","warn","error","assert","dir","clear","profile","profileEnd"].forEach(function(e){console[e]=this.call(console[e],console)},Function.prototype.bind),this._setup(),o.prefill&&this._prefill(),!0},_prefill:function(){function s(){return r.options.contentSelector.height()<=i.height()}var r=this,i=t(e);this._prefill=function(){s()&&r.scroll(),i.bind("resize.infinite-scroll",function(){s()&&(i.unbind("resize.infinite-scroll"),r.scroll())})},this._prefill()},_debug:function(){if(!0!==this.options.debug)return;typeof console!="undefined"&&typeof console.log=="function"?Array.prototype.slice.call(arguments).length===1&&typeof Array.prototype.slice.call(arguments)[0]=="string"?console.log(Array.prototype.slice.call(arguments).toString()):console.log(Array.prototype.slice.call(arguments)):!Function.prototype.bind&&typeof console!="undefined"&&typeof console.log=="object"&&Function.prototype.call.call(console.log,console,Array.prototype.slice.call(arguments))},_determinepath:function(t){var r=this.options;if(!r.behavior||this["_determinepath_"+r.behavior]===n){if(!r.pathParse){if(t.match(/^(.*?)\b2\b(.*?$)/))t=t.match(/^(.*?)\b2\b(.*?$)/).slice(1);else if(t.match(/^(.*?)2(.*?$)/)){if(t.match(/^(.*?page=)2(\/.*|$)/))return t=t.match(/^(.*?page=)2(\/.*|$)/).slice(1),t;t=t.match(/^(.*?)2(.*?$)/).slice(1)}else{if(t.match(/^(.*?page=)1(\/.*|$)/))return t=t.match(/^(.*?page=)1(\/.*|$)/).slice(1),t;this._debug("Sorry, we couldn't parse your Next (Previous Posts) URL. Verify your the css selector points to the correct A tag. If you still get this error: yell, scream, and kindly ask for help at infinite-scroll.com."),r.state.isInvalidPage=!0}return this._debug("determinePath",t),t}return this._debug("pathParse manual"),r.pathParse(t,this.options.state.currPage+1)}return this["_determinepath_"+r.behavior].call(this,t)},_error:function(t){var r=this.options;if(!!r.behavior&&this["_error_"+r.behavior]!==n){this["_error_"+r.behavior].call(this,t);return}t!=="destroy"&&t!=="end"&&(t="unknown"),this._debug("Error",t),(t==="end"||r.state.isBeyondMaxPage)&&this._showdonemsg(),r.state.isDone=!0,r.state.currPage=1,r.state.isPaused=!1,r.state.isBeyondMaxPage=!1,this._binding("unbind")},_loadcallback:function(i,s,o){var u=this.options,a=this.options.callback,f=u.state.isDone?"done":u.appendCallback?"append":"no-append",l;if(!!u.behavior&&this["_loadcallback_"+u.behavior]!==n){this["_loadcallback_"+u.behavior].call(this,i,s);return}switch(f){case"done":return this._showdonemsg(),!1;case"no-append":u.dataType==="html"&&(s="<div>"+s+"</div>",s=t(s).find(u.itemSelector));break;case"append":var c=i.children();if(c.length===0)return this._error("end");l=document.createDocumentFragment();while(i[0].firstChild)l.appendChild(i[0].firstChild);this._debug("contentSelector",t(u.contentSelector)[0]),t(u.contentSelector)[0].appendChild(l),s=c.get()}u.loading.finished.call(t(u.contentSelector)[0],u);if(u.animate){var h=t(e).scrollTop()+t(u.loading.msg).height()+u.extraScrollPx+"px";t("html,body").animate({scrollTop:h},800,function(){u.state.isDuringAjax=!1})}u.animate||(u.state.isDuringAjax=!1),a(this,s,o),u.prefill&&this._prefill()},_nearbottom:function(){var i=this.options,s=0+t(document).height()-i.binder.scrollTop()-t(e).height();return!i.behavior||this["_nearbottom_"+i.behavior]===n?(this._debug("math:",s,i.pixelsFromNavToBottom),s-i.bufferPx<i.pixelsFromNavToBottom):this["_nearbottom_"+i.behavior].call(this)},_pausing:function(t){var r=this.options;if(!r.behavior||this["_pausing_"+r.behavior]===n){t!=="pause"&&t!=="resume"&&t!==null&&this._debug("Invalid argument. Toggling pause value instead"),t=!t||t!=="pause"&&t!=="resume"?"toggle":t;switch(t){case"pause":r.state.isPaused=!0;break;case"resume":r.state.isPaused=!1;break;case"toggle":r.state.isPaused=!r.state.isPaused}return this._debug("Paused",r.state.isPaused),!1}this["_pausing_"+r.behavior].call(this,t);return},_setup:function(){var t=this.options;if(!t.behavior||this["_setup_"+t.behavior]===n)return this._binding("bind"),!1;this["_setup_"+t.behavior].call(this);return},_showdonemsg:function(){var r=this.options;if(!!r.behavior&&this["_showdonemsg_"+r.behavior]!==n){this["_showdonemsg_"+r.behavior].call(this);return}r.loading.msg.find("img").hide().parent().find("div").html(r.loading.finishedMsg).animate({opacity:1},2e3,function(){t(this).parent().fadeOut(r.loading.speed)}),r.errorCallback.call(t(r.contentSelector)[0],"done")},_validate:function(n){for(var r in n)if(r.indexOf&&r.indexOf("Selector")>-1&&t(n[r]).length===0)return this._debug("Your "+r+" found no elements."),!1;return!0},bind:function(){this._binding("bind")},destroy:function(){return this.options.state.isDestroyed=!0,this.options.loading.finished(),this._error("destroy")},pause:function(){this._pausing("pause")},resume:function(){this._pausing("resume")},beginAjax:function(r){var i=this,s=r.path,o,u,a,f;r.state.currPage++;if(r.maxPage!=n&&r.state.currPage>r.maxPage){r.state.isBeyondMaxPage=!0,this.destroy();return}o=t(r.contentSelector).is("table, tbody")?t("<tbody/>"):t("<div/>"),u=typeof s=="function"?s(r.state.currPage):s.join(r.state.currPage),i._debug("heading into ajax",u),a=r.dataType==="html"||r.dataType==="json"?r.dataType:"html+callback",r.appendCallback&&r.dataType==="html"&&(a+="+callback");switch(a){case"html+callback":i._debug("Using HTML via .load() method"),o.load(u+" "+r.itemSelector,n,function(t){i._loadcallback(o,t,u)});break;case"html":i._debug("Using "+a.toUpperCase()+" via $.ajax() method"),t.ajax({url:u,dataType:r.dataType,complete:function(t,n){f=typeof t.isResolved!="undefined"?t.isResolved():n==="success"||n==="notmodified",f?i._loadcallback(o,t.responseText,u):i._error("end")}});break;case"json":i._debug("Using "+a.toUpperCase()+" via $.ajax() method"),t.ajax({dataType:"json",type:"GET",url:u,success:function(e,t,s){f=typeof s.isResolved!="undefined"?s.isResolved():t==="success"||t==="notmodified";if(r.appendCallback)if(r.template!==n){var a=r.template(e);o.append(a),f?i._loadcallback(o,a):i._error("end")}else i._debug("template must be defined."),i._error("end");else f?i._loadcallback(o,e,u):i._error("end")},error:function(){i._debug("JSON ajax request failed."),i._error("end")}})}},retrieve:function(r){r=r||null;var i=this,s=i.options;if(!!s.behavior&&this["retrieve_"+s.behavior]!==n){this["retrieve_"+s.behavior].call(this,r);return}if(s.state.isDestroyed)return this._debug("Instance is destroyed"),!1;s.state.isDuringAjax=!0,s.loading.start.call(t(s.contentSelector)[0],s)},scroll:function(){var t=this.options,r=t.state;if(!!t.behavior&&this["scroll_"+t.behavior]!==n){this["scroll_"+t.behavior].call(this);return}if(r.isDuringAjax||r.isInvalidPage||r.isDone||r.isDestroyed||r.isPaused)return;if(!this._nearbottom())return;this.retrieve()},toggle:function(){this._pausing()},unbind:function(){this._binding("unbind")},update:function(n){t.isPlainObject(n)&&(this.options=t.extend(!0,this.options,n))}},t.fn.infinitescroll=function(n,r){var i=typeof n;switch(i){case"string":var s=Array.prototype.slice.call(arguments,1);this.each(function(){var e=t.data(this,"infinitescroll");if(!e)return!1;if(!t.isFunction(e[n])||n.charAt(0)==="_")return!1;e[n].apply(e,s)});break;case"object":this.each(function(){var e=t.data(this,"infinitescroll");e?e.update(n):(e=new t.infinitescroll(n,r,this),e.failed||t.data(this,"infinitescroll",e))})}return this};var r=t.event,i;r.special.smartscroll={setup:function(){t(this).bind("scroll",r.special.smartscroll.handler)},teardown:function(){t(this).unbind("scroll",r.special.smartscroll.handler)},handler:function(e,n){var r=this,s=arguments;e.type="smartscroll",i&&clearTimeout(i),i=setTimeout(function(){t(r).trigger("smartscroll",s)},n==="execAsap"?0:100)}},t.fn.smartscroll=function(e){return e?this.bind("smartscroll",e):this.trigger("smartscroll",["execAsap"])}}(window,jQuery),define("infinite-scroll",["jquery"],function(){}),!function(e){"use strict";var t=function(t,n){this.element=e(t),this.options=e.extend(!0,{},e.fn.tag.defaults,n),this.values=e.grep(e.map(this.element.val().split(","),e.trim),function(e){return e.length>0}),this.models=n.recipient||[],this.element.data("models",this.models),this.show()};t.prototype={constructor:t,show:function(){var t=this;t.element.parent().append(t.element.detach().hide()),t.element.wrap(e('<div class="tags" style="width: 100%;">')).parent().on("click",function(){t.input.focus()}),t.models.length&&e.each(t.models,function(){t.createBadge(this)}),t.input=e('<input type="text">').attr("placeholder",t.options.placeholder).insertAfter(t.element).on("focus",function(){t.element.parent().addClass("tags-hover")}).on("blur",function(){t.skip||(t.element.parent().removeClass("tags-hover"),t.element.siblings(".tag").removeClass("tag-important")),t.skip=!1}).on("keydown",function(n){if(n.keyCode==188||n.keyCode==13||n.keyCode==9)e.trim(e(this).val())&&(!t.element.siblings(".typeahead").length||t.element.siblings(".typeahead").is(":hidden"))?n.keyCode!=9&&n.preventDefault():n.keyCode==188&&(!t.element.siblings(".typeahead").length||t.element.siblings(".typeahead").is(":hidden")?n.preventDefault():(t.input.data("typeahead").select(),n.stopPropagation(),n.preventDefault()));else if(!e.trim(e(this).val())&&n.keyCode==8){var r=t.element.siblings(".tag").length;if(r){var i=t.element.siblings(".tag:eq("+(r-1)+")");i.hasClass("tag-important")?t.remove(r-1):i.addClass("tag-important")}}else t.element.siblings(".tag").removeClass("tag-important")}),t.options.ttOptions&&t.options.ttSource&&t.input.typeahead(t.options.ttOptions,t.options.ttSource).on("typeahead:selected",function(e,n,r){t.process(n)}),this.element.trigger("shown")},inValues:function(t){if(this.options.caseInsensitive){var n=-1;return e.each(this.values,function(e,r){if(r.toLowerCase()==t.toLowerCase())return n=e,!1}),n}return e.inArray(t,this.values)},createBadge:function(t){var n=this;e("<span/>",{"class":"tag","data-id":t.id}).text(t.get("firstName")+" "+t.get("lastName")).append(e('<button type="button" class="close">&times;</button>').on("click",function(){n.remove(n.element.siblings(".tag").index(e(this).closest(".tag")))})).insertBefore(n.element)},add:function(t,n){var r=this;if(!r.options.allowDuplicates){var i=_.find(this.models,function(t){if(t.id===n.id){var i=r.element.siblings('[data-id="'+t.id+'"]');return i.addClass("tag-warning"),setTimeout(function(){e(i).removeClass("tag-warning")},500),t}});if(i)return}this.values.push(t),this.models.push(n),this.createBadge(n),this.element.val(this.values.join(", ")),this.element.data("models",this.models),this.element.trigger("added",n)},remove:function(e){if(e>=0){var t=this.values.splice(e,1),n=this.element.siblings(".tag:eq("+e+")").attr("data-id");this.element.siblings(".tag:eq("+e+")").remove(),this.element.val(this.values.join(", ")),this.models=_.reject(this.models,function(e){return e.id===n}),this.element.data("models",this.models),this.element.trigger("removed",[t])}},process:function(t){var n=e.grep(e.map(this.input.val().split(","),e.trim),function(e){return e.length>0}),r=this;e.each(n,function(){r.add(this,t)}),this.input.val("")},skip:!1};var n=e.fn.tag;e.fn.tag=function(n){return this.each(function(){var r=e(this),i=r.data("tag"),s=typeof n=="object"&&n;i||r.data("tag",i=new t(this,s)),typeof n=="string"&&i[n]()})},e.fn.tag.defaults={allowDuplicates:!1,caseInsensitive:!0,placeholder:"",source:[]},e.fn.tag.Constructor=t,e.fn.tag.noConflict=function(){return e.fn.tag=n,this},e(window).on("load",function(){e('[data-provide="tag"]').each(function(){var t=e(this);if(t.data("tag"))return;t.tag(t.data())})})}(window.jQuery),define("tag",["bootstrap"],function(){}),function(e){var t={isMsie:function(){return/(msie|trident)/i.test(navigator.userAgent)?navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]:!1},isBlankString:function(e){return!e||/^\s*$/.test(e)},escapeRegExChars:function(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(e){return typeof e=="string"},isNumber:function(e){return typeof e=="number"},isArray:e.isArray,isFunction:e.isFunction,isObject:e.isPlainObject,isUndefined:function(e){return typeof e=="undefined"},bind:e.proxy,each:function(t,n){function r(e,t){return n(t,e)}e.each(t,r)},map:e.map,filter:e.grep,every:function(t,n){var r=!0;return t?(e.each(t,function(e,i){if(!(r=n.call(null,i,e,t)))return!1}),!!r):r},some:function(t,n){var r=!1;return t?(e.each(t,function(e,i){if(r=n.call(null,i,e,t))return!1}),!!r):r},mixin:e.extend,getUniqueId:function(){var e=0;return function(){return e++}}(),templatify:function(n){function r(){return String(n)}return e.isFunction(n)?n:r},defer:function(e){setTimeout(e,0)},debounce:function(e,t,n){var r,i;return function(){var s=this,o=arguments,u,a;return u=function(){r=null,n||(i=e.apply(s,o))},a=n&&!r,clearTimeout(r),r=setTimeout(u,t),a&&(i=e.apply(s,o)),i}},throttle:function(e,t){var n,r,i,s,o,u;return o=0,u=function(){o=new Date,i=null,s=e.apply(n,r)},function(){var a=new Date,f=t-(a-o);return n=this,r=arguments,f<=0?(clearTimeout(i),i=null,o=a,s=e.apply(n,r)):i||(i=setTimeout(u,f)),s}},noop:function(){}},n="0.10.1",r=function(e,n){function r(e){this.maxSize=e||100,this.size=0,this.hash={},this.list=new i}function i(){this.head=this.tail=null}function s(e,t){this.key=e,this.val=t,this.prev=this.next=null}return t.mixin(r.prototype,{set:function(t,n){var r=this.list.tail,i;this.size>=this.maxSize&&(this.list.remove(r),delete this.hash[r.key]),(i=this.hash[t])?(i.val=n,this.list.moveToFront(i)):(i=new s(t,n),this.list.add(i),this.hash[t]=i,this.size++)},get:function(t){var n=this.hash[t];if(n)return this.list.moveToFront(n),n.val}}),t.mixin(i.prototype,{add:function(t){this.head&&(t.next=this.head,this.head.prev=t),this.head=t,this.tail=this.tail||t},remove:function(t){t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev},moveToFront:function(e){this.remove(e),this.add(e)}}),r}(this),i=function(){function i(e){this.prefix=["__",e,"__"].join(""),this.ttlKey="__ttl__",this.keyMatcher=new RegExp("^"+this.prefix)}function s(){return(new Date).getTime()}function o(e){return JSON.stringify(t.isUndefined(e)?null:e)}function u(e){return JSON.parse(e)}var e,n;try{e=window.localStorage,e.setItem("~~~","!"),e.removeItem("~~~")}catch(r){e=null}return e&&window.JSON?n={_prefix:function(e){return this.prefix+e},_ttlKey:function(e){return this._prefix(e)+this.ttlKey},get:function(t){return this.isExpired(t)&&this.remove(t),u(e.getItem(this._prefix(t)))},set:function(n,r,i){return t.isNumber(i)?e.setItem(this._ttlKey(n),o(s()+i)):e.removeItem(this._ttlKey(n)),e.setItem(this._prefix(n),o(r))},remove:function(t){return e.removeItem(this._ttlKey(t)),e.removeItem(this._prefix(t)),this},clear:function(){var t,n,r=[],i=e.length;for(t=0;t<i;t++)(n=e.key(t)).match(this.keyMatcher)&&r.push(n.replace(this.keyMatcher,""));for(t=r.length;t--;)this.remove(r[t]);return this},isExpired:function(n){var r=u(e.getItem(this._ttlKey(n)));return t.isNumber(r)&&s()>r?!0:!1}}:n={get:t.noop,set:t.noop,remove:t.noop,clear:t.noop,isExpired:t.noop},t.mixin(i.prototype,n),i}(),s=function(){function u(t){t=t||{},this._send=t.transport?a(t.transport):e.ajax,this._get=t.rateLimiter?t.rateLimiter(this._get):this._get}function a(n){return function(i,s){function u(e){t.defer(function(){o.resolve(e)})}function a(e){t.defer(function(){o.reject(e)})}var o=e.Deferred();return n(i,s,u,a),o}}var n=0,i={},s=6,o=new r(10);return u.setMaxPendingRequests=function(t){s=t},u.resetCache=function(){o=new r(10)},t.mixin(u.prototype,{_get:function(e,t,r){function f(t){r&&r(t),o.set(e,t)}function l(){n--,delete i[e],u.onDeckRequestArgs&&(u._get.apply(u,u.onDeckRequestArgs),u.onDeckRequestArgs=null)}var u=this,a;(a=i[e])?a.done(f):n<s?(n++,i[e]=this._send(e,t).done(f).always(l)):this.onDeckRequestArgs=[].slice.call(arguments,0)},get:function(e,n,r){var i=this,s;return t.isFunction(n)&&(r=n,n={}),(s=o.get(e))?t.defer(function(){r&&r(s)}):this._get(e,n,r),!!s}}),u}(),o=function(){function n(t){t=t||{},(!t.datumTokenizer||!t.queryTokenizer)&&e.error("datumTokenizer and queryTokenizer are both required"),this.datumTokenizer=t.datumTokenizer,this.queryTokenizer=t.queryTokenizer,this.datums=[],this.trie=i()}function r(e){return e=t.filter(e,function(e){return!!e}),e=t.map(e,function(e){return e.toLowerCase()}),e}function i(){return{ids:[],children:{}}}function s(e){var t={},n=[];for(var r=0;r<e.length;r++)t[e[r]]||(t[e[r]]=!0,n.push(e[r]));return n}function o(e,t){function s(e,t){return e-t}var n=0,r=0,i=[];e=e.sort(s),t=t.sort(s);while(n<e.length&&r<t.length)e[n]<t[r]?n++:e[n]>t[r]?r++:(i.push(e[n]),n++,r++);return i}return t.mixin(n.prototype,{bootstrap:function(t){this.datums=t.datums,this.trie=t.trie},add:function(e){var n=this;e=t.isArray(e)?e:[e],t.each(e,function(e){var s,o;s=n.datums.push(e)-1,o=r(n.datumTokenizer(e)),t.each(o,function(e){var t,r,o,u;t=n.trie,r=e.split("");while(o=r.shift())t=t.children[o]||(t.children[o]=i()),t.ids.push(s)})})},get:function(n){var i=this,u,a;return u=r(this.queryTokenizer(n)),t.each(u,function(e){var t,n,r,s;if(a&&a.length===0)return!1;t=i.trie,n=e.split("");while(t&&(r=n.shift()))t=t.children[r];if(!t||n.length!==0)return a=[],!1;s=t.ids.slice(0),a=a?o(a,s):s}),a?t.map(s(a),function(e){return i.datums[e]}):[]},serialize:function(){return{datums:this.datums,trie:this.trie}}}),n}(),u=function(){function r(e){var n=e.local||null;return t.isFunction(n)&&(n=n.call(null)),n}function i(r){var i,s;s={url:null,thumbprint:"",ttl:864e5,filter:null,ajax:{}};if(i=r.prefetch||null)i=t.isString(i)?{url:i}:i,i=t.mixin(s,i),i.thumbprint=n+i.thumbprint,i.ajax.type=i.ajax.type||"GET",i.ajax.dataType=i.ajax.dataType||"json",!i.url&&e.error("prefetch requires url to be set");return i}function s(n){function s(e){return function(n){return t.debounce(n,e)}}function o(e){return function(n){return t.throttle(n,e)}}var r,i;i={url:null,wildcard:"%QUERY",replace:null,rateLimitBy:"debounce",rateLimitWait:300,send:null,filter:null,ajax:{}};if(r=n.remote||null)r=t.isString(r)?{url:r}:r,r=t.mixin(i,r),r.rateLimiter=/^throttle$/i.test(r.rateLimitBy)?o(r.rateLimitWait):s(r.rateLimitWait),r.ajax.type=r.ajax.type||"GET",r.ajax.dataType=r.ajax.dataType||"json",delete r.rateLimitBy,delete r.rateLimitWait,!r.url&&e.error("remote requires url to be set");return r}return{local:r,prefetch:i,remote:s}}(),a=window.Bloodhound=function(){function r(t){(!t||!t.local&&!t.prefetch&&!t.remote)&&e.error("one of local, prefetch, or remote is required"),this.limit=t.limit||5,this.sorter=a(t.sorter),this.dupDetector=t.dupDetector||f,this.local=u.local(t),this.prefetch=u.prefetch(t),this.remote=u.remote(t),this.cacheKey=this.prefetch?this.prefetch.cacheKey||this.prefetch.url:null,this.index=new o({datumTokenizer:t.datumTokenizer,queryTokenizer:t.queryTokenizer}),this.storage=this.cacheKey?new i(this.cacheKey):null}function a(e){function n(t){return t.sort(e)}function r(e){return e}return t.isFunction(e)?n:r}function f(){return!1}var n;return n={data:"data",protocol:"protocol",thumbprint:"thumbprint"},r.tokenizers={whitespace:function(t){return t.split(/\s+/)},nonword:function(t){return t.split(/\W+/)}},t.mixin(r.prototype,{_loadPrefetch:function(n){function o(e){var t;t=n.filter?n.filter(e):e,r.add(t),r._saveToStorage(r.index.serialize(),n.thumbprint,n.ttl)}var r=this,i,s;return(i=this._readFromStorage(n.thumbprint))?(this.index.bootstrap(i),s=e.Deferred().resolve()):s=e.ajax(n.url,n.ajax).done(o),s},_getFromRemote:function(t,n){function o(e){var t=r.remote.filter?r.remote.filter(e):e;n(t)}var r=this,i,s;return t=t||"",s=encodeURIComponent(t),i=this.remote.replace?this.remote.replace(this.remote.url,t):this.remote.url.replace(this.remote.wildcard,s),this.transport.get(i,this.remote.ajax,o)},_saveToStorage:function(t,r,i){this.storage&&(this.storage.set(n.data,t,i),this.storage.set(n.protocol,location.protocol,i),this.storage.set(n.thumbprint,r,i))},_readFromStorage:function(t){var r={},i;return this.storage&&(r.data=this.storage.get(n.data),r.protocol=this.storage.get(n.protocol),r.thumbprint=this.storage.get(n.thumbprint)),i=r.thumbprint!==t||r.protocol!==location.protocol,r.data&&!i?r.data:null},initialize:function(){function i(){n.add(n.local)}var n=this,r;return r=this.prefetch?this._loadPrefetch(this.prefetch):e.Deferred().resolve(),this.local&&r.done(i),this.transport=this.remote?new s(this.remote):null,this.initialize=function(){return r.promise()},r.promise()},add:function(t){this.index.add(t)},get:function(n,r){function u(e){var n=s.slice(0);t.each(e,function(e){var r;return r=t.some(n,function(t){return i.dupDetector(e,t)}),!r&&n.push(e),n.length<i.limit}),r&&r(i.sorter(n))}var i=this,s,o=!1;s=this.index.get(n),s=this.sorter(s).slice(0,this.limit),s.length<this.limit&&this.transport&&(o=this._getFromRemote(n,u)),!o&&r&&r(s)},ttAdapter:function(){return t.bind(this.get,this)}}),r}(),f={wrapper:'<span class="twitter-typeahead"></span>',dropdown:'<span class="tt-dropdown-menu"></span>',dataset:'<div class="tt-dataset-%CLASS%"></div>',suggestions:'<span class="tt-suggestions"></span>',suggestion:'<div class="tt-suggestion">%BODY%</div>'},l={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},dropdown:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},suggestions:{display:"block"},suggestion:{whiteSpace:"nowrap",cursor:"pointer"},suggestionChild:{whiteSpace:"normal"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};t.isMsie()&&t.mixin(l.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),t.isMsie()&&t.isMsie()<=7&&t.mixin(l.input,{marginTop:"-1px"});var c=function(){function r(t){(!t||!t.el)&&e.error("EventBus initialized without el"),this.$el=e(t.el)}var n="typeahead:";return t.mixin(r.prototype,{trigger:function(e){var t=[].slice.call(arguments,1);this.$el.trigger(n+e,t)}}),r}(),h=function(){function n(t,n,r,i){var s;if(!r)return this;n=n.split(e),r=i?f(r,i):r,this._callbacks=this._callbacks||{};while(s=n.shift())this._callbacks[s]=this._callbacks[s]||{sync:[],async:[]},this._callbacks[s][t].push(r);return this}function r(e,t,r){return n.call(this,"async",e,t,r)}function i(e,t,r){return n.call(this,"sync",e,t,r)}function s(t){var n;if(!this._callbacks)return this;t=t.split(e);while(n=t.shift())delete this._callbacks[n];return this}function o(n){var r=this,i,s,o,a,f;if(!this._callbacks)return this;n=n.split(e),o=[].slice.call(arguments,1);while((i=n.shift())&&(s=this._callbacks[i]))a=u(s.sync,this,[i].concat(o)),f=u(s.async,this,[i].concat(o)),a()&&t(f);return this}function u(e,t,n){function r(){var r;for(var i=0;!r&&i<e.length;i+=1)r=e[i].apply(t,n)===!1;return!r}return r}function a(){var e,t;return window.setImmediate?e=function(t){setImmediate(function(){t()})}:e=function(t){setTimeout(function(){t()},0)},e}function f(e,t){return e.bind?e.bind(t):function(){e.apply(t,[].slice.call(arguments,0))}}var e=/\s+/,t=a();return{onSync:i,onAsync:r,off:s,trigger:o}}(),p=function(e){function r(e,n,r){var i=[],s;for(var o=0;o<e.length;o++)i.push(t.escapeRegExChars(e[o]));return s=r?"\\b("+i.join("|")+")\\b":"("+i.join("|")+")",n?new RegExp(s):new RegExp(s,"i")}var n={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1};return function(s){function u(t){var n,r;if(n=o.exec(t.data))wrapperNode=e.createElement(s.tagName),s.className&&(wrapperNode.className=s.className),r=t.splitText(n.index),r.splitText(n[0].length),wrapperNode.appendChild(r.cloneNode(!0)),t.parentNode.replaceChild(wrapperNode,r);return!!n}function a(e,t){var n,r=3;for(var i=0;i<e.childNodes.length;i++)n=e.childNodes[i],n.nodeType===r?i+=t(n)?1:0:a(n,t)}var o;s=t.mixin({},n,s);if(!s.node||!s.pattern)return;s.pattern=t.isArray(s.pattern)?s.pattern:[s.pattern],o=r(s.pattern,s.caseSensitive,s.wordsOnly),a(s.node,u)}}(window.document),d=function(){function r(r){var s=this,o,u,a,f;r=r||{},r.input||e.error("input is missing"),o=t.bind(this._onBlur,this),u=t.bind(this._onFocus,this),a=t.bind(this._onKeydown,this),f=t.bind(this._onInput,this),this.$hint=e(r.hint),this.$input=e(r.input).on("blur.tt",o).on("focus.tt",u).on("keydown.tt",a),this.$hint.length===0&&(this.setHintValue=this.getHintValue=this.clearHint=t.noop),t.isMsie()?this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(e){if(n[e.which||e.keyCode])return;t.defer(t.bind(s._onInput,s,e))}):this.$input.on("input.tt",f),this.query=this.$input.val(),this.$overflowHelper=i(this.$input)}function i(t){return e('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"nowrap",fontFamily:t.css("font-family"),fontSize:t.css("font-size"),fontStyle:t.css("font-style"),fontVariant:t.css("font-variant"),fontWeight:t.css("font-weight"),wordSpacing:t.css("word-spacing"),letterSpacing:t.css("letter-spacing"),textIndent:t.css("text-indent"),textRendering:t.css("text-rendering"),textTransform:t.css("text-transform")}).insertAfter(t)}function s(e,t){return r.normalizeQuery(e)===r.normalizeQuery(t)}function o(e){return e.altKey||e.ctrlKey||e.metaKey||e.shiftKey}var n;return n={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},r.normalizeQuery=function(e){return(e||"").replace(/^\s*/g,"").replace(/\s{2,}/g," ")},t.mixin(r.prototype,h,{_onBlur:function(t){this.resetInputValue(),this.trigger("blurred")},_onFocus:function(t){this.trigger("focused")},_onKeydown:function(t){var r=n[t.which||t.keyCode];this._managePreventDefault(r,t),r&&this._shouldTrigger(r,t)&&this.trigger(r+"Keyed",t)},_onInput:function(t){this._checkInputValue()},_managePreventDefault:function(t,n){var r,i,s;switch(t){case"tab":i=this.getHintValue(),s=this.getInputValue(),r=i&&i!==s&&!o(n);break;case"up":case"down":r=!o(n);break;default:r=!1}r&&n.preventDefault()},_shouldTrigger:function(t,n){var r;switch(t){case"tab":r=!o(n);break;default:r=!0}return r},_checkInputValue:function(){var t,n,r;t=this.getInputValue(),n=s(t,this.query),r=n?this.query.length!==t.length:!1,n?r&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query=t)},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getQuery:function(){return this.query},setQuery:function(t){this.query=t},getInputValue:function(){return this.$input.val()},setInputValue:function(t,n){this.$input.val(t),!n&&this._checkInputValue()},getHintValue:function(){return this.$hint.val()},setHintValue:function(t){this.$hint.val(t)},resetInputValue:function(){this.$input.val(this.query)},clearHint:function(){this.$hint.val("")},getLanguageDirection:function(){return(this.$input.css("direction")||"ltr").toLowerCase()},hasOverflow:function(){var t=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=t},isCursorAtEnd:function(){var e,n,r;return e=this.$input.val().length,n=this.$input[0].selectionStart,t.isNumber(n)?n===e:document.selection?(r=document.selection.createRange(),r.moveStart("character",-e),e===r.text.length):!0},destroy:function(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$hint=this.$input=this.$overflowHelper=null}}),r}(),v=function(){function s(n){n=n||{},n.templates=n.templates||{},n.source||e.error("missing source"),n.name&&!a(n.name)&&e.error("invalid dataset name: "+n.name),this.query=null,this.highlight=!!n.highlight,this.name=n.name||t.getUniqueId(),this.source=n.source,this.displayFn=o(n.display||n.displayKey),this.templates=u(n.templates,this.displayFn),this.$el=e(f.dataset.replace("%CLASS%",this.name))}function o(e){function n(t){return t[e]}return e=e||"value",t.isFunction(e)?e:n}function u(e,n){function r(e){return"<p>"+n(e)+"</p>"}return{empty:e.empty&&t.templatify(e.empty),header:e.header&&t.templatify(e.header),footer:e.footer&&t.templatify(e.footer),suggestion:e.suggestion||r}}function a(e){return/^[_a-zA-Z0-9-]+$/.test(e)}var n="ttDataset",r="ttValue",i="ttDatum";return s.extractDatasetName=function(r){return e(r).data(n)},s.extractValue=function(n){return e(n).data(r)},s.extractDatum=function(n){return e(n).data(i)},t.mixin(s.prototype,h,{_render:function(o,u){function h(){return a.templates.empty({query:o,isEmpty:!0})}function d(){function h(t){var s,o,u;return o=a.templates.suggestion(t),u=f.suggestion.replace("%BODY%",o),s=e(u).data(n,a.name).data(r,a.displayFn(t)).data(i,t),s.children().each(function(){e(this).css(l.suggestionChild)}),s}var s,c;return s=e(f.suggestions).css(l.suggestions),c=t.map(u,h),s.append.apply(s,c),a.highlight&&p({node:s[0],pattern:o}),s}function v(){return a.templates.header({query:o,isEmpty:!c})}function m(){return a.templates.footer({query:o,isEmpty:!c})}if(!this.$el)return;var a=this,c;this.$el.empty(),c=u&&u.length,!c&&this.templates.empty?this.$el.html(h()).prepend(a.templates.header?v():null).append(a.templates.footer?m():null):c&&this.$el.html(d()).prepend(a.templates.header?v():null).append(a.templates.footer?m():null),this.trigger("rendered")},getRoot:function(){return this.$el},update:function(t){function r(e){t===n.query&&n._render(t,e)}var n=this;this.query=t,this.source(t,r)},clear:function(){this._render(this.query||"")},isEmpty:function(){return this.$el.is(":empty")},destroy:function(){this.$el=null}}),s}(),m=function(){function n(n){var i=this,s,o,u;n=n||{},n.menu||e.error("menu is required"),this.isOpen=!1,this.isEmpty=!0,this.datasets=t.map(n.datasets,r),s=t.bind(this._onSuggestionClick,this),o=t.bind(this._onSuggestionMouseEnter,this),u=t.bind(this._onSuggestionMouseLeave,this),this.$menu=e(n.menu).on("click.tt",".tt-suggestion",s).on("mouseenter.tt",".tt-suggestion",o).on("mouseleave.tt",".tt-suggestion",u),t.each(this.datasets,function(e){i.$menu.append(e.getRoot()),e.onSync("rendered",i._onRendered,i)})}function r(e){return new v(e)}return t.mixin(n.prototype,h,{_onSuggestionClick:function(n){this.trigger("suggestionClicked",e(n.currentTarget))},_onSuggestionMouseEnter:function(n){this._removeCursor(),this._setCursor(e(n.currentTarget),!0)},_onSuggestionMouseLeave:function(t){this._removeCursor()},_onRendered:function(){function n(e){return e.isEmpty()}this.isEmpty=t.every(this.datasets,n),this.isEmpty?this._hide():this.isOpen&&this._show(),this.trigger("datasetRendered")},_hide:function(){this.$menu.hide()},_show:function(){this.$menu.css("display","block")},_getSuggestions:function(){return this.$menu.find(".tt-suggestion")},_getCursor:function(){return this.$menu.find(".tt-cursor").first()},_setCursor:function(t,n){t.first().addClass("tt-cursor"),!n&&this.trigger("cursorMoved")},_removeCursor:function(){this._getCursor().removeClass("tt-cursor")},_moveCursor:function(t){var n,r,i,s;if(!this.isOpen)return;r=this._getCursor(),n=this._getSuggestions(),this._removeCursor(),i=n.index(r)+t,i=(i+1)%(n.length+1)-1;if(i===-1){this.trigger("cursorRemoved");return}i<-1&&(i=n.length-1),this._setCursor(s=n.eq(i)),this._ensureVisible(s)},_ensureVisible:function(t){var n,r,i,s;n=t.position().top,r=n+t.outerHeight(!0),i=this.$menu.scrollTop(),s=this.$menu.height()+parseInt(this.$menu.css("paddingTop"),10)+parseInt(this.$menu.css("paddingBottom"),10),n<0?this.$menu.scrollTop(i+n):s<r&&this.$menu.scrollTop(i+(r-s))},close:function(){this.isOpen&&(this.isOpen=!1,this._removeCursor(),this._hide(),this.trigger("closed"))},open:function(){this.isOpen||(this.isOpen=!0,!this.isEmpty&&this._show(),this.trigger("opened"))},setLanguageDirection:function(t){this.$menu.css(t==="ltr"?l.ltr:l.rtl)},moveCursorUp:function(){this._moveCursor(-1)},moveCursorDown:function(){this._moveCursor(1)},getDatumForSuggestion:function(t){var n=null;return t.length&&(n={raw:v.extractDatum(t),value:v.extractValue(t),datasetName:v.extractDatasetName(t)}),n},getDatumForCursor:function(){return this.getDatumForSuggestion(this._getCursor().first())},getDatumForTopSuggestion:function(){return this.getDatumForSuggestion(this._getSuggestions().first())},update:function(n){function r(e){e.update(n)}t.each(this.datasets,r)},empty:function(){function n(e){e.clear()}t.each(this.datasets,n),this.isEmpty=!0},isVisible:function(){return this.isOpen&&!this.isEmpty},destroy:function(){function n(e){e.destroy()}this.$menu.off(".tt"),this.$menu=null,t.each(this.datasets,n)}}),n}(),g=function(){function r(n){var r,s,o,u;n=n||{},n.input||e.error("missing input"),this.autoselect=!!n.autoselect,this.minLength=t.isNumber(n.minLength)?n.minLength:1,this.$node=i(n.input,n.withHint),r=this.$node.find(".tt-dropdown-menu"),s=this.$node.find(".tt-input"),o=this.$node.find(".tt-hint"),this.eventBus=n.eventBus||new c({el:s}),this.dropdown=(new m({menu:r,datasets:n.datasets})).onSync("suggestionClicked",this._onSuggestionClicked,this).onSync("cursorMoved",this._onCursorMoved,this).onSync("cursorRemoved",this._onCursorRemoved,this).onSync("opened",this._onOpened,this).onSync("closed",this._onClosed,this).onAsync("datasetRendered",this._onDatasetRendered,this),this.input=(new d({input:s,hint:o})).onSync("focused",this._onFocused,this).onSync("blurred",this._onBlurred,this).onSync("enterKeyed",this._onEnterKeyed,this).onSync("tabKeyed",this._onTabKeyed,this).onSync("escKeyed",this._onEscKeyed,this).onSync("upKeyed",this._onUpKeyed,this).onSync("downKeyed",this._onDownKeyed,this).onSync("leftKeyed",this._onLeftKeyed,this).onSync("rightKeyed",this._onRightKeyed,this).onSync("queryChanged",this._onQueryChanged,this).onSync("whitespaceChanged",this._onWhitespaceChanged,this),r.on("mousedown.tt",function(e){t.isMsie()&&t.isMsie()<9&&(s[0].onbeforedeactivate=function(){window.event.returnValue=!1,s[0].onbeforedeactivate=null}),e.preventDefault()})}function i(t,r){var i,o,u,a;i=e(t),o=e(f.wrapper).css(l.wrapper),u=e(f.dropdown).css(l.dropdown),a=i.clone().css(l.hint).css(s(i)),a.val("").removeData().addClass("tt-hint").removeAttr("id name placeholder").prop("disabled",!0).attr({autocomplete:"off",spellcheck:"false"}),i.data(n,{dir:i.attr("dir"),autocomplete:i.attr("autocomplete"),spellcheck:i.attr("spellcheck"),style:i.attr("style")}),i.addClass("tt-input").attr({autocomplete:"off",spellcheck:!1}).css(r?l.input:l.inputWithNoHint);try{!i.attr("dir")&&i.attr("dir","auto")}catch(c){}return i.wrap(o).parent().prepend(r?a:null).append(u)}function s(e){return{backgroundAttachment:e.css("background-attachment"),backgroundClip:e.css("background-clip"),backgroundColor:e.css("background-color"),backgroundImage:e.css("background-image"),backgroundOrigin:e.css("background-origin"),backgroundPosition:e.css("background-position"),backgroundRepeat:e.css("background-repeat"),backgroundSize:e.css("background-size")}}function o(e){var r=e.find(".tt-input");t.each(r.data(n),function(e,n){t.isUndefined(e)?r.removeAttr(n):r.attr(n,e)}),r.detach().removeData(n).removeClass("tt-input").insertAfter(e),e.remove()}var n="ttAttrs";return t.mixin(r.prototype,{_onSuggestionClicked:function(t,n){var r;(r=this.dropdown.getDatumForSuggestion(n))&&this._select(r)},_onCursorMoved:function(){var t=this.dropdown.getDatumForCursor();this.input.clearHint(),this.input.setInputValue(t.value,!0),this.eventBus.trigger("cursorchanged",t.raw,t.datasetName)},_onCursorRemoved:function(){this.input.resetInputValue(),this._updateHint()},_onDatasetRendered:function(){this._updateHint()},_onOpened:function(){this._updateHint(),this.eventBus.trigger("opened")},_onClosed:function(){this.input.clearHint(),this.eventBus.trigger("closed")},_onFocused:function(){this.dropdown.empty(),this.dropdown.open()},_onBlurred:function(){this.dropdown.close()},_onEnterKeyed:function(t,n){var r,i;r=this.dropdown.getDatumForCursor(),i=this.dropdown.getDatumForTopSuggestion(),r?(this._select(r),n.preventDefault()):this.autoselect&&i&&(this._select(i),n.preventDefault())},_onTabKeyed:function(t,n){var r;(r=this.dropdown.getDatumForCursor())?(this._select(r),n.preventDefault()):this._autocomplete()},_onEscKeyed:function(){this.dropdown.close(),this.input.resetInputValue()},_onUpKeyed:function(){var t=this.input.getQuery();!this.dropdown.isOpen&&t.length>=this.minLength&&this.dropdown.update(t),this.dropdown.open(),this.dropdown.moveCursorUp()},_onDownKeyed:function(){var t=this.input.getQuery();!this.dropdown.isOpen&&t.length>=this.minLength&&this.dropdown.update(t),this.dropdown.open(),this.dropdown.moveCursorDown()},_onLeftKeyed:function(){this.dir==="rtl"&&this._autocomplete()},_onRightKeyed:function(){this.dir==="ltr"&&this._autocomplete()},_onQueryChanged:function(t,n){this.input.clearHint(),this.dropdown.empty(),n.length>=this.minLength&&this.dropdown.update(n),this.dropdown.open(),this._setLanguageDirection()},_onWhitespaceChanged:function(){this._updateHint(),this.dropdown.open()},_setLanguageDirection:function(){var t;this.dir!==(t=this.input.getLanguageDirection())&&(this.dir=t,this.$node.css("direction",t),this.dropdown.setLanguageDirection(t))},_updateHint:function(){var n,r,i,s,o,u;n=this.dropdown.getDatumForTopSuggestion(),n&&this.dropdown.isVisible()&&!this.input.hasOverflow()&&(r=this.input.getInputValue(),i=d.normalizeQuery(r),s=t.escapeRegExChars(i),o=new RegExp("^(?:"+s+")(.*$)","i"),u=o.exec(n.value),this.input.setHintValue(r+(u?u[1]:"")))},_autocomplete:function(){var t,n,r;t=this.input.getHintValue(),n=this.input.getQuery(),t&&n!==t&&this.input.isCursorAtEnd()&&(r=this.dropdown.getDatumForTopSuggestion(),r&&this.input.setInputValue(r.value),this.eventBus.trigger("autocompleted",r.raw,r.datasetName))},_select:function(n){this.input.clearHint(),this.input.setQuery(n.value),this.input.setInputValue(n.value,!0),this._setLanguageDirection(),this.eventBus.trigger("selected",n.raw,n.datasetName),this.dropdown.close(),t.defer(t.bind(this.dropdown.empty,this.dropdown))},open:function(){this.dropdown.open()},close:function(){this.dropdown.close()},getQuery:function(){return this.input.getQuery()},setQuery:function(t){this.input.setInputValue(t)},destroy:function(){this.input.destroy(),this.dropdown.destroy(),o(this.$node),this.$node=null}}),r}();(function(){var n,r,i;n=e.fn.typeahead,r="ttTypeahead",i={initialize:function(i,s){function o(){var n=e(this),o,u;t.each(s,function(e){e.highlight=!!i.highlight}),u=new g({input:n,eventBus:o=new c({el:n}),withHint:t.isUndefined(i.hint)?!0:!!i.hint,minLength:i.minLength,autoselect:i.autoselect,datasets:s}),n.data(r,u)}return s=t.isArray(s)?s:[].slice.call(arguments,1),i=i||{},this.each(o)},open:function(){function n(){var t=e(this),n;(n=t.data(r))&&n.open()}return this.each(n)},close:function(){function n(){var t=e(this),n;(n=t.data(r))&&n.close()}return this.each(n)},val:function(n){function i(){var t=e(this),i;(i=t.data(r))&&i.setQuery(n)}function s(e){var t,n;if(t=e.data(r))n=t.getQuery();return n}return arguments.length?this.each(i):s(this.first())},destroy:function(){function n(){var t=e(this),n;if(n=t.data(r))n.destroy(),t.removeData(r)}return this.each(n)}},e.fn.typeahead=function(e){return i[e]?i[e].apply(this,[].slice.call(arguments,1)):i.initialize.apply(this,arguments)},e.fn.typeahead.noConflict=function(){return e.fn.typeahead=n,this}})()}(window.jQuery),define("typeahead",["bootstrap"],function(){}),function(e){e.fn.slJump=function(t,n){return e(this).slAnimated("icon-animated-vertical",t,n)},e.fn.slShake=function(t,n){return e(this).slAnimated("icon-animated-bell",t,n)},e.fn.slFlip=function(t,n){return e(this).slAnimated("flip",t,n)},e.fn.slSwing=function(t,n){return e(this).slAnimated("swing",t,n)},e.fn.slWobble=function(t,n){return e(this).slAnimated("wobble",t,n)},e.fn.slBounceOut=function(t,n){return e(this).slAnimated("bounceOut",t,n)},e.fn.slBounceIn=function(t,n){return e(this).slAnimated("bounceIn",t,n)},e.fn.slRollOut=function(t,n){return e(this).slAnimated("rollOut",t,n)},e.fn.slRollIn=function(t,n){return e(this).slAnimated("rollIn",t,n)},e.fn.slFlip=function(t,n){return e(this).slAnimated("flip",t,n)},e.fn.slFlipOutX=function(t,n){return e(this).slAnimated("flipOutX",t,n)},e.fn.slFlipInX=function(t,n){return e(this).slAnimated("flipInX",t,n)},e.fn.slFlipOutY=function(t,n){return e(this).slAnimated("flipOutY",t,n)},e.fn.slFlipInY=function(t,n){return e(this).slAnimated("flipInY",t,n)},e.fn.slPulse=function(t,n){return e(this).slAnimated("pulse",t,n)},e.fn.slFadeInLeft=function(t,n){return e(this).slAnimated("fadeInLeft",t,n)},e.fn.slFadeInUp=function(t,n){return e(this).slAnimated("fadeInUp",t,n)},e.fn.slFadeInDown=function(t,n){return e(this).slAnimated("fadeInDown",t,n)},e.fn.slFadeOutUp=function(t,n){return e(this).slAnimated("fadeOutUp",t,n)},e.fn.slFadeOutLeft=function(t,n){return e(this).slAnimated("fadeOutLeft",t,n)},e.fn.slBounceOutUp=function(t,n){return e(this).slAnimated("bounceOutUp",t,n)},e.fn.slBounceInDown=function(t,n){return e(this).slAnimated("bounceInDown",t,n)},e.fn.slAnimated=function(t,n,r){var i="animated "+t+(n?" "+n:"");return r||(r=function(){e(this).removeClass(i)}),e(this).addClass(i).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",r),e(this)}}(jQuery),define("selink",["jquery"],function(){});var io="undefined"==typeof module?{}:module.exports;(function(){(function(e,t){var n=e;n.version="0.9.16",n.protocol=1,n.transports=[],n.j=[],n.sockets={},n.connect=function(e,r){var i=n.util.parseUri(e),s,o;t&&t.location&&(i.protocol=i.protocol||t.location.protocol.slice(0,-1),i.host=i.host||(t.document?t.document.domain:t.location.hostname),i.port=i.port||t.location.port),s=n.util.uniqueUri(i);var u={host:i.host,secure:"https"==i.protocol,port:i.port||("https"==i.protocol?443:80),query:i.query||""};n.util.merge(u,r);if(u["force new connection"]||!n.sockets[s])o=new n.Socket(u);return!u["force new connection"]&&o&&(n.sockets[s]=o),o=o||n.sockets[s],o.of(i.path.length>1?i.path:"")}})("object"==typeof module?module.exports:this.io={},this),function(e,t){var n=e.util={},r=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,i=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];n.parseUri=function(e){var t=r.exec(e||""),n={},s=14;while(s--)n[i[s]]=t[s]||"";return n},n.uniqueUri=function(e){var n=e.protocol,r=e.host,i=e.port;return"document"in t?(r=r||document.domain,i=i||(n=="https"&&document.location.protocol!=="https:"?443:document.location.port)):(r=r||"localhost",!i&&n=="https"&&(i=443)),(n||"http")+"://"+r+":"+(i||80)},n.query=function(e,t){var r=n.chunkQuery(e||""),i=[];n.merge(r,n.chunkQuery(t||""));for(var s in r)r.hasOwnProperty(s)&&i.push(s+"="+r[s]);return i.length?"?"+i.join("&"):""},n.chunkQuery=function(e){var t={},n=e.split("&"),r=0,i=n.length,s;for(;r<i;++r)s=n[r].split("="),s[0]&&(t[s[0]]=s[1]);return t};var s=!1;n.load=function(e){if("document"in t&&document.readyState==="complete"||s)return e();n.on(t,"load",e,!1)},n.on=function(e,t,n,r){e.attachEvent?e.attachEvent("on"+t,n):e.addEventListener&&e.addEventListener(t,n,r)},n.request=function(e){if(e&&"undefined"!=typeof XDomainRequest&&!n.ua.hasCORS)return new XDomainRequest;if("undefined"!=typeof XMLHttpRequest&&(!e||n.ua.hasCORS))return new XMLHttpRequest;if(!e)try{return new(window[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(t){}return null},"undefined"!=typeof window&&n.load(function(){s=!0}),n.defer=function(e){if(!n.ua.webkit||"undefined"!=typeof importScripts)return e();n.load(function(){setTimeout(e,100)})},n.merge=function(t,r,i,s){var o=s||[],u=typeof i=="undefined"?2:i,a;for(a in r)r.hasOwnProperty(a)&&n.indexOf(o,a)<0&&(typeof t[a]!="object"||!u?(t[a]=r[a],o.push(r[a])):n.merge(t[a],r[a],u-1,o));return t},n.mixin=function(e,t){n.merge(e.prototype,t.prototype)},n.inherit=function(e,t){function n(){}n.prototype=t.prototype,e.prototype=new n},n.isArray=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"},n.intersect=function(e,t){var r=[],i=e.length>t.length?e:t,s=e.length>t.length?t:e;for(var o=0,u=s.length;o<u;o++)~n.indexOf(i,s[o])&&r.push(s[o]);return r},n.indexOf=function(e,t,n){for(var r=e.length,n=n<0?n+r<0?0:n+r:n||0;n<r&&e[n]!==t;n++);return r<=n?-1:n},n.toArray=function(e){var t=[];for(var n=0,r=e.length;n<r;n++)t.push(e[n]);return t},n.ua={},n.ua.hasCORS="undefined"!=typeof XMLHttpRequest&&function(){try{var e=new XMLHttpRequest}catch(t){return!1}return e.withCredentials!=undefined}(),n.ua.webkit="undefined"!=typeof navigator&&/webkit/i.test(navigator.userAgent),n.ua.iDevice="undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)}("undefined"!=typeof io?io:module.exports,this),function(e,t){function n(){}e.EventEmitter=n,n.prototype.on=function(e,n){return this.$events||(this.$events={}),this.$events[e]?t.util.isArray(this.$events[e])?this.$events[e].push(n):this.$events[e]=[this.$events[e],n]:this.$events[e]=n,this},n.prototype.addListener=n.prototype.on,n.prototype.once=function(e,t){function r(){n.removeListener(e,r),t.apply(this,arguments)}var n=this;return r.listener=t,this.on(e,r),this},n.prototype.removeListener=function(e,n){if(this.$events&&this.$events[e]){var r=this.$events[e];if(t.util.isArray(r)){var i=-1;for(var s=0,o=r.length;s<o;s++)if(r[s]===n||r[s].listener&&r[s].listener===n){i=s;break}if(i<0)return this;r.splice(i,1),r.length||delete this.$events[e]}else(r===n||r.listener&&r.listener===n)&&delete this.$events[e]}return this},n.prototype.removeAllListeners=function(e){return e===undefined?(this.$events={},this):(this.$events&&this.$events[e]&&(this.$events[e]=null),this)},n.prototype.listeners=function(e){return this.$events||(this.$events={}),this.$events[e]||(this.$events[e]=[]),t.util.isArray(this.$events[e])||(this.$events[e]=[this.$events[e]]),this.$events[e]},n.prototype.emit=function(e){if(!this.$events)return!1;var n=this.$events[e];if(!n)return!1;var r=Array.prototype.slice.call(arguments,1);if("function"==typeof n)n.apply(this,r);else{if(!t.util.isArray(n))return!1;var i=n.slice();for(var s=0,o=i.length;s<o;s++)i[s].apply(this,r)}return!0}}("undefined"!=typeof io?io:module.exports,"undefined"!=typeof io?io:module.parent.exports),function(exports,nativeJSON){function f(e){return e<10?"0"+e:e}function date(e,t){return isFinite(e.valueOf())?e.getUTCFullYear()+"-"+f(e.getUTCMonth()+1)+"-"+f(e.getUTCDate())+"T"+f(e.getUTCHours())+":"+f(e.getUTCMinutes())+":"+f(e.getUTCSeconds())+"Z":null}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return typeof t=="string"?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,r,i,s,o=gap,u,a=t[e];a instanceof Date&&(a=date(e)),typeof rep=="function"&&(a=rep.call(t,e,a));switch(typeof a){case"string":return quote(a);case"number":return isFinite(a)?String(a):"null";case"boolean":case"null":return String(a);case"object":if(!a)return"null";gap+=indent,u=[];if(Object.prototype.toString.apply(a)==="[object Array]"){s=a.length;for(n=0;n<s;n+=1)u[n]=str(n,a)||"null";return i=u.length===0?"[]":gap?"[\n"+gap+u.join(",\n"+gap)+"\n"+o+"]":"["+u.join(",")+"]",gap=o,i}if(rep&&typeof rep=="object"){s=rep.length;for(n=0;n<s;n+=1)typeof rep[n]=="string"&&(r=rep[n],i=str(r,a),i&&u.push(quote(r)+(gap?": ":":")+i))}else for(r in a)Object.prototype.hasOwnProperty.call(a,r)&&(i=str(r,a),i&&u.push(quote(r)+(gap?": ":":")+i));return i=u.length===0?"{}":gap?"{\n"+gap+u.join(",\n"+gap)+"\n"+o+"}":"{"+u.join(",")+"}",gap=o,i}}if(nativeJSON&&nativeJSON.parse)return exports.JSON={parse:nativeJSON.parse,stringify:nativeJSON.stringify};var JSON=exports.JSON={},cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;JSON.stringify=function(e,t,n){var r;gap="",indent="";if(typeof n=="number")for(r=0;r<n;r+=1)indent+=" ";else typeof n=="string"&&(indent=n);rep=t;if(!t||typeof t=="function"||typeof t=="object"&&typeof t.length=="number")return str("",{"":e});throw new Error("JSON.stringify")},JSON.parse=function(text,reviver){function walk(e,t){var n,r,i=e[t];if(i&&typeof i=="object")for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(r=walk(i,n),r!==undefined?i[n]=r:delete i[n]);return reviver.call(e,t,i)}var j;text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),typeof reviver=="function"?walk({"":j},""):j;throw new SyntaxError("JSON.parse")}}("undefined"!=typeof io?io:module.exports,typeof JSON!="undefined"?JSON:undefined),function(e,t){var n=e.parser={},r=n.packets=["disconnect","connect","heartbeat","message","json","event","ack","error","noop"],i=n.reasons=["transport not supported","client not handshaken","unauthorized"],s=n.advice=["reconnect"],o=t.JSON,u=t.util.indexOf;n.encodePacket=function(e){var t=u(r,e.type),n=e.id||"",a=e.endpoint||"",f=e.ack,l=null;switch(e.type){case"error":var c=e.reason?u(i,e.reason):"",h=e.advice?u(s,e.advice):"";if(c!==""||h!=="")l=c+(h!==""?"+"+h:"");break;case"message":e.data!==""&&(l=e.data);break;case"event":var p={name:e.name};e.args&&e.args.length&&(p.args=e.args),l=o.stringify(p);break;case"json":l=o.stringify(e.data);break;case"connect":e.qs&&(l=e.qs);break;case"ack":l=e.ackId+(e.args&&e.args.length?"+"+o.stringify(e.args):"")}var d=[t,n+(f=="data"?"+":""),a];return l!==null&&l!==undefined&&d.push(l),d.join(":")},n.encodePayload=function(e){var t="";if(e.length==1)return e[0];for(var n=0,r=e.length;n<r;n++){var i=e[n];t+=""+i.length+""+e[n]}return t};var a=/([^:]+):([0-9]+)?(\+)?:([^:]+)?:?([\s\S]*)?/;n.decodePacket=function(e){var t=e.match(a);if(!t)return{};var n=t[2]||"",e=t[5]||"",u={type:r[t[1]],endpoint:t[4]||""};n&&(u.id=n,t[3]?u.ack="data":u.ack=!0);switch(u.type){case"error":var t=e.split("+");u.reason=i[t[0]]||"",u.advice=s[t[1]]||"";break;case"message":u.data=e||"";break;case"event":try{var f=o.parse(e);u.name=f.name,u.args=f.args}catch(l){}u.args=u.args||[];break;case"json":try{u.data=o.parse(e)}catch(l){}break;case"connect":u.qs=e||"";break;case"ack":var t=e.match(/^([0-9]+)(\+)?(.*)/);if(t){u.ackId=t[1],u.args=[];if(t[3])try{u.args=t[3]?o.parse(t[3]):[]}catch(l){}}break;case"disconnect":case"heartbeat":}return u},n.decodePayload=function(e){if(e.charAt(0)==""){var t=[];for(var r=1,i="";r<e.length;r++)e.charAt(r)==""?(t.push(n.decodePacket(e.substr(r+1).substr(0,i))),r+=Number(i)+1,i=""):i+=e.charAt(r);return t}return[n.decodePacket(e)]}}("undefined"!=typeof io?io:module.exports,"undefined"!=typeof io?io:module.parent.exports),function(e,t){function n(e,t){this.socket=e,this.sessid=t}e.Transport=n,t.util.mixin(n,t.EventEmitter),n.prototype.heartbeats=function(){return!0},n.prototype.onData=function(e){this.clearCloseTimeout(),(this.socket.connected||this.socket.connecting||this.socket.reconnecting)&&this.setCloseTimeout();if(e!==""){var n=t.parser.decodePayload(e);if(n&&n.length)for(var r=0,i=n.length;r<i;r++)this.onPacket(n[r])}return this},n.prototype.onPacket=function(e){return this.socket.setHeartbeatTimeout(),e.type=="heartbeat"?this.onHeartbeat():(e.type=="connect"&&e.endpoint==""&&this.onConnect(),e.type=="error"&&e.advice=="reconnect"&&(this.isOpen=!1),this.socket.onPacket(e),this)},n.prototype.setCloseTimeout=function(){if(!this.closeTimeout){var e=this;this.closeTimeout=setTimeout(function(){e.onDisconnect()},this.socket.closeTimeout)}},n.prototype.onDisconnect=function(){return this.isOpen&&this.close(),this.clearTimeouts(),this.socket.onDisconnect(),this},n.prototype.onConnect=function(){return this.socket.onConnect(),this},n.prototype.clearCloseTimeout=function(){this.closeTimeout&&(clearTimeout(this.closeTimeout),this.closeTimeout=null)},n.prototype.clearTimeouts=function(){this.clearCloseTimeout(),this.reopenTimeout&&clearTimeout(this.reopenTimeout)},n.prototype.packet=function(e){this.send(t.parser.encodePacket(e))},n.prototype.onHeartbeat=function(e){this.packet({type:"heartbeat"})},n.prototype.onOpen=function(){this.isOpen=!0,this.clearCloseTimeout(),this.socket.onOpen()},n.prototype.onClose=function(){var e=this;this.isOpen=!1,this.socket.onClose(),this.onDisconnect()},n.prototype.prepareUrl=function(){var e=this.socket.options;return this.scheme()+"://"+e.host+":"+e.port+"/"+e.resource+"/"+t.protocol+"/"+this.name+"/"+this.sessid},n.prototype.ready=function(e,t){t.call(this)}}("undefined"!=typeof io?io:module.exports,"undefined"!=typeof io?io:module.parent.exports),function(e,t,n){function r(e){this.options={port:80,secure:!1,document:"document"in n?document:!1,resource:"socket.io",transports:t.transports,"connect timeout":1e4,"try multiple transports":!0,reconnect:!0,"reconnection delay":500,"reconnection limit":Infinity,"reopen delay":3e3,"max reconnection attempts":10,"sync disconnect on unload":!1,"auto connect":!0,"flash policy port":10843,manualFlush:!1},t.util.merge(this.options,e),this.connected=!1,this.open=!1,this.connecting=!1,this.reconnecting=!1,this.namespaces={},this.buffer=[],this.doBuffer=!1;if(this.options["sync disconnect on unload"]&&(!this.isXDomain()||t.util.ua.hasCORS)){var r=this;t.util.on(n,"beforeunload",function(){r.disconnectSync()},!1)}this.options["auto connect"]&&this.connect()}function i(){}e.Socket=r,t.util.mixin(r,t.EventEmitter),r.prototype.of=function(e){return this.namespaces[e]||(this.namespaces[e]=new t.SocketNamespace(this,e),e!==""&&this.namespaces[e].packet({type:"connect"})),this.namespaces[e]},r.prototype.publish=function(){this.emit.apply(this,arguments);var e;for(var t in this.namespaces)this.namespaces.hasOwnProperty(t)&&(e=this.of(t),e.$emit.apply(e,arguments))},r.prototype.handshake=function(e){function s(t){t instanceof Error?(n.connecting=!1,n.onError(t.message)):e.apply(null,t.split(":"))}var n=this,r=this.options,o=["http"+(r.secure?"s":"")+":/",r.host+":"+r.port,r.resource,t.protocol,t.util.query(this.options.query,"t="+ +(new Date))].join("/");if(this.isXDomain()&&!t.util.ua.hasCORS){var u=document.getElementsByTagName("script")[0],a=document.createElement("script");a.src=o+"&jsonp="+t.j.length,u.parentNode.insertBefore(a,u),t.j.push(function(e){s(e),a.parentNode.removeChild(a)})}else{var f=t.util.request();f.open("GET",o,!0),this.isXDomain()&&(f.withCredentials=!0),f.onreadystatechange=function(){f.readyState==4&&(f.onreadystatechange=i,f.status==200?s(f.responseText):f.status==403?n.onError(f.responseText):(n.connecting=!1,!n.reconnecting&&n.onError(f.responseText)))},f.send(null)}},r.prototype.getTransport=function(e){var n=e||this.transports,r;for(var i=0,s;s=n[i];i++)if(t.Transport[s]&&t.Transport[s].check(this)&&(!this.isXDomain()||t.Transport[s].xdomainCheck(this)))return new t.Transport[s](this,this.sessionid);return null},r.prototype.connect=function(e){if(this.connecting)return this;var n=this;return n.connecting=!0,this.handshake(function(r,i,s,o){function u(e){n.transport&&n.transport.clearTimeouts(),n.transport=n.getTransport(e);if(!n.transport)return n.publish("connect_failed");n.transport.ready(n,function(){n.connecting=!0,n.publish("connecting",n.transport.name),n.transport.open(),n.options["connect timeout"]&&(n.connectTimeoutTimer=setTimeout(function(){if(!n.connected){n.connecting=!1;if(n.options["try multiple transports"]){var e=n.transports;while(e.length>0&&e.splice(0,1)[0]!=n.transport.name);e.length?u(e):n.publish("connect_failed")}}},n.options["connect timeout"]))})}n.sessionid=r,n.closeTimeout=s*1e3,n.heartbeatTimeout=i*1e3,n.transports||(n.transports=n.origTransports=o?t.util.intersect(o.split(","),n.options.transports):n.options.transports),n.setHeartbeatTimeout(),u(n.transports),n.once("connect",function(){clearTimeout(n.connectTimeoutTimer),e&&typeof e=="function"&&e()})}),this},r.prototype.setHeartbeatTimeout=function(){clearTimeout(this.heartbeatTimeoutTimer);if(this.transport&&!this.transport.heartbeats())return;var e=this;this.heartbeatTimeoutTimer=setTimeout(function(){e.transport.onClose()},this.heartbeatTimeout)},r.prototype.packet=function(e){return this.connected&&!this.doBuffer?this.transport.packet(e):this.buffer.push(e),this},r.prototype.setBuffer=function(e){this.doBuffer=e,!e&&this.connected&&this.buffer.length&&(this.options.manualFlush||this.flushBuffer())},r.prototype.flushBuffer=function(){this.transport.payload(this.buffer),this.buffer=[]},r.prototype.disconnect=function(){if(this.connected||this.connecting)this.open&&this.of("").packet({type:"disconnect"}),this.onDisconnect("booted");return this},r.prototype.disconnectSync=function(){var e=t.util.request(),n=["http"+(this.options.secure?"s":"")+":/",this.options.host+":"+this.options.port,this.options.resource,t.protocol,"",this.sessionid].join("/")+"/?disconnect=1";e.open("GET",n,!1),e.send(null),this.onDisconnect("booted")},r.prototype.isXDomain=function(){var e=n.location.port||("https:"==n.location.protocol?443:80);return this.options.host!==n.location.hostname||this.options.port!=e},r.prototype.onConnect=function(){this.connected||(this.connected=!0,this.connecting=!1,this.doBuffer||this.setBuffer(!1),this.emit("connect"))},r.prototype.onOpen=function(){this.open=!0},r.prototype.onClose=function(){this.open=!1,clearTimeout(this.heartbeatTimeoutTimer)},r.prototype.onPacket=function(e){this.of(e.endpoint).onPacket(e)},r.prototype.onError=function(e){e&&e.advice&&e.advice==="reconnect"&&(this.connected||this.connecting)&&(this.disconnect(),this.options.reconnect&&this.reconnect()),this.publish("error",e&&e.reason?e.reason:e)},r.prototype.onDisconnect=function(e){var t=this.connected,n=this.connecting;this.connected=!1,this.connecting=!1,this.open=!1;if(t||n)this.transport.close(),this.transport.clearTimeouts(),t&&(this.publish("disconnect",e),"booted"!=e&&this.options.reconnect&&!this.reconnecting&&this.reconnect())},r.prototype.reconnect=function(){function i(){if(e.connected){for(var t in e.namespaces)e.namespaces.hasOwnProperty(t)&&""!==t&&e.namespaces[t].packet({type:"connect"});e.publish("reconnect",e.transport.name,e.reconnectionAttempts)}clearTimeout(e.reconnectionTimer),e.removeListener("connect_failed",s),e.removeListener("connect",s),e.reconnecting=!1,delete e.reconnectionAttempts,delete e.reconnectionDelay,delete e.reconnectionTimer,delete e.redoTransports,e.options["try multiple transports"]=n}function s(){if(!e.reconnecting)return;if(e.connected)return i();if(e.connecting&&e.reconnecting)return e.reconnectionTimer=setTimeout(s,1e3);e.reconnectionAttempts++>=t?e.redoTransports?(e.publish("reconnect_failed"),i()):(e.on("connect_failed",s),e.options["try multiple transports"]=!0,e.transports=e.origTransports,e.transport=e.getTransport(),e.redoTransports=!0,e.connect()):(e.reconnectionDelay<r&&(e.reconnectionDelay*=2),e.connect(),e.publish("reconnecting",e.reconnectionDelay,e.reconnectionAttempts),e.reconnectionTimer=setTimeout(s,e.reconnectionDelay))}this.reconnecting=!0,this.reconnectionAttempts=0,this.reconnectionDelay=this.options["reconnection delay"];var e=this,t=this.options["max reconnection attempts"],n=this.options["try multiple transports"],r=this.options["reconnection limit"];this.options["try multiple transports"]=!1,this.reconnectionTimer=setTimeout(s,this.reconnectionDelay),this.on("connect",s)}}("undefined"!=typeof io?io:module.exports,"undefined"!=typeof io?io:module.parent.exports,this),function(e,t){function n(e,t){this.socket=e,this.name=t||"",this.flags={},this.json=new r(this,"json"),this.ackPackets=0,this.acks={}}function r(e,t){this.namespace=e,this.name=t}e.SocketNamespace=n,t.util.mixin(n,t.EventEmitter),n.prototype.$emit=t.EventEmitter.prototype.emit,n.prototype.of=function(){return this.socket.of.apply(this.socket,arguments)},n.prototype.packet=function(e){return e.endpoint=this.name,this.socket.packet(e),this.flags={},this},n.prototype.send=function(e,t){var n={type:this.flags.json?"json":"message",data:e};return"function"==typeof t&&(n.id=++this.ackPackets,n.ack=!0,this.acks[n.id]=t),this.packet(n)},n.prototype.emit=function(e){var t=Array.prototype.slice.call(arguments,1),n=t[t.length-1],r={type:"event",name:e};return"function"==typeof n&&(r.id=++this.ackPackets,r.ack="data",this.acks[r.id]=n,t=t.slice(0,t.length-1)),r.args=t,this.packet(r)},n.prototype.disconnect=function(){return this.name===""?this.socket.disconnect():(this.packet({type:"disconnect"}),this.$emit("disconnect")),this},n.prototype.onPacket=function(e){function r(){n.packet({type:"ack",args:t.util.toArray(arguments),ackId:e.id})}var n=this;switch(e.type){case"connect":this.$emit("connect");break;case"disconnect":this.name===""?this.socket.onDisconnect(e.reason||"booted"):this.$emit("disconnect",e.reason);break;case"message":case"json":var i=["message",e.data];e.ack=="data"?i.push(r):e.ack&&this.packet({type:"ack",ackId:e.id}),this.$emit.apply(this,i);break;case"event":var i=[e.name].concat(e.args);e.ack=="data"&&i.push(r),this.$emit.apply(this,i);break;case"ack":this.acks[e.ackId]&&(this.acks[e.ackId].apply(this,e.args),delete this.acks[e.ackId]);break;case"error":e.advice?this.socket.onError(e):e.reason=="unauthorized"?this.$emit("connect_failed",e.reason):this.$emit("error",e.reason)}},r.prototype.send=function(){this.namespace.flags[this.name]=!0,this.namespace.send.apply(this.namespace,arguments)},r.prototype.emit=function(){this.namespace.flags[this.name]=!0,this.namespace.emit.apply(this.namespace,arguments)}}("undefined"!=typeof io?io:module.exports,"undefined"!=typeof io?io:module.parent.exports),function(e,t,n){function r(e){t.Transport.apply(this,arguments)}e.websocket=r,t.util.inherit(r,t.Transport),r.prototype.name="websocket",r.prototype.open=function(){var e=t.util.query(this.socket.options.query),r=this,i;return i||(i=n.MozWebSocket||n.WebSocket),this.websocket=new i(this.prepareUrl()+e),this.websocket.onopen=function(){r.onOpen(),r.socket.setBuffer(!1)},this.websocket.onmessage=function(e){r.onData(e.data)},this.websocket.onclose=function(){r.onClose(),r.socket.setBuffer(!0)},this.websocket.onerror=function(e){r.onError(e)},this},t.util.ua.iDevice?r.prototype.send=function(e){var t=this;return setTimeout(function(){t.websocket.send(e)},0),this}:r.prototype.send=function(e){return this.websocket.send(e),this},r.prototype.payload=function(e){for(var t=0,n=e.length;t<n;t++)this.packet(e[t]);return this},r.prototype.close=function(){return this.websocket.close(),this},r.prototype.onError=function(e){this.socket.onError(e)},r.prototype.scheme=function(){return this.socket.options.secure?"wss":"ws"},r.check=function(){return"WebSocket"in n&&!("__addTask"in WebSocket)||"MozWebSocket"in n},r.xdomainCheck=function(){return!0},t.transports.push("websocket")}("undefined"!=typeof io?io.Transport:module.exports,"undefined"!=typeof io?io:module.parent.exports,this),function(e,t,n){function r(e){if(!e)return;t.Transport.apply(this,arguments),this.sendBuffer=[]}function i(){}e.XHR=r,t.util.inherit(r,t.Transport),r.prototype.open=function(){return this.socket.setBuffer(!1),this.onOpen(),this.get(),this.setCloseTimeout(),this},r.prototype.payload=function(e){var n=[];for(var r=0,i=e.length;r<i;r++)n.push(t.parser.encodePacket(e[r]));this.send(t.parser.encodePayload(n))},r.prototype.send=function(e){return this.post(e),this},r.prototype.post=function(e){function r(){this.readyState==4&&(this.onreadystatechange=i,t.posting=!1,this.status==200?t.socket.setBuffer(!1):t.onClose())}function s(){this.onload=i,t.socket.setBuffer(!1)}var t=this;this.socket.setBuffer(!0),this.sendXHR=this.request("POST"),n.XDomainRequest&&this.sendXHR instanceof XDomainRequest?this.sendXHR.onload=this.sendXHR.onerror=s:this.sendXHR.onreadystatechange=r,this.sendXHR.send(e)},r.prototype.close=function(){return this.onClose(),this},r.prototype.request=function(e){var n=t.util.request(this.socket.isXDomain()),r=t.util.query(this.socket.options.query,"t="+ +(new Date));n.open(e||"GET",this.prepareUrl()+r,!0);if(e=="POST")try{n.setRequestHeader?n.setRequestHeader("Content-type","text/plain;charset=UTF-8"):n.contentType="text/plain"}catch(i){}return n},r.prototype.scheme=function(){return this.socket.options.secure?"https":"http"},r.check=function(e,r){try{var i=t.util.request(r),s=n.XDomainRequest&&i instanceof XDomainRequest,o=e&&e.options&&e.options.secure?"https:":"http:",u=n.location&&o!=n.location.protocol;if(i&&(!s||!u))return!0}catch(a){}return!1},r.xdomainCheck=function(e){return r.check(e,!0)}}("undefined"!=typeof io?io.Transport:module.exports,"undefined"!=typeof io?io:module.parent.exports,this),function(e,t){function n(e){t.Transport.XHR.apply(this,arguments)}e.htmlfile=n,t.util.inherit(n,t.Transport.XHR),n.prototype.name="htmlfile",n.prototype.get=function(){this.doc=new(window[["Active"].concat("Object").join("X")])("htmlfile"),this.doc.open(),this.doc.write("<html></html>"),this.doc.close(),this.doc.parentWindow.s=this;var e=this.doc.createElement("div");e.className="socketio",this.doc.body.appendChild(e),this.iframe=this.doc.createElement("iframe"),e.appendChild(this.iframe);var n=this,r=t.util.query(this.socket.options.query,"t="+ +(new Date));this.iframe.src=this.prepareUrl()+r,t.util.on(window,"unload",function(){n.destroy()})},n.prototype._=function(e,t){e=e.replace(/\\\//g,"/"),this.onData(e);try{var n=t.getElementsByTagName("script")[0];n.parentNode.removeChild(n)}catch(r){}},n.prototype.destroy=function(){if(this.iframe){try{this.iframe.src="about:blank"}catch(e){}this.doc=null,this.iframe.parentNode.removeChild(this.iframe),this.iframe=null,CollectGarbage()}},n.prototype.close=function(){return this.destroy(),t.Transport.XHR.prototype.close.call(this)},n.check=function(e){if(typeof window!="undefined"&&["Active"].concat("Object").join("X")in window)try{var n=new(window[["Active"].concat("Object").join("X")])("htmlfile");return n&&t.Transport.XHR.check(e)}catch(r){}return!1},n.xdomainCheck=function(){return!1},t.transports.push("htmlfile")}("undefined"!=typeof io?io.Transport:module.exports,"undefined"!=typeof io?io:module.parent.exports),function(e,t,n){function r(){t.Transport.XHR.apply(this,arguments)}function i(){}e["xhr-polling"]=r,t.util.inherit(r,t.Transport.XHR),t.util.merge(r,t.Transport.XHR),r.prototype.name="xhr-polling",r.prototype.heartbeats=function(){return!1},r.prototype.open=function(){var e=this;return t.Transport.XHR.prototype.open.call(e),!1},r.prototype.get=function(){function t(){this.readyState==4&&(this.onreadystatechange=i,this.status==200?(e.onData(this.responseText),e.get()):e.onClose())}function r(){this.onload=i,this.onerror=i,e.retryCounter=1,e.onData(this.responseText),e.get()}function s(){e.retryCounter++,!e.retryCounter||e.retryCounter>3?e.onClose():e.get()}if(!this.isOpen)return;var e=this;this.xhr=this.request(),n.XDomainRequest&&this.xhr instanceof XDomainRequest?(this.xhr.onload=r,this.xhr.onerror=s):this.xhr.onreadystatechange=t,this.xhr.send(null)},r.prototype.onClose=function(){t.Transport.XHR.prototype.onClose.call(this);if(this.xhr){this.xhr.onreadystatechange=this.xhr.onload=this.xhr.onerror=i;try{this.xhr.abort()}catch(e){}this.xhr=null}},r.prototype.ready=function(e,n){var r=this;t.util.defer(function(){n.call(r)})},t.transports.push("xhr-polling")}("undefined"!=typeof io?io.Transport:module.exports,"undefined"!=typeof io?io:module.parent.exports,this),function(e,t,n){function i(e){t.Transport["xhr-polling"].apply(this,arguments),this.index=t.j.length;var n=this;t.j.push(function(e){n._(e)})}var r=n.document&&"MozAppearance"in n.document.documentElement.style;e["jsonp-polling"]=i,t.util.inherit(i,t.Transport["xhr-polling"]),i.prototype.name="jsonp-polling",i.prototype.post=function(e){function a(){f(),n.socket.setBuffer(!1)}function f(){n.iframe&&n.form.removeChild(n.iframe);try{u=document.createElement('<iframe name="'+n.iframeId+'">')}catch(e){u=document.createElement("iframe"),u.name=n.iframeId}u.id=n.iframeId,n.form.appendChild(u),n.iframe=u}var n=this,r=t.util.query(this.socket.options.query,"t="+ +(new Date)+"&i="+this.index);if(!this.form){var i=document.createElement("form"),s=document.createElement("textarea"),o=this.iframeId="socketio_iframe_"+this.index,u;i.className="socketio",i.style.position="absolute",i.style.top="0px",i.style.left="0px",i.style.display="none",i.target=o,i.method="POST",i.setAttribute("accept-charset","utf-8"),s.name="d",i.appendChild(s),document.body.appendChild(i),this.form=i,this.area=s}this.form.action=this.prepareUrl()+r,f(),this.area.value=t.JSON.stringify(e);try{this.form.submit()}catch(l){}this.iframe.attachEvent?u.onreadystatechange=function(){n.iframe.readyState=="complete"&&a()}:this.iframe.onload=a,this.socket.setBuffer(!0)},i.prototype.get=function(){var e=this,n=document.createElement("script"),i=t.util.query(this.socket.options.query,"t="+ +(new Date)+"&i="+this.index);this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),n.async=!0,n.src=this.prepareUrl()+i,n.onerror=function(){e.onClose()};var s=document.getElementsByTagName("script")[0];s.parentNode.insertBefore(n,s),this.script=n,r&&setTimeout(function(){var e=document.createElement("iframe");document.body.appendChild(e),document.body.removeChild(e)},100)},i.prototype._=function(e){return this.onData(e),this.isOpen&&this.get(),this},i.prototype.ready=function(e,n){var i=this;if(!r)return n.call(this);t.util.load(function(){n.call(i)})},i.check=function(){return"document"in n},i.xdomainCheck=function(){return!0},t.transports.push("jsonp-polling")}("undefined"!=typeof io?io.Transport:module.exports,"undefined"!=typeof io?io:module.parent.exports,this),typeof define=="function"&&define.amd&&define("socket.io",[],function(){return io})})(),define("common/model/base",[],function(){return Backbone.DeepModel.extend({idAttribute:"_id"})}),define("common/collection/base",["common/model/base"],function(e){return Backbone.Collection.extend({model:e,initialize:function(e,t){t&&t.document&&(this.document=t.document)}})}),define("common/model/language",["common/model/base"],function(e){return e.extend({validation:{language:{required:!0,msg:""}}})}),define("common/model/skill",["common/model/base"],function(e){return e.extend({validation:{skill:[{required:!0,msg:""},{maxLength:50,msg:"50"}]}})}),define("common/model/qualification",["common/model/base"],function(e){return e.extend({validation:{name:[{required:!0,msg:""},{maxLength:50,msg:"50"}],acquireDate:{dateJa:!0}}})}),define("common/model/education",["common/model/base"],function(e){return e.extend({validation:{startDate:{dateJa:!0},endDate:{dateJa:!0},school:[{required:!0,msg:""},{maxLength:50,msg:"50"}],major:{maxLength:50,msg:"50"}},parse:function(e,t){return e.startDate&&(e.startDateDisplay=moment(e.startDate).format("YYYYM"),e.startDateInput=moment(e.startDate).format("YYYY/MM")),e.endDate&&(e.endDateDisplay=moment(e.endDate).format("YYYYM"),e.endDateInput=moment(e.endDate).format("YYYY/MM")),e}})}),define("common/model/employment",["common/model/base"],function(e){return e.extend({validation:{startDate:{dateJa:!0},endDate:{dateJa:!0},company:[{required:!0,msg:""},{maxLength:50,msg:"50"}],address:{maxLength:50,msg:"50"},position:{maxLength:50,msg:"50"}},parse:function(e,t){return e.startDate&&(e.startDateDisplay=moment(e.startDate).format("YYYYM"),e.startDateInput=moment(e.startDate).format("YYYY/MM")),e.endDate&&(e.endDateDisplay=moment(e.endDate).format("YYYYM"),e.endDateInput=moment(e.endDate).format("YYYY/MM")),e}})}),define("common/model/user",["common/model/base","common/collection/base","common/model/language","common/model/skill","common/model/qualification","common/model/education","common/model/employment"],function(e,t,n,r,i,s,o){var u=t.extend({model:n,url:function(){return this.document.url()+"/languages"},comparator:function(e){return e.get("weight")?0-Number(e.get("weight")):0}}),a=t.extend({model:r,url:function(){return this.document.url()+"/skills"},comparator:function(e){return e.get("weight")?0-Number(e.get("weight")):0}}),f=t.extend({model:i,url:function(){return this.document.url()+"/qualifications"},comparator:function(e){if(e.get("acquireDate")){var t=moment(e.get("acquireDate"));return 0-Number(t.valueOf())}return 0}}),l=t.extend({model:s,url:function(){return this.document.url()+"/educations"},comparator:function(e){if(e.get("startDate")){var t=moment(e.get("startDate"));return 0-Number(t.valueOf())}return 0}}),c=t.extend({model:o,url:function(){return this.document.url()+"/employments"},comparator:function(e){if(e.get("startDate")){var t=moment(e.get("startDate"));return 0-Number(t.valueOf())}return 0}});return e.extend({urlRoot:"/users",constructor:function(){this.languages=new u(null,{document:this}),this.skills=new a(null,{document:this}),this.qualifications=new f(null,{document:this}),this.educations=new l(null,{document:this}),this.employments=new c(null,{document:this}),Backbone.Model.apply(this,arguments)},parse:function(e,t){return this.languages.set(e.languages,{parse:!0,remove:!1}),this.skills.set(e.skills,{parse:!0,remove:!1}),this.qualifications.set(e.qualifications,{parse:!0,remove:!1}),this.educations.set(e.educations,{parse:!0,remove:!1}),e.educations.length&&(e.finalEducation=_.max(e.educations,function(e){return e.startDate?moment(e.startDate).valueOf():0})),this.employments.set(e.employments,{parse:!0,remove:!1}),e.employments.length&&(e.currentEmployment=_.max(e.employments,function(e){return e.startDate?moment(e.startDate).valueOf():0})),e.birthDay&&(e.birthDayDisplay=moment(e.birthDay).format("LL"),e.birthDayInput=moment(e.birthDay).format("L")),e},validation:{firstName:[{required:!0,msg:""},{maxLength:20,msg:"20"}],lastName:{maxLength:20,msg:"20"},title:{maxLength:20,msg:"20"},birthDay:{required:!1,dateJa:!0},address:{required:!1,maxLength:80,msg:"80"},nearestSt:{required:!1,maxLength:30,msg:"30"},secEmail:{required:!1,pattern:"email",msg:""},webSite:{required:!1,pattern:"url",msg:"URL"}},completeness:function(){var e=0;return this.get("photo")&&this.get("photo")!="./asset/images/no_photo_male.jpg"&&(e+=10),this.get("firstName")&&(e+=5),this.get("lastName")&&(e+=5),this.get("birthDay")&&(e+=5),this.get("gender")&&(e+=5),this.get("nationality")&&(e+=5),this.get("marriage")&&(e+=5),this.get("telNo")&&(e+=10),this.get("webSite")&&(e+=5),this.get("nearestSt")&&(e+=5),this.get("address")&&(e+=5),this.get("bio")&&(e+=10),this.qualifications.length&&(e+=5),this.languages.length&&(e+=5),this.skills.length&&(e+=5),this.educations.length&&(e+=5),this.employments.length&&(e+=5),e}})}),define("engineer/router/router",[],function(){var e=Backbone.Marionette.AppRouter.extend({appRoutes:{home:"showHomeView","search/:term":"showSearchView",profile:"showProfileView","profile/:id":"showProfileView",post:"showPostView","post/:id":"showPostView",group:"showGroupView","group/:id":"showGroupView",people:"showPeopleView","people/:id":"showPeopleView",bookmark:"showBookmarkView",calendar:"showCalendarView",notification:"showNotificationView",activity:"showActivityView",mailbox:"showMailBoxView"}});return e}),define("text",["module"],function(e){var t,n,r,i,s,o=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],u=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,a=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,f=typeof location!="undefined"&&location.href,l=f&&location.protocol&&location.protocol.replace(/\:/,""),c=f&&location.hostname,h=f&&(location.port||undefined),p={},d=e.config&&e.config()||{};t={version:"2.0.10",strip:function(e){if(e){e=e.replace(u,"");var t=e.match(a);t&&(e=t[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:d.createXhr||function(){var e,t,n;if(typeof XMLHttpRequest!="undefined")return new XMLHttpRequest;if(typeof ActiveXObject!="undefined")for(t=0;t<3;t+=1){n=o[t];try{e=new ActiveXObject(n)}catch(r){}if(e){o=[n];break}}return e},parseName:function(e){var t,n,r,i=!1,s=e.indexOf("."),o=e.indexOf("./")===0||e.indexOf("../")===0;return s!==-1&&(!o||s>1)?(t=e.substring(0,s),n=e.substring(s+1,e.length)):t=e,r=n||t,s=r.indexOf("!"),s!==-1&&(i=r.substring(s+1)==="strip",r=r.substring(0,s),n?n=r:t=r),{moduleName:t,ext:n,strip:i}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,n,r,i){var s,o,u,a=t.xdRegExp.exec(e);return a?(s=a[2],o=a[3],o=o.split(":"),u=o[1],o=o[0],(!s||s===n)&&(!o||o.toLowerCase()===r.toLowerCase())&&(!u&&!o||u===i)):!0},finishLoad:function(e,n,r,i){r=n?t.strip(r):r,d.isBuild&&(p[e]=r),i(r)},load:function(e,n,r,i){if(i.isBuild&&!i.inlineText){r();return}d.isBuild=i.isBuild;var s=t.parseName(e),o=s.moduleName+(s.ext?"."+s.ext:""),u=n.toUrl(o),a=d.useXhr||t.useXhr;if(u.indexOf("empty:")===0){r();return}!f||a(u,l,c,h)?t.get(u,function(n){t.finishLoad(e,s.strip,n,r)},function(e){r.error&&r.error(e)}):n([o],function(e){t.finishLoad(s.moduleName+"."+s.ext,s.strip,e,r)})},write:function(e,n,r,i){if(p.hasOwnProperty(n)){var s=t.jsEscape(p[n]);r.asModule(e+"!"+n,"define(function () { return '"+s+"';});\n")}},writeFile:function(e,n,r,i,s){var o=t.parseName(n),u=o.ext?"."+o.ext:"",a=o.moduleName+u,f=r.toUrl(o.moduleName+u)+".js";t.load(a,r,function(n){var r=function(e){return i(f,e)};r.asModule=function(e,t){return i.asModule(e,f,t)},t.write(e,a,r,s)},s)}};if(d.env==="node"||!d.env&&typeof process!="undefined"&&process.versions&&!!process.versions.node&&!process.versions["node-webkit"])n=require.nodeRequire("fs"),t.get=function(e,t,r){try{var i=n.readFileSync(e,"utf8");i.indexOf("")===0&&(i=i.substring(1)),t(i)}catch(s){r(s)}};else if(d.env==="xhr"||!d.env&&t.createXhr())t.get=function(e,n,r,i){var s=t.createXhr(),o;s.open("GET",e,!0);if(i)for(o in i)i.hasOwnProperty(o)&&s.setRequestHeader(o.toLowerCase(),i[o]);d.onXhr&&d.onXhr(s,e),s.onreadystatechange=function(t){var i,o;s.readyState===4&&(i=s.status,i>399&&i<600?(o=new Error(e+" HTTP status: "+i),o.xhr=s,r(o)):n(s.responseText),d.onXhrComplete&&d.onXhrComplete(s,e))},s.send(null)};else if(d.env==="rhino"||!d.env&&typeof Packages!="undefined"&&typeof java!="undefined")t.get=function(e,t){var n,r,i="utf-8",s=new java.io.File(e),o=java.lang.System.getProperty("line.separator"),u=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(s),i)),a="";try{n=new java.lang.StringBuffer,r=u.readLine(),r&&r.length()&&r.charAt(0)===65279&&(r=r.substring(1)),r!==null&&n.append(r);while((r=u.readLine())!==null)n.append(o),n.append(r);a=String(n.toString())}finally{u.close()}t(a)};else if(d.env==="xpconnect"||!d.env&&typeof Components!="undefined"&&Components.classes&&Components.interfaces)r=Components.classes,i=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),s="@mozilla.org/windows-registry-key;1"in r,t.get=function(e,t){var n,o,u,a={};s&&(e=e.replace(/\//g,"\\")),u=new FileUtils.File(e);try{n=r["@mozilla.org/network/file-input-stream;1"].createInstance(i.nsIFileInputStream),n.init(u,1,0,!1),o=r["@mozilla.org/intl/converter-input-stream;1"].createInstance(i.nsIConverterInputStream),o.init(n,"utf-8",n.available(),i.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),o.readString(n.available(),a),o.close(),n.close(),t(a.value)}catch(f){throw new Error((u&&u.path||"")+": "+f)}};return t}),define("text!common/template/topnav/topnav.html",[],function(){return'<%\r\n    var progressClass = \'progress-bar\';\r\n\r\n    if (obj.completeness == 100) {\r\n        progressClass += \' progress-bar-success\';\r\n    } else if (obj.completeness > 85) {\r\n\r\n    } else if (obj.completeness > 70) {\r\n        progressClass += \' progress-bar-warning\';\r\n    } else if (obj.completeness > 50) {\r\n        progressClass += \' progress-bar-pink\';\r\n    } else if (obj.completeness > 30) {\r\n        progressClass += \' progress-bar-purple\';\r\n    } else {\r\n        progressClass += \' progress-bar-danger\';\r\n    }\r\n%>\r\n\r\n<div class="navbar-header pull-left">\r\n\r\n    <a href="#" class="navbar-brand">\r\n        <small>SELink</small>\r\n    </a>\r\n\r\n    <button class="pull-right navbar-toggle navbar-toggle-img collapsed" type="button" data-toggle="collapse" data-target=".navbar-buttons">\r\n        <span class="sr-only">Toggle user menu</span>\r\n        <img src="<%= obj.photo %>"/>\r\n    </button>\r\n\r\n    <button class="pull-right navbar-toggle collapsed" type="button" data-toggle="collapse" data-target=".sidebar">\r\n        <span class="sr-only">Toggle sidebar</span>\r\n        <span class="icon-bar"></span>\r\n        <span class="icon-bar"></span>\r\n        <span class="icon-bar"></span>\r\n    </button>\r\n\r\n</div>\r\n\r\n<div class="navbar-buttons navbar-header pull-right navbar-collapse collapse">\r\n    <ul class="nav ace-nav">\r\n\r\n        <li id="event-nav"></li>\r\n\r\n        <li id="notification-nav"></li>\r\n\r\n        <li id="message-nav"></li>\r\n\r\n        <li class="light-blue">\r\n            <a class="dropdown-toggle" href="#" data-toggle="dropdown">\r\n                <img class="nav-user-photo" src="<%= obj.photo %>">\r\n                <span class="user-info"><small>,</small><%= obj.firstName %></span>\r\n            </a>\r\n            <ul class="dropdown-navbar dropdown-menu dropdown-menu-right dropdown-caret" style="width: 240px;">\r\n                <li class="dropdown-header">\r\n                    <i class="ace-icon fa fa-user"></i>&nbsp;\r\n                </li>\r\n                <li>\r\n                    <a href="#profile">\r\n                        <div class="clearfix">\r\n                            <span class="pull-left"></span>\r\n                            <span class="pull-right completeness-value"><%= obj.completeness %>%</span>\r\n                        </div>\r\n                        <div class="progress progress-mini progress-striped active">\r\n                            <div style="width:<%= obj.completeness %>%" class="<%= progressClass %>"></div>\r\n                        </div>\r\n                    </a>\r\n                </li>\r\n                <li><a href="#activity" id="activity"><i class="btn btn-xs btn-warning ace-icon fa fa-rss"></i>&nbsp;</a></li>\r\n                <li><a href="#" id="setting"><i class="btn btn-xs btn-primary ace-icon fa fa-cogs"></i>&nbsp;</a></li>\r\n                <li><a href="#" id="password"><i class="btn btn-xs btn-success ace-icon fa fa-key"></i>&nbsp;</a></li>\r\n                <li class="dropdown-footer">\r\n                    <a href="/logout">&nbsp;<i class="ace-icon fa fa-sign-out"></i></a>\r\n                </li>\r\n            </ul>\r\n        </li>\r\n\r\n    </ul>\r\n</div>\r\n\r\n<nav role="navigation" class="navbar-menu pull-left navbar-collapse collapse">\r\n    <!-- you can also have a menu here -->\r\n    <form class="navbar-form navbar-left form-search" role="search">\r\n        <div class="form-group">\r\n            <input type="text" placeholder="" style="font-size: 12px;" />\r\n        </div>\r\n        <button type="button" class="btn btn-xs btn-info2 btn-search">\r\n            <i class="ace-icon fa fa-search icon-only"></i>\r\n        </button>\r\n    </form>\r\n</nav>'}),define("text!common/template/topnav/event/menu.html",[],function(){return'<a class="dropdown-toggle" href="/#" data-toggle="dropdown">\n    <span class="ace-icon fa fa-tasks"></span>\n    <% if (obj.eventsNum) { %>\n        <span class="badge badge-primary"><%= obj.eventsNum %></span>\n    <% } %>\n</a>\n<ul class="dropdown-navbar dropdown-menu dropdown-menu-right dropdown-caret">\n    <li class="dropdown-header">\n        <i class="ace-icon fa fa-tasks"></i>&nbsp;<span class="title-num"><%= obj.eventsNum %></span>\n    </li>\n    <div class="dropdown-body"></div>\n    <li class="dropdown-footer">\n        <a href="#calendar" class="blue">\n            \n            <i class="ace-icon fa fa-arrow-right"></i>\n        </a>\n    </li>\n</ul>\n<nav id="event_page_nav">\n  <a href="/events"></a>\n</nav>'}),define("common/model/event",["common/model/base"],function(e){return e.extend({validation:{title:{required:!0,msg:""},startDate:[{required:!0,msg:""},{dateJa:!0,msg:""}],endDate:{dateJa:!0,msg:""}},parse:function(e,t){return e._owner===selink.user.id?e.isMine=!0:e.isMine=!1,e.start&&(e.start=moment(e.start).toDate()),e.end&&(e.end=moment(e.end).toDate()),e}})}),define("text!common/template/topnav/event/item.html",[],function(){return'<%\r\n    var content = _.str.stripTags(obj.memo),\r\n        summary = _.str.truncate(content, 50),\r\n        labelClass = obj.className ? obj.className : \'label-primary\';\r\n%>\r\n\r\n<a href="#">\r\n    <span class="msg-photo"><i class="ace-icon fa fa-tags blue"></i></span>\r\n    <span class="msg-body" style="max-width: 92%;">\r\n        <span class="msg-title">\r\n            <span class="pull-right label <%= labelClass %>" style="margin-left: 10px; margin-bottom: 10px;">\r\n                <% print(moment(obj.start).fromNow()) %>\r\n            </span>\r\n            <strong>\r\n                <% if (obj.group) { %>\r\n                <span class="blue">\r\n                    <%= obj.group.name %>\r\n                </span>\r\n                \r\n                <% } %>\r\n                <span>\r\n                    <%= obj.title %>\r\n                </span>\r\n            </strong>\r\n            <p><%= summary %></p>\r\n        </span>\r\n    </span>\r\n</a>'}),define("common/view/topnav/event/item",["text!common/template/topnav/event/item.html"],function(e){return Backbone.Marionette.ItemView.extend({tagName:"li",getTemplate:function(){return e}})}),define("text!common/template/topnav/event/empty.html",[],function(){return'<a href="#" class="center"><i class=\'ace-icon fa fa-check bigger-135\'></i>&nbsp;</a>'}),define("common/view/topnav/event/empty",["text!common/template/topnav/event/empty.html"],function(e){return Backbone.Marionette.ItemView.extend({tagName:"li",template:e})}),define("common/view/topnav/event/menu",["text!common/template/topnav/event/menu.html","common/collection/base","common/model/event","common/view/topnav/event/item","common/view/topnav/event/empty"],function(e,t,n,r,i){var s=t.extend({model:n,url:function(){return"/events?after="+moment().unix()}});return Backbone.Marionette.CompositeView.extend({template:e,tagName:"li",className:"light-blue2",childView:r,childViewContainer:".dropdown-body",emptyView:i,modelEvents:{"change:count":"updateBadge"},initialize:function(){var e=this;this.model=new Backbone.Model,this.collection=new s,selink.socket.on("group-event-new",function(t){$.gritter.add({title:'<img src="'+t.group.cover+'">',text:t.group.name+"<br/><strong>"+t.title+"</strong>",time:8e3,class_name:"gritter-success"}),e.collection.add(t,{at:0}),e.model.set("count",e.model.get("count")+1)})},onShow:function(){var e=this;this.$el.find(".dropdown-menu").on("click",function(e){e.stopPropagation()}),this.$el.find(".dropdown-body").niceScroll(),this.model.fetch({url:"/events/count",success:function(t,n,r){n.count>0&&(e.collection.fetch(),e.$el.find(e.childViewContainer).infinitescroll({navSelector:"#event_page_nav",nextSelector:"#event_page_nav a",behavior:"local",binder:e.$el.find(e.childViewContainer),dataType:"json",appendCallback:!1,loading:{msgText:"<em></em>",finishedMsg:""},path:function(t){return"/events?after="+moment(e.collection.last().get("start")).unix()}},function(t,n){t.length>0&&e.collection.add(t,{parse:!0})}))}})},updateBadge:function(){var e=this.model.get("count")>99?"99+":this.model.get("count"),t=this.$el.find(".dropdown-toggle .badge");e===0?t.slFlipOutY().remove():t.length===0?$('<span class="badge badge-primary">'+e+"</span>").appendTo(this.$el.find(".dropdown-toggle")).slFlipInY():t.slFlipOutY(null,function(){t.empty().text(e).removeClass("flipOutY").slFlipInY()}),this.$el.find(".title-num").empty().text(e),e>0&&this.$el.find(".fa-tasks").slJump()}})}),define("text!common/template/topnav/message/menu.html",[],function(){return'<a class="dropdown-toggle" href="/#" data-toggle="dropdown">\n    <span class="ace-icon fa fa-envelope"></span>\n    <% if (obj.messagesNum > 0) { %>\n        <span class="badge badge-success"><%= obj.messagesNum %></span>\n    <% } %>\n</a>\n<ul class="dropdown-navbar dropdown-menu dropdown-menu-right dropdown-caret navbar-green">\n    <li class="dropdown-header">\n        <i class="ace-icon fa fa-envelope-o"></i>&nbsp;<span class="title-num"><%= obj.messagesNum %></span>\n    </li>\n    <div class="dropdown-body navbar-green"></div>\n    <li class="dropdown-footer">\n        <a href="#mailbox" class="blue">\n            \n            <i class="ace-icon fa fa-arrow-right"></i>\n        </a>\n    </li>\n</ul>\n<nav id="message_page_nav">\n  <a href="/messages/unread"></a>\n</nav>'}),define("common/model/message",["common/model/base"],function(e){return e.extend({urlRoot:"/messages",validation:{recipient:{required:!0,msg:""},subject:{required:!0,msg:""},message:{required:!0,msg:""}},parse:function(e,t){var n=selink.user.get("_id");return e._from._id==n?e.isMine=!0:e.isMine=!1,e._from._id!=n&&_.indexOf(e.opened,n)<0?e.isUnread=!0:e.isUnread=!1,_.indexOf(e.bookmarked,selink.user.id)>=0?e.isMarked=!0:e.isMarked=!1,e}})}),define("text!common/template/topnav/message/item.html",[],function(){return'<%\n    var content = _.str.stripTags(obj.content),\n        summary = _.str.truncate(content, 50);\n%>\n\n<a href="#message/<%= obj._id %>">\n    <img src="<%= obj._from.photo %>" class="msg-photo">\n    <span class="msg-body">\n        <span class="msg-title">\n            <span class="msg-time pull-right">\n                <i class="ace-icon fa fa-clock-o"></i>&nbsp;<span><% print(moment(obj.createDate).fromNow()) %></span>\n            </span>\n            <strong>\n                <span class="blue">\n                    <%= obj._from.firstName %>&nbsp;\n                    <%= obj._from.lastName %>\n                </span>\n                <p><%= obj.subject %></p>\n            </strong>\n            <p><%= summary %></p>\n        </span>\n    </span>\n</a>'}),define("common/view/topnav/message/item",["text!common/template/topnav/message/item.html"],function(e){return Backbone.Marionette.ItemView.extend({tagName:"li",events:{"click .btn-approve":"onApproveClick","click .btn-decline":"onDeclineClick","click .btn-acknowledge":"onAcknowledgeClick"},template:e,onApproveClick:function(e){e.preventDefault();var t=this,n=this.model.get("_from");this.model.save({result:"approved"},{success:function(){t.$el.slideUp(function(){selink.user.friends.add(n),t.model.collection.remove(t.model)})},patch:!0})},onDeclineClick:function(e){e.preventDefault();var t=this;this.model.save({result:"declined"},{success:function(){t.$el.slideUp(function(){t.model.collection.remove(t.model)})},patch:!0})},onAcknowledgeClick:function(e){e.preventDefault();var t=this;this.model.save({result:"acknowledged"},{success:function(){t.$el.slideUp(function(){t.model.collection.remove(t.model)})},patch:!0})}})}),define("text!common/template/topnav/message/empty.html",[],function(){return'<a href="#" class="center"><i class=\'ace-icon fa fa-check bigger-135\'></i>&nbsp;</a>'}),define("common/view/topnav/message/empty",["text!common/template/topnav/message/empty.html"],function(e){return Backbone.Marionette.ItemView.extend({tagName:"li",template:e})}),define("common/view/topnav/message/menu",["text!common/template/topnav/message/menu.html","common/collection/base","common/model/message","common/view/topnav/message/item","common/view/topnav/message/empty"],function(e,t,n,r,i){var s=t.extend({model:n,url:"/messages/unread"});return Backbone.Marionette.CompositeView.extend({template:e,tagName:"li",className:"light-green",childView:r,childViewContainer:".dropdown-body",emptyView:i,modelEvents:{"change:count":"updateBadge"},initialize:function(){var e=this;this.model=new Backbone.Model,this.collection=new s,selink.socket.on("message-new",function(t){$.gritter.add({title:t._from.firstName+" "+t._from.lastName,text:t.subject,image:t._from.photo,time:8e3,class_name:"gritter-success"}),e.collection.add(t,{at:0}),e.model.set("count",e.model.get("count")+1),selink.mailboxView&&selink.mailboxView.inBox.collection.add(t,{at:0,parse:!0})})},onShow:function(){var e=this;this.$el.find(".dropdown-menu").on("click",function(e){e.stopPropagation()}),this.$el.find(".dropdown-body").niceScroll(),this.model.fetch({url:"/messages/unread/count",success:function(t,n,r){n.count>0&&(e.collection.fetch(),e.$el.find(e.childViewContainer).infinitescroll({navSelector:"#message_page_nav",nextSelector:"#message_page_nav a",behavior:"local",binder:e.$el.find(e.childViewContainer),dataType:"json",appendCallback:!1,loading:{msgText:"<em></em>",finishedMsg:""},path:function(t){return"/messages/unread?before="+moment(e.collection.last().get("createDate")).unix()}},function(t,n){t.length>0&&e.collection.add(t,{parse:!0})}))}})},updateBadge:function(){var e=this.model.get("count")>99?"99+":this.model.get("count"),t=this.$el.find(".dropdown-toggle .badge");e===0?t.slFlipOutY().remove():t.length===0?$('<span class="badge badge-success">'+e+"</span>").appendTo(this.$el.find(".dropdown-toggle")).slFlipInY():t.slFlipOutY(null,function(){t.empty().text(e).removeClass("flipOutY").slFlipInY()}),this.$el.find(".title-num").empty().text(e),e>0&&this.$el.find(".fa-envelope").slJump()}})}),define("text!common/template/topnav/notification/menu.html",[],function(){return'<a class="dropdown-toggle" href="/#" data-toggle="dropdown">\n    <span class="ace-icon fa fa-bell"></span>\n    <% if (obj.notificationsNum > 0) { %>\n        <span class="badge badge-danger"><%= obj.notificationsNum %></span>\n    <% } %>\n</a>\n<ul class="dropdown-navbar dropdown-menu dropdown-menu-right dropdown-caret navbar-pink">\n    <li class="dropdown-header">\n        <i class="ace-icon fa fa-bell-o"></i>&nbsp;<span class="title-num"><%= obj.notificationsNum %></span>\n    </li>\n    <div class="dropdown-body navbar-pink"></div>\n    <li class="dropdown-footer">\n        <a href="#notification" class="blue">\n            \n            <i class="ace-icon fa fa-arrow-right"></i>\n        </a>\n    </li>\n</ul>\n<nav id="notification_page_nav">\n  <a href="/notifications/unconfirmed"></a>\n</nav>'}),define("text!common/template/topnav/notification/item/friend.html",[],function(){return'<%\r\n    var title,\r\n        icon;\r\n\r\n    if (obj.type == "friend-invited") {\r\n        title = "";\r\n        icon = "fa-paper-plan blue bigger-110";\r\n    }\r\n    else if (obj.type == "friend-approved") {\r\n        title = "";\r\n        icon = "fa-smile-o green bigger-110";\r\n    }\r\n    else if (obj.type == "friend-declined") {\r\n        title = "";\r\n        icon = "fa-meh-o purple bigger-110";\r\n    }\r\n    else if (obj.type == "friend-break") {\r\n        title = "";\r\n        icon = "fa-frown-o red bigger-110";\r\n    }\r\n%>\r\n\r\n<a href="#profile/<%= obj._from._id %>">\r\n    <img src="<%= obj._from.photo %>" class="msg-photo">\r\n    <span class="msg-body">\r\n        <span class="msg-title">\r\n            <span class="msg-time pull-right">\r\n                <i class="ace-icon fa fa-clock-o"></i>&nbsp;<span><% print(moment(obj.createDate).fromNow()) %></span>\r\n            </span>\r\n            <strong>\r\n                <span class="blue">\r\n                    <%= obj._from.firstName %>&nbsp;\r\n                    <%= obj._from.lastName %>&nbsp;\r\n                </span>\r\n                <%= title %>\r\n            </strong>\r\n        </span>\r\n        <span class="msg-time">\r\n            <% if (obj.type == "friend-invited") { %>\r\n                <div class="pull-right">\r\n                    <button class="btn btn-minier btn-pink btn-decline"><i class="ace-icon fa fa-times"></i>&nbsp;</button>\r\n                    <button class="btn btn-minier btn-success btn-approve"><i class="ace-icon fa fa-check"></i>&nbsp;</button>\r\n                </div>\r\n            <% } else { %>\r\n                <button class="btn btn-minier btn-info btn-acknowledge pull-right"><i class="ace-icon fa fa-check"></i>&nbsp;</button>\r\n            <% } %>\r\n        </span>\r\n    </span>\r\n</a>'}),define("text!common/template/topnav/notification/item/post.html",[],function(){return'<%\n    var title,\n        icon,\n        comment,\n        content = _.str.stripTags(obj.targetPost.content),\n        summary = _.str.truncate(content, 50);\n\n    if (obj.type == "post-new") {\n        if (obj.targetGroup)\n            title = "" + obj.targetGroup.name + "";\n        else\n            title = "";\n\n        icon = "fa-edit green bigger-110";\n    }\n    else if (obj.type == "post-liked") {\n        title = "";\n        icon = "fa-heart red bigger-110";\n    }\n    else if (obj.type == "post-bookmarked") {\n        title = "";\n        icon = "fa-star orange2 bigger-110";\n    }\n    else if (obj.type == "post-commented") {\n        title = "";\n        icon = "fa-comment blue bigger-110";\n        comment = _.findWhere(obj.targetPost.comments, {_id: obj.targetComment});\n        summary = _.str.truncate(comment.content, 50);\n    }\n    else if (obj.type == "comment-replied") {\n        title = "";\n        icon = "fa-reply blue bigger-110";\n        comment = _.findWhere(obj.targetPost.comments, {_id: obj.targetComment});\n        summary = _.str.truncate(comment.content, 50);\n    }\n    else if (obj.type == "comment-liked") {\n        title = "";\n        icon = "fa-heart red bigger-110";\n        comment = _.findWhere(obj.targetPost.comments, {_id: obj.targetComment});\n        summary = _.str.truncate(comment.content, 50);\n    }\n%>\n\n<a href="#post/<%= obj.targetPost._id %>">\n    <img src="<%= obj._from.photo %>" class="msg-photo">\n    <span class="msg-body">\n        <span class="msg-title">\n            <span class="msg-time pull-right">\n                <i class="ace-icon fa fa-clock-o"></i>&nbsp;<span><% print(moment(obj.createDate).fromNow()) %></span>\n            </span>\n            <strong>\n                <span class="blue">\n                    <%= obj._from.firstName %>&nbsp;\n                    <%= obj._from.lastName %>&nbsp;\n                </span>\n                <%= title %>\n            </strong>\n            <div class="space-2"></div>\n            <i class="ace-icon fa <%= icon %>"></i>\n            <%= summary %>\n        </span>\n        <span class="msg-time">\n            <button class="btn btn-minier btn-info btn-acknowledge pull-right"><i class="ace-icon fa fa-check"></i>&nbsp;</button>\n        </span>\n    </span>\n</a>'}),define("text!common/template/topnav/notification/item/job.html",[],function(){return'<%\n    var title,\n        icon,\n        content;\n\n    if (obj.type == "job-new") {\n        title = "";\n        icon = "fa-briefcase blue bigger-110";\n        content = obj.targetJob.name;\n    }\n    else if (obj.type == "job-bookmarked") {\n        title = "";\n        icon = "fa-star orange2 bigger-110";\n        content = obj.targetJob.name;\n    }\n%>\n\n<a href="#<%= obj.link %>">\n    <img src="<%= obj._from.photo %>" class="msg-photo">\n    <span class="msg-body">\n        <span class="msg-title">\n            <span class="msg-time pull-right">\n                <i class="ace-icon fa fa-clock-o"></i>&nbsp;<span><% print(moment(obj.createDate).fromNow()) %></span>\n            </span>\n            <strong>\n                <span class="blue">\n                    <%= obj._from.firstName %>&nbsp;\n                    <%= obj._from.lastName %>&nbsp;\n                </span>\n                <%= title %>\n            </strong>\n            <div class="space-2"></div>\n            <i class="ace-icon fa <%= icon %>"></i>\n            <%= content %>\n        </span>\n        <span class="msg-time">\n            <button class="btn btn-minier btn-info btn-acknowledge pull-right"><i class="ace-icon fa fa-check"></i>&nbsp;</button>\n        </span>\n    </span>\n</a>'}),define("text!common/template/topnav/notification/item/group.html",[],function(){return'<%\r\n    var icon,\r\n        content,\r\n        groupName = obj.targetGroup.name;\r\n\r\n    if (obj.type == "group-new") {\r\n        icon = "fa-group blue bigger-110";\r\n        content = "<strong>" + groupName + "</strong>";\r\n    }\r\n    else if (obj.type == "group-invited") {\r\n        icon = "fa-ticket red bigger-110";\r\n        content = "<strong>" + groupName + "</strong>";\r\n    }\r\n    else if (obj.type == "group-expeled") {\r\n        icon = "fa-frown-o purple bigger-110";\r\n        content = "<strong>" + groupName + "</strong>";\r\n    }\r\n    else if (obj.type == "group-joined") {\r\n        icon = "fa-sign-in green bigger-110";\r\n        content = "<strong>" + groupName + "</strong>";\r\n    }\r\n    else if (obj.type == "group-refused") {\r\n        icon = "fa-sign-out purple bigger-110";\r\n        content = "<strong>" + groupName + "</strong>";\r\n    }\r\n    else if (obj.type == "group-applied") {\r\n        icon = "fa-calendar-o blue bigger-110";\r\n        content = "<strong>" + groupName + "</strong>";\r\n    }\r\n    else if (obj.type == "group-approved") {\r\n        icon = "fa-smile-o green bigger-110";\r\n        content = "<strong>" + groupName + "</strong>";\r\n    }\r\n    else if (obj.type == "group-declined") {\r\n        icon = "fa-frown-o purple bigger-110";\r\n        content = "<strong>" + groupName + "</strong>";\r\n    }\r\n%>\r\n\r\n<a href="#group/<%= obj.targetGroup._id %>">\r\n    <img src="<%= obj._from.photo %>" class="msg-photo">\r\n    <span class="msg-body">\r\n        <span class="msg-title">\r\n            <span class="msg-time pull-right">\r\n                <i class="ace-icon fa fa-clock-o"></i>&nbsp;<span><% print(moment(obj.createDate).fromNow()) %></span>\r\n            </span>\r\n            <strong>\r\n                <span class="blue">\r\n                    <%= obj._from.firstName %>&nbsp;\r\n                    <%= obj._from.lastName %>&nbsp;\r\n                </span>\r\n            </strong>\r\n            <div class="space-2"></div>\r\n            <i class="ace-icon fa <%= icon %>"></i>\r\n            <%= content %>\r\n        </span>\r\n        <span class="msg-time">\r\n            <% if (obj.type == "group-invited") { %>\r\n                <div class="pull-right">\r\n                    <button class="btn btn-minier btn-pink btn-refuse"><i class="ace-icon fa fa-times"></i>&nbsp;</button>\r\n                    <button class="btn btn-minier btn-success btn-join"><i class="ace-icon fa fa-check"></i>&nbsp;</button>\r\n                </div>\r\n            <% } else if (obj.type == "group-applied") { %>\r\n                <div class="pull-right">\r\n                    <button class="btn btn-minier btn-pink btn-decline"><i class="ace-icon fa fa-times"></i>&nbsp;</button>\r\n                    <button class="btn btn-minier btn-success btn-approve"><i class="ace-icon fa fa-check"></i>&nbsp;</button>\r\n                </div>\r\n            <% } else { %>\r\n                <button class="btn btn-minier btn-info btn-acknowledge pull-right"><i class="ace-icon fa fa-check"></i>&nbsp;</button>\r\n            <% } %>\r\n        </span>\r\n    </span>\r\n</a>'}),define("common/view/topnav/notification/item",["text!common/template/topnav/notification/item/friend.html","text!common/template/topnav/notification/item/post.html","text!common/template/topnav/notification/item/job.html","text!common/template/topnav/notification/item/group.html"],function(e,t,n,r){return Backbone.Marionette.ItemView.extend({userTargetNotification:["friend-invited","friend-approved","friend-declined","friend-break"],postTargetNotification:["post-new","post-liked","post-bookmarked","post-commented","comment-replied","comment-liked"],jobTargetNotification:["job-new","job-bookmarked"],groupTargetNotification:["group-new","group-invited","group-expeled","group-joined","group-refused","group-applied","group-approved","group-declined"],tagName:"li",events:{"click .btn-approve":"onApproveClick","click .btn-decline":"onDeclineClick","click .btn-join":"onJoinClick","click .btn-refuse":"onRefuseClick","click .btn-acknowledge":"onAcknowledgeClick"},getTemplate:function(){var i=this.model.get("type");if(_.indexOf(this.userTargetNotification,i)>=0)return e;if(_.indexOf(this.postTargetNotification,i)>=0)return t;if(_.indexOf(this.jobTargetNotification,i)>=0)return n;if(_.indexOf(this.groupTargetNotification,i)>=0)return r},onApproveClick:function(e){e.preventDefault();var t=this;this.model.save({result:"approved"},{success:function(e,n,r){t.$el.slideUp(function(){selink.user.get("friends").push(n._from),t.model.collection.remove(t.model)})},patch:!0})},onDeclineClick:function(e){e.preventDefault();var t=this;this.model.save({result:"declined"},{success:function(){t.$el.slideUp(function(){t.model.collection.remove(t.model)})},patch:!0})},onJoinClick:function(e){e.preventDefault();var t=this;this.model.save({result:"accepted"},{success:function(e,n,r){t.$el.slideUp(function(){selink.user.get("groups").push(n.targetGroup),t.model.collection.remove(t.model)})},patch:!0})},onRefuseClick:function(e){e.preventDefault();var t=this;this.model.save({result:"refused"},{success:function(){t.$el.slideUp(function(){t.model.collection.remove(t.model)})},patch:!0})},onAcknowledgeClick:function(e){e.preventDefault();var t=this;this.model.save({result:"acknowledged"},{success:function(){t.$el.slideUp(function(){t.model.collection.remove(t.model)})},patch:!0})}})}),define("text!common/template/topnav/notification/empty.html",[],function(){return'<a href="#" class="center"><i class=\'ace-icon fa fa-check bigger-135\'></i>&nbsp;</a>'}),define("common/view/topnav/notification/empty",["text!common/template/topnav/notification/empty.html"],function(e){return Backbone.Marionette.ItemView.extend({tagName:"li",template:e})}),define("common/view/topnav/notification/menu",["text!common/template/topnav/notification/menu.html","common/collection/base","common/view/topnav/notification/item","common/view/topnav/notification/empty"],function(e,t,n,r){var i=t.extend({url:"/notifications"});return Backbone.Marionette.CompositeView.extend({template:e,tagName:"li",className:"light-orange",childView:n,childViewContainer:".dropdown-body",emptyView:r,modelEvents:{"change:count":"updateBadge"},collectionEvents:{remove:"onRemove"},initialize:function(){var e=this;this.model=new Backbone.Model,this.collection=new i,this.setupSocketListener()},onShow:function(){var e=this;this.$el.find(".dropdown-menu").on("click",function(e){e.stopPropagation()}),this.$el.find(".dropdown-body").niceScroll(),this.model.fetch({url:"/notifications/unconfirmed/count",success:function(t,n,r){n.count>0&&(e.collection.fetch({url:"/notifications/unconfirmed"}),e.$el.find(e.childViewContainer).infinitescroll({navSelector:"#notification_page_nav",nextSelector:"#notification_page_nav a",behavior:"local",binder:e.$el.find(e.childViewContainer),dataType:"json",appendCallback:!1,loading:{msgText:"<em></em>",finishedMsg:""},path:function(t){return"/notifications/unconfirmed?before="+moment(e.collection.last().get("createDate")).unix()}},function(t,n){t.length>0&&e.collection.add(t,{parse:!0})}))}})},updateBadge:function(){var e=this.model.get("count")>99?"99+":this.model.get("count"),t=this.$el.find(".dropdown-toggle .badge");e===0?t.slFlipOutY().remove():t.length===0?$('<span class="badge badge-danger">'+e+"</span>").appendTo(this.$el.find(".dropdown-toggle")).slFlipInY():t.slFlipOutY(null,function(){t.empty().text(e).removeClass("flipOutY").slFlipInY()}),this.$el.find(".title-num").empty().text(e),e>0&&this.$el.find(".fa-bell").slShake()},onRemove:function(){this.model.set("count",this.model.get("count")-1),this.collection.length<5&&this.$el.find(this.childViewContainer).infinitescroll("retrieve")},setupSocketListener:function(){var e=this;selink.socket.on("friend-invited",function(t){$.gritter.add({title:t._from.firstName+" "+t._from.lastName,text:"",image:t._from.photo,time:8e3,class_name:"gritter-warning"}),e.collection.add(t,{at:0}),e.model.set("count",e.model.get("count")+1)}),selink.socket.on("friend-approved",function(t){$.gritter.add({title:t._from.firstName+" "+t._from.lastName,text:"",image:t._from.photo,time:8e3,class_name:"gritter-success"}),e.collection.add(t,{at:0}),e.model.set("count",e.model.get("count")+1),selink.user.set("invited",_.without(selink.user.get("invited"),t._from._id)),selink.user.get("friends").push(t._from._id)}),selink.socket.on("friend-declined",function(t){$.gritter.add({title:t._from.firstName+" "+t._from.lastName,text:"",image:t._from.photo,time:8e3,class_name:"gritter-info"}),e.collection.add(t,{at:0}),e.model.set("count",e.model.get("count")+1),selink.user.set("invited",_.without(selink.user.get("invited"),t._from._id))}),selink.socket.on("friend-break",function(t){$.gritter.add({title:t._from.firstName+" "+t._from.lastName,text:"",image:t._from.photo,time:8e3,class_name:"gritter-error"}),e.collection.add(t,{at:0}),e.model.set("count",e.model.get("count")+1),selink.user.set("friends",_.without(selink.user.get("friends"),t._from._id))}),selink.socket.on("post-new",function(t){var n=_.str.stripTags(t.targetPost.content),r=n.replace(/&nbsp;/g,""),i=_.str.ltrim(r),s=_.str.truncate(i,100,"..."),o=t._from.firstName+" "+t._from.lastName;t.targetGroup?o=o+" <small>"+t.targetGroup.name+"</small>":o+=" <small></small>",$.gritter.add({title:o,text:'<a href="#post/'+t.targetPost._id+'">'+s+"</a>",image:t._from.photo,time:8e3,class_name:"gritter-success"}),e.collection.add(t,{at:0}),e.model.set("count",e.model.get("count")+1)}),selink.socket.on("post-liked",function(t){$.gritter.add({title:t._from.firstName+" "+t._from.lastName,text:"",image:t._from.photo,time:8e3,class_name:"gritter-success"}),e.collection.add(t,{at:0}),e.model.set("count",e.model.get("count")+1)}),selink.socket.on("post-bookmarked",function(t){$.gritter.add({title:t._from.firstName+" "+t._from.lastName,text:"",image:t._from.photo,time:8e3,class_name:"gritter-success"}),e.collection.add(t,{at:0}),e.model.set("count",e.model.get("count")+1)}),selink.socket.on("post-commented",function(t){var n="",r=_.findWhere(t.targetPost.comments,{_id:t.targetComment});$.gritter.add({title:t._from.firstName+" "+t._from.lastName,text:n,image:t._from.photo,time:8e3,class_name:"gritter-success"}),e.collection.add(t,{at:0}),e.model.set("count",e.model.get("count")+1)}),selink.socket.on("comment-replied",function(t){var n="",r=_.findWhere(t.targetPost.comments,{_id:t.targetComment});$.gritter.add({title:t._from.firstName+" "+t._from.lastName,text:n,image:t._from.photo,time:8e3,class_name:"gritter-success"}),e.collection.add(t,{at:0}),e.model.set("count",e.model.get("count")+1)}),selink.socket.on("comment-liked",function(t){$.gritter.add({title:t._from.firstName+" "+t._from.lastName,text:"",image:t._from.photo,time:8e3,class_name:"gritter-success"}),e.collection.add(t,{at:0}),e.model.set("count",e.model.get("count")+1)}),selink.socket.on("job-new",function(t){$.gritter.add({title:t._from.firstName+" "+t._from.lastName,text:"",image:t._from.photo,time:8e3,class_name:"gritter-success"}),e.collection.add(t,{at:0}),e.model.set("count",e.model.get("count")+1)}),selink.socket.on("job-bookmarked",function(t){$.gritter.add({title:t._from.firstName+" "+t._from.lastName,text:"",image:t._from.photo,time:8e3,class_name:"gritter-success"}),e.collection.add(t,{at:0}),e.model.set("count",e.model.get("count")+1)}),selink.socket.on("group-new",function(t){$.gritter.add({title:t._from.firstName+" "+t._from.lastName,text:""+t.targetGroup.name+"",image:t._from.photo,time:8e3,class_name:"gritter-success"}),e.collection.add(t,{at:0}),e.model.set("count",e.model.get("count")+1)}),selink.socket.on("group-invited",function(t){$.gritter.add({title:t._from.firstName+" "+t._from.lastName,text:""+t.targetGroup.name+"",image:t._from.photo,time:8e3,class_name:"gritter-success"}),e.collection.add(t,{at:0}),e.model.set("count",e.model.get("count")+1)}),selink.socket.on("group-expeled",function(t){$.gritter.add({title:t._from.firstName+" "+t._from.lastName,text:""+t.targetGroup.name+"",image:t._from.photo,time:8e3,class_name:"gritter-info"}),e.collection.add(t,{at:0}),e.model.set("count",e.model.get("count")+1),selink.user.set("groups",_.without(selink.user.get("groups"),t.targetGroup._id))}),selink.socket.on("group-joined",function(t){$.gritter.add({title:t._from.firstName+" "+t._from.lastName,text:""+t.targetGroup.name+"",image:t._from.photo,time:8e3,class_name:"gritter-success"}),e.collection.add(t,{at:0}),e.model.set("count",e.model.get("count")+1)}),selink.socket.on("group-refused",function(t){$.gritter.add({title:t._from.firstName+" "+t._from.lastName,text:""+t.targetGroup.name+"",image:t._from.photo,time:8e3,class_name:"gritter-info"}),e.collection.add(t,{at:0}),e.model.set("count",e.model.get("count")+1)}),selink.socket.on("group-applied",function(t){$.gritter.add({title:t._from.firstName+" "+t._from.lastName,text:""+t.targetGroup.name+"",image:t._from.photo,time:8e3,class_name:"gritter-success"}),e.collection.add(t,{at:0}),e.model.set("count",e.model.get("count")+1)}),selink.socket.on("group-approved",function(t){$.gritter.add({title:t._from.firstName+" "+t._from.lastName,text:""+t.targetGroup.name+"",image:t._from.photo,time:8e3,class_name:"gritter-success"}),e.collection.add(t,{at:0}),e.model.set("count",e.model.get("count")+1),selink.user.set("applying",_.without(selink.user.get("applying"),t.targetGroup._id)),selink.user.get("groups").push(t.targetGroup._id)}),selink.socket.on("group-declined",function(t){$.gritter.add({title:t._from.firstName+" "+t._from.lastName,text:""+t.targetGroup.name+"",image:t._from.photo,time:8e3,class_name:"gritter-info"}),e.collection.add(t,{at:0}),e.model.set("count",e.model.get("count")+1),selink.user.set("applying",_.without(selink.user.get("applying"),t.targetGroup._id))})}})}),define("text!common/template/setting/main.html",[],function(){return'<div class="modal-content">\r\n    <div class="modal-header">\r\n        <button type="button" class="close" data-dismiss="modal">&times;</button>\r\n        <h4 class="blue">\r\n            <i class="ace-icon fa fa-gears bigger-110"></i>&nbsp;&nbsp;\r\n            <strong></strong>\r\n        </h4>\r\n    </div>\r\n\r\n    <div class="modal-body overflow-visible blue">\r\n\r\n        <div class="row">\r\n            <div class="col-xs-7 align-right">\r\n                <i class="ace-icon fa fa-rss bigger-110 red"></i>&nbsp;&nbsp;\r\n            </div>\r\n            <div class="col-xs-5">\r\n                <label>\r\n                    <input name="systemNotification" class="ace ace-switch ace-switch-4" type="checkbox" <% if (obj.mailSetting.systemNotification) print("checked"); %> />\r\n                    <span class="lbl"></span>\r\n                </label>\r\n            </div>\r\n        </div>\r\n\r\n        <div class="row">\r\n            <div class="col-xs-7 align-right">\r\n                <i class="ace-icon fa fa-user bigger-110 purple"></i>&nbsp;&nbsp;\r\n            </div>\r\n            <div class="col-xs-5">\r\n                <label>\r\n                    <input name="friendInvitation" class="ace ace-switch ace-switch-4" type="checkbox" <% if (obj.mailSetting.friendInvitation) print("checked"); %> />\r\n                    <span class="lbl"></span>\r\n                </label>\r\n            </div>\r\n        </div>\r\n\r\n        <div class="row">\r\n            <div class="col-xs-7 align-right">\r\n                <i class="ace-icon fa fa-star bigger-110 orange"></i>&nbsp;&nbsp;\r\n            </div>\r\n            <div class="col-xs-5">\r\n                <label>\r\n                    <input name="invitationAccpected" class="ace ace-switch ace-switch-4" type="checkbox" <% if (obj.mailSetting.invitationAccpected) print("checked"); %> />\r\n                    <span class="lbl"></span>\r\n                </label>\r\n            </div>\r\n        </div>\r\n\r\n        <div class="row">\r\n            <div class="col-xs-7 align-right">\r\n                <i class="ace-icon fa fa-user bigger-110 purple"></i>&nbsp;&nbsp;\r\n            </div>\r\n            <div class="col-xs-5">\r\n                <label>\r\n                    <input name="groupInvitation" class="ace ace-switch ace-switch-4" type="checkbox" <% if (obj.mailSetting.groupInvitation) print("checked"); %> />\r\n                    <span class="lbl"></span>\r\n                </label>\r\n            </div>\r\n        </div>\r\n\r\n        <div class="row">\r\n            <div class="col-xs-7 align-right">\r\n                <i class="ace-icon fa fa-user bigger-110 purple"></i>&nbsp;&nbsp;\r\n            </div>\r\n            <div class="col-xs-5">\r\n                <label>\r\n                    <input name="groupJoined" class="ace ace-switch ace-switch-4" type="checkbox" <% if (obj.mailSetting.groupJoined) print("checked"); %> />\r\n                    <span class="lbl"></span>\r\n                </label>\r\n            </div>\r\n        </div>\r\n\r\n        <div class="row">\r\n            <div class="col-xs-7 align-right">\r\n                <i class="ace-icon fa fa-user bigger-110 purple"></i>&nbsp;&nbsp;\r\n            </div>\r\n            <div class="col-xs-5">\r\n                <label>\r\n                    <input name="groupApplied" class="ace ace-switch ace-switch-4" type="checkbox" <% if (obj.mailSetting.groupApplied) print("checked"); %> />\r\n                    <span class="lbl"></span>\r\n                </label>\r\n            </div>\r\n        </div>\r\n\r\n        <div class="row">\r\n            <div class="col-xs-7 align-right">\r\n                <i class="ace-icon fa fa-user bigger-110 purple"></i>&nbsp;&nbsp;\r\n            </div>\r\n            <div class="col-xs-5">\r\n                <label>\r\n                    <input name="groupApplied" class="ace ace-switch ace-switch-4" type="checkbox" <% if (obj.mailSetting.groupApplied) print("checked"); %> />\r\n                    <span class="lbl"></span>\r\n                </label>\r\n            </div>\r\n        </div>\r\n\r\n        <div class="row">\r\n            <div class="col-xs-7 align-right">\r\n                <i class="ace-icon fa fa-edit bigger-110 pink"></i>&nbsp;&nbsp;\r\n            </div>\r\n            <div class="col-xs-5">\r\n                <label>\r\n                    <input name="newPost" class="ace ace-switch ace-switch-4" type="checkbox" <% if (obj.mailSetting.newPost) print("checked"); %> />\r\n                    <span class="lbl"></span>\r\n                </label>\r\n            </div>\r\n        </div>\r\n\r\n        <div class="row">\r\n            <div class="col-xs-7 align-right">\r\n                <i class="ace-icon fa fa-briefcase bigger-110 pink"></i>&nbsp;&nbsp;\r\n            </div>\r\n            <div class="col-xs-5">\r\n                <label>\r\n                    <input name="newJob" class="ace ace-switch ace-switch-4" type="checkbox" <% if (obj.mailSetting.newJob) print("checked"); %> />\r\n                    <span class="lbl"></span>\r\n                </label>\r\n            </div>\r\n        </div>\r\n\r\n        <div class="row">\r\n            <div class="col-xs-7 align-right">\r\n                <i class="ace-icon fa fa-heart bigger-110 red"></i>&nbsp;&nbsp;\r\n            </div>\r\n            <div class="col-xs-5">\r\n                <label>\r\n                    <input name="postLiked" class="ace ace-switch ace-switch-4" type="checkbox" <% if (obj.mailSetting.postLiked) print("checked"); %> />\r\n                    <span class="lbl"></span>\r\n                </label>\r\n            </div>\r\n        </div>\r\n\r\n        <div class="row">\r\n            <div class="col-xs-7 align-right">\r\n                <i class="ace-icon fa fa-heart bigger-110 red"></i>&nbsp;&nbsp;\r\n            </div>\r\n            <div class="col-xs-5">\r\n                <label>\r\n                    <input name="postBookmarked" class="ace ace-switch ace-switch-4" type="checkbox" <% if (obj.mailSetting.postBookmarked) print("checked"); %> />\r\n                    <span class="lbl"></span>\r\n                </label>\r\n            </div>\r\n        </div>\r\n\r\n        <div class="row">\r\n            <div class="col-xs-7 align-right">\r\n                <i class="ace-icon fa fa-comments bigger-110 green"></i>&nbsp;&nbsp;\r\n            </div>\r\n            <div class="col-xs-5">\r\n                <label>\r\n                    <input name="postCommented" class="ace ace-switch ace-switch-4" type="checkbox" <% if (obj.mailSetting.postCommented) print("checked"); %> />\r\n                    <span class="lbl"></span>\r\n                </label>\r\n            </div>\r\n        </div>\r\n\r\n        <div class="row">\r\n            <div class="col-xs-7 align-right">\r\n                <i class="ace-icon fa fa-comments bigger-110 green"></i>&nbsp;&nbsp;\r\n            </div>\r\n            <div class="col-xs-5">\r\n                <label>\r\n                    <input name="commentReplied" class="ace ace-switch ace-switch-4" type="checkbox" <% if (obj.mailSetting.commentReplied) print("checked"); %> />\r\n                    <span class="lbl"></span>\r\n                </label>\r\n            </div>\r\n        </div>\r\n\r\n        <div class="row">\r\n            <div class="col-xs-7 align-right">\r\n                <i class="ace-icon fa fa-comments bigger-110 green"></i>&nbsp;&nbsp;\r\n            </div>\r\n            <div class="col-xs-5">\r\n                <label>\r\n                    <input name="commentLiked" class="ace ace-switch ace-switch-4" type="checkbox" <% if (obj.mailSetting.commentLiked) print("checked"); %> />\r\n                    <span class="lbl"></span>\r\n                </label>\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n\r\n</div>'}),define("common/view/setting/main",["text!common/template/setting/main.html"],function(e){return Backbone.Marionette.ItemView.extend({template:e,className:"modal-dialog",events:{"click input":"onSave"},onSave:function(e){var t=$(e.target);this.model.save("mailSetting."+t.attr("name"),t.is(":checked"),{success:function(){t.closest(".row").find("i").slFlip()},patch:!0,wait:!0})}})}),define("text!common/template/password/main.html",[],function(){return'<div class="modal-content">\r\n    <div class="modal-header">\r\n        <button type="button" class="close" data-dismiss="modal">&times;</button>\r\n        <h4 class="green">\r\n            <i class="ace-icon fa fa-key bigger-110"></i>&nbsp;&nbsp;\r\n            <strong></strong>\r\n        </h4>\r\n    </div>\r\n\r\n    <div class="modal-body overflow-visible blue">\r\n\r\n        <div class="form-group">\r\n            <div class="input-group">\r\n                <span class="input-group-addon"><i class="ace-icon fa fa-lock bigger-110"></i></span>\r\n                <input type="password" class="col-xs-12" placeholder="" name="password">\r\n            </div>\r\n        </div>\r\n\r\n        <div class="form-group">\r\n            <div class="input-group">\r\n                <span class="input-group-addon"><i class="ace-icon fa fa-key bigger-110"></i></span>\r\n                <input type="password" class="col-xs-12" placeholder="" name="password2">\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n\r\n    <div class="modal-footer">\r\n        <button class="btn btn-sm btn-success btn-save"><i class="ace-icon fa fa-check"></i> </button>\r\n        <button class="btn btn-sm" data-dismiss="modal"><i class="ace-icon fa fa-times"></i> </button>\r\n    </div>\r\n</div>'}),define("common/view/password/main",["text!common/template/password/main.html"],function(e){return Backbone.Marionette.ItemView.extend({template:e,className:"modal-dialog",ui:{password:'input[name="password"]',password2:'input[name="password2"]'},events:{"click .btn-save":"onSave"},onSave:function(){this._clearError(),this.ui.password.val().length<8?this._showError({password:"8"}):this.ui.password.val()!=this.ui.password2.val()?this._showError({password:"",password2:""}):this.model.save("password",this.ui.password.val(),{success:function(){selink.modalArea.$el.modal("hide"),$.gritter.add({title:"",text:"",class_name:"gritter-success"})},silent:!0,patch:!0,wait:!0})},_showError:function(e){for(var t in e)this.$el.find('input[name="'+t+'"]').addClass("tooltip-error").tooltip({placement:"bottom",title:e[t]}).closest(".form-group").addClass("has-error").find("i").addClass("animated-input-error")},_clearError:function(){this.$el.find("input").removeClass("tooltip-error").tooltip("destroy").closest(".form-group").removeClass("has-error").find("i").removeClass("animated-input-error")}})}),define("common/view/topnav/topnav",["text!common/template/topnav/topnav.html","common/view/topnav/event/menu","common/view/topnav/message/menu","common/view/topnav/notification/menu","common/view/setting/main","common/view/password/main"],function(e,t,n,r,i,s){var o=Backbone.Marionette.Region.extend({attachHtml:function(e){this.$el.hide(),this.$el.replaceWith(e.el),this.$el.slideDown("fast")}});return Backbone.Marionette.LayoutView.extend({template:e,ui:{completeness:".completeness-value",bar:".progress-bar",searchTxt:".form-search input",searchBtn:".btn-search"},events:{"click #setting":"showSettingView","click #password":"showPasswordView","click @ui.searchBtn":"onSearch","submit form":"onSearch"},modelEvents:{"change:photo":"updatePhoto",change:"updateCompleteness"},regions:{eventNavRegion:{selector:"#event-nav",regionClass:o},notificationNavRegion:{selector:"#notification-nav",regionClass:o},messageNavRegion:{selector:"#message-nav",regionClass:o}},initialize:function(){this.model=selink.user,this.eventNav=new t,this.notificationNav=new r,this.messageNav=new n,this.model.set({completeness:this.model.completeness()},{silent:!0})},onShow:function(){this.eventNavRegion.show(this.eventNav),this.notificationNavRegion.show(this.notificationNav),this.messageNavRegion.show(this.messageNav)},showSettingView:function(e){e.preventDefault();var t=new i({model:selink.user});selink.modalArea.show(t),selink.modalArea.$el.modal("show")},showPasswordView:function(e){e.preventDefault();var t=new s({model:selink.user});selink.modalArea.show(t),selink.modalArea.$el.modal("show")},updatePhoto:function(){var e=this;this.$el.find(".nav-user-photo").slRollOut("",function(){$(this).attr("src",e.model.get("photo")),$(this).removeClass("rollOut").addClass("rollIn")})},updateCompleteness:function(){var e=this.model.completeness(),t="progress-bar";e==100?t+=" progress-bar-success":e>85||(e>70?t+=" progress-bar-warning":e>50?t+=" progress-bar-pink":e>30?t+=" progress-bar-purple":t+=" progress-bar-danger"),this.ui.completeness.empty().text(e+"%"),this.ui.bar.removeClass().addClass(t),this.ui.bar.css("width",e+"%")},onSearch:function(e){e.preventDefault();if(_.str.isBlank(this.ui.searchTxt.val()))return;window.location="#search/"+this.ui.searchTxt.val()}})}),define("text!engineer/template/common/sidenav.html",[],function(){return'<div class="sidebar-shortcuts">\r\n    <div class="sidebar-shortcuts-large" id="sidebar-shortcuts-large">\r\n        <a href="#home" class="btn btn-success"><i class="ace-icon fa fa-home"></i></a>\r\n        <a href="#profile" class="btn btn-info"><i class="ace-icon fa fa-user"></i></a>\r\n        <a href="#calendar" class="btn btn-warning"><i class="ace-icon fa fa-calendar"></i></a>\r\n        <a href="#mailbox" class="btn btn-danger"><i class="ace-icon fa fa-inbox"></i></a>\r\n    </div>\r\n    <div class="sidebar-shortcuts-mini" id="sidebar-shortcuts-mini">\r\n        <a href="#home" class="btn btn-success"></a>\r\n        <a href="#profile" class="btn btn-info"></a>\r\n        <a href="#calendar" class="btn btn-warning"></a>\r\n        <a href="#mailbox" class="btn btn-danger"></a>\r\n    </div>\r\n</div>\r\n\r\n<ul class="nav nav-list">\r\n    <li>\r\n        <a href="#home">\r\n            <i class="menu-icon fa fa-home"></i>\r\n            <span class="menu-text"></span>\r\n        </a>\r\n    </li>\r\n    <li>\r\n        <a href="#post">\r\n            <i class="menu-icon fa fa-edit"></i>\r\n            <span class="menu-text"></span>\r\n        </a>\r\n    </li>\r\n    <li>\r\n        <a href="#people/friends">\r\n            <i class="menu-icon fa fa-user"></i>\r\n            <span class="menu-text"></span>\r\n        </a>\r\n    </li>\r\n    <li>\r\n        <a href="#group/joined">\r\n            <i class="menu-icon fa fa-group"></i>\r\n            <span class="menu-text"></span>\r\n        </a>\r\n    </li>\r\n    <li>\r\n        <a href="#bookmark">\r\n            <i class="menu-icon fa fa-star"></i>\r\n            <span class="menu-text"></span>\r\n        </a>\r\n    </li>\r\n    <li>\r\n        <a href="#calendar">\r\n            <i class="menu-icon fa fa-calendar"></i>\r\n            <span class="menu-text"></span>\r\n        </a>\r\n    </li>\r\n</ul>\r\n\r\n<div class="sidebar-toggle sidebar-collapse">\r\n    <i class="ace-icon fa fa-angle-double-right"\r\n        data-icon1="ace-icon fa fa-angle-double-left"\r\n        data-icon2="ace-icon fa fa-angle-double-right">\r\n    </i>\r\n</div>'}),define("engineer/view/common/sidenav",["text!engineer/template/common/sidenav.html"],function(e){return Backbone.Marionette.ItemView.extend({template:e,events:{"click li":"activeMenu","mouseover li":"attention"},onShow:function(){},activeMenu:function(e){this.$el.find("li").removeClass("active open"),$(e.target).closest("li").addClass("active"),$(e.target).closest("ul").closest("li").addClass("active open")},attention:function(e){$(e.target).find("i").slWobble()}})}),define("text!employer/template/home/main.html",[],function(){return'<div class="isotope">\r\n</div>\r\n\r\n<nav id="page_nav">\r\n  <a href="/newsfeed"></a>\r\n</nav>\r\n\r\n<div class="news-indicator alert alert-info align-bottom" style="display:none; width: 20%; position: fixed; bottom: -20px; left: 40%; right: 40%;">\r\n    <strong>\r\n        <i class="ace-icon fa fa-edit"></i>\r\n        <span class="indicator-num"></span>\r\n    </strong>\r\n    <button class="btn btn-xs btn-primary btn-load pull-right">\r\n        <i class="ace-icon fa fa-download"></i>\r\n        \r\n    </button>\r\n</div>'}),define("common/view/composite-isotope",[],function(){return Backbone.Marionette.CompositeView.extend({childViewContainer:".isotope",childEvents:{remove:"onRemove",expand:"onExpand",ensureLayout:"ensureLayout"},attachHtml:function(e,t,n){var r=this;t.$el.imagesLoaded(function(){r.$el.find(r.childViewContainer).isotope("insert",t.$el)})},onShow:function(){var e=this;this.$el.find(this.childViewContainer).isotope({itemSelector:this.childSelector||".isotope-item",stamp:".stamp",getSortData:{createDate:function(e){return $(e).find("[data-create-date]").data("create-date")}},sortBy:"createDate",sortAscending:!1}),this.collection.fetch({success:function(){setTimeout(function(){e.ensureLayout()},500)}})},onBeforeDestroy:function(){this.$el.find(this.childViewContainer).infinitescroll("destroy"),this.$el.find(this.childViewContainer).data("infinitescroll",null)},onRemove:function(e){this.$el.find(this.childViewContainer).isotope("remove",e.$el).isotope("layout"),e.model.destroy({success:function(e,t){},wait:!0})},onExpand:function(e){setTimeout(function(){$("html, body").animate({scrollTop:$("#"+e.model.id).offset().top-50},500)},500)},ensureLayout:function(e){this.$el.find(this.childViewContainer).isotope("layout")}})}),define("common/model/job",["common/model/base"],function(e){return e.extend({urlRoot:"/jobs",parse:function(e,t){e.expiredDate&&(e.expiredDateDisplay=moment(e.expiredDate).format("LL"),e.expiredDateInput=moment(e.expiredDate).format("L")),e.startDate&&(e.startDateDisplay=moment(e.startDate).format("LL"),e.startDateInput=moment(e.startDate).format("L")),e.endDate&&(e.endDateDisplay=moment(e.endDate).format("LL"),e.endDateInput=moment(e.endDate).format("L")),e.createDate&&(e.createDateDisplay=moment(e.createDate).format("LL"),e.createDateInput=moment(e.createDate).format("L"));var n=selink.user.get("_id");return e._owner._id==n?e.isMine=!0:e.isMine=!1,_.indexOf(e.bookmarked,n)>=0?e.isMarked=!0:e.isMarked=!1,e},validation:{name:[{required:!0,msg:""},{maxLength:50,msg:"50"}],address:{maxLength:100,msg:"100"},expiredDate:{required:!0,datetimeJa:!0},startDate:{required:!1,dateJa:!0},endDate:{required:!1,dateJa:!0}}})}),define("common/model/comment",["common/model/base"],function(e){return e.extend({validation:{content:{required:!0,msg:""}}})}),define("common/model/post",["common/model/base","common/collection/base","common/model/comment"],function(e,t,n){var r=t.extend({model:n,url:function(){return"/posts/"+this.document.id+"/comments"},comparator:function(e){var t=moment(e.get("createDate"));return Number(t.valueOf())}});return e.extend({urlRoot:"/posts",constructor:function(){this.comments=new r(null,{document:this}),Backbone.Model.apply(this,arguments)},parse:function(e,t){return this.comments.set(e.comments,{parse:!0,remove:!1}),_.isString(e._owner)&&this.collection.document&&(e._owner=this.collection.document.attributes),_.isString(e.group)&&this.collection.document&&(e.group=this.collection.document.attributes),e},validation:{content:{required:!0,msg:""}}})}),define("common/model/group",["common/model/base","common/collection/base","common/model/event"],function(e,t,n){return e.extend({urlRoot:"/groups",validation:{name:{required:!0,msg:""}}})}),define("text!common/template/post/item.html",[],function(){return'<%\r\n    var isMine = (obj._owner._id === selink.user.id) ? true : false,\r\n        isLike = (_.indexOf(obj.like, selink.user.id) >= 0) ? true : false,\r\n        isMark = (_.indexOf(obj.bookmark, selink.user.id) >= 0) ? true : false;\r\n%>\r\n\r\n<div id="<%= obj._id %>" class="widget-box" data-create-date="<%= moment(obj.createDate).valueOf() %>">\r\n\r\n    <!-- post header -->\r\n    <div class="widget-header widget-header-flat">\r\n\r\n        <!-- author photo -->\r\n        <a href="#profile/<%= obj._owner._id %>">\r\n            <img class="avatar" src="<%= obj._owner.photo %>" style="max-width: 75px;">\r\n        </a>\r\n\r\n        <!-- if this post is mine -->\r\n        <% if (isMine) { %>\r\n            <!-- operation menu -->\r\n            <div class="widget-toolbar no-border hidden">\r\n\r\n                <!-- menu toggler -->\r\n                <a class="yellow dropdown-toggle" data-toggle="dropdown">\r\n                    <i class="ace-icon fa fa-chevron-down"></i>\r\n                </a>\r\n\r\n                <!-- menu -->\r\n                <ul class="dropdown-menu dropdown-yellow pull-right dropdown-caret dropdown-close">\r\n\r\n                    <!-- remove button -->\r\n                    <li>\r\n                        <a href="#" class="btn-remove">\r\n                            <i class="ace-icon fa fa-trash-o red"></i>\r\n                            \r\n                        </a>\r\n                    </li>\r\n\r\n                    <!-- disable comment -->\r\n                    <li class="<% if (!obj.setting.commentable) print("hidden") %>">\r\n                        <a href="#" class="btn-forbid">\r\n                            <i class="ace-icon fa fa-ban pink"></i>\r\n                            \r\n                        </a>\r\n                    </li>\r\n\r\n                    <!-- enable comment -->\r\n                    <li class="<% if (obj.setting.commentable) print("hidden") %>">\r\n                        <a href="#" class="btn-forbid">\r\n                            <i class="ace-icon fa fa-check green"></i>\r\n                            \r\n                        </a>\r\n                    </li>\r\n\r\n                </ul>\r\n\r\n            </div>\r\n        <% } %>\r\n\r\n        <!-- author name -->\r\n        <h5>\r\n            <i class="ace-icon fa fa-edit"></i>\r\n            <strong>\r\n                <%= obj._owner.firstName %>\r\n                <%= obj._owner.lastName %>\r\n            </strong>\r\n        </h5>\r\n\r\n        <!-- post time -->\r\n        <h6>\r\n            <i class="ace-icon fa fa-clock-o bigger-130"></i>\r\n            <%= moment(obj.createDate).calendar() %>\r\n        </h6>\r\n\r\n        <!-- group name -->\r\n        <% if (obj.group) { %>\r\n            <a class="group-label" href="#group/<%= obj.group._id %>">\r\n                <span class="label label-pink arrowed-in arrowed-in-right">\r\n                    <%= obj.group.name %>\r\n                </span>\r\n            </a>\r\n        <% } %>\r\n\r\n        <div class="clearfix"></div>\r\n\r\n    </div>\r\n\r\n    <!-- post body -->\r\n    <div class="widget-body">\r\n        <div class="widget-toolbox editor-toolbox" style="display: none;">\r\n            <div class="btn-toolbar center"></div>\r\n        </div>\r\n\r\n        <div class="widget-main">\r\n\r\n            <!-- if this post is mine -->\r\n            <% if (isMine) { %>\r\n\r\n                <!-- remove confrim dialog -->\r\n                <div class="alert alert-danger clearfix" style="display: none;">\r\n                    <i class="ace-icon fa fa-warning"></i>\r\n                    <strong></strong>\r\n                    <div class="space-10"></div>\r\n                    <p class="pull-right">\r\n                        <button class="btn btn-sm btn-warning btn-remove-cancel"></button>\r\n                        <button class="btn btn-sm btn-danger btn-remove-confirm"></button>\r\n                    </p>\r\n                </div>\r\n\r\n                <div class="sl-editable tooltip-info">\r\n                    <!-- post content -->\r\n                    <div class="content" style="max-height: 500px; overflow: hidden;">\r\n                        <%= obj.content %>\r\n                    </div>\r\n                    <!-- post editor -->\r\n                    <div class="sl-editor" style="min-height: 200px;">\r\n                        <%= obj.content %>\r\n                    </div>\r\n                </div>\r\n\r\n                <br/>\r\n\r\n                <!-- save button -->\r\n                <div class="btn btn-xs btn-success btn-save hidden">\r\n                    <i class="ace-icon fa fa-save bigger-110"></i>\r\n                    <span></span>\r\n                </div>\r\n\r\n                <!-- cancel button -->\r\n                <div class="btn btn-xs btn-grey btn-edit-cancel hidden">\r\n                    <i class="ace-icon fa fa-times bigger-110"></i>\r\n                    <span></span>\r\n                </div>\r\n\r\n            <% } else { %>\r\n\r\n                <!-- post content -->\r\n                <div class="content" style="max-height: 500px; overflow: hidden;">\r\n                    <%= obj.content %>\r\n                </div>\r\n\r\n            <% } %>\r\n\r\n            <div class="space-4"></div>\r\n\r\n<!--             <button class="btn btn-xs btn-info btn-load-comment">\r\n                <i class="ace-icon fa fa-comments-o"></i>\r\n                <span class="indicator-num"></span>\r\n            </button> -->\r\n\r\n            <!-- action buttons -->\r\n            <div class="pull-right action-buttons">\r\n\r\n                <!-- detail button -->\r\n                <a href="#post/<%= obj._id %>" class="tooltip-info btn-detail">\r\n                    <i class="ace-icon fa fa-desktop"></i>\r\n                </a>\r\n\r\n                <!-- bookmark button -->\r\n                <a href="#" class="orange tooltip-warning btn-bookmark">\r\n                    <i class="ace-icon fa <% if (isMark) print("fa-star"); else print("fa-star-o"); %> bigger-110"></i>\r\n                </a>\r\n\r\n                <!-- like button -->\r\n                <a href="#" class="red tooltip-error btn-like">\r\n                    <i class="ace-icon fa <% if (isLike) print("fa-heart"); else print("fa-heart-o"); %> "></i>\r\n                    <span><%= obj.like.length %></span>\r\n                </a>\r\n\r\n            </div>\r\n\r\n            <div class="clearfix"></div>\r\n\r\n            <% if (obj.comments.length) { %>\r\n                <hr />\r\n            <% }%>\r\n\r\n            <!-- post comments -->\r\n            <div class="dialogs"></div>\r\n\r\n            <!-- show more comments button -->\r\n            <% if (obj.comments.length > 3) { %>\r\n                <button class="btn btn-xs btn-info btn-block btn-show-all"><%= obj.comments.length - 3 %></button>\r\n            <% }%>\r\n\r\n        </div>\r\n\r\n        <!-- post footer -->\r\n        <div class="widget-toolbox padding-4 clearfix <% if (!obj.setting.commentable) print(\'hidden\') %>">\r\n\r\n            <!-- user photo -->\r\n            <img class="photo-area pull-left" src="<%= selink.user.get(\'photo\') %>" style="max-width: 55px; display: none;" />\r\n\r\n            <!-- comment text area -->\r\n            <div class="comment-area">\r\n                <div class="reply-label btn-group" style="margin-bottom: 4px; display: none;">\r\n                    <span class="btn btn-xs btn-info"></span>\r\n                    <button class="btn btn-xs btn-info">\r\n                        <i class="ace-icon fa fa-times icon-only"></i>\r\n                    </button>\r\n                </div>\r\n                <textarea name="comment" placeholder="" style="width: 100%; heigth: 61px;"></textarea>\r\n            </div>\r\n\r\n            <div class="btn-area pull-right" style="display: none;">\r\n                <!-- post button -->\r\n                <button class="btn btn-sm btn-success btn-comment disabled">\r\n                    <i class="ace-icon fa fa-comment bigger-125"></i>\r\n                    \r\n                </button>\r\n                <!-- cancel button -->\r\n                <button class="btn btn-sm btn-yellow btn-cancel">\r\n                    <i class="ace-icon fa fa-power-off bigger-125"></i>\r\n                    \r\n                </button>\r\n            </div>\r\n\r\n        </div>\r\n\r\n    </div>\r\n</div>'}),define("text!common/template/people/popover.html",[],function(){return'<div class="row no-margin">\r\n    <div class="col-xs-5 profile-picture">\r\n        <img src="<%= obj.photo %>"/>\r\n    </div>\r\n    <div class="col-xs-7" style="margin-top: 40px;">\r\n        <strong><%= obj.firstName %>&nbsp;<%= lastName %></strong>\r\n\r\n        <% if (obj.type == "employer") { %>\r\n            <br/><span class="label label-success"></span>\r\n        <% } else if (obj.type == "admin") { %>\r\n            <br/><span class="label label-warning"></span>\r\n        <% } %>\r\n\r\n    </div>\r\n</div>'}),define("text!common/template/group/popover.html",[],function(){return'<div class="no-margin">\r\n    <div style="margin-top: 40px;">\r\n        <strong><%= obj.name %></strong>\r\n        <br/>\r\n        <small><%= obj.description %></small>\r\n    </div>\r\n</div>'}),define("text!common/template/post/comment.html",[],function(){return'<%\n    var isMine = (obj._owner._id === selink.user.id) ? true : false,\n        isLike = (_.indexOf(obj.like, selink.user.id) >= 0) ? true : false;\n%>\n\n<!-- user avatar -->\n<div class="user">\n    <img src="<%= obj._owner.photo%>" />\n</div>\n\n<div class="body">\n\n    <!-- comment time -->\n    <div class="time">\n        <i class="ace-icon fa fa-clock-o"></i>\n        <span class="blue"><%= moment(obj.createDate).fromNow() %></span>\n    </div>\n\n    <!-- author name -->\n    <div class="name">\n        <a href="#profile/<%= obj._owner._id %>">\n            <%= obj._owner.firstName %>\n            <%= obj._owner.lastName %>\n        </a>\n    </div>\n\n    <!-- comment content -->\n    <div class="text">\n        <% if (obj.replyTo) { %>\n        <a href="#profile/<%= obj.replyTo._id %>">\n            <span class="label label-sm label-info arrowed-right">@\n                <%= obj.replyTo.firstName %>\n                <%= obj.replyTo.lastName %>\n            </span>\n        </a>\n        <% } %>\n        <span class="comment-text"><%= obj.content %></span>\n    </div>\n\n    <div class="editor" style="display: none;">\n        <textarea name="edit" style="width: 100%;"><%= obj.content.replace(/<br\\s*[\\/]?>/gi, \'\\n\') %></textarea>\n        <button class="btn btn-xs btn-success btn-comment-edit-comfirm"></button>\n        <button class="btn btn-xs btn-warning btn-comment-edit-cancel"></button>\n    </div>\n\n    <!-- if this comment is mine -->\n    <% if (isMine) { %>\n        <!-- remove confirm dialog -->\n        <div class="alert alert-danger clearfix" style="display: none; margin: 0px;">\n            <i class="ace-icon fa fa-warning"></i>\n            <strong></strong>\n            <div class="space-10"></div>\n            <p class="pull-right">\n                <button class="btn btn-sm btn-warning btn-comment-remove-cancel"></button>\n                <button class="btn btn-sm btn-danger btn-comment-remove-comfirm"></button>\n            </p>\n        </div>\n    <% } %>\n\n    <!-- action buttons -->\n    <div class="action">\n\n        <!-- if the comment is mine -->\n        <% if (isMine) { %>\n            <!-- edit button -->\n            <i class="btn-edit icon-only ace-icon fa fa-pencil green blink"></i>\n            <!-- remove button -->\n            <i class="btn-comment-remove icon-only ace-icon fa fa-trash-o red blink"></i>\n\n        <!-- someone\'s comment -->\n        <% } else { %>\n            <!-- reply button -->\n            <i class="btn-reply icon-only ace-icon fa fa-reply blue blink"></i>\n        <% } %>\n\n        <!-- like button -->\n        <i class="btn-comment-like icon-only ace-icon fa <% if (isLike) print(\'fa-heart\'); else print(\'fa-heart-o\'); %> red <% if (obj.like.length == 0) print(\'blink\'); %>">\n        </i>\n\n        <span class="like-num red">\n            <% if (obj.like.length > 0 ) { %>\n                <%= obj.like.length %>\n            <% } %>\n        </span>\n\n    </div>\n\n</div>\n'}),define("common/view/post/comment",["text!common/template/post/comment.html","text!common/template/people/popover.html"],function(e,t){return Backbone.Marionette.ItemView.extend({template:e,className:"itemdiv dialogdiv",ui:{likeBtn:".btn-comment-like",replyBtn:".btn-reply",editBtn:".btn-edit",removeBtn:".btn-comment-remove",alert:".alert",likeNum:".like-num",action:".action",editInput:'textarea[name="edit"]'},events:{"click @ui.likeBtn":"onLike","click @ui.replyBtn":"onReply","click @ui.editBtn":"showEditor","click @ui.removeBtn":"showAlert","click .btn-comment-remove-cancel":"hideAlert","click .btn-comment-remove-comfirm":"onRemove","click .btn-comment-edit-cancel":"hideEditor","click .btn-comment-edit-comfirm":"onEdit"},modelEvents:{"change:content":"renderContent","change:like":"renderLike"},initialize:function(){if(this.model.get("replyTo")){var e=this.model.collection.get(this.model.get("replyTo"));this.model.set("replyTo",{_id:e.get("_owner")._id,firstName:e.get("_owner").firstName,lastName:e.get("_owner").lastName})}},onRender:function(){this.$el.find("img").popover({html:!0,trigger:"hover",container:"body",placement:"auto top",title:'<img src="'+this.model.get("_owner").cover+'" />',content:_.template(t,this.model.get("_owner"))}),this.ui.likeBtn.tooltip({container:"body",placement:"top",title:"",template:'<div class="tooltip tooltip-error"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'}),this.ui.replyBtn.tooltip({container:"body",placement:"top",title:"",template:'<div class="tooltip tooltip-info"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'}),this.ui.editBtn.tooltip({container:"body",placement:"top",title:"",template:'<div class="tooltip tooltip-success"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'}),this.ui.removeBtn.tooltip({container:"body",placement:"top",title:"",template:'<div class="tooltip tooltip-error"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'})},onLike:function(){this.model.save(null,{url:this.model.url()+"/like",patch:!0,wait:!0})},renderLike:function(){var e=this.model.get("like").length;e>0?(this.ui.likeNum.empty().text(e),this.ui.likeBtn.removeClass("blink")):(this.ui.likeNum.empty(),this.ui.likeBtn.addClass("blink")),this.ui.likeBtn.toggleClass("fa-heart-o fa-heart").slFlip()},onReply:function(){this.trigger("reply")},showEditor:function(){var e=this;this.ui.action.slideUp("fast"),this.$el.find(".text").slideUp("fast",function(){e.$el.find(".editor").slideDown("fast",function(){e.ui.editInput.autosize({callback:function(){setTimeout(function(){e.trigger("ensureLayout")},200)}})})})},hideEditor:function(){var e=this;this.$el.find(".editor").slideUp("fast",function(){e.$el.find(".text").slideDown("fast"),e.ui.action.slideDown("fast",function(){e.ui.editInput.trigger("autosize.destroy"),e.trigger("ensureLayout")})})},onEdit:function(){var e=this,t=this.ui.editInput.val().replace(/(?:\r\n|\r|\n)/g,"<br />");this.model.save({content:t},{success:function(){e.hideEditor()},reIsotope:!1,patch:!0,wait:!0})},renderContent:function(){this.$el.find(".comment-text").empty().html(this.model.get("content"))},showAlert:function(e){var t=this;this.ui.action.slideUp("fast",function(){t.ui.alert.slideDown("fast",function(){t.trigger("ensureLayout")}).find("i").addClass("icon-animated-vertical")})},hideAlert:function(){var e=this;this.ui.alert.slideUp("fast",function(){e.ui.action.slideDown("fast"),e.trigger("ensureLayout")})},onRemove:function(){this.trigger("remove")}})}),define("common/view/post/item",["text!common/template/post/item.html","text!common/template/people/popover.html","text!common/template/group/popover.html","common/collection/base","common/view/post/comment"],function(e,t,n,r,i){return Backbone.Marionette.CompositeView.extend({className:"isotope-item col-xs-12 col-sm-6 col-lg-4",template:e,childViewContainer:".dialogs",childView:i,ui:{avatar:".avatar",groupLabel:".group-label",menuToggler:".widget-header .widget-toolbar",removeBtn:".btn-remove",forbidBtn:".btn-forbid",alert:".alert",cancelBtn:".btn-remove-cancel",confirmBtn:".btn-remove-confirm",editable:".sl-editable",postContent:".content",postEditor:".sl-editor",editorTool:".editor-toolbox",saveBtn:".btn-save",editCancelBtn:".btn-edit-cancel",detailBtn:".btn-detail",likeBtn:".btn-like",bookmarkBtn:".btn-bookmark",showAllBtn:".btn-show-all",comments:".dialogs",replyLabel:".reply-label",replyTarget:".reply-label span",replyCancelBtn:".reply-label button",commentInput:'textarea[name="comment"]',commentConfirmBtn:".btn-comment",commentCancelBtn:".btn-cancel"},events:{mouseover:"toggleMenuIndicator",mouseout:"toggleMenuIndicator","click @ui.avatar":"toProfile","click @ui.groupLabel":"toGroup","click @ui.postContent":"toggleExpand","click @ui.removeBtn":"showAlert","click @ui.forbidBtn":"toggleForbid","click @ui.cancelBtn":"hideAlert","click @ui.confirmBtn":"onRemove","click @ui.editable":"showEditor","click @ui.editCancelBtn":"hideEditor","click @ui.saveBtn":"onSave","keyup @ui.postEditor":"enableSave","click @ui.likeBtn":"onLike","click @ui.bookmarkBtn":"onBookmark","click @ui.showAllBtn":"showAllComment","focusin @ui.commentInput":"openComment","keyup @ui.commentInput":"checkComment","click @ui.commentConfirmBtn":"onComment","click @ui.commentCancelBtn":"closeComment","click @ui.replyCancelBtn":"cancelReply"},modelEvents:{"change:content":"renderContent","change:like":"renderLike","change:bookmark":"renderBookmark"},collectionEvents:{add:"renderComments"},childEvents:{remove:"onCommentRemove",reply:"onReply",ensureLayout:"proxyEnsureLayout"},attachHtml:function(e,t,n){!this.options.modal&&n<this.collection.length-3&&t.$el.addClass("hide"),this.ui.comments.prepend(t.el)},initialize:function(){this.expanded=!1,this.replyTo=null,this.collection=this.model.comments},onRender:function(){this.ui.postEditor.ace_wysiwyg({toolbar_place:function(e){return $(this).closest(".widget-box").find(".btn-toolbar").prepend(e).children(0).addClass("inline")}}).prev().addClass("wysiwyg-style3"),this.model.get("group")&&this.ui.groupLabel.popover({html:!0,trigger:"hover",container:"body",placement:"auto right",title:'<img src="'+this.model.get("group").cover+'" />',content:_.template(n,this.model.get("group"))}),this.ui.avatar.popover({html:!0,trigger:"hover",container:"body",placement:"auto right",title:'<img src="'+this.model.get("_owner").cover+'" />',content:_.template(t,this.model.get("_owner"))}),this.ui.editable.tooltip({placement:"bottom",title:""}),this.ui.likeBtn.tooltip({placement:"top",title:""}),this.ui.bookmarkBtn.tooltip({placement:"top",title:""}),this.ui.detailBtn.tooltip({placement:"top",title:""})},onShow:function(){var e=this;setTimeout(function(){e.ui.postContent.niceScroll({horizrailenabled:!1,railoffset:{left:11}})},1200)},toggleMenuIndicator:function(){this.ui.menuToggler.toggleClass("hidden")},toProfile:function(e){e.preventDefault(),this.ui.avatar.popover("destroy"),window.location="#profile/"+this.model.get("_owner")._id},toGroup:function(e){e.preventDefault(),this.ui.groupLabel.popover("destroy"),window.location="#group/"+this.model.get("group")._id},showAlert:function(e){var t=this;e.preventDefault(),this.ui.alert.slideDown("fast",function(){t.trigger("ensureLayout")}).find("i").addClass("icon-animated-vertical")},hideAlert:function(){var e=this;this.ui.alert.slideUp("fast",function(){e.trigger("ensureLayout")})},onRemove:function(){this.trigger("remove")},toggleForbid:function(e){var t=this;e.preventDefault(),this.model.save({"setting.commentable":!this.model.get("setting.commentable")},{success:function(){t.$el.find(".widget-toolbox").toggleClass("hidden"),t.$el.find(".btn-forbid").closest("li").toggleClass("hidden"),t.trigger("ensureLayout")},patch:!0,wait:!0})},renderContent:function(){this.ui.postContent.empty().html(this.model.get("content")),this.trigger("ensureLayout")},toggleExpand:function(){this.$el.toggleClass("col-sm-6 col-lg-4"),this.expanded=!this.expanded,this.trigger("ensureLayout"),this.trigger("expand")},showEditor:function(){var e=this;this.expanded||this.toggleExpand(),this.ui.saveBtn.removeClass("hidden"),this.ui.editCancelBtn.removeClass("hidden"),this.ui.postContent.slideUp("fast",function(){e.ui.editorTool.slideDown("fast"),e.ui.postEditor.slideDown("fast",function(){e.trigger("ensureLayout")})})},hideEditor:function(){var e=this;this.toggleExpand(),this.ui.saveBtn.addClass("hidden"),this.ui.editCancelBtn.addClass("hidden"),this.ui.editorTool.slideUp("fast"),this.ui.postEditor.slideUp("fast",function(){e.ui.postContent.slideDown("fast",function(){e.trigger("ensureLayout")})})},enableSave:function(){var e=this.ui.postEditor.cleanHtml();e&&!_.str.isBlank(e)?this.ui.saveBtn.removeClass("disabled"):this.ui.saveBtn.addClass("disabled")},onSave:function(){var e=this;this.model.save({content:this.ui.postEditor.cleanHtml()},{success:function(t,n,r){e.ui.postContent.empty().html(t.get("content")),e.hideEditor()},patch:!0,wait:!0})},onLike:function(e){e.preventDefault(),this.model.save(null,{url:"/posts/"+this.model.get("_id")+"/like",patch:!0,wait:!0})},renderLike:function(){this.ui.likeBtn.find("span").empty().text(this.model.get("like").length),this.ui.likeBtn.find("i").toggleClass("fa-heart-o fa-heart").slFlip()},onBookmark:function(e){e.preventDefault(),this.model.save(null,{url:"/posts/"+this.model.get("_id")+"/bookmark",patch:!0,wait:!0})},renderBookmark:function(){this.ui.bookmarkBtn.find("i").toggleClass("fa-star-o fa-star").slFlip()},showAllComment:function(){var e=this;this.ui.comments.find(".hide").removeClass("hide").slideDown(function(){e.ui.showAllBtn.hide(),e.trigger("ensureLayout")})},openComment:function(){var e=this;this.$el.find(".comment-area").css("margin-left","58px"),this.$el.find(".photo-area").slideDown(),this.$el.find(".btn-area").slideDown("fast",function(){e.ui.commentInput.autosize({callback:function(){setTimeout(function(){e.trigger("ensureLayout")},200)}})})},closeComment:function(){var e=this;this.replyTo=null,this.$el.find(".comment-area").css("margin-left","0px"),this.$el.find(".photo-area").hide(),this.ui.replyLabel.slideUp("fast",function(){e.$el.find(".btn-area").slideUp("fast",function(){e.ui.commentInput.val("").trigger("autosize.destroy"),e.trigger("ensureLayout")})})},checkComment:function(){_.str.isBlank(this.ui.commentInput.val())?this.ui.commentConfirmBtn.addClass("disabled"):this.ui.commentConfirmBtn.removeClass("disabled")},onComment:function(){var e=this,t=this.ui.commentInput.val().replace(/(?:\r\n|\r|\n)/g,"<br />");this.collection.create({content:t,replyTo:this.replyTo},{success:function(){e.collection.length==1&&e.ui.comments.before("<hr>"),e.closeComment()},wait:!0})},renderComments:function(){this.trigger("ensureLayout")},onCommentRemove:function(e){var t=this;e.$el.slideUp("fast",function(){e.model.destroy({success:function(e,n){t.trigger("ensureLayout")},wait:!0})})},onReply:function(e){var t=this,n=e.model.get("_owner"),r="@"+n.firstName+" "+n.lastName+" ";this.replyTo=e.model.id,this.ui.replyTarget.empty().text(r),this.ui.replyLabel.slideDown("fast",function(){t.trigger("ensureLayout")}),this.openComment(),$("html,body").animate({scrollTop:this.$el.find(".comment-area").offset().top-150},1e3)},cancelReply:function(){var e=this;this.replyTo=null,this.ui.replyLabel.slideUp("fast",function(){e.trigger("ensureLayout")})},proxyEnsureLayout:function(){this.trigger("ensureLayout")}})}),define("text!common/template/announcement/item.html",[],function(){return'<div class="widget-box widget-color-red" data-create-date="<%= moment(obj.createDate).valueOf() %>">\r\n    <div class="widget-header widget-header-flat">\r\n        <h4 class="widget-title">\r\n            <i class="ace-icon fa fa-bullhorn"></i>&nbsp;<%= obj.title %>\r\n        </h4>\r\n        <div class="widget-toolbar">\r\n            <i class="ace-icon fa fa-clock-o"></i>&nbsp;<%= moment(obj.createDate).fromNow() %>\r\n        </div>\r\n    </div>\r\n\r\n    <div class="widget-body">\r\n        <div class="widget-main">\r\n\r\n            <div class="content">\r\n                <%= obj.content %>\r\n            </div>\r\n\r\n            <div class="clearfix"></div>\r\n\r\n        </div>\r\n\r\n    </div>\r\n</div>\r\n'}),define("common/view/announcement/item",["text!common/template/announcement/item.html"],function(e){return Backbone.Marionette.ItemView.extend({className:"isotope-item col-xs-12 col-sm-6 col-lg-8",template:e})}),define("text!common/template/job/item.html",[],function(){return'<%\n    var widgetColor = "";\n\n    if (moment(obj.expiredDate).isBefore(moment()))\n        widgetColor = "widget-color-grey";\n    else\n        widgetColor = "widget-color-red";\n%>\n\n<div class="widget-box <%= widgetColor %>" data-create-date="<%= moment(obj.createDate).valueOf() %>">\n\n    <!-- job header, expired jobs are grey -->\n    <div class="widget-header widget-header-flat">\n\n        <!-- job creator photo -->\n        <a href="#profile/<%= obj._owner._id %>">\n            <img class="avatar" src="<%= obj._owner.photo %>">\n        </a>\n\n        <!-- if the job is mine -->\n        <% if (obj.isMine) { %>\n\n            <!-- operation menu -->\n            <div class="widget-toolbar no-border hidden">\n\n                <!-- menu toggler -->\n                <a class="yellow dropdown-toggle" data-toggle="dropdown">\n                    <i class="ace-icon fa fa-chevron-down"></i>\n                </a>\n\n                <!-- menu -->\n                <ul class="dropdown-menu dropdown-yellow pull-right dropdown-caret dropdown-close">\n\n                    <!-- edit button -->\n                    <li>\n                        <a href="#" class="btn-edit">\n                            <i class="ace-icon fa fa-pencil green bigger-110"></i>&nbsp;&nbsp;\n                        </a>\n                    </li>\n\n                    <!-- remove button -->\n                    <li>\n                        <a href="#" class="btn-remove">\n                            <i class="ace-icon fa fa-trash-o red bigger-110"></i>&nbsp;&nbsp;\n                        </a>\n                    </li>\n\n                </ul>\n\n            </div>\n\n        <% } %>\n\n        <!-- job name -->\n        <h5>\n            <i class="ace-icon fa fa-briefcase"></i>&nbsp;\n            <strong><span class="name-value"><%= obj.name %></span></strong>\n        </h5>\n\n        <!-- job creator name -->\n        <h6>\n            <i class="ace-icon fa fa-edit"></i>&nbsp;\n            <%= obj._owner.firstName %>&nbsp;<%= obj._owner.lastName %>\n        </h6>\n\n        <!-- job create time -->\n        <h6>\n            <i class="ace-icon fa fa-clock-o"></i>&nbsp;\n            <%= moment(obj.createDate).calendar() %>\n        </h6>\n\n        <div class="clearfix"></div>\n    </div>\n\n    <!-- job body -->\n    <div class="widget-body">\n\n        <div class="widget-main">\n\n            <!-- if this job is mine -->\n            <% if (obj.isMine) { %>\n                <!-- remove confirm dialog -->\n                <div class="alert alert-danger clearfix" style="display: none;">\n                    <i class="ace-icon fa fa-warning"></i>&nbsp;\n                    <strong></strong>\n                    <div class="space-10"></div>\n                    <p class="pull-right">\n                        <button class="btn btn-sm btn-warning btn-remove-cancel"></button>\n                        <button class="btn btn-sm btn-danger btn-remove-confirm"></button>\n                    </p>\n                </div>\n            <% } %>\n\n            <!-- address -->\n            <h6 class="text-primary <%= obj.address ? \'\' : \'hide\' %>">\n                <i class="ace-icon fa fa-map-marker bigger-120"></i>&nbsp;&nbsp;\n                <span class="address-value"><%= obj.address %></span>\n            </h6>\n\n            <!-- duration -->\n            <h6 class="text-primary <%= (obj.startDate || obj.endDate) ? \'\' : \'hide\' %>">\n                <i class="ace-icon fa fa-calendar bigger-120"></i>&nbsp;&nbsp;\n                <span class="duration-value"><%= obj.startDateInput %><%= obj.endDateInput %></span>\n            </h6>\n\n            <!-- price -->\n            <h6 class="text-warning <%= (obj.priceBottom || obj.priceTop) ? \'\' : \'hide\' %>">\n                <i class="ace-icon fa fa-jpy bigger-120"></i>&nbsp;&nbsp;\n                <span class="price-value"><%= obj.priceBottom %><%= obj.priceTop %></span>\n            </h6>\n\n            <h6 class="text-danger">\n                <i class="ace-icon fa fa-ban bigger-120"></i>&nbsp;&nbsp;\n                <span class="expired-value"><%= moment(obj.expiredDate).calendar() %></span>\n            </h6>\n\n            <!-- remark -->\n            <div class="remark-value">\n                <%= obj.remark %>\n            </div>\n\n            <!-- recruitNum -->\n            <span class="recruit-value label label-lg label-purple arrowed arrowed-right <%= obj.recruitNum ? \'\' : \'hide\' %>">\n                <%= obj.recruitNum %>\n            </span>\n\n            <!-- interviewNum -->\n            <span class="interview-value label label-lg label-warning arrowed arrowed-right <%= obj.interviewNum ? \'\' : \'hide\' %>">\n                <%= obj.interviewNum %>\n            </span>\n\n            <!-- foreignerAllowed -->\n            <span class="foreigner-value label label-lg label-danger arrowed arrowed-right <%= obj.foreignerAllowed ? \'hide\' : \'\' %>">\n                \n            </span>\n\n            <!-- action buttons -->\n            <div class="pull-right">\n\n                <!-- bookmark button -->\n                <div class="inline orange tooltip-warning <% if (!obj.isMarked) print("btn-bookmark"); %>">\n                    <i class="ace-icon fa <% if (obj.isMarked) print("fa-star"); else print("fa-star-o"); %> bigger-110"></i>\n                </div>\n\n            </div>\n\n            <div class="clearfix"></div>\n\n            <!-- languages -->\n            <% if (obj.languages.length) { %>\n            <div class="hr hr8 hr-double"></div>\n            <% } %>\n            <div class="language"></div>\n\n            <!-- skills -->\n            <% if (obj.skills.length) { %>\n            <div class="hr hr8 hr-double"></div>\n            <% } %>\n            <div class="skill"></div>\n\n        </div>\n\n        <!-- if this job is mine -->\n        <% if (obj.isMine) { %>\n            <!-- matching result -->\n            <div class="widget-toolbox padding-8 clearfix matching">\n            </div>\n<!--             <button class="btn btn-success btn-block btn-match" data-loading-text="<i class=\'icon-spinner icon-spin white bigger-125\'></i>&nbsp;&nbsp;">\n                <i class="ace-icon fa fa-random"></i>&nbsp;\n            </button> -->\n        <% } %>\n\n    </div>\n\n</div>'}),define("common/view/job/collection/languages",["common/collection/base","common/model/language"],function(e,t){return e.extend({model:t,url:function(){return this.document.url()+"/languages"},comparator:function(e){return e.get("weight")?0-Number(e.get("weight")):0}})}),define("common/view/job/collection/skills",["common/collection/base","common/model/skill"],function(e,t){return e.extend({model:t,url:function(){return this.document.url()+"/skills"},comparator:function(e){return e.get("weight")?0-Number(e.get("weight")):0}})}),define("text!common/template/job/item/languages.html",[],function(){return'<div class="clearfix"></div>'}),define("text!common/template/job/item/language.html",[],function(){return"<%\r\n    var color = '#9585bf';\r\n\r\n    if (obj.weight > 85) {\r\n        color = '#59a84b';\r\n    } else if (obj.weight > 70) {\r\n        color = '#2a91d8';\r\n    } else if (obj.weight > 50) {\r\n        color = '#f2bb46';\r\n    } else if (obj.weight > 30) {\r\n        color = '#ca5952';\r\n    }\r\n%>\r\n<div class=\"easy-pie-chart percentage\" data-percent=\"<%= obj.weight %>\" data-color=\"<%= color %>\">\r\n    <span class=\"percent\"><%= obj.weight %></span>%\r\n</div>\r\n<div class=\"space-2\"></div>\r\n<%= obj.language %>"}),define("common/view/job/item/language",["text!common/template/job/item/language.html"],function(e){return Backbone.Marionette.ItemView.extend({template:e,className:"center",ui:{pieChart:".easy-pie-chart.percentage"},initialize:function(){this.model.collection.length===2?this.$el.addClass("grid2"):this.model.collection.length>2&&this.$el.addClass("grid3")},onShow:function(){this.ui.pieChart.each(function(){var e=$(this).data("color")||"#555",t="#E2E2E2",n=parseInt($(this).data("size"))||72;$(this).easyPieChart({barColor:e,trackColor:t,scaleColor:!1,lineCap:"butt",lineWidth:parseInt(n/10),animate:1e3,size:n}).css("color",e)})}})}),define("common/view/job/item/languages",["text!common/template/job/item/languages.html","common/view/job/item/language"],function(e,t){return Backbone.Marionette.CompositeView.extend({template:e,childViewContainer:".clearfix",childView:t,initialize:function(){},onRender:function(){},onShow:function(){}})}),define("text!common/template/job/item/skills.html",[],function(){return'<div class="profile-skills"></div>'}),define("text!common/template/job/item/skill.html",[],function(){return"<%\r\n    var progressClass = 'progress-bar-purple';\r\n\r\n    if (obj.weight > 85) {\r\n        progressClass = 'progress-bar-success';\r\n    } else if (obj.weight > 70) {\r\n        progressClass = '';\r\n    } else if (obj.weight > 50) {\r\n        progressClass = 'progress-bar-warning';\r\n    } else if (obj.weight > 30) {\r\n        progressClass = 'progress-bar-danger';\r\n    }\r\n%>\r\n<div class=\"progress-bar <%= progressClass %>\" style=\"width:<%= obj.weight %>%\">\r\n    <span class=\"pull-left\"><%= obj.skill %></span>\r\n    <span class=\"pull-right\"><%= obj.weight %>pt</span>\r\n</div>"}),define("common/view/job/item/skill",["text!common/template/job/item/skill.html"],function(e){return Backbone.Marionette.ItemView.extend({template:e,className:"progress",initialize:function(){},onShow:function(){}})}),define("common/view/job/item/skills",["text!common/template/job/item/skills.html","common/view/job/item/skill"],function(e,t){return Backbone.Marionette.CompositeView.extend({template:e,childViewContainer:".profile-skills",childView:t,initialize:function(){},onRender:function(){},onShow:function(){}})}),define("text!common/template/job/item/matches.html",[],function(){return'<div class="match-result"></div>'}),define("text!common/template/job/empty-match.html",[],function(){return'<div class="alert alert-block alert-info">\r\n    <p>\r\n        <i class="ace-icon fa fa-eye-slash bigger-150"></i>&nbsp;&nbsp;\r\n    </p>\r\n</div>'}),define("common/view/job/empty-match",["text!common/template/job/empty-match.html"],function(e){return Backbone.Marionette.ItemView.extend({template:e})}),define("text!common/template/job/item/match.html",[],function(){return'<a href="#profile/<%= obj._id %>">\r\n    <img src="<%= obj.photo %>" />\r\n</a>'}),define("common/view/job/item/match",["text!common/template/job/item/match.html","text!common/template/people/popover.html"],function(e,t){return Backbone.Marionette.ItemView.extend({template:e,className:"match-item col-xs-2",events:{"click img":"toProfile"},onRender:function(){this.$el.find("img").popover({html:!0,trigger:"hover",container:"body",placement:"auto top",title:'<img src="'+this.model.get("cover")+'" />',content:_.template(t,this.model.attributes)})},toProfile:function(e){e.preventDefault(),this.$el.find("img").popover("destroy"),window.location="#profile/"+this.model.id}})}),define("common/view/job/item/matches",["text!common/template/job/item/matches.html","common/view/job/empty-match","common/view/job/item/match"],function(e,t,n){return Backbone.Marionette.CollectionView.extend({template:e,className:"row no-margin",childViewContainer:".match-result",childView:n,emptyView:t})}),define("text!common/template/job/edit.html",[],function(){return'<div class="modal-content">\n\n    <!-- modal header -->\n    <div class="modal-header">\n\n        <div class="row">\n\n            <!-- job name -->\n            <div class="form-group col-sm-8" style="margin-bottom: 0px;">\n                <div class="input-group">\n                    <span class="input-group-addon"><i class="ace-icon fa fa-edit bigger-150"></i></span>\n                    <input type="text" placeholder="" name="name" value="<%= obj.name %>">\n                </div>\n            </div>\n\n            <!-- action buttons -->\n            <div class="col-sm-4 align-right">\n                <!-- save button -->\n                <button class="btn btn-sm btn-success btn-save"><i class="ace-icon fa fa-check"></i> </button>\n                <!-- cancel button -->\n                <button class="btn btn-sm" data-dismiss="modal"><i class="ace-icon fa fa-times"></i> </button>\n            </div>\n\n        </div>\n\n    </div>\n\n    <!-- modal body -->\n    <div class="row modal-body overflow-visible">\n\n        <div class="basic-info col-xs-12 col-md-6">\n\n            <!-- work place -->\n            <div class="form-group">\n                <div class="input-group">\n                    <span class="input-group-addon"><i class="ace-icon fa fa-map-marker bigger-110"></i></span>\n                    <input type="text" class="col-xs-12" placeholder="" name="address" value="<%= obj.address %>">\n                </div>\n            </div>\n\n            <!-- expired date time -->\n            <div class="form-group">\n                <div class="input-group input-daterange">\n                    <span class="input-group-addon sl-input-group-addon"><i class="ace-icon fa fa-calendar bigger-110"></i></span>\n                    <input type="text" class="input-medium" placeholder="" name="expiredDate" value="<%= obj.expiredDate ? moment(obj.expiredDate).format(\'L\') : \'\' %>">\n                    <span class="input-group-addon"><i class="ace-icon fa fa-clock-o bigger-110"></i></span>\n                    <div class="bootstrap-timepicker">\n                        <input type="text" class="input-medium " placeholder="" name="expiredTime" value="<%= obj.expiredTime %>">\n                    </div>\n                </div>\n            </div>\n\n            <!-- work duration -->\n            <div class="form-group">\n                <div id="duration" class="input-group input-daterange">\n                    <span class="input-group-addon sl-input-group-addon"><i class="ace-icon fa fa-flag bigger-110"></i></span>\n                    <input type="text" placeholder="" name="startDate" value="<%= obj.startDate ? moment(obj.startDate).format(\'L\') : \'\' %>">\n                    <span class="input-group-addon"><i class="ace-icon fa fa-exchange bigger-110"></i></span>\n                    <input type="text" placeholder="" name="endDate" value="<%= obj.endDate ? moment(obj.endDate).format(\'L\') : \'\' %>">\n                </div>\n            </div>\n\n            <!-- price -->\n            <div class="form-group">\n                <div class="input-group input-daterange">\n                    <span class="input-group-addon sl-input-group-addon"><i class="ace-icon fa fa-jpy bigger-110"></i></span>\n                    <input type="text" placeholder="" name="priceBottom" value="<%= obj.priceBottom %>">\n                    <span class="input-group-addon"><i class="ace-icon fa fa-exchange bigger-110"></i></span>\n                    <input type="text" placeholder="" name="priceTop" value="<%= obj.priceTop %>">\n                </div>\n            </div>\n\n            <!-- recruit number -->\n            <div class="form-group">\n                <div class="input-group">\n                    <span class="input-group-addon"><i class="ace-icon fa fa-bullhorn bigger-110"></i></span>\n                    <input type="text" class="col-xs-12" placeholder="" name="recruitNum" value="<%= obj.recruitNum %>">\n                </div>\n            </div>\n\n            <!-- interview number -->\n            <div class="form-group">\n                <div class="input-group">\n                    <span class="input-group-addon"><i class="ace-icon fa fa-microphone bigger-110"></i></span>\n                    <input type="text" class="col-xs-12" placeholder="" name="interviewNum" value="<%= obj.interviewNum %>">\n                </div>\n            </div>\n\n            <!-- foreigner allowed -->\n            <div class="checkbox">\n                <label>\n                    <input class="ace" type="checkbox" name="foreignerAllowed" <% if (obj.foreignerAllowed) print(\'checked\'); %>/>\n                    <span class="lbl"> </span>\n                </label>\n            </div>\n\n        </div>\n\n        <!-- language skill requirement -->\n        <div id="languages" class="col-xs-12 col-md-6"></div>\n\n        <!-- skill requirement -->\n        <div id="skills" class="col-xs-12 col-md-6"></div>\n\n        <div class="col-xs-12">\n\n            <!-- separator -->\n            <div class="hr hr-double dotted"></div>\n\n            <!-- job introduction -->\n            <div class="widget-box transparent">\n                <div class="widget-header">\n                    <h4 class="lighter"><i class="ace-icon fa fa-briefcase"></i>&nbsp;</h4>\n                </div>\n                <div class="widget-body">\n                    <div class="widget-main padding-6">\n                        <div class="wysiwyg-editor">\n                            <%= obj.remark %>\n                        </div>\n                    </div>\n                    <div class="clearfix"></div>\n                </div>\n            </div>\n        </div>\n\n    </div>\n\n    <!-- modal footer -->\n    <div class="modal-footer">\n        <!-- save button -->\n        <button class="btn btn-sm btn-success btn-save"><i class="ace-icon fa fa-check"></i>&nbsp;</button>\n        <!-- cancel button -->\n        <button class="btn btn-sm" data-dismiss="modal"><i class="ace-icon fa fa-times"></i>&nbsp;</button>\n    </div>\n</div>'}),define("common/view/composite-empty",[],function(){var e=Backbone.Marionette.ItemView.extend({template:'<div class="empty-view text-muted bigger-125 center clearfix"><div><br/><i class="light-green ace-icon fa fa-plus"></i></div></div>'});return e}),define("common/view/job/composite-base",["common/view/composite-empty"],function(e){return Backbone.Marionette.CompositeView.extend({emptyView:e,ui:{addBtn:".btn-add"},events:{"click .btn-add":"addItem","mouseover .widget-header":"attention"},attachHtml:function(e,t,n){t.model.isNew()&&!t.$el.find(".empty-view").length?(this.$el.find(this.childViewContainer).append(t.el),t.$el.slBounceIn(),t.ui&&t.ui.editor&&t.ui.value&&(t.ui.value.hide(),t.ui.editor.fadeIn(function(){t.$el.addClass("sl-editor-open")}))):this.$el.find(this.childViewContainer).append(t.el)},attention:function(e){$(e.target).find(".sl-icon").slSwing()},addItem:function(e){this.collection.add({}),this.collection.length>=this.itemLimit&&this.ui.addBtn.fadeOut("fast")},getInput:function(){var e=[];return this.collection.length>0&&this.children.each(function(t){e.push(t.model.attributes)}),e}})}),define("text!common/template/profile/languages.html",[],function(){return'<div class="widget-header">\n    <h4 class="widget-title"><i class="ace-icon fa fa-language sl-icon"></i>&nbsp;</h4>\n    <div class="action-buttons inline">\n        <a class="btn-add tooltip-success light-green"><i class="ace-icon fa fa-plus"></i></a>\n    </div>\n</div>\n<div class="widget-body">\n    <div class="widget-main padding-6"></div>\n    <div class="clearfix"></div>\n</div>'}),define("common/view/item-base",[],function(){return Backbone.Marionette.ItemView.extend({placeholder:'<span class="text-muted"></span>',events:{click:"openEditor"},ui:{value:".sl-value",editor:".sl-editor"},openEditor:function(){var e=this;this.ui.value.fadeOut("fast",function(){e.ui.editor.slideDown("fast"),e.$el.addClass("sl-editor-open")})},save:function(e){if(this.model){var t=this,n=this.getData(e);this.model.save(n,{success:function(e,r,i){t.renderValue(n),t.$el.find(".sl-icon").slFlip("green")},error:function(e,t,n){var r=$.parseJSON(t.responseText);$.gritter.add({title:r.title,text:r.msg,sticky:!0,class_name:"gritter-error gritter-center"})},patch:!0})}},showError:function(e){for(var t in e)this.$el.find('input[name="'+t+'"]').addClass("tooltip-error").tooltip({placement:"bottom",title:e[t]}).closest(".form-group").addClass("has-error").find("i").addClass("animated-input-error")},clearError:function(){this.$el.find("input").removeClass("tooltip-error").tooltip("destroy").closest(".form-group").removeClass("has-error").find("i").removeClass("animated-input-error")},getData:function(){},renderValue:function(e){}})}),define("text!common/template/profile/language.html",[],function(){return'<%\n    var weightVal = 0;\n    if (obj.weight && obj.weight > 0)\n        weightVal = obj.weight;\n%>\n\n<div class="knob-container inline">\n    <input type="text" class="input-small knob" value="<%= weightVal %>" data-width="110" data-height="90" data-angleOffset="-125" data-angleArc="250" data-thickness=".2" />\n</div>\n<div class="sl-value">\n    <%\n        if (obj.language) print(obj.language)\n        else print(\'<span class="text-muted"></span>\');\n    %>\n</div>\n<div class="sl-editor">\n    <div class="col-sm-12 input-group">\n        <select name="language">\n            <option value=""> -- </option>\n            <% _.each(obj.languageList, function(option) {\n                var selected = (option == obj.language) ? \'selected\' : \'\';\n                print(\'<option value="\' + option + \'" \' + selected + \'>\' + option + \'</option>\' );\n            }); %>\n        </select>\n        <span class="input-group-btn">\n            <button type="button" class="btn btn-danger btn-remove btn-xs"><i class="ace-icon fa fa-trash-o bigger-150"></i></button>\n        </span>\n    </div>\n</div>\n'}),define("common/view/job/edit/language",["common/view/item-base","text!common/template/profile/language.html"],function(e,t){var n=["","","","","","","","","","","","","","","","","","","",""];return e.extend({template:t,className:"grid3 center sl-editable",initialize:function(){this.model.set("languageList",n,{silent:!0}),this.ui=_.extend({},this.ui,{input:"select",remove:".btn-remove"}),this.events=_.extend({},this.events,{"change select":"updateModel","click .btn-remove":"removeModel"}),this.listenTo(this,"knob",this.updateModel)},onRender:function(){var e=this;this.$el.find(".knob").knob({draw:function(){$(this.i).val(this.cv+"pt"),this.cv>85?this.fgColor="#59a84b":this.cv>70?this.fgColor="#2a91d8":this.cv>50?this.fgColor="#f2bb46":this.cv>30?this.fgColor="#ca5952":this.fgColor="#9585bf";var e=this.g,t=this.angle(this.cv),n=this.startAngle,r=n+t;return e.lineWidth=10,this.o.cursor&&(n=r-this.cursorExt)&&(r+=this.cursorExt),e.beginPath(),e.strokeStyle=this.o.bgColor,e.arc(this.xy,this.xy,this.radius,this.endAngle,this.startAngle,!0),e.stroke(),e.beginPath(),e.strokeStyle=this.fgColor,e.arc(this.xy,this.xy,this.radius,n,r,!1),e.stroke(),this.i.css("color",this.fgColor),!1},release:function(t){e.weight=t,e.trigger("knob")}}),this.$el.find("select").chosen({width:"100%",disable_search_threshold:100})},updateModel:function(){this.model.set({language:this.ui.input.val(),weight:this.weight}),this.render()},removeModel:function(){var e=this;this.$el.slBounceOut("",function(){$(this).removeClass("animated bounceOut"),e.model.collection.remove(e.model)})}})}),define("common/view/job/edit/languages",["common/view/job/composite-base","common/view/job/collection/languages","text!common/template/profile/languages.html","common/view/job/edit/language"],function(e,t,n,r){return e.extend({template:n,className:"widget-box transparent",childViewContainer:".widget-main",itemName:"languages",childView:r,itemLimit:6,initialize:function(){this.collection=new t(this.model.get("languages"))},onRender:function(){this.$el.find(".btn-add").tooltip({placement:"top",title:""}),this.collection.length>=this.itemLimit&&this.ui.addBtn.hide()}})}),define("text!common/template/profile/skills.html",[],function(){return'<div class="widget-header">\n    <h4 class="widget-title"><i class="ace-icon fa fa-wrench sl-icon"></i>&nbsp;</h4>\n    <div class="action-buttons inline">\n        <a class="btn-add tooltip-success light-green"><i class="ace-icon fa fa-plus"></i></a>\n    </div>\n</div>\n<div class="widget-body">\n    <div class="widget-main padding-6 profile-skills"></div>\n    <div class="clearfix"></div>\n</div>'}),define("text!common/template/profile/skill.html",[],function(){return'<%\n    var length = obj.weight ? obj.weight : 20,\n        progressClass = \'progress-bar-purple\',\n        sliderClass = \'ui-slider-purple\',\n        indecatorClass = \'purple\',\n        humanize = \'\';\n\n\n    if (obj.weight > 85) {\n        progressClass = \'progress-bar-success\';\n        sliderClass = \'ui-slider-green\';\n        indecatorClass = \'green\';\n        humanize = \'\';\n\n    } else if (obj.weight > 70) {\n        progressClass = \'progress-bar\';\n        sliderClass = \'ui-slider\';\n        indecatorClass = \'blue\';\n        humanize = \'\';\n\n    } else if (obj.weight > 50) {\n        progressClass = \'progress-bar-warning\';\n        sliderClass = \'ui-slider-orange\';\n        indecatorClass = \'orange\';\n        humanize = \'\';\n\n    } else if (obj.weight > 30) {\n        progressClass = \'progress-bar-danger\';\n        sliderClass = \'ui-slider-red\';\n        indecatorClass = \'red\';\n        humanize = \'\';\n    }\n\n%>\n\n<div class="sl-value progress">\n    <div class="progress-bar <%= progressClass %>" style="width:<%= length %>%">\n        <span class="pull-left">\n            <%\n                if (obj.skill) print(\'<i class="ace-icon fa fa-gear sl-icon"></i>&nbsp;\' + obj.skill)\n                else print(\'<span class="light-grey"></span>\');\n            %>\n        </span>\n        <span class="pull-right">\n            <%\n                print(length + "pt")\n            %>\n        </span>\n    </div>\n</div>\n<div class="sl-editor">\n    <div class="input-icon input-icon-right form-group">\n        <input type="text" name="skill" placeholder="" value="<%- obj.skill %>">\n        <i class="ace-icon fa fa-nothing <%= indecatorClass %>"><%= length %>pt<%= humanize %></i>\n    </div>\n    <div class="form-group">\n        <div class="col-xs-12 input-group">\n            <span class="input-group-addon">\n                <div class="ui-slider <%= sliderClass %> sl-slider"></div>\n            </span>\n            <span class="input-group-btn">\n                <button type="button" class="btn btn-danger btn-remove btn-xs"><i class="ace-icon fa fa-trash-o bigger-150"></i></button>\n            </span>\n        </div>\n    </div>\n</div>'}),define("common/view/job/edit/skill",["common/view/item-base","text!common/template/profile/skill.html"],function(e,t){return e.extend({template:t,className:"sl-editable",initialize:function(){this.ui=_.extend({},this.ui,{input:"input",progress:".progress-bar",valIndicator:".fa-nothing",slider:".sl-slider",remove:".btn-remove"}),this.events=_.extend({},this.events,{"change input":"updateModel","click .btn-remove":"removeModel","typeahead:selected":"ttUpdateModel"}),this.weight=this.model.get("weight"),this.listenTo(this,"slider",this.updateModel)},onRender:function(){var e=this,t=new Bloodhound({datumTokenizer:function(e){return e.name?Bloodhound.tokenizers.whitespace(e.name):""},queryTokenizer:Bloodhound.tokenizers.whitespace,remote:"/suggest/tag?initial=%QUERY",limit:8});t.initialize(),this.ui.input.typeahead({hint:!0,highlight:!0,minLength:1},{name:"name",displayKey:function(e){return e.name},source:t.ttAdapter()}),this.$el.find(".sl-slider").empty().slider({value:this.model.get("weight"),range:"min",animate:!0,min:20,max:100,slide:function(t,n){var r="ui-slider",i="blue",s="";n.value>85?(r="ui-slider-green",i="green",s=""):n.value>70?(r="ui-slider",i="blue",s=""):n.value>50?(r="ui-slider-orange",i="orange",s=""):n.value>30?(r="ui-slider-red",i="red",s=""):(r="ui-slider-purple",i="purple",s=""),e.ui.slider.removeClass("ui-slider-green ui-slider-orange ui-slider-red ui-slider-purple").addClass(r),e.ui.valIndicator.removeClass("green orange blue red purple").addClass(i),e.ui.valIndicator.empty().text(n.value+"pt"+s)},stop:function(t,n){e.weight=n.value,e.trigger("slider");var r="progress-bar-purple";n.value>85?r="progress-bar-success":n.value>70?r="progress-bar":n.value>50?r="progress-bar-warning":n.value>30&&(r="progress-bar-danger"),e.ui.progress.removeClass("progress-bar-success progress-bar-warning progress-bar-danger progress-bar-purple").addClass(r).css("width",n.value+"%").find(".pull-right").empty().text(n.value+"pt")}})},updateModel:function(){var e={skill:this.ui.input.val(),weight:this.weight};this.model.set(e),this.$el.find(".pull-left").empty().html('<i class="ace-icon fa fa-gear sl-icon"></i>&nbsp;'+e.skill)},removeModel:function(){var e=this;this.$el.slBounceOut("",function(){$(this).removeClass("animated bounceOut"),e.model.collection.remove(e.model)})},ttUpdateModel:function(){var e=this.ui.input.typeahead("val");this.ui.input.val(e),this.ui.input.trigger("change")}})}),define("common/view/job/edit/skills",["common/view/job/composite-base","common/view/job/collection/skills","text!common/template/profile/skills.html","common/view/job/edit/skill"],function(e,t,n,r){return e.extend({template:n,className:"widget-box transparent",childViewContainer:".widget-main",itemName:"skills",childView:r,itemLimit:8,initialize:function(){this.collection=new t(this.model.get("skills"))},onRender:function(){this.$el.find(".btn-add").tooltip({placement:"top",title:""}),this.collection.length>=this.itemLimit&&this.ui.addBtn.hide()}})}),define("common/view/job/edit",["text!common/template/job/edit.html","common/view/job/edit/languages","common/view/job/edit/skills","common/model/job"],function(e,t,n,r){return Backbone.Marionette.LayoutView.extend({template:e,className:"modal-dialog job-modal",ui:{name:'input[name="name"]',address:'input[name="address"]',expiredDate:'input[name="expiredDate"]',expiredTime:'input[name="expiredTime"]',startDate:'input[name="startDate"]',endDate:'input[name="endDate"]',priceBottom:'input[name="priceBottom"]',priceTop:'input[name="priceTop"]',recruitNum:'input[name="recruitNum"]',interviewNum:'input[name="interviewNum"]',foreignerAllowed:'input[name="foreignerAllowed"]',remark:".wysiwyg-editor"},regions:{languageRegion:"#languages",skillRegion:"#skills"},events:{"click .btn-save":"onSave"},initialize:function(){this.model||(this.model=new r),this.languageComposite=new t({model:this.model}),this.skillComposite=new n({model:this.model})},onRender:function(){this.languageRegion.show(this.languageComposite),this.skillRegion.show(this.skillComposite),this.ui.expiredDate.datepicker({autoclose:!0,forceParse:!1,startDate:new Date,todayHighlight:!0,language:"ja"}),this.ui.expiredTime.timepicker({minuteStep:5,showMeridian:!1,defaultTime:!1}),this.$el.find("#duration").datepicker({autoclose:!0,forceParse:!1,startDate:new Date,todayHighlight:!0,language:"ja"}),this.ui.expiredTime.mask("99:99"),this.ui.priceBottom.mask("9?99"),this.ui.priceTop.mask("9?99"),this.ui.recruitNum.mask("9?9"),this.ui.interviewNum.mask("9?9"),this.ui.remark.ace_wysiwyg().prev().addClass("wysiwyg-style3"),Backbone.Validation.bind(this)},onSave:function(){this.inputValid()&&(this.model.isNew()?this.trigger("createNewJob",this.getInputData()):this.model.save(this.getInputData(),{success:function(e,t,n){selink.modalArea.$el.modal("hide")},patch:!0,wait:!0}))},inputValid:function(){this.$el.find("input").removeClass("tooltip-error").tooltip("destroy").closest(".form-group").removeClass("has-error").find("i").removeClass("animated-input-error");var e=this.getInputData(),t,n,r,i=this.model.preValidate(e)||{};e.startDate&&e.endDate&&(t=new Date(e.startDate),n=new Date(e.endDate),moment(t).isAfter(n)&&(i.endDate="")),e.endDate&&e.expiredDate&&(r=new Date(e.expiredDate),n=new Date(e.endDate),moment(r).isAfter(n)&&(i.expiredDate="")),e.expiredDate&&moment(e.expiredDate).isBefore(moment())&&(i.expiredDate=""),e.priceBottom&&e.priceTop&&e.priceBottom>=e.priceTop&&(i.priceTop="");if(!_.isEmpty(i)){for(var s in i)this.$el.find('input[name="'+s+'"]').addClass("tooltip-error").tooltip({placement:"bottom",title:i[s]}).closest(".form-group").addClass("has-error").find("i").addClass("animated-input-error");return!1}return!0},getInputData:function(){var e=new Date(this.ui.expiredDate.val()),t=this.ui.expiredTime.val()?this.ui.expiredTime.val().split(":"):["0","0"];e.setHours(Number(t[0])),e.setMinutes(Number(t[1]));var n=this.ui.foreignerAllowed.is(":checked"),r=_.filter(this.languageRegion.currentView.getInput(),function(e){return e.language&&e.weight}),i=_.filter(this.skillRegion.currentView.getInput(),function(e){return e.skill&&e.weight});return{name:this.ui.name.val(),address:this.ui.address.val(),expiredDate:e,startDate:this.ui.startDate.val(),endDate:this.ui.endDate.val(),priceBottom:this.ui.priceBottom.val().replace("_",""),priceTop:this.ui.priceTop.val().replace("_",""),recruitNum:this.ui.recruitNum.val().replace("_",""),interviewNum:this.ui.interviewNum.val().replace("_",""),foreignerAllowed:n,remark:this.ui.remark.cleanHtml(),languages:r,skills:i}}})}),define("common/view/job/item",["text!common/template/job/item.html","text!common/template/people/popover.html","common/collection/base","common/view/job/collection/languages","common/view/job/collection/skills","common/view/job/item/languages","common/view/job/item/skills","common/view/job/item/matches","common/view/job/edit"],function(e,t,n,r,i,s,o,u,a){return Backbone.Marionette.LayoutView.extend({template:e,className:"isotope-item col-xs-12 col-sm-6 col-lg-4",ui:{avatar:".avatar",menuToggler:".widget-header .widget-toolbar",editBtn:".btn-edit",removeBtn:".btn-remove",alert:".alert",cancelBtn:".btn-remove-cancel",confirmBtn:".btn-remove-confirm",bookmarkBtn:".btn-bookmark"},events:{mouseover:"toggleMenuIndicator",mouseout:"toggleMenuIndicator","click @ui.avatar":"toProfile","click @ui.editBtn":"editJob","click @ui.removeBtn":"showAlert","click @ui.cancelBtn":"hideAlert","click @ui.confirmBtn":"onRemove","click @ui.bookmarkBtn":"onBookmark","click .btn-match":"onMatch"},modelEvents:{change:"onMatch","change:name":"renderName","change:expiredDate":"renderExpired","change:startDate":"renderDuration","change:endDate":"renderDuration","change:priceTop":"renderPrice","change:priceBottom":"renderPrice","change:address":"renderAddress","change:remark":"renderRemark","change:foreignerAllowed":"renderForeigner","change:recruitNum":"renderRecruit","change:interviewNum":"renderInterview","change:languages":"renderLanguages","change:skills":"renderSkills","change:bookmarked":"renderBookmark"},regions:{languageArea:".language",skillArea:".skill",matchingArea:".matching"},initialize:function(){this.languagesView=new s({collection:new r(this.model.get("languages"))}),this.skillsView=new o({collection:new i(this.model.get("skills"))})},onRender:function(){this.ui.avatar.popover({html:!0,trigger:"hover",container:"body",placement:"auto right",title:'<img src="'+this.model.get("_owner").cover+'" />',content:_.template(t,this.model.get("_owner"))}),this.ui.bookmarkBtn.tooltip({placement:"top",title:""})},onShow:function(){this.languageArea.show(this.languagesView),this.skillArea.show(this.skillsView),this.model.get("isMine")&&this.onMatch()},toggleMenuIndicator:function(){this.ui.menuToggler.toggleClass("hidden")},toProfile:function(e){e.preventDefault(),this.ui.avatar.popover("destroy"),window.location="#profile/"+this.model.get("_owner")._id},editJob:function(e){e.preventDefault();var t=new a({model:this.model});selink.modalArea.show(t),selink.modalArea.$el.modal("show")},showAlert:function(e){e.preventDefault();var t=this;this.ui.alert.slideDown("fast",function(){t.trigger("ensureLayout")}).find("i").addClass("icon-animated-vertical")},hideAlert:function(){var e=this;this.ui.alert.slideUp("fast",function(){e.trigger("ensureLayout")})},onRemove:function(){this.trigger("remove")},onBookmark:function(){this.model.save({bookmarked:selink.user.get("_id")},{url:"/jobs/"+this.model.get("_id")+"/bookmark",reIsotope:!1,patch:!0,wait:!0})},onMatch:function(){var e=this;$.ajax({type:"GET",url:"/jobs/"+this.model.get("_id")+"/match",dataType:"json",success:function(t){t=_.sortBy(t,function(e){return-e.score}),e.matchesView=new u({collection:new n(t)}),e.matchingArea.show(e.matchesView),e.trigger("ensureLayout")}})},renderBookmark:function(){this.ui.bookmarkBtn.find("i").removeClass("fa-star-o").addClass("fa-star").slFlip(),this.ui.bookmarkBtn.removeClass("btn-bookmark")},renderName:function(e,t,n){this.$el.find(".name-value").empty().text(t)},renderExpired:function(e,t,n){this.$el.find(".expired-value").empty().text(moment(t).calendar()),moment(t).isBefore(moment())?this.$el.find(".widget-header").addClass("header-color-grey"):this.$el.find(".widget-header").removeClass("header-color-grey")},renderDuration:function(e,t,n){var r=this.$el.find(".duration-value"),i=e.get("startDate"),s=e.get("endDate");i&&s?t=moment(i).format("L")+""+moment(s).format("L"):i&&!s?t=moment(i).format("L")+"":!i&&s?t=""+moment(s).format("L"):t="",_.str.isBlank(t)?r.empty().parent().addClass("hide"):r.empty().text(t).parent().removeClass("hide")},renderPrice:function(e,t,n){var r=this.$el.find(".price-value"),i=e.get("priceBottom"),s=e.get("priceTop");i&&s?t=i+""+s+"":i&&!s?t=i+"":!i&&s?t=""+s+"":t="",_.str.isBlank(t)?r.empty().parent().addClass("hide"):r.empty().text(t).parent().removeClass("hide")},renderAddress:function(e,t,n){var r=this.$el.find(".address-value");_.str.isBlank(t)?r.empty().parent().addClass("hide"):r.empty().text(t).parent().removeClass("hide")},renderRemark:function(e,t,n){this.$el.find(".remark-value").empty().html(t)},renderForeigner:function(e,t,n){var r=this.$el.find(".foreigner-value");e.get("foreignerAllowed")?r.addClass("hide"):r.removeClass("hide")},renderRecruit:function(e,t,n){var r=this.$el.find(".recruit-value");_.str.isBlank(t)||t==0?r.empty().addClass("hide"):r.empty().text(""+t+"").removeClass("hide")},renderInterview:function(e,t,n){var r=this.$el.find(".interview-value");_.str.isBlank(t)||t==0?r.empty().addClass("hide"):r.empty().text(""+t+"").removeClass("hide")},renderLanguages:function(e,t,n){this.languagesView=new s({collection:new r(this.model.get("languages"))}),this.languageArea.show(this.languagesView)},renderSkills:function(e,t,n){this.skillsView=new o({collection:new i(this.model.get("skills"))}),this.skillArea.show(this.skillsView)}})}),define("text!common/template/group/item.html",[],function(){return'<%\r\n    var isMine = (obj._owner == selink.user.id) ? true : false,\r\n        isJoined = (_.indexOf(selink.user.get(\'groups\'), obj._id) >= 0) ? true : false,\r\n        isApplied = (_.indexOf(selink.user.get(\'applying\'), obj._id) >= 0) ? true : false,\r\n        needApply = (obj.type == \'protected\') ? true : false,\r\n        description = obj.description ? _.str.truncate(description, 100, \'...\') : "";\r\n%>\r\n\r\n<!-- group item -->\r\n<div style="border: 1px solid #CCC; margin-top: 3px; margin-bottom: 3px;" data-create-date="<%= moment(obj.createDate).valueOf() %>">\r\n\r\n    <!-- header -->\r\n    <div style="position: relative;">\r\n        <!-- cover -->\r\n        <a href="#group/<%= obj._id %>">\r\n            <img src="<%= obj.cover %>" style="width: 100%; overflow: hidden;"/>\r\n        </a>\r\n\r\n        <div style="position: absolute; top: 0px; left: 0px;">\r\n            <% if (obj.type == \'protected\') { %>\r\n                <span class="label label-xlg label-success arrowed-right"></span>\r\n            <% } %>\r\n            <% if (obj.type == \'private\') { %>\r\n                <span class="label label-xlg label-danger arrowed-in-right"></span>\r\n            <% } %>\r\n        </div>\r\n    </div>\r\n\r\n    <!-- body -->\r\n    <blockquote style="margin-bottom: 0px;">\r\n\r\n        <!-- group name -->\r\n        <p><%= obj.name %></p>\r\n\r\n        <!-- description -->\r\n        <% if (obj.description) { %>\r\n            <small><%= description %></small>\r\n        <% } %>\r\n\r\n    </blockquote>\r\n\r\n    <div class="space-4"></div>\r\n\r\n    <div class="pull-right action-buttons" style="padding: 0px 12px;">\r\n\r\n        <!-- events number -->\r\n        <a class="orange tooltip-warning">\r\n            <i class="ace-icon fa fa-tasks"></i>\r\n            <%= obj.events.length %>\r\n        </a>\r\n\r\n        <!-- posts number -->\r\n        <a class="blue tooltip-info">\r\n            <i class="ace-icon fa fa-edit"></i>\r\n            <%= obj.posts.length %>\r\n        </a>\r\n\r\n        <!-- participants number -->\r\n        <a class="green tooltip-success">\r\n            <i class="ace-icon fa fa-group"></i>\r\n            <%= obj.participants.length %>\r\n        </a>\r\n\r\n    </div>\r\n\r\n    <div class="clearfix"></div>\r\n\r\n    <!-- footer -->\r\n    <div class="clearfix group-info" style="padding: 12px;">\r\n        <% if (!isMine && !isJoined && !needApply) { %>\r\n\r\n            <!-- join button -->\r\n            <button class="btn btn-success btn-block btn-join"\r\n                    data-loading-text="<i class=\'ace-icon fa fa-spinner fa-spin white bigger-125\'></i>&nbsp;&nbsp;">\r\n                <i class="ace-icon fa fa-plus"></i>&nbsp;\r\n            </button>\r\n\r\n        <% } else if (!isMine && !isJoined && needApply && !isApplied) { %>\r\n\r\n            <!-- apply button -->\r\n            <button class="btn btn-info btn-block btn-apply"\r\n                    data-loading-text="<i class=\'ace-icon fa fa-spinner fa-spin white bigger-125\'></i>&nbsp;&nbsp;">\r\n                <i class="ace-icon fa fa-envelope"></i>&nbsp;\r\n            </button>\r\n\r\n        <% } else if (!isMine && !isJoined && needApply && isApplied) { %>\r\n\r\n            <span class="text-success"><i class="ace-icon fa fa-check"></i>&nbsp;</span>\r\n\r\n        <% } %>\r\n    </div>\r\n\r\n</div>'}),define("common/view/group/item",["text!common/template/group/item.html"],function(e){return Backbone.Marionette.ItemView.extend({template:e,className:"isotope-item col-xs-12 col-md-6 col-lg-4",events:{"click .btn-join":"onJoin","click .btn-apply":"onApply"},onRender:function(){this.$el.find(".tooltip-success").tooltip({placement:"top",title:this.model.get("participants").length+""}),this.$el.find(".tooltip-warning").tooltip({placement:"top",title:""+this.model.get("events").length+""}),this.$el.find(".tooltip-info").tooltip({placement:"top",title:""+this.model.get("posts").length+""})},onJoin:function(){var e=this;this.$el.find(".btn-join").button("loading"),this.model.save(null,{url:"groups/"+this.model.id+"/join",success:function(t,n,r){var i=$('<span class="text-success"><i class="ace-icon fa fa-check"></i>&nbsp;</span>');e.$el.find(".btn-join").fadeOut(function(){e.$el.find(".group-info").prepend(i),e.trigger("ensureLayout")}),selink.user.get("groups").push(e.model.id)},patch:!0,wait:!0})},onApply:function(){var e=this;this.$el.find(".btn-apply").button("loading"),this.model.save(null,{url:"groups/"+this.model.id+"/apply",success:function(t,n,r){var i=$('<span class="text-success"><i class="ace-icon fa fa-check"></i>&nbsp;</span>');e.$el.find(".btn-apply").fadeOut(function(){e.$el.find(".group-info").prepend(i),e.trigger("ensureLayout")}),selink.user.get("applying").push(e.model.id)},patch:!0,wait:!0})}})}),define("engineer/view/home/main",["text!employer/template/home/main.html","common/view/composite-isotope","common/collection/base","common/model/base","common/model/job","common/model/post","common/model/group","common/view/post/item","common/view/announcement/item","common/view/job/item","common/view/group/item"],function(e,t,n,r,i,s,o,u,a,f,l){var c=n.extend({url:"/newsfeed",model:function(e,t){return _.has(e,"cover")?new o(e,t):_.has(e,"name")?new i(e,t):_.has(e,"title")?new r(e,t):new s(e,t)},comparator:function(e){var t=moment(e.get("createDate"));return 0-Number(t.valueOf())}});return t.extend({template:e,getChildView:function(e){return e.has("cover")?l:e.has("name")?f:e.has("title")?a:u},events:{"click .btn-load":"loadNewPosts"},initialize:function(){var e=this;this.collection=new c,this.realtimePost=new n,selink.socket.on("post-new",function(t){t.targetPost._owner=t._from,t.targetPost.group=t.targetGroup,e.realtimePost.add(t.targetPost),e.$el.find(".indicator-num").empty().text(e.realtimePost.length),e.$el.find(".news-indicator").slideDown()})},onShow:function(){var e=this;this.$el.find(this.childViewContainer).infinitescroll({navSelector:"#page_nav",nextSelector:"#page_nav a",dataType:"json",appendCallback:!1,loading:{msgText:"<em></em>",finishedMsg:""},path:function(){return"/newsfeed?before="+moment(e.collection.last().get("createDate")).unix()}},function(t,n){t.length>0&&e.collection.add(t,{parse:!0})}),t.prototype.onShow.apply(this)},loadNewPosts:function(){var e=this;$("html, body").animate({scrollTop:0},1e3),this.$el.find(".news-indicator").slideUp(function(){e.collection.add(e.realtimePost.models),e.realtimePost.reset()})}})}),define("text!common/template/search/main.html",[],function(){return'<div class="isotope"></div>\r\n\r\n<nav id="page_nav">\r\n  <a href="/search?term=<%= obj.term %>&page=1"></a>\r\n</nav>'}),define("text!common/template/search/empty.html",[],function(){return'<div class="alert alert-block alert-info">\r\n    <p>\r\n        <i class="blue ace-icon fa fa-search bigger-150 animated wobble"></i>&nbsp;&nbsp;&nbsp;\r\n        <strong></strong>\r\n    </p>\r\n</div>'}),define("common/view/search/empty",["text!common/template/search/empty.html"],function(e){return Backbone.Marionette.ItemView.extend({template:e})}),define("text!common/template/people/item.html",[],function(){return'<%\n    var isFriend = (_.indexOf(selink.user.get(\'friends\'), obj._id) >= 0) ? true : false,\n        isInvited = (_.indexOf(selink.user.get(\'invited\'), obj._id) >= 0) ? true : false,\n        bioSummary = obj.bio ? _.str.truncate(bio, 100, \'...\') : "";\n%>\n\n<!-- people item -->\n<div style="border: 1px solid #CCC; margin-top: 3px; margin-bottom: 3px;" data-create-date="<%= moment(obj.createDate).valueOf() %>">\n\n    <!-- header -->\n    <div style="position: relative;">\n\n        <!-- cover -->\n        <div style="max-height: 100px; overflow: hidden;">\n            <a href="#profile/<%= obj._id %>" style="">\n                <img src="<%= obj.cover %>" style="width: 100%;"/>\n            </a>\n        </div>\n\n        <!-- avatar -->\n        <a href="#profile/<%= obj._id %>" style="position: absolute; top: 20%; right: 5px;">\n            <img class="avatar" src="<%= obj.photo %>" style="border-radius: 100%; border: 2px solid white;">\n        </a>\n\n        <!-- title -->\n        <span class="label label-xlg label-primary arrowed-in-right" style="position: absolute; top: 0px;"><%= obj.title %></span>\n\n    </div>\n\n    <!-- body -->\n    <blockquote style="margin-bottom: 0px;">\n\n        <!-- name -->\n        <p>\n            <%= obj.firstName %>\n            <%= obj.lastName %>\n        </p>\n\n        <!-- bio -->\n        <% if (obj.bio) { %>\n            <small><%= bioSummary %></small>\n        <% } %>\n\n        <!-- final employment -->\n        <% if (obj.employments.length) { %>\n            <h5 class="blue">\n                <i class="ace-icon fa fa-briefcase"></i>\n                <%= _.last(obj.employments).company %>\n            </h5>\n        <% } %>\n\n        <!-- final education -->\n        <% if (obj.educations.length) { %>\n            <h5 class="green">\n                <i class="ace-icon fa fa-university"></i>\n                <%= _.last(obj.educations).school %>\n            </h5>\n        <% } %>\n\n    </blockquote>\n\n    <% if (!isFriend && !isInvited) { %>\n        <!-- footer -->\n        <div class="clearfix" style="padding: 12px;">\n\n            <!-- operation buttons -->\n            <button class="btn btn-info btn-block btn-friend"\n                    data-loading-text="<i class=\'ace-icon fa fa-spinner fa-spin white bigger-125\'></i>&nbsp;&nbsp;">\n                <i class="ace-icon fa fa-plus light-blue"></i>\n                \n            </button>\n\n        </div>\n    <% } %>\n\n</div>'}),define("common/view/people/item",["text!common/template/people/item.html"],function(e){return Backbone.Marionette.ItemView.extend({template:e,className:"isotope-item col-xs-12 col-sm-6 col-lg-4",events:{"click .btn-friend":"onAddFriend"},onAddFriend:function(){var e=this;this.$el.find(".btn-friend").button("loading"),selink.user.save({id:this.model.get("_id")},{url:"/connections/invite",success:function(){e.$el.find(".btn-friend").removeClass("btn-info btn-friend").addClass("btn-success").empty().html('<i class="ace-icon fa fa-check light-green"></i>&nbsp;')},patch:!0,wait:!0})}})}),define("common/view/search/main",["text!common/template/search/main.html","common/view/composite-isotope","common/model/job","common/model/user","common/model/post","common/model/group","common/view/search/empty","common/view/post/item","common/view/people/item","common/view/job/item","common/view/group/item"],function(e,t,n,r,i,s,o,u,a,f,l){var c=Backbone.Collection.extend({initialize:function(e,t){t&&t.term&&(this.term=t.term)},url:function(){return"/search?term="+this.term},model:function(e,t){var o;return e.type==="Job"?o=new n({_id:e.id}):e.type==="User"?o=new r({_id:e.id}):e.type==="Post"?o=new i({_id:e.id}):e.type==="Group"&&(o=new s({_id:e.id})),o},comparator:function(e){var t=moment(e.get("createDate"));return 0-Number(t.valueOf())}});return t.extend({template:e,emptyView:o,getChildView:function(e){return e.has("description")?l:e.has("name")?f:e.has("firstName")?a:u},initialize:function(){this.searchCollection=new c(null,{term:this.model.get("term")}),this.collection=new Backbone.Collection},onShow:function(){var e=this;this.$el.find(this.childViewContainer).isotope({itemSelector:".isotope-item",stamp:".stamp",masonry:{columnWidth:".isotope-item"}}),this.$el.find(this.childViewContainer).infinitescroll({navSelector:this.navSelector||"#page_nav",nextSelector:this.nextSelector||"#page_nav a",dataType:"json",appendCallback:!1,loading:{msgText:"<em></em>",finishedMsg:"No more pages to load.",img:"http://i.imgur.com/qkKy8.gif",speed:"slow"},state:{currPage:0},pathParse:function(e){if(e.match(/^(.*?page=)1(\/.*|$)/))return e=e.match(/^(.*?page=)1(\/.*|$)/).slice(1),e}},function(t,n){t.length===0?(e.$el.find(e.childViewContainer).infinitescroll("destroy"),e.$el.find(e.childViewContainer).data("infinitescroll",null)):(e.searchCollection.reset(t),e.searchCollection.each(function(t){t.fetch({success:function(t,n,r){e.collection.add(t)}})}))}),this.searchCollection.fetch({success:function(t,n,r){t.each(function(t){t.fetch({success:function(t,n,r){e.collection.add(t)}})})}})},onSync:function(e,t,n){var r=this;this.$el.find(this.childViewContainer).imagesLoaded(function(){r.$el.find(r.childViewContainer).isotope("layout")})}})}),define("text!common/template/profile/main.html",[],function(){return'<div id="sl-basic-info" class="row">\r\n    <div class="col-xs-12 col-md-6 no-padding" style="border: 1px solid #CCC;">\r\n\r\n        <div id="cover"></div>\r\n\r\n        <div class="col-xs-4 center" style="margin-top: -60px;">\r\n\r\n            <div id="photo"></div>\r\n\r\n            <div class="space-12"></div>\r\n\r\n            <div class="infobox infobox-blue infobox-small infobox-dark">\r\n                <div class="infobox-icon">\r\n                    <i class="ace-icon fa fa-edit"></i>\r\n                </div>\r\n                <div class="infobox-data">\r\n                    <div class="infobox-content"><%= selink.user.get(\'posts\').length %></div>\r\n                    <div class="infobox-content"></div>\r\n                </div>\r\n            </div>\r\n\r\n            <div class="infobox infobox-green infobox-small infobox-dark">\r\n                <div class="infobox-icon">\r\n                    <i class="ace-icon fa fa-group"></i>\r\n                </div>\r\n                <div class="infobox-data">\r\n                    <div class="infobox-content"><%= selink.user.get(\'friends\').length %></div>\r\n                    <div class="infobox-content"></div>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n\r\n        <div class="col-xs-8" style="margin-top: 10px;">\r\n            <div id="name" class="sl-editable"></div>\r\n            <div id="telno" class="sl-editable"></div>\r\n            <div id="website" class="sl-editable"></div>\r\n            <div id="address" class="sl-editable"></div>\r\n            <div id="nearestst" class="sl-editable"></div>\r\n            <div id="nationality" class="sl-editable"></div>\r\n            <div id="birthday" class="sl-editable"></div>\r\n            <div id="gender" class="sl-editable"></div>\r\n            <div id="marriage" class="sl-editable"></div>\r\n        </div>\r\n\r\n        <div id="bio" class="col-xs-12 padding-6"></div>\r\n\r\n    </div>\r\n    <div class="col-xs-12 col-md-6">\r\n        <div id="languages"></div>\r\n        <div id="skills"></div>\r\n        <div id="qualifications"></div>\r\n        <div id="educations"></div>\r\n        <div id="employments"></div>\r\n    </div>\r\n</div>'}),define("text!common/template/profile/cover.html",[],function(){return'<img src="<%= obj.cover %>">\r\n<span class="fileinput-button hide">\r\n    <button class="btn btn-info"><i class="ace-icon fa fa-upload"></i>&nbsp;</button>\r\n    <input id="fileupload" type="file" name="cover" data-url="/users/<%= obj._id %>/cover">\r\n</span>'}),define("text!common/template/profile/cover-crop.html",[],function(){return'<div class="modal-content">\r\n    <div class="modal-header">\r\n        <button type="button" class="close" data-dismiss="modal">&times;</button>\r\n        <h4 class="blue">\r\n            <i class="ace-icon fa fa-photo bigger-110"></i>&nbsp;&nbsp;\r\n            <strong></strong>\r\n        </h4>\r\n    </div>\r\n\r\n    <div class="modal-body overflow-visible align-center">\r\n        <img src="<%= obj.coverOriginal %>">\r\n    </div>\r\n\r\n    <div class="modal-footer">\r\n        <button class="btn btn-sm btn-success btn-save"><i class="ace-icon fa fa-check"></i> </button>\r\n        <button class="btn btn-sm" data-dismiss="modal"><i class="ace-icon fa fa-times"></i> </button>\r\n    </div>\r\n</div>'}),define("common/view/profile/cover-crop",["text!common/template/profile/cover-crop.html"],function(e){return Backbone.Marionette.ItemView.extend({template:e,className:"modal-dialog crop-modal",events:{"click .btn-save":"onSave"},onShow:function(){var e=this;this.$el.find("img").Jcrop({aspectRatio:4,minSize:[600,150],setSelect:[0,0,600,150],boxWidth:800,onSelect:function(t){e.select=t}})},onSave:function(){var e=this;$.ajax({url:"/users/"+this.model.get("_id")+"/cover-scale",data:this.select,type:"PUT",dataType:"json",timeout:3e3,success:function(t){e.model.set("cover",t.cover),selink.modalArea.$el.modal("hide")}})}})}),define("common/view/profile/cover",["text!common/template/profile/cover.html","common/view/profile/cover-crop"],function(e,t){return Backbone.Marionette.ItemView.extend({template:e,ui:{cover:"img",inputFile:'input[type="file"]'},events:{mouseover:"showUploadBtn",mouseout:"hideUploadBtn"},modelEvents:{"change:cover":"updateCover"},onRender:function(){var e=this;this.ui.inputFile.fileupload({type:"PUT",dataType:"json",done:function(n,r){e.model.set("coverOriginal",r.result.fileName);var i=new t({model:e.model});selink.modalArea.show(i),selink.modalArea.$el.modal("show")},error:function(){$.gritter.add({title:"",text:"jpggifpng",class_name:"gritter-error"})}})},updateCover:function(){var e=this;this.ui.cover.slFadeOutUp("",function(){$(this).attr("src",e.model.get("cover")),$(this).removeClass("fadeOutUp").addClass("fadeInDown")})},showUploadBtn:function(){this.$el.find(".fileinput-button").removeClass("hide")},hideUploadBtn:function(){this.$el.find(".fileinput-button").addClass("hide")}})}),define("text!common/template/profile/photo.html",[],function(){return'<%\r\n    var dispPhoto = obj.photo ? obj.photo : \'./asset/images/no_photo_male.jpg\';\r\n\r\n    var progressClass = \'progress-bar\';\r\n\r\n    if (obj.completeness == 100) {\r\n        progressClass += \' progress-bar-success\';\r\n    } else if (obj.completeness > 85) {\r\n\r\n    } else if (obj.completeness > 70) {\r\n        progressClass += \' progress-bar-warning\';\r\n    } else if (obj.completeness > 50) {\r\n        progressClass += \' progress-bar-pink\';\r\n    } else if (obj.completeness > 30) {\r\n        progressClass += \' progress-bar-purple\';\r\n    } else {\r\n        progressClass += \' progress-bar-danger\';\r\n    }\r\n%>\r\n<span class="fileinput-button profile-picture ace-thumbnails">\r\n	<li class="sl-avatar">\r\n		<div>\r\n		    <img id="avatar" class="img-responsive" src="<%= dispPhoto %>">\r\n		    <div class="text">\r\n                <div class="inner">\r\n                    <i class="ace-icon fa fa-camera-retro fa-2x"></i>\r\n                    <br/>\r\n                    \r\n                </div>\r\n            </div>\r\n		    <input id="fileupload" type="file" name="photo" data-url="/users/<%= obj._id %>/photo">\r\n		</div>\r\n        <div class="progress" data-percent="<%= obj.completeness %>%">\r\n            <div class="<%= progressClass %>" style="width: <%= obj.completeness %>%;"></div>\r\n        </div>\r\n    </li>\r\n</span>'}),define("text!common/template/profile/photo-crop.html",[],function(){return'<div class="modal-content">\n    <div class="modal-header">\n        <button type="button" class="close" data-dismiss="modal">&times;</button>\n        <h4 class="blue">\n            <i class="ace-icon fa fa-camera-retro bigger-110"></i>&nbsp;&nbsp;\n            <strong></strong>\n        </h4>\n    </div>\n\n    <div class="modal-body overflow-visible align-center">\n\n        <img src="<%= obj.photoOriginal %>">\n\n    </div>\n\n    <div class="modal-footer">\n        <button class="btn btn-sm btn-success btn-save"><i class="ace-icon fa fa-check"></i> </button>\n        <button class="btn btn-sm" data-dismiss="modal"><i class="ace-icon fa fa-times"></i> </button>\n    </div>\n</div>'}),define("common/view/profile/photo-crop",["text!common/template/profile/photo-crop.html"],function(e){return Backbone.Marionette.ItemView.extend({template:e,className:"modal-dialog crop-modal",events:{"click .btn-save":"onSave"},onShow:function(){var e=this;this.$el.find("img").Jcrop({aspectRatio:1,minSize:[120,120],setSelect:[100,100,50,50],boxWidth:800,onSelect:function(t){e.select=t}})},onSave:function(){var e=this;$.ajax({url:"/users/"+this.model.get("_id")+"/photo-scale",data:this.select,type:"PUT",dataType:"json",timeout:3e3,success:function(t){e.model.set("photo",t.photo),selink.modalArea.$el.modal("hide")}})}})}),define("common/view/profile/photo",["common/view/item-base","text!common/template/profile/photo.html","common/view/profile/photo-crop"],function(e,t,n){return e.extend({template:t,modelEvents:{"change:photo":"updatePhoto",change:"updateCompleteness"},initialize:function(){this.ui=_.extend({},this.ui,{photo:"img",inputFile:'input[type="file"]',progress:".progress",bar:".progress-bar"}),this.model.set({completeness:this.model.completeness()},{silent:!0}),this.listenTo(this.model.qualifications,"change",this.updateCompleteness),this.listenTo(this.model.qualifications,"remove",this.updateCompleteness),this.listenTo(this.model.languages,"change",this.updateCompleteness),this.listenTo(this.model.languages,"remove",this.updateCompleteness),this.listenTo(this.model.skills,"change",this.updateCompleteness),this.listenTo(this.model.skills,"remove",this.updateCompleteness),this.listenTo(this.model.educations,"change",this.updateCompleteness),this.listenTo(this.model.educations,"remove",this.updateCompleteness),this.listenTo(this.model.employments,"change",this.updateCompleteness),this.listenTo(this.model.employments,"remove",this.updateCompleteness)},onRender:function(){var e=this;this.ui.photo.colorbox(),this.ui.inputFile.fileupload({type:"PUT",dataType:"json",done:function(t,r){e.model.set("photoOriginal",r.result.fileName);var i=new n({model:e.model});selink.modalArea.show(i),selink.modalArea.$el.modal("show")},error:function(){$.gritter.add({title:"",text:"jpggifpng",class_name:"gritter-error"})}})},onShow:function(){this.$el.addClass("animated fadeInLeft")},updatePhoto:function(){var e=this;this.ui.photo.slRollOut("",function(){$(this).attr("src",e.model.get("photo")),$(this).removeClass("rollOut").addClass("rollIn")})},updateCompleteness:function(){var e=this.model.completeness(),t="progress-bar";e==100?t+=" progress-bar-success":e>85||(e>70?t+=" progress-bar-warning":e>50?t+=" progress-bar-pink":e>30?t+=" progress-bar-purple":t+=" progress-bar-danger"),this.ui.progress.attr("data-percent",e+"%"),this.ui.bar.removeClass().addClass(t),this.ui.bar.css("width",e+"%")}})}),define("text!common/template/profile/name.html",[],function(){return'<div class="sl-value bigger-180">\r\n    <%\r\n        if (obj.firstName || obj.lastName)\r\n            print(obj.firstName + " " + obj.lastName);\r\n        else\r\n            print(\'<span class="text-muted"></span>\');\r\n    %>\r\n</div>\r\n<div class="sl-editor row">\r\n    <div class="col-xs-6 col-md-6 form-group">\r\n        <input type="text" class="col-xs-12 text-center" placeholder="" name="firstName" value="<%- obj.firstName %>">\r\n    </div>\r\n    <div class="col-xs-6 col-md-6 form-group">\r\n        <input type="text" class="col-xs-12 text-center" placeholder="" name="lastName" value="<%- obj.lastName %>">\r\n    </div>\r\n</div>'}),define("common/view/profile/name",["common/view/item-base","text!common/template/profile/name.html"],function(e,t){return e.extend({template:t,placeholder:"",initialize:function(){this.ui=_.extend({},this.ui,{firstName:'input[name="firstName"]',lastName:'input[name="lastName"]'}),this.events=_.extend({},this.events,{'change input[name="firstName"]':"updateModel",'change input[name="lastName"]':"updateModel"}),this.modelEvents={"change:firstName":"save","change:lastName":"save"}},onRender:function(){Backbone.Validation.bind(this)},updateModel:function(){this.clearError();var e=this.model.preValidate(this.getData());e?this.showError(e):this.model.set(this.getData())},getData:function(){return{firstName:this.ui.firstName.val(),lastName:this.ui.lastName.val()}},renderValue:function(e){if(!e.firstName&&!e.lastName){this.ui.value.html(this.placeholder);return}this.ui.value.text(e.firstName+" "+e.lastName)}})}),define("text!common/template/profile/birthday.html",[],function(){return'<div class="col-xs-1 align-right">\r\n    <i class="ace-icon fa fa-calendar sl-icon"></i>\r\n</div>\r\n<div class="col-xs-11">\r\n    <div class="sl-value">\r\n        <%\r\n            if (obj.birthDayDisplay)\r\n                print(obj.birthDayDisplay);\r\n            else\r\n                print(\'<span class="text-muted"></span>\');\r\n        %>\r\n    </div>\r\n    <div class="sl-editor">\r\n        <input type="text" id="birthday-item" class="input-medium" placeholder="yyyy/mm/dd" name="birthDay" value="<%= obj.birthDayInput %>">\r\n    </div>\r\n</div>'}),define("common/view/profile/birthday",["common/view/item-base","text!common/template/profile/birthday.html"],function(e,t){return e.extend({template:t,className:"row form-group",initialize:function(){this.ui=_.extend({},this.ui,{input:"input"}),this.events=_.extend({},this.events,{"change input":"updateModel"}),this.modelEvents={"change:birthDay":"save"}},onRender:function(){this.ui.input.datepicker({autoclose:!0,forceParse:!1,startView:2,endDate:new Date,language:"ja"})},onBeforeDestroy:function(){this.ui.input.datepicker("remove")},updateModel:function(){this.clearError();var e=this.model.preValidate(this.getData());e?this.showError(e):this.model.set(this.getData())},getData:function(){return _.isEmpty(this.ui.input.val())?{birthDay:null}:{birthDay:moment(this.ui.input.val()).toJSON()}},renderValue:function(e){if(!e.birthDay){this.ui.value.html(this.placeholder);return}this.ui.value.text(moment(e.birthDay).format("LL"))}})}),define("text!common/template/profile/gender.html",[],function(){return'<div class="col-xs-1 align-right">\r\n    <i class="ace-icon fa fa-leaf sl-icon"></i>\r\n</div>\r\n<div class="col-xs-11">\r\n    <div class="sl-value">\r\n        <%\r\n            if (obj.gender)\r\n                print(obj.gender);\r\n            else\r\n                print(\'<span class="text-muted"></span>\');\r\n        %>\r\n    </div>\r\n    <div class="sl-editor">\r\n        <div class="btn-group" data-toggle="buttons">\r\n            <label class="btn btn-sm btn-primary <% if (obj.gender === \'\') print(\'active\') %>">\r\n                <i class="ace-icon fa fa-male bigger-110"></i>&nbsp;&nbsp;\r\n                <input type="radio" name="gender" value="" />\r\n            </label>\r\n            <label class="btn btn-sm btn-pink <% if (obj.gender === \'\') print(\'active\') %>">\r\n                <i class="ace-icon fa fa-female bigger-110"></i>&nbsp;&nbsp;\r\n                <input type="radio" name="gender" value="" />\r\n            </label>\r\n        </div>\r\n    </div>\r\n</div>'}),define("common/view/profile/gender",["common/view/item-base","text!common/template/profile/gender.html"],function(e,t){return e.extend({template:t,className:"row form-group",initialize:function(){this.events=_.extend({},this.events,{"click .btn":"save"})},getData:function(e){return $target=$(e.target),$target.prop("tagName")=="I"?{gender:$target.closest(".btn").find("input").val()}:{gender:$target.find("input").val()}},renderValue:function(e){this.ui.value.text(e.gender)}})}),define("text!common/template/profile/marriage.html",[],function(){return'<div class="col-xs-1 align-right">\r\n    <i class="ace-icon fa fa-heart sl-icon"></i>\r\n</div>\r\n<div class="col-xs-11">\r\n    <div class="sl-value">\r\n        <%\r\n            if (obj.marriage)\r\n                print(obj.marriage);\r\n            else\r\n                print(\'<span class="text-muted"></span>\');\r\n        %>\r\n    </div>\r\n    <div class="sl-editor">\r\n        <div class="btn-group" data-toggle="buttons">\r\n            <label class="btn btn-sm btn-info <% if (obj.marriage === \'\') print(\'active\') %>">\r\n                <i class="ace-icon fa fa-heart bigger-110"></i>&nbsp;&nbsp;\r\n                <input type="radio" name="marriage" value="" />\r\n            </label>\r\n            <label class="btn btn-sm btn-success <% if (obj.marriage === \'\') print(\'active\') %>">\r\n                <i class="ace-icon fa fa-heart-o bigger-110"></i>&nbsp;&nbsp;\r\n                <input type="radio" name="marriage" value="" />\r\n            </label>\r\n        </div>\r\n    </div>\r\n</div>'}),define("common/view/profile/marriage",["common/view/item-base","text!common/template/profile/marriage.html"],function(e,t){return e.extend({template:t,className:"row form-group",initialize:function(){this.events=_.extend({},this.events,{"click .btn":"save"})},getData:function(e){return $target=$(e.target),$target.prop("tagName")=="I"?{marriage:$target.closest(".btn").find("input").val()}:{marriage:$target.find("input").val()}},renderValue:function(e){this.ui.value.text(e.marriage)}})}),define("text!common/template/profile/nationality.html",[],function(){return"<div class=\"col-xs-1 align-right\">\r\n    <i class=\"ace-icon fa fa-flag sl-icon\"></i>\r\n</div>\r\n<div class=\"col-xs-11\">\r\n    <div class=\"sl-value\">\r\n        <%\r\n            if (obj.nationality)\r\n                print(obj.nationality);\r\n            else\r\n                print('<span class=\"text-muted\"></span>');\r\n        %>\r\n    </div>\r\n    <div class=\"sl-editor\">\r\n        <select placeholder=\"\" name=\"nationality\">\r\n            <%\r\n                for(var key in obj.countryList){\r\n\r\n                    print('<optgroup label=\"' + key + '\">');\r\n\r\n                    _.each(obj.countryList[key], function(option) {\r\n                        var selected = (option == obj.nationality) ? 'selected' : '';\r\n                        print('<option value=\"' + option + '\" ' + selected + '>' + option + '</option>' );\r\n                    });\r\n\r\n                    print('</optgroup>');\r\n                }\r\n            %>\r\n        </select>\r\n    </div>\r\n</div>"}),define("common/view/profile/nationality",["common/view/item-base","text!common/template/profile/nationality.html"],function(e,t){var n={"":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"":["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],"":["","","","","","","","","","","","","","","","","","","","","","",""],"":["","","","","","","","","","","",""],"":["","","","","","","","","","","","","","","",""]};return e.extend({template:t,className:"row form-group",initialize:function(){this.model.set("countryList",n,{silent:!0}),this.ui=_.extend({},this.ui,{input:"select"}),this.events=_.extend({},this.events,{"change select":"save"})},onRender:function(){this.$el.find("select").chosen({width:"95%",no_results_text:""})},getData:function(){return{nationality:this.ui.input.val()}},renderValue:function(e){this.ui.value.text(e.nationality)}})}),define("text!common/template/profile/address.html",[],function(){return'<div class="col-xs-1 align-right">\r\n    <i class="ace-icon fa fa-map-marker sl-icon"></i>\r\n</div>\r\n<div class="col-xs-11">\r\n    <div class="sl-value">\r\n        <%\r\n            if (obj.address)\r\n                print((obj.zipCode ? " " + obj.zipCode + "" : "") + obj.address);\r\n            else\r\n                print(\'<span class="text-muted"></span>\');\r\n        %>\r\n    </div>\r\n    <div class="sl-editor form-group">\r\n        <div id="zipCodeArea" class="col-sm-12">\r\n            <span class="input-icon">\r\n                <input type="text" id="zipCode" class="input-medium" placeholder="" name="zipCode" value="<%- obj.zipCode %>">\r\n                <i class="ace-icon fa fa-nothing blue"></i>\r\n            </span>\r\n        </div>\r\n        <div class="col-sm-12">\r\n            <input type="text" id="address" class="col-xs-12" placeholder="" name="address" value="<%- obj.address %>">\r\n        </div>\r\n    </div>\r\n</div>'}),define("common/view/profile/address",["common/view/item-base","text!common/template/profile/address.html"],function(e,t){return e.extend({template:t,className:"row",initialize:function(){this.ui=_.extend({},this.ui,{zipCodeArea:"#zipCodeArea",zipCode:"#zipCode",address:"#address"}),this.events=_.extend({},this.events,{"keyup #zipCode":"getAddress","change #zipCode":"updateModel","change #address":"updateModel"}),this.modelEvents={"change:zipCode":"save","change:address":"save"}},onRender:function(){this.ui.zipCode.mask("999-9999")},getAddress:function(){var e=this;if(this.ui.zipCode.val().indexOf("_")>=0)return;$.ajax({url:"/address/"+e.ui.zipCode.val().replace("-",""),type:"GET",dataType:"json",timeout:3e3,beforeSend:function(){e.ui.zipCodeArea.find(".input-group-addon").empty().append('<i class="ace-icon fa fa-refresh fa-spin"><i>')},success:function(t){e.ui.address.val(t.state+" "+t.city+" "+t.street),e.ui.address.trigger("change")},complete:function(){e.ui.zipCodeArea.find(".input-group-addon").empty().append("")}})},updateModel:function(){this.clearError();var e=this.model.preValidate(this.getData());e?this.showError(e):this.model.set(this.getData())},getData:function(){return{zipCode:this.ui.zipCode.val(),address:this.ui.address.val()}},renderValue:function(e){if(!e.zipCode&&!e.address){this.ui.value.html(this.placeholder);return}e.zipCode?this.ui.value.text(" "+e.zipCode+""+e.address):this.ui.value.text(e.address)}})}),define("text!common/template/profile/nearestSt.html",[],function(){return'<div class="col-xs-1 align-right">\n    <i class="ace-icon fa fa-car sl-icon"></i>\n</div>\n<div class="col-xs-11">\n    <div class="sl-value">\n        <%\n            if (obj.nearestSt)\n                print(obj.nearestSt);\n            else\n                print(\'<span class="text-muted"></span>\');\n        %>\n    </div>\n    <div class="sl-editor">\n        <input type="text" class="col-xs-12" placeholder="" name="nearestSt" value="<%= obj.nearestSt %>">\n    </div>\n</div>'}),define("common/view/profile/nearestSt",["common/view/item-base","text!common/template/profile/nearestSt.html"],function(e,t){return e.extend({template:t,className:"row form-group",initialize:function(){this.ui=_.extend({},this.ui,{input:"input"}),this.events=_.extend({},this.events,{"change input":"updateModel"}),this.modelEvents={"change:nearestSt":"save"}},updateModel:function(){this.clearError();var e=this.model.preValidate(this.getData());e?this.showError(e):this.model.set(this.getData())},getData:function(){return{nearestSt:this.ui.input.val()}},renderValue:function(e){if(!e.nearestSt){this.ui.value.html(this.placeholder);return}this.ui.value.text(e.nearestSt)}})}),define("text!common/template/profile/telno.html",[],function(){return'<div class="col-xs-1 align-right">\r\n    <i class="ace-icon fa fa-mobile-phone bigger-140 sl-icon"></i>\r\n</div>\r\n<div class="col-xs-11">\r\n    <div class="sl-value">\r\n        <%\r\n            if (obj.telNo)\r\n                print(obj.telNo);\r\n            else\r\n                print(\'<span class="text-muted">Tel.</span>\');\r\n        %>\r\n    </div>\r\n    <div class="sl-editor">\r\n        <input type="text" class="input-medium" placeholder="" name="telNo" value="<%= obj.telNo %>">\r\n    </div>\r\n</div>'}),define("common/view/profile/telno",["common/view/item-base","text!common/template/profile/telno.html"],function(e,t){return e.extend({template:t,className:"row form-group",initialize:function(){this.ui=_.extend({},this.ui,{input:"input"}),this.events=_.extend({},this.events,{"change input":"save"})},onRender:function(){this.ui.input.mask("(999)9999-9999")},getData:function(){return{telNo:this.ui.input.val()}},renderValue:function(e){if(!e.telNo){this.ui.value.html(this.placeholder);return}this.ui.value.text(e.telNo)}})}),define("text!common/template/profile/website.html",[],function(){return'<div class="col-xs-1 align-right">\r\n    <i class="ace-icon fa fa-globe sl-icon"></i>\r\n</div>\r\n<div class="col-xs-11">\r\n    <div class="sl-value">\r\n        <%\r\n            if (obj.webSite)\r\n                print(obj.webSite);\r\n            else\r\n                print(\'<span class="text-muted"></span>\');\r\n        %>\r\n    </div>\r\n    <div class="sl-editor">\r\n        <input type="text" class="col-xs-12" placeholder="URL" name="webSite" value="<%= obj.webSite %>">\r\n    </div>\r\n</div>'}),define("common/view/profile/website",["common/view/item-base","text!common/template/profile/website.html"],function(e,t){return e.extend({template:t,className:"row form-group",initialize:function(){this.ui=_.extend({},this.ui,{input:"input"}),this.events=_.extend({},this.events,{"change input":"updateModel"}),this.modelEvents={"change:webSite":"save"}},updateModel:function(){this.clearError();var e=this.model.preValidate(this.getData());e?this.showError(e):this.model.set(this.getData())},getData:function(){return{webSite:this.ui.input.val()}},renderValue:function(e){if(!e.webSite){this.ui.value.html(this.placeholder);return}this.ui.value.text(e.webSite)}})}),define("text!common/template/profile/bio.html",[],function(){return'<div class="widget-header">\r\n    <h4 class="widget-title">\r\n        <i class="ace-icon fa fa-quote-left sl-icon"></i>&nbsp;\r\n    </h4>\r\n</div>\r\n<div class="widget-body">\r\n    <div class="sl-editable widget-main padding-6">\r\n        <div class="sl-value">\r\n            <%\r\n                if (obj.bio) print(obj.bio)\r\n                else print(\'<div class="empty-view text-muted bigger-125 center"><br/></div>\');\r\n            %>\r\n        </div>\r\n        <div class="sl-editor">\r\n            <div class="wysiwyg-editor">\r\n                <%= obj.bio %>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class="clearfix"></div>\r\n</div>'}),define("common/view/profile/bio",["common/view/item-base","text!common/template/profile/bio.html"],function(e,t){return e.extend({template:t,className:"widget-box transparent",placeholder:'<div class="empty-view text-muted bigger-125 center"><br/></div>',initialize:function(){this.ui=_.extend({},this.ui,{input:"input"}),this.events=_.extend({},this.events,{"focusout .sl-editor":"save"})},onRender:function(){this.$el.find(".wysiwyg-editor").ace_wysiwyg().prev().addClass("wysiwyg-style3")},getData:function(){var e=this.$el.find(".wysiwyg-editor").cleanHtml(),t=_.str.stripTags(e);return _.str.isBlank(t)?{bio:""}:{bio:e}},renderValue:function(e){if(!e.bio){this.ui.value.html(this.placeholder);return}this.ui.value.empty().html(e.bio)}})}),define("common/view/composite-base",["common/view/composite-empty"],function(e){return Backbone.Marionette.CompositeView.extend({emptyView:e,ui:{addBtn:".btn-add"},events:{"click .btn-add":"addItem","mouseover .widget-header":"attention"},collectionEvents:{change:"updateItem",remove:"removeItem"},attachHtml:function(e,t,n){t.model.isNew()&&!t.$el.find(".empty-view").length?(this.$el.find(this.childViewContainer).append(t.el),t.$el.slBounceIn(),t.ui&&t.ui.editor&&t.ui.value&&(t.ui.value.hide(),t.ui.editor.fadeIn(function(){t.$el.addClass("sl-editor-open")}))):this.$el.find(this.childViewContainer).append(t.el)},attention:function(e){$(e.target).find(".sl-icon").slSwing()},addItem:function(e){this.collection.add({}),this.collection.length>=this.itemLimit&&this.ui.addBtn.fadeOut("fast")},updateItem:function(e){var t=this;e.save(null,{success:function(e,t,n){},error:function(e,t,n){var r=$.parseJSON(t.responseText);$.gritter.add({title:r.title,text:r.msg,sticky:!0,class_name:"gritter-error gritter-center"})},patch:!0})},removeItem:function(e){var t=this;e.destroy({success:function(e,n){t.collection.length<t.itemLimit&&t.ui.addBtn.fadeIn("fast")},error:function(e,t,n){var r=$.parseJSON(t.responseText);$.gritter.add({title:r.title,text:r.msg,sticky:!0,class_name:"gritter-error gritter-center"})}})}})}),define("common/view/profile/language",["common/view/item-base","text!common/template/profile/language.html"],function(e,t){var n=["","","","","","","","","","","","","","","","","","","",""];return e.extend({template:t,className:"grid3 center sl-editable",initialize:function(){this.model.set("languageList",n,{silent:!0}),this.ui=_.extend({},this.ui,{input:"select",remove:".btn-remove"}),this.events=_.extend({},this.events,{"change select":"updateModel","click .btn-remove":"removeModel"}),this.listenTo(this,"knob",this.updateModel)},onRender:function(){var e=this;this.$el.find(".knob").knob({draw:function(){$(this.i).val(this.cv+"pt"),this.cv>85?this.fgColor="#59a84b":this.cv>70?this.fgColor="#2a91d8":this.cv>50?this.fgColor="#f2bb46":this.cv>30?this.fgColor="#ca5952":this.fgColor="#9585bf";var e=this.g,t=this.angle(this.cv),n=this.startAngle,r=n+t;return e.lineWidth=10,this.o.cursor&&(n=r-this.cursorExt)&&(r+=this.cursorExt),e.beginPath(),e.strokeStyle=this.o.bgColor,e.arc(this.xy,this.xy,this.radius,this.endAngle,this.startAngle,!0),e.stroke(),e.beginPath(),e.strokeStyle=this.fgColor,e.arc(this.xy,this.xy,this.radius,n,r,!1),e.stroke(),this.i.css("color",this.fgColor),!1},release:function(t){e.weight=t,e.trigger("knob")}}),this.$el.find("select").chosen({width:"100%",disable_search_threshold:100}),Backbone.Validation.bind(this)},updateModel:function(){var e={language:this.ui.input.val(),weight:this.weight},t=this.model.preValidate(e)||{};_.isEmpty(t)&&(this.model.set(e),this.render())},removeModel:function(){var e=this;this.$el.slBounceOut("",function(){$(this).removeClass("animated bounceOut"),e.model.collection.remove(e.model)})}})}),define("common/view/profile/languages",["common/view/composite-base","text!common/template/profile/languages.html","common/view/profile/language"],function(e,t,n){return e.extend({template:t,className:"widget-box transparent",childViewContainer:".widget-main",itemName:"languages",childView:n,itemLimit:6,initialize:function(){this.collection=this.model.languages},onRender:function(){this.$el.find(".btn-add").tooltip({placement:"top",title:""}),this.collection.length>=this.itemLimit&&this.ui.addBtn.hide()}})}),define("common/view/profile/skill",["common/view/item-base","text!common/template/profile/skill.html"],function(e,t){return e.extend({template:t,className:"sl-editable",initialize:function(){this.ui=_.extend({},this.ui,{input:"input",progress:".progress-bar",valIndicator:".fa-nothing",slider:".sl-slider",remove:".btn-remove"}),this.events=_.extend({},this.events,{"change input":"updateModel","click .btn-remove":"removeModel","typeahead:selected":"ttUpdateModel"}),this.listenTo(this,"slider",this.updateModel)},onRender:function(){var e=this,t=new Bloodhound({datumTokenizer:function(e){return e.name?Bloodhound.tokenizers.whitespace(e.name):""},queryTokenizer:Bloodhound.tokenizers.whitespace,remote:"/suggest/tag?initial=%QUERY",limit:8});t.initialize(),this.ui.input.typeahead({hint:!0,highlight:!0,minLength:1},{name:"name",displayKey:function(e){return e.name},source:t.ttAdapter()}),this.$el.find(".sl-slider").empty().slider({value:this.model.get("weight"),range:"min",animate:!0,min:20,max:100,slide:function(t,n){var r="ui-slider",i="blue",s="";n.value>85?(r="ui-slider-green",i="green",s=""):n.value>70?(r="ui-slider",i="blue",s=""):n.value>50?(r="ui-slider-orange",i="orange",s=""):n.value>30?(r="ui-slider-red",i="red",s=""):(r="ui-slider-purple",i="purple",s=""),e.ui.slider.removeClass("ui-slider-green ui-slider-orange ui-slider-red ui-slider-purple").addClass(r),e.ui.valIndicator.removeClass("green orange blue red purple").addClass(i),e.ui.valIndicator.empty().text(n.value+"pt"+s)},stop:function(t,n){e.weight=n.value,e.trigger("slider");var r="progress-bar-purple";n.value>85?r="progress-bar-success":n.value>70?r="progress-bar":n.value>50?r="progress-bar-warning":n.value>30&&(r="progress-bar-danger"),e.ui.progress.removeClass("progress-bar-success progress-bar-warning progress-bar-danger progress-bar-purple").addClass(r).css("width",n.value+"%").find(".pull-right").empty().text(n.value+"pt")}}),Backbone.Validation.bind(this)},updateModel:function(){this.clearError();var e={skill:this.ui.input.val(),weight:this.weight},t=this.model.preValidate(e)||{};_.isEmpty(t)?(this.model.set(e),this.$el.find(".pull-left").empty().html('<i class="ace-icon fa fa-gear sl-icon"></i>&nbsp;'+e.skill)):this.showError(t)},removeModel:function(){var e=this;this.$el.slBounceOut("",function(){$(this).removeClass("animated bounceOut"),e.model.collection.remove(e.model)})},ttUpdateModel:function(){var e=this.ui.input.typeahead("val");this.ui.input.val(e),this.ui.input.trigger("change")}})}),define("common/view/profile/skills",["common/view/composite-base","text!common/template/profile/skills.html","common/view/profile/skill"],function(e,t,n){return e.extend({template:t,className:"widget-box transparent",childViewContainer:".widget-main",itemName:"skills",childView:n,itemLimit:8,initialize:function(){this.collection=this.model.skills},onRender:function(){this.$el.find(".btn-add").tooltip({placement:"top",title:""}),this.collection.length>=this.itemLimit&&this.ui.addBtn.hide()}})}),define("text!common/template/profile/qualifications.html",[],function(){return'<div class="widget-header">\n    <h4 class="widget-title"><i class="ace-icon fa fa-trophy sl-icon"></i>&nbsp;</h4>\n    <div class="action-buttons inline">\n        <a class="btn-add tooltip-success green"><i class="ace-icon fa fa-plus"></i></a>\n    </div>\n</div>\n<div class="widget-body">\n    <div class="widget-main padding-6"></div>\n    <div class="clearfix"></div>\n</div>'}),define("text!common/template/profile/qualification.html",[],function(){return'<div class="sl-value">\n    <blockquote>\n        <p>\n            <i class="ace-icon fa fa-certificate sl-icon orange2"></i>&nbsp;\n            <span class="name-value">\n            <%\n                if (obj.name) print(obj.name);\n                else print(\'<span class="text-muted"></span>\');\n            %>\n            </span>\n        </p>\n        <% if (obj.acquireDate) { %>\n            <small>\n                 <%= moment(obj.acquireDate).format(\'YYYYM\') %>\n            </small>\n        <% } %>\n    </blockquote>\n</div>\n<div class="sl-editor">\n    <div class="form-group">\n        <div class="col-sm-12 input-group">\n            <span class="input-group-addon">\n                <i class="ace-icon fa fa-certificate"></i>\n            </span>\n            <input type="text" placeholder="" name="name" value="<%- obj.name %>">\n            <span class="input-group-btn">\n                <button type="button" class="btn btn-danger btn-remove btn-xs"><i class="ace-icon fa fa-trash-o bigger-150"></i></button>\n            </span>\n        </div>\n    </div>\n    <div class="space-2"></div>\n    <div class="form-group">\n        <div class="col-sm-6 input-group">\n            <span class="input-group-addon">\n                <i class="ace-icon fa fa-calendar"></i>\n            </span>\n            <input type="text" placeholder="" name="acquireDate"\n                value="<% if (obj.acquireDate) print(moment(obj.acquireDate).format(\'YYYY/MM\')); %>">\n        </div>\n    </div>\n</div>\n'}),define("common/view/profile/qualification",["common/view/item-base","text!common/template/profile/qualification.html"],function(e,t){return e.extend({template:t,className:"sl-editable",initialize:function(){this.ui=_.extend({},this.ui,{nameValue:".name-value",date:'input[name="acquireDate"]',name:'input[name="name"]',remove:".btn-remove"}),this.events=_.extend({},this.events,{'change input[name="acquireDate"]':"updateModel",'change input[name="name"]':"updateModel","click .btn-remove":"removeModel"})},onRender:function(){this.ui.date.datepicker({autoclose:!0,startView:2,minViewMode:1,endDate:new Date,format:"yyyy/mm",language:"ja"}),Backbone.Validation.bind(this)},onBeforeDestroy:function(){this.ui.date.datepicker("remove")},updateModel:function(){this.clearError();var e=this.getData(),t=this.model.preValidate(e)||{};_.isEmpty(t)?(this.model.set(e),this.renderValue(e)):this.showError(t)},removeModel:function(){var e=this;this.$el.slBounceOut("",function(){$(this).removeClass("animated bounceOut"),e.model.collection.remove(e.model)})},getData:function(){var e=this.ui.date.val()?moment(this.ui.date.val(),"YYYY/MM").toJSON():"";return{name:this.ui.name.val(),acquireDate:e}},renderValue:function(e){e.name?this.ui.nameValue.text(e.name):this.ui.nameValue.html('<span class="text-muted"></span>'),this.$el.find("small").remove(),e.acquireDate&&this.$el.find("blockquote").append("<small> "+moment(e.acquireDate).format("YYYYM")+"</small>")}})}),define("common/view/profile/qualifications",["common/view/composite-base","text!common/template/profile/qualifications.html","common/view/profile/qualification"],function(e,t,n){return e.extend({template:t,className:"widget-box transparent",childViewContainer:".widget-main",itemName:"qualifications",childView:n,itemLimit:4,initialize:function(){this.collection=this.model.qualifications},onRender:function(){this.$el.find(".btn-add").tooltip({placement:"top",title:""}),this.collection.length>=this.itemLimit&&this.ui.addBtn.hide()}})}),define("text!common/template/profile/educations.html",[],function(){return'<div class="widget-header">\n    <h4 class="widget-title"><i class="ace-icon fa fa-university sl-icon"></i>&nbsp;</h4>\n    <div class="action-buttons inline">\n        <a class="btn-add tooltip-success light-green"><i class="ace-icon fa fa-plus"></i></a>\n    </div>\n</div>\n<div class="widget-body">\n    <div class="widget-main padding-6">\n    </div>\n    <div class="clearfix"></div>\n</div>'}),define("text!common/template/profile/education.html",[],function(){return'<div class="sl-value">\n    <blockquote>\n        <p>\n            <i class="ace-icon fa fa-graduation-cap sl-icon green"></i>&nbsp;\n            <span class="school-value">\n            <%\n                if (obj.school) print(obj.school);\n                else print(\'<span class="text-muted"></span>\');\n            %>\n            </span>\n            <span class="major-value">\n            <%\n                if (obj.major) print(\'<span class="label label-sm label-success arrowed arrowed-right">\' + obj.major + \'</span>\');\n            %>\n            </span>\n        </p>\n        <% if (obj.startDate || obj.endDate) { %>\n            <small>\n                <%\n                    if (obj.startDate && !obj.endDate)\n                        print(obj.startDateDisplay + "");\n                    else if (!obj.startDate && obj.endDate)\n                        print("" + obj.endDateDisplay);\n                    else if (obj.startDate && obj.endDate)\n                        print(obj.startDateDisplay + "" + obj.endDateDisplay);\n                %>\n            </small>\n        <% } %>\n    </blockquote>\n</div>\n<div class="sl-editor">\n    <div class="form-group">\n        <div class="col-md-12 input-group">\n            <span class="input-group-addon">\n                <i class="ace-icon fa fa-university"></i>\n            </span>\n            <input type="text" placeholder="" name="school" value="<%= obj.school %>">\n            <span class="input-group-btn">\n                <button type="button" class="btn btn-danger btn-remove btn-xs"><i class="ace-icon fa fa-trash-o bigger-150"></i></button>\n            </span>\n        </div>\n    </div>\n    <div class="space-2"></div>\n    <div class="form-group">\n        <div class="col-md-12 input-group">\n            <span class="input-group-addon">\n                <i class="ace-icon fa fa-book"></i>\n            </span>\n            <input type="text" placeholder="" name="major" value="<%= obj.major %>">\n        </div>\n    </div>\n    <div class="space-2"></div>\n    <div class="form-group">\n        <div class="input-group input-daterange">\n            <span class="input-group-addon sl-input-group-addon"><i class="ace-icon fa fa-calendar"></i></span>\n            <input type="text" style="width: 150px;" placeholder="" name="startDate" value="<%= obj.startDateInput %>">\n            <span class="input-group-addon"><i class="ace-icon fa fa-exchange"></i></span>\n            <input type="text" style="width: 150px;" placeholder="" name="endDate" value="<%= obj.endDateInput %>">\n        </div>\n    </div>\n</div>\n'}),define("common/view/profile/education",["common/view/item-base","text!common/template/profile/education.html"],function(e,t){return e.extend({template:t,className:"sl-editable",initialize:function(){this.ui=_.extend({},this.ui,{schoolValue:".school-value",majorValue:".major-value",school:'input[name="school"]',major:'input[name="major"]',startDate:'input[name="startDate"]',endDate:'input[name="endDate"]',remove:".btn-remove"}),this.events=_.extend({},this.events,{'change input[name="school"]':"updateModel",'change input[name="major"]':"updateModel",'change input[name="startDate"]':"updateModel",'change input[name="endDate"]':"updateModel","click .btn-remove":"removeModel"})},onRender:function(){this.$el.find('input[name="startDate"],input[name="endDate"]').datepicker({autoclose:!0,startView:2,minViewMode:1,endDate:new Date,format:"yyyy/mm",language:"ja"}),Backbone.Validation.bind(this)},onBeforeDestroy:function(){this.$el.find('input[name="startDate"],input[name="endDate"]').datepicker("remove")},updateModel:function(){this.clearError();var e=this.getData(),t=this.model.preValidate(e)||{};if(this.ui.endDate.val()){var n=new Date(this.ui.startDate.val()),r=new Date(this.ui.endDate.val());moment(n).isAfter(r)&&(t.endDate=t.endTime="")}_.isEmpty(t)?(this.model.set(e),this.renderValue(e)):this.showError(t)},removeModel:function(){var e=this;this.$el.slBounceOut("",function(){$(this).removeClass("animated bounceOut"),e.model.collection.remove(e.model)})},getData:function(){var e=this.ui.startDate.val()?moment(this.ui.startDate.val(),"YYYY/MM").toJSON():"",t=this.ui.endDate.val()?moment(this.ui.endDate.val(),"YYYY/MM").toJSON():"";return{school:this.ui.school.val(),major:this.ui.major.val(),startDate:e,endDate:t}},renderValue:function(e){e.school?this.ui.schoolValue.text(e.school):this.ui.schoolValue.html('<span class="text-muted"></span>'),e.major?this.ui.majorValue.html('<span class="label label-sm label-success arrowed arrowed-right">'+e.major+"</span>"):this.ui.majorValue.empty(),this.$el.find("small").remove();if(e.startDate||e.endDate){var t="";e.startDate&&!e.endDate?t=moment(e.startDate).format("YYYYM")+"":!e.startDate&&e.endDate?t=""+moment(e.endDate).format("YYYYM"):e.startDate&&e.endDate&&(t=moment(e.startDate).format("YYYYM")+""+moment(e.endDate).format("YYYYM")),this.$el.find("blockquote").append("<small>"+t+"</small>")}}})}),define("common/view/profile/educations",["common/view/composite-base","text!common/template/profile/educations.html","common/view/profile/education"],function(e,t,n){return e.extend({template:t,className:"widget-box transparent",childViewContainer:".widget-main",itemName:"educations",childView:n,itemLimit:4,initialize:function(){this.collection=this.model.educations},onRender:function(){this.$el.find(".btn-add").tooltip({placement:"top",title:""}),this.collection.length>=this.itemLimit&&this.ui.addBtn.hide()}})}),define("text!common/template/profile/employments.html",[],function(){return'<div class="widget-header">\n    <h4 class="widget-title"><i class="ace-icon fa fa-briefcase sl-icon"></i>&nbsp;</h4>\n    <div class="action-buttons inline">\n        <a class="btn-add tooltip-success light-green"><i class="ace-icon fa fa-plus"></i></a>\n    </div>\n</div>\n<div class="widget-body">\n    <div class="widget-main padding-6">\n    </div>\n    <div class="clearfix"></div>\n</div>'}),define("text!common/template/profile/employment.html",[],function(){return'<div class="sl-value">\n    <blockquote>\n        <p>\n            <i class="ace-icon fa fa-building sl-icon blue"></i>&nbsp;\n            <span class="company-value">\n            <%\n                if (obj.company) print(obj.company);\n                else print(\'<span class="text-muted"></span>\');\n            %>\n            </span>\n            <span class="position-value">\n            <%\n                if (obj.position) print(\'<span class="label label-sm label-primary arrowed arrowed-right">\' + obj.position + \'</span>\');\n            %>\n            </span>\n        </p>\n        <% if (obj.address) { %>\n            <small class="address-value"> <%= obj.address %></small>\n        <% } %>\n        <% if (obj.startDate || obj.endDate) { %>\n            <small class="duration-value">\n                <%\n                    if (obj.startDate && !obj.endDate)\n                        print(obj.startDateDisplay + "");\n                    else if (!obj.startDate && obj.endDate)\n                        print("" + obj.endDateDisplay);\n                    else if (obj.startDate && obj.endDate)\n                        print(obj.startDateDisplay + "" + obj.endDateDisplay);\n                %>\n            </small>\n        <% } %>\n    </blockquote>\n</div>\n<div class="sl-editor">\n    <div class="form-group">\n        <div class="col-md-12 input-group">\n            <span class="input-group-addon">\n                <i class="ace-icon fa fa-building"></i>\n            </span>\n            <input type="text" placeholder="" name="company" value="<%= obj.company %>">\n            <span class="input-group-btn">\n                <button type="button" class="btn btn-danger btn-remove btn-xs"><i class="ace-icon fa fa-trash-o bigger-150"></i></button>\n            </span>\n        </div>\n    </div>\n    <div class="space-2"></div>\n    <div class="form-group">\n        <div class="col-md-12 input-group">\n            <span class="input-group-addon">\n                <i class="ace-icon fa fa-map-marker"></i>\n            </span>\n            <input type="text" placeholder="" name="address" value="<%= obj.address %>">\n        </div>\n    </div>\n    <div class="space-2"></div>\n    <div class="form-group">\n        <div class="col-md-12 input-group">\n            <span class="input-group-addon">\n                <i class="ace-icon fa fa-bookmark"></i>\n            </span>\n            <input type="text" placeholder="" name="position" value="<%= obj.position %>">\n        </div>\n    </div>\n    <div class="space-2"></div>\n    <div class="form-group">\n        <div class="input-group input-daterange">\n            <span class="input-group-addon sl-input-group-addon"><i class="ace-icon fa fa-calendar"></i></span>\n            <input type="text" style="width: 150px;" placeholder="" name="startDate" value="<%= obj.startDateInput %>">\n            <span class="input-group-addon"><i class="ace-icon fa fa-exchange"></i></span>\n            <input type="text" style="width: 150px;" placeholder="" name="endDate" value="<%= obj.endDateInput %>">\n        </div>\n    </div>\n</div>\n'}),define("common/view/profile/employment",["common/view/item-base","text!common/template/profile/employment.html"],function(e,t){return e.extend({template:t,className:"sl-editable",initialize:function(){this.ui=_.extend({},this.ui,{companyValue:".company-value",positionValue:".position-value",durationValue:".duration-value",addressValue:".address-value",company:'input[name="company"]',address:'input[name="address"]',position:'input[name="position"]',startDate:'input[name="startDate"]',endDate:'input[name="endDate"]',remove:".btn-remove"}),this.events=_.extend({},this.events,{'change input[name="company"]':"updateModel",'change input[name="address"]':"updateModel",'change input[name="position"]':"updateModel",'change input[name="startDate"]':"updateModel",'change input[name="endDate"]':"updateModel","click .btn-remove":"removeModel"})},onRender:function(){this.$el.find('input[name="startDate"],input[name="endDate"]').datepicker({autoclose:!0,startView:2,minViewMode:1,endDate:new Date,format:"yyyy/mm",language:"ja"}),Backbone.Validation.bind(this)},onBeforeDestroy:function(){this.$el.find('input[name="startDate"],input[name="endDate"]').datepicker("remove")},updateModel:function(){this.clearError();var e=this.getData(),t=this.model.preValidate(e)||{};if(this.ui.startDate.val()&&this.ui.endDate.val()){var n=new Date(this.ui.startDate.val()),r=new Date(this.ui.endDate.val());moment(n).isAfter(r)&&(t.endDate=t.endTime="")}_.isEmpty(t)?(this.model.set(e),this.renderValue(e)):this.showError(t)},removeModel:function(){var e=this;this.$el.slBounceOut("",function(){$(this).removeClass("animated bounceOut"),e.model.collection.remove(e.model)})},getData:function(){var e=this.ui.startDate.val()?moment(this.ui.startDate.val(),"YYYY/MM").toJSON():"",t=this.ui.endDate.val()?moment(this.ui.endDate.val(),"YYYY/MM").toJSON():"";return{company:this.ui.company.val(),address:this.ui.address.val(),position:this.ui.position.val(),startDate:e,endDate:t}},renderValue:function(e){e.company?this.ui.companyValue.text(e.company):this.ui.companyValue.html('<span class="text-muted"></span>'),e.position?this.ui.positionValue.html('<span class="label label-sm label-primary arrowed arrowed-right">'+e.position+"</span>"):this.ui.positionValue.empty(),this.$el.find(".address-value").remove(),e.address&&this.$el.find("blockquote").append('<small class="address-value"> '+e.address+"</small>"),this.$el.find(".duration-value").remove();if(e.startDate||e.endDate){var t="";e.startDate&&!e.endDate?t=moment(e.startDate).format("YYYYM")+"":!e.startDate&&e.endDate?t=""+moment(e.endDate).format("YYYYM"):e.startDate&&e.endDate&&(t=moment(e.startDate).format("YYYYM")+""+moment(e.endDate).format("YYYYM")),this.$el.find("blockquote p").after('<small class="duration-value"> '+t+"</small>")}}})}),define("common/view/profile/employments",["common/view/composite-base","text!common/template/profile/employments.html","common/view/profile/employment"],function(e,t,n){return e.extend({template:t,className:"widget-box transparent",childViewContainer:".widget-main",itemName:"employments",childView:n,itemLimit:4,initialize:function(){this.collection=this.model.employments},onRender:function(){this.$el.find(".btn-add").tooltip({placement:"top",title:""}),this.collection.length>=this.itemLimit&&this.ui.addBtn.hide()}})}),define("common/view/profile/main",["text!common/template/profile/main.html","common/view/profile/cover","common/view/profile/photo","common/view/profile/name","common/view/profile/birthday","common/view/profile/gender","common/view/profile/marriage","common/view/profile/nationality","common/view/profile/address","common/view/profile/nearestSt","common/view/profile/telno","common/view/profile/website","common/view/profile/bio","common/view/profile/languages","common/view/profile/skills","common/view/profile/qualifications","common/view/profile/educations","common/view/profile/employments"],function(e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g){return Backbone.Marionette.LayoutView.extend({template:e,regions:{coverRegion:"#cover",photoRegion:"#photo",nameRegion:"#name",birthdayRegion:"#birthday",genderRegion:"#gender",marriageRegion:"#marriage",nationalityRegion:"#nationality",addressRegion:"#address",nearestStRegion:"#nearestst",telNoRegion:"#telno",webSiteRegion:"#website",bioRegion:"#bio",languageRegion:"#languages",skillRegion:"#skills",qualificationRegion:"#qualifications",educationRegion:"#educations",employmentRegion:"#employments"},initialize:function(){this.coverItem=new t({model:this.model}),this.photoItem=new n({model:this.model}),this.nameItem=new r({model:this.model}),this.birthdayItem=new i({model:this.model}),this.genderItem=new s({model:this.model}),this.marriageItem=new o({model:this.model}),this.nationalityItem=new u({model:this.model}),this.addressItem=new a({model:this.model}),this.nearestStItem=new f({model:this.model}),this.telNoItem=new l({model:this.model}),this.webSiteItem=new c({model:this.model}),this.bioItem=new h({model:this.model}),this.languageComposite=new p({model:this.model}),this.skillComposite=new d({model:this.model}),this.qualificationComposite=new v({model:this.model}),this.educationComposite=new m({model:this.model}),this.employmentComposite=new g({model:this.model})},onRender:function(){this.coverRegion.show(this.coverItem),this.photoRegion.show(this.photoItem),this.nameRegion.show(this.nameItem),this.birthdayRegion.show(this.birthdayItem),this.genderRegion.show(this.genderItem),this.marriageRegion.show(this.marriageItem),this.nationalityRegion.show(this.nationalityItem),this.addressRegion.show(this.addressItem),this.nearestStRegion.show(this.nearestStItem),this.telNoRegion.show(this.telNoItem),this.webSiteRegion.show(this.webSiteItem),this.bioRegion.show(this.bioItem),this.languageRegion.show(this.languageComposite),this.skillRegion.show(this.skillComposite),this.qualificationRegion.show(this.qualificationComposite),this.educationRegion.show(this.educationComposite),this.employmentRegion.show(this.employmentComposite),Backbone.Validation.bind(this)},onShow:function(){this.$el.addClass("animated fadeInRight")}})}),define("text!common/template/post/main.html",[],function(){return'<div class="isotope">\r\n    <div id="new-post" class="stamp col-xs-12 col-sm-6 col-lg-8"></div>\r\n</div>\r\n\r\n<nav id="page_nav">\r\n  <a href="/posts"></a>\r\n</nav>'}),define("text!common/template/post/new.html",[],function(){return'<div class="widget-header widget-header-small">\r\n    <h5 class="widget-title bigger"><i class="ace-icon fa fa-edit"></i>&nbsp;</h5>\r\n</div>\r\n\r\n<div class="widget-body">\r\n    <div class="widget-toolbox">\r\n        <div class="btn-toolbar center"></div>\r\n    </div>\r\n\r\n    <div class="widget-main no-padding">\r\n        <div class="wysiwyg-editor"></div>\r\n    </div>\r\n\r\n    <div class="widget-toolbox padding-4 clearfix">\r\n\r\n        <div class="btn-group pull-right">\r\n            <button class="btn btn-sm btn-success btn-post disabled"\r\n                    data-loading-text="<i class=\'ace-icon fa fa-spinner fa-spin white bigger-125\'></i>&nbsp;&nbsp;">\r\n                \r\n                <i class="ace-icon fa fa-paper-plane-o fa-on-right"></i>\r\n            </button>\r\n        </div>\r\n\r\n        <% if (!obj._id) { %>\r\n            <div class="btn-group">\r\n                <button class="btn btn-sm btn-info dropdown-toggle" data-toggle="dropdown">\r\n                    <i class="ace-icon fa fa-group bigger-110"></i>\r\n                    <span class="group-name"></span>\r\n                    <i class="ace-icon fa fa-angle-down fa-on-right bigger-125"></i>\r\n                </button>\r\n                <ul class="dropdown-menu dropdown-info ace-thumbnails">\r\n                    <li class="center" style="width: 100%;"><a href="#" class="btn-cancel"></a></li>\r\n                </ul>\r\n            </div>\r\n        <% } else { %>\r\n            <button class="btn btn-sm btn-info disabled dropdown-menu">\r\n                <i class="ace-icon fa fa-group bigger-110"></i>\r\n                <span class="group-name"><%= obj.name %></span>\r\n                <i class="ace-icon fa fa-angle-down fa-on-right bigger-125"></i>\r\n            </button>\r\n        <% } %>\r\n\r\n    </div>\r\n</div>'}),define("text!common/template/post/group.html",[],function(){return'<a href="#">\n    <img src="<%= obj.cover %>">\n    <div class="tags">\n        <span class="label-holder">\n            <span class="label label-info"><%= obj.name %></span>\n        </span>\n    </div>\n</a>'}),define("common/view/post/group",["text!common/template/post/group.html"],function(e){return Backbone.Marionette.ItemView.extend({tagName:"li",template:e,events:{click:"onClick"},onClick:function(e){e.preventDefault(),this.trigger("selected",this.model)}})}),define("common/view/post/new",["text!common/template/post/new.html","common/collection/base","common/view/post/group"],function(e,t,n){var r=t.extend({url:function(){return"/users/"+this.document.id+"/groups"}});return Backbone.Marionette.CompositeView.extend({template:e,className:"widget-box widget-color-green",childViewContainer:".dropdown-menu",childView:n,ui:{newPost:".wysiwyg-editor",btnPost:".btn-post"},events:{"click .btn-post":"onPost","keyup .wysiwyg-editor":"enablePost","click .btn-cancel":"onGroupClear"},childEvents:{selected:"onGroupSelect"},initialize:function(){this.options.targetGroup?(this.model=this.options.targetGroup,this.targetGroup=this.options.targetGroup):(this.collection=new r(null,{document:selink.user}),this.collection.fetch())},onRender:function(){this.ui.newPost.ace_wysiwyg({toolbar_place:function(e){return $(this).closest(".widget-box").find(".btn-toolbar").prepend(e).children(0).addClass("inline")}}).prev().addClass("wysiwyg-style3")},onGroupSelect:function(e,t){this.$el.find(".group-name").empty().text(t.get("name")),this.targetGroup=t},onGroupClear:function(){this.$el.find(".group-name").empty().text(""),this.targetGroup=null},enablePost:function(){var e=this.ui.newPost.cleanHtml();e&&!_.str.isBlank(e)?this.ui.btnPost.removeClass("disabled"):this.ui.btnPost.addClass("disabled")},onPost:function(){var e=this,t={content:this.ui.newPost.cleanHtml()};this.targetGroup&&(t.group=this.targetGroup.id),this.options.targetCollection.create(t,{beforeSend:function(){e.ui.btnPost.button("loading")},success:function(t,n,r){e.ui.newPost.html("")},error:function(e,t,n){t.status===413&&$.gritter.add({title:"",text:"",class_name:"gritter-error",time:12e3})},complete:function(){e.ui.btnPost.button("reset"),e.ui.btnPost.addClass("disabled")},wait:!0})}})}),define("common/view/post/main",["text!common/template/post/main.html","common/view/composite-isotope","common/collection/base","common/model/post","common/view/post/item","common/view/post/new"],function(e,t,n,r,i,s){var o=n.extend({model:r,url:function(){return"/posts"}});return t.extend({template:e,childView:i,initialize:function(){this.collection=new o(null,{document:selink.user}),this.rm=new Backbone.Marionette.RegionManager,this.regions=this.rm.addRegions({newPostRegion:"#new-post"}),this.newPostView=new s({targetCollection:this.collection})},onShow:function(){var e=this;this.regions.newPostRegion.show(this.newPostView),this.$el.find(this.childViewContainer).infinitescroll({navSelector:"#page_nav",nextSelector:"#page_nav a",dataType:"json",appendCallback:!1,loading:{msgText:"<em></em>",finishedMsg:""},path:function(){return"/posts?before="+moment(e.collection.last().get("createDate")).unix()}},function(t,n){t.length>0&&e.collection.add(t,{parse:!0})}),t.prototype.onShow.apply(this)},onBeforeDestroy:function(){this.rm.destroy(),t.prototype.onBeforeDestroy.apply(this)}})}),define("text!common/template/post/detail.html",[],function(){return'<div class="modal-content">\r\n\r\n    <!-- modal body -->\r\n    <div class="row modal-body overflow-visible">\r\n\r\n        <!-- post content -->\r\n        <div class="col-sm-12 col-md-8 post-content">\r\n\r\n            <!-- if this post is mine -->\r\n            <% if (obj.isMine) { %>\r\n                <!-- warp the content with wysiwyg editor -->\r\n                <div class="wysiwyg-editor">\r\n                    <%= obj.content %>\r\n                </div>\r\n            <% } else { %>\r\n                <!-- or just display plain content -->\r\n                <%= obj.content %>\r\n            <% } %>\r\n        </div>\r\n\r\n        <!-- post relate info -->\r\n        <div class="col-sm-12 col-md-4 post-comment">\r\n\r\n            <div class="widget-box transparent">\r\n\r\n                <div class="widget-header">\r\n\r\n                    <!-- author photo -->\r\n                    <a href="#profile/<%= obj._owner._id %>">\r\n                        <img class="avatar" src="<%= obj._owner.photo %>">\r\n                    </a>\r\n\r\n                    <!-- author name -->\r\n                    <h5>\r\n                        <i class="ace-icon fa fa-edit"></i>&nbsp;\r\n                        <strong><%= obj._owner.firstName %>&nbsp;<%= obj._owner.lastName %></strong>\r\n                    </h5>\r\n\r\n                    <!-- post time -->\r\n                    <h6>\r\n                        <i class="ace-icon fa fa-clock-o"></i>&nbsp;\r\n                        <%= moment(obj.createDate).calendar() %>\r\n                    </h6>\r\n\r\n                    <div class="clearfix"></div>\r\n\r\n                </div>\r\n\r\n                <div class="widget-body">\r\n\r\n                    <!-- post comments -->\r\n                    <div class="widget-main dialogs"></div>\r\n\r\n                    <!-- comment area -->\r\n                    <div class="widget-toolbox padding-4 clearfix <% if (!obj.setting.commentable) print(\'hidden\') %>">\r\n\r\n                        <!-- user photo -->\r\n                        <img class="photo-area pull-left" src="<%= selink.user.get(\'photo\') %>" style="max-width: 55px; display: none;">\r\n\r\n                        <!-- comment text area -->\r\n                        <div class="comment-area">\r\n                            <textarea name="comment" placeholder="" style="width: 100%"/></textarea>\r\n                        </div>\r\n\r\n                        <div class="btn-area pull-right" style="margin-top: 4px; display: none;">\r\n                            <!-- post button -->\r\n                            <button class="btn btn-sm btn-success btn-comment disabled">\r\n                                <i class="ace-icon fa fa-comment bigger-125"></i>&nbsp;\r\n                            </button>\r\n                            <!-- cancel button -->\r\n                            <button class="btn btn-sm btn-yellow btn-cancel">\r\n                                <i class="ace-icon fa fa-power-off bigger-125"></i>&nbsp;\r\n                            </button>\r\n                        </div>\r\n\r\n                    </div>\r\n\r\n                </div>\r\n\r\n            </div>\r\n\r\n        </div>\r\n    </div>\r\n\r\n    <!-- modal footer -->\r\n    <div class="modal-footer">\r\n\r\n        <!-- action buttons -->\r\n        <div class="pull-left" style="margin-top: 10px;">\r\n\r\n            <!-- like button -->\r\n            <div class="inline red tooltip-error <% if (!obj.isLiked) print("btn-like"); %>">\r\n                <i class="ace-icon fa <% if (obj.isLiked) print("fa-heart"); else print("fa-heart-o"); %> bigger-130"></i>\r\n                <span><%= obj.liked.length %></span>\r\n            </div>\r\n\r\n            <!-- bookmark button -->\r\n            <div class="inline orange tooltip-warning <% if (!obj.isMarked) print("btn-bookmark"); %>">\r\n                <i class="ace-icon fa <% if (obj.isMarked) print("fa-star"); else print("fa-star-o"); %> bigger-130"></i>\r\n                <span><%= obj.bookmarked.length %></span>\r\n            </div>\r\n\r\n        </div>\r\n\r\n        <!-- modal close botton -->\r\n        <button class="btn btn-sm" data-dismiss="modal"><i class="ace-icon fa fa-times"></i> </button>\r\n\r\n        <!-- if this post is mine -->\r\n        <% if (obj.isMine) { %>\r\n\r\n            <!-- remove button -->\r\n            <button class="btn btn-sm btn-danger btn-remove"><i class="ace-icon fa fa-trash-o"></i> </button>\r\n\r\n            <!-- save button -->\r\n            <button class="btn btn-sm btn-success btn-save"><i class="ace-icon fa fa-save"></i> </button>\r\n\r\n            <!-- remove confirm dialog -->\r\n            <div class="alert alert-danger clearfix" style="display: none;">\r\n                <i class="ace-icon fa fa-warning bigger-125"></i>&nbsp;\r\n                <strong></strong>\r\n                <div class="pull-right">\r\n                    <button class="btn btn-sm btn-warning btn-remove-cancel"></button>\r\n                    <button class="btn btn-sm btn-danger btn-remove-confirm"></button>\r\n                </div>\r\n            </div>\r\n        <% } %>\r\n\r\n    </div>\r\n\r\n</div>'}),define("common/view/post/detail",["text!common/template/post/detail.html","common/view/post/item"],function(e,t){return t.extend({className:"modal-dialog post-modal",template:e,initialize:function(){this.ui=_.extend({},this.ui,{editArea:".wysiwyg-editor",saveBtn:".btn-save"}),this.events=_.extend({},this.events,{"click .btn-save":"onSave","click .btn-detail":"showDetail","keyup .wysiwyg-editor":"enableSave"}),t.prototype.initialize.apply(this)},onRender:function(){t.prototype.onRender.apply(this),this.ui.editArea.ace_wysiwyg().prev().addClass("wysiwyg-style3")},onRemove:function(){this.model.destroy({success:function(){selink.modalArea.$el.modal("hide")},wait:!0})},enableSave:function(){var e=this.ui.editArea.cleanHtml();e&&!_.str.isBlank(e)?this.ui.saveBtn.removeClass("disabled"):this.ui.saveBtn.addClass("disabled")},onSave:function(){this.model.save({content:this.ui.editArea.cleanHtml()},{success:function(e,t,n){selink.modalArea.$el.modal("hide")},reIsotope:!1,patch:!0,wait:!0})}})}),define("text!common/template/group/main.html",[],function(){return'<div class="page-header">\r\n    <h1 class="inline align-bottom">\r\n        <i class="ace-icon fa fa-group"></i>\r\n        \r\n    </h1>\r\n    <button class="btn btn-sm btn-success btn-joined">\r\n        <i class="ace-icon fa fa-child"></i>\r\n        \r\n    </button>\r\n    <button class="btn btn-sm btn-info btn-mine">\r\n        <i class="ace-icon fa fa-th"></i>\r\n        \r\n    </button>\r\n    <button class="btn btn-sm btn-warning btn-discover">\r\n        <i class="ace-icon fa fa-search-plus"></i>\r\n        \r\n    </button>\r\n    <button class="btn btn-sm btn-danger btn-new">\r\n        <i class="ace-icon fa fa-plus"></i>\r\n        \r\n    </button>\r\n</div>\r\n\r\n<div id="display"></div>'}),define("text!common/template/group/discover.html",[],function(){return'<div class="isotope">\n    <div class="isotope-item grid-sizer col-xs-12 col-sm-6 col-lg-4"></div>\n</div>\n\n<nav id="discover_page_nav">\n  <a href="/groups/discover"></a>\n</nav>'}),define("common/view/group/discover",["text!common/template/group/discover.html","common/view/composite-isotope","common/collection/base","common/view/group/item","common/model/group"],function(e,t,n,r,i){var s=n.extend({url:"/groups/discover"});return t.extend({template:e,childView:r,initialize:function(){this.collection=new s},onShow:function(){var e=this;this.$el.find(this.childViewContainer).infinitescroll({navSelector:"#discover_page_nav",nextSelector:"#discover_page_nav a",dataType:"json",appendCallback:!1,loading:{msgText:"<em></em>",finishedMsg:""},path:function(){return"/groups/discover?before="+moment(e.collection.last().get("createDate")).unix()}},function(t,n){t.length>0&&e.collection.add(t,{parse:!0})}),t.prototype.onShow.apply(this)}})}),define("text!common/template/group/joined.html",[],function(){return'<div class="isotope">\n    <div class="isotope-item grid-sizer col-xs-12 col-sm-6 col-lg-4"></div>\n</div>\n\n<nav id="joined_page_nav">\n  <a href="/groups/joined"></a>\n</nav>'}),define("common/view/group/joined",["text!common/template/group/joined.html","common/view/composite-isotope","common/collection/base","common/view/group/item","common/model/group"],function(e,t,n,r,i){var s=n.extend({url:"/groups/joined"});return t.extend({template:e,childView:r,initialize:function(){this.collection=new s},onShow:function(){var e=this;this.$el.find(this.childViewContainer).infinitescroll({navSelector:"#joined_page_nav",nextSelector:"#joined_page_nav a",dataType:"json",appendCallback:!1,loading:{msgText:"<em></em>",finishedMsg:""},path:function(){return"/groups/joined?before="+moment(e.collection.last().get("createDate")).unix()}},function(t,n){t.length>0&&e.collection.add(t,{parse:!0})}),t.prototype.onShow.apply(this)}})}),define("text!common/template/group/mine.html",[],function(){return'<div class="isotope">\n    <div class="isotope-item grid-sizer col-xs-12 col-sm-6 col-lg-4"></div>\n</div>\n\n<nav id="mine_page_nav">\n  <a href="/groups/mine"></a>\n</nav>'}),define("common/view/group/mine",["text!common/template/group/mine.html","common/view/composite-isotope","common/collection/base","common/view/group/item","common/model/group"],function(e,t,n,r,i){var s=n.extend({url:"/groups/mine"});return t.extend({template:e,childView:r,initialize:function(){this.collection=new s},onShow:function(){var e=this;this.$el.find(this.childViewContainer).infinitescroll({navSelector:"#mine_page_nav",nextSelector:"#mine_page_nav a",dataType:"json",appendCallback:!1,loading:{msgText:"<em></em>",finishedMsg:""},path:function(){return"/groups/mine?before="+moment(e.collection.last().get("createDate")).unix()}},function(t,n){t.length>0&&e.collection.add(t,{parse:!0})}),t.prototype.onShow.apply(this)}})}),define("text!common/template/group/new.html",[],function(){return'<div class="modal-content">\r\n\r\n    <!-- modal body -->\r\n    <div class="modal-header" id="group-create-wizard" data-target="#step-container">\r\n\r\n        <!-- modal close button -->\r\n        <button class="close" data-dismiss="modal" aria-hidden="true">x</button>\r\n\r\n        <!-- step indicator -->\r\n        <ul class="wizard-steps">\r\n            <li data-target="#step1" class="active">\r\n                <span class="step">1</span>\r\n                <span class="title"></span>\r\n            </li>\r\n\r\n            <li data-target="#step2">\r\n                <span class="step">2</span>\r\n                <span class="title"></span>\r\n            </li>\r\n\r\n            <li data-target="#step3">\r\n                <span class="step">3</span>\r\n                <span class="title"></span>\r\n            </li>\r\n\r\n            <li data-target="#step4">\r\n                <span class="step">4</span>\r\n                <span class="title"></span>\r\n            </li>\r\n\r\n            <li data-target="#step5">\r\n                <span class="step">5</span>\r\n                <span class="title"></span>\r\n            </li>\r\n\r\n            <li data-target="#step6">\r\n                <span class="step">6</span>\r\n                <span class="title"></span>\r\n            </li>\r\n        </ul>\r\n\r\n    </div>\r\n\r\n    <!-- modal body -->\r\n    <div class="modal-body step-content pos-rel" id="step-container">\r\n\r\n        <!-- step 1, group type selection -->\r\n        <div class="step-pane active" id="step1">\r\n\r\n            <h4 class="green"><strong></strong></h4>\r\n            <div class="space-8"></div>\r\n\r\n            <div class="col-xs-12 col-md-4" style="padding: 12px;">\r\n                <div id="public-area" class="alert alert-success">\r\n                    <div class="col-xs-6 col-md-12 center">\r\n                        <button class="btn btn-app btn-success no-radius">\r\n                            <i class="ace-icon fa fa-globe"></i>\r\n                            \r\n                        </button>\r\n                    </div>\r\n\r\n                    <div class="col-xs-6 col-md-12">\r\n                        <ul class="list-unstyled spaced2">\r\n                            <li>\r\n                                <i class="ace-icon fa fa-check green"></i>\r\n                                SELink\r\n                            </li>\r\n                            <li>\r\n                                <i class="ace-icon fa fa-check green"></i>\r\n                                \r\n                            </li>\r\n                            <li>\r\n                                <i class="ace-icon fa fa-check green"></i>\r\n                                \r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n\r\n                    <div class="clearfix"></div>\r\n                </div>\r\n            </div>\r\n\r\n            <div class="col-xs-12 col-md-4" style="padding: 12px;">\r\n                <div id="protected-area" class="alert">\r\n                    <div class="col-xs-6 col-md-12 center">\r\n                        <button class="btn btn-app btn-info no-radius">\r\n                            <i class="ace-icon fa fa-envelope"></i>\r\n                            \r\n                        </button>\r\n                    </div>\r\n\r\n                    <div class="col-xs-6 col-md-12">\r\n                        <ul class="list-unstyled spaced2">\r\n                            <li>\r\n                                <i class="ace-icon fa fa-check green"></i>\r\n                                SELink\r\n                            </li>\r\n                            <li>\r\n                                <i class="ace-icon fa fa-warning orange"></i>\r\n                                \r\n                            </li>\r\n                            <li>\r\n                                <i class="ace-icon fa fa-check green"></i>\r\n                                \r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n\r\n                    <div class="clearfix"></div>\r\n                </div>\r\n            </div>\r\n\r\n            <div class="col-xs-12 col-md-4" style="padding: 12px;">\r\n                <div id="private-area" class="alert">\r\n                    <div class="col-xs-6 col-md-12 center">\r\n                        <button class="btn btn-app btn-warning no-radius">\r\n                            <i class="ace-icon fa fa-lock"></i>\r\n                            \r\n                        </button>\r\n                    </div>\r\n\r\n                    <div class="col-xs-6 col-md-12">\r\n                        <ul class="list-unstyled spaced2">\r\n                            <li>\r\n                                <i class="ace-icon fa fa-warning orange"></i>\r\n                                SELink\r\n                            </li>\r\n                            <li>\r\n                                <i class="ace-icon fa fa-warning orange"></i>\r\n                                \r\n                            </li>\r\n                            <li>\r\n                                <i class="ace-icon fa fa-check green"></i>\r\n                                \r\n                            </li>\r\n                        </ul>\r\n                    </div>\r\n\r\n                    <div class="clearfix"></div>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n\r\n        <!-- step 2. group name input -->\r\n        <div class="step-pane" id="step2">\r\n\r\n            <div class="input-group col-xs-10 col-xs-offset-1 col-md-8 col-md-offset-2">\r\n                <h4 class="green"><strong></strong></h4>\r\n                <div class="space-8"></div>\r\n                <ul class="text-primary spaced2">\r\n                    <li>\r\n                        \r\n                    </li>\r\n                    <li>\r\n                        SELink\r\n                    </li>\r\n                    <li>\r\n                        \r\n                    </li>\r\n                    <li>\r\n                        \r\n                    </li>\r\n                </ul>\r\n            </div>\r\n\r\n            <div class="space-16"></div>\r\n\r\n            <div class="form-group col-xs-10 col-xs-offset-1 col-md-6 col-md-offset-3">\r\n                <div class="input-group">\r\n                    <span class="input-group-addon">\r\n                        <i class="ace-icon fa fa-group"></i>\r\n                    </span>\r\n                    <input class="form-control group-name" type="text" placeholder="">\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <!-- step 3, group description input -->\r\n        <div class="step-pane" id="step3">\r\n\r\n            <div class="input-group col-xs-10 col-xs-offset-1 col-md-8 col-md-offset-2">\r\n                <h4 class="green"><strong></strong></h4>\r\n                <div class="space-8"></div>\r\n                <ul class="text-primary spaced2">\r\n                    <li>\r\n                        \r\n                    </li>\r\n                    <li>\r\n                        \r\n                    </li>\r\n                    <li>\r\n                        \r\n                    </li>\r\n                </ul>\r\n            </div>\r\n\r\n            <div class="space-16"></div>\r\n\r\n            <div class="input-group col-xs-10 col-xs-offset-1 col-md-8 col-md-offset-2">\r\n                <textarea style="width: 100%; height: 150px;"></textarea>\r\n            </div>\r\n\r\n        </div>\r\n\r\n        <!-- step 4, invite friends -->\r\n        <div class="step-pane" id="step4"></div>\r\n\r\n        <!-- step 5, invite other people -->\r\n        <div class="step-pane" id="step5"></div>\r\n\r\n        <!-- step 6, confirm -->\r\n        <div class="step-pane" id="step6">\r\n\r\n            <div class="input-group col-xs-10 col-xs-offset-1 col-md-8 col-md-offset-2">\r\n                <h4 class="green"><strong></strong></h4>\r\n            </div>\r\n\r\n            <div class="space-8"></div>\r\n\r\n            <div id="confirm"></div>\r\n\r\n        </div>\r\n\r\n        <div class="clearfix"></div>\r\n\r\n    </div>\r\n\r\n    <!-- modal footer -->\r\n    <div class="modal-footer wizard-actions">\r\n\r\n        <button type="button" class="btn-prev btn">\r\n            <i class="ace-icon fa fa-arrow-left"></i>\r\n            \r\n        </button>\r\n\r\n        <button type="button" class="btn-next btn btn-success" data-last="">\r\n            \r\n            <i class="ace-icon fa fa-arrow-right icon-on-right"></i>\r\n        </button>\r\n\r\n    </div>\r\n\r\n</div>'}),define("text!common/template/group/new/friends.html",[],function(){return'<div class="widget-header">\r\n    <h4 class="widget-title green">\r\n        <i class="ace-icon fa fa-group"></i>\r\n        \r\n    </h4>\r\n    <div class="widget-toolbar no-border">\r\n        <a href="#" class="btn-add-all green">\r\n            <i class="ace-icon fa fa-plus"></i>\r\n            \r\n        </a>\r\n    </div>\r\n</div>\r\n\r\n<div class="widget-body">\r\n    <div class="widget-main ace-thumbnails no-padding" style="max-height: 400px; overflow-y: auto; overflow-x: hidden;">\r\n        <div id="friends_page_nav">\r\n            <a href="/connections/friends"></a>\r\n        </div>\r\n    </div>\r\n</div>'}),define("text!common/template/group/new/item.html",[],function(){return'<a href="#" style="margin: 8px 10px;">\r\n\r\n    <img src="<%= obj.photo %>" />\r\n\r\n    <div class="tags">\r\n        <span class="label-holder hidden check-mark">\r\n            <span class="badge badge-success"><i class="ace-icon fa fa-check"></i></span>\r\n        </span>\r\n        <span class="label-holder">\r\n            <span class="label label-info"><%= obj.firstName %>&nbsp;<%= obj.lastName %></span>\r\n        </span>\r\n    </div>\r\n\r\n    <div class="text">\r\n        <div class="inner"></div>\r\n        <div class="inner hidden"></div>\r\n    </div>\r\n\r\n</a>'}),define("common/view/group/new/item",["text!common/template/group/new/item.html","text!common/template/people/popover.html"],function(e,t){return Backbone.Marionette.ItemView.extend({template:e,tagName:"li",className:"thumbnail-item col-xs-2",ui:{checkMark:".check-mark",selectTxt:".text .inner"},events:{"click a":"onClick"},onShow:function(){this.$el.find("a").popover({html:!0,trigger:"hover",container:"body",placement:"auto top",title:'<img src="'+this.model.get("cover")+'" />',content:_.template(t,this.model.attributes)})},onClick:function(e){e&&e.preventDefault(),this.ui.checkMark.toggleClass("hidden"),this.ui.selectTxt.toggleClass("hidden"),this.trigger("clicked")}})}),define("common/view/group/new/friends",["text!common/template/group/new/friends.html","common/collection/base","common/view/group/new/item"],function(e,t,n){var r=t.extend({url:"/connections/friends"});return Backbone.Marionette.CompositeView.extend({className:"widget-box transparent",template:e,childViewContainer:".widget-main",childView:n,events:{"click .btn-add-all":"onAddAll"},childEvents:{clicked:"onItemClick"},initialize:function(){this.collection=new r},attachHtml:function(e,t,n){var r=this;t.$el.imagesLoaded(function(){r.$el.find(r.childViewContainer).isotope("insert",t.$el)})},onShow:function(){var e=this;setTimeout(function(){e.$el.find(e.childViewContainer).isotope({itemSelector:".thumbnail-item"}),e.$el.find(e.childViewContainer).infinitescroll({navSelector:"#friends_page_nav",nextSelector:"#friends_page_nav a",behavior:"local",binder:e.$el.find(e.childViewContainer),dataType:"json",appendCallback:!1,loading:{msgText:"<em></em>",finishedMsg:""},path:function(){return"/connections/friends?before="+moment(e.collection.last().get("createDate")).unix()}},function(t,n){t.length>0&&e.collection.add(t,{parse:!0})}),e.collection.fetch()},500)},onAddAll:function(e){e.preventDefault(),this.children.each(function(e){e.onClick()})},onItemClick:function(e){var t=this.model.get("invited");_.findWhere(t,{id:e.model.id})?this.model.set("invited",_.without(t,e.model)):t.push(e.model)}})}),define("text!common/template/group/new/people.html",[],function(){return'<div class="widget-header">\r\n    <h4 class="widget-title">\r\n        <i class="ace-icon fa fa-glass"></i>\r\n        \r\n    </h4>\r\n</div>\r\n\r\n<div class="widget-body">\r\n    <div class="widget-main ace-thumbnails" style="max-height: 400px; overflow-y: auto; overflow-x: hidden;">\r\n        <div id="people_page_nav">\r\n            <a href="/connections/nonfriends"></a>\r\n        </div>\r\n    </div>\r\n</div>'}),define("common/view/group/new/people",["text!common/template/group/new/people.html","common/collection/base","common/view/group/new/item"],function(e,t,n){var r=t.extend({url:"/connections/nonfriends"});return Backbone.Marionette.CompositeView.extend({className:"widget-box transparent",template:e,childViewContainer:".widget-main",childView:n,childEvents:{clicked:"onItemClick"},initialize:function(){this.collection=new r},attachHtml:function(e,t,n){var r=this;t.$el.imagesLoaded(function(){r.$el.find(r.childViewContainer).isotope("insert",t.$el)})},onShow:function(){var e=this;setTimeout(function(){e.$el.find(e.childViewContainer).isotope({itemSelector:".thumbnail-item"}),e.$el.find(e.childViewContainer).infinitescroll({navSelector:"#people_page_nav",nextSelector:"#people_page_nav a",behavior:"local",binder:e.$el.find(e.childViewContainer),dataType:"json",appendCallback:!1,loading:{msgText:"<em></em>",finishedMsg:""},path:function(){return"/connections/nonfriends?before="+moment(e.collection.last().get("createDate")).unix()}},function(t,n){t.length>0&&e.collection.add(t,{parse:!0})}),e.collection.fetch()},500)},onItemClick:function(e){var t=this.model.get("invited");_.findWhere(t,{id:e.model.id})?this.model.set("invited",_.without(t,e.model)):t.push(e.model)}})}),define("text!common/template/group/new/confirm.html",[],function(){return'<dt></dt>\r\n<dd>\r\n    <% if (obj.type == \'public\') { %>\r\n        <span class="text-success"></span>\r\n    <% } else if (obj.type == \'protected\') { %>\r\n        <span class="text-primary"></span>\r\n    <% } else if (obj.type == \'private\') { %>\r\n        <span class="text-danger"></span>\r\n    <% } %>\r\n</dd>\r\n\r\n<div class="space-8"></div>\r\n\r\n<dt></dt>\r\n<dd><%= obj.name %></dd>\r\n\r\n<div class="space-8"></div>\r\n\r\n<dt></dt>\r\n<dd>\r\n    <% if (obj.description) { %>\r\n        <%= obj.description %>\r\n    <% } else { %>\r\n        <span class="text-muted"></span>\r\n    <% } %>\r\n</dd>\r\n\r\n<div class="space-8"></div>\r\n\r\n<dt></dt>\r\n<dd>\r\n    <% if (obj.invited.length) { %>\r\n        <ul class="ace-thumbnails">\r\n            <% _.each(obj.invited, function(people) { %>\r\n                <li class="thumbnail-item col-xs-2">\r\n\r\n                    <img src="<%= people.get(\'photo\') %>" />\r\n\r\n                    <div class="tags">\r\n                        <span class="label-holder hidden check-mark">\r\n                            <span class="badge badge-success"><i class="ace-icon fa fa-check"></i></span>\r\n                        </span>\r\n                        <span class="label-holder">\r\n                            <span class="label label-info"><%= people.get(\'firstName\') %>&nbsp;<%= people.get(\'lastName\') %></span>\r\n                        </span>\r\n                    </div>\r\n                </li>\r\n            <% }) %>\r\n        </ul>\r\n    <% } else { %>\r\n        <span class="text-muted"></span>\r\n    <% } %>\r\n</dd>'}),define("common/view/group/new/confirm",["text!common/template/group/new/confirm.html"],function(e){return Backbone.Marionette.ItemView.extend({template:e,tagName:"dl",className:"dl-horizontal text-primary bigger-110 col-xs-10 col-xs-offset-1 col-md-8 col-md-offset-2"})}),define("common/view/group/new",["text!common/template/group/new.html","common/view/group/new/friends","common/view/group/new/people","common/view/group/new/confirm"],function(e,t,n,r){return Backbone.Marionette.LayoutView.extend({className:"modal-dialog post-modal",template:e,regions:{friendsRegion:"#step4",peopleRegion:"#step5",confirmRegion:"#confirm"},ui:{groupName:".group-name"},events:{"click #public-area":"setGroupPublic","click #protected-area":"setGroupProtected","click #private-area":"setGroupPrivate"},initialize:function(){this.friendsView=new t({model:this.model}),this.peopleView=new n({model:this.model})},onShow:function(){var e=this;this.$el.find("#group-create-wizard").ace_wizard().on("change",function(t,n){if(n.step==2){var i=_.str.trim(e.ui.groupName.val());if(_.str.isBlank(i))return e.ui.groupName.addClass("tooltip-error").tooltip({placement:"bottom",title:""}).closest(".form-group").addClass("has-error").find("i").addClass("animated-input-error"),!1;e.model.set("name",i),e.ui.groupName.removeClass("tooltip-error").tooltip("destroy").closest(".form-group").removeClass("has-error").find("i").removeClass("animated-input-error")}if(n.step==3){var s=e.$el.find("textarea").val(),o=s.replace(/(?:\r\n|\r|\n)/g,"<br />");_.str.isBlank(o)||e.model.set("description",o),e.friendsRegion.show(e.friendsView)}n.step==4&&e.peopleRegion.show(e.peopleView),n.step==5&&(e.confirmView=new r({model:e.model}),e.confirmRegion.show(e.confirmView))}).on("finished",function(t){var n=_.pluck(e.model.get("invited"),"id");e.model.set("invited",n),e.model.save(null,{success:function(){selink.modalArea.$el.modal("hide")}})})},setGroupPublic:function(){this.$el.find(".alert").removeClass("alert-info alert-warning"),this.$el.find("#public-area").addClass("alert-success"),this.model.set("type","public")},setGroupProtected:function(){this.$el.find(".alert").removeClass("alert-success alert-warning"),this.$el.find("#protected-area").addClass("alert-info"),this.model.set("type","protected")},setGroupPrivate:function(){this.$el.find(".alert").removeClass("alert-info alert-success"),this.$el.find("#private-area").addClass("alert-warning"),this.model.set("type","private")}})}),define("common/view/group/main",["text!common/template/group/main.html","common/view/group/discover","common/view/group/joined","common/view/group/mine","common/view/group/new","common/model/group"],function(e,t,n,r,i,s){return Backbone.Marionette.LayoutView.extend({template:e,events:{"click .btn-discover":"showDiscoverView","click .btn-joined":"showJoinedView","click .btn-mine":"showMineView","click .btn-new":"showNewView"},regions:{displayRegion:"#display"},onShow:function(){this.options.type=="joined"?this.showJoinedView():this.options.type=="mine"?this.showMineView():this.showDiscoverView()},showDiscoverView:function(){this.discoverView=new t,this.displayRegion.show(this.discoverView),selink.router.navigate("#group/discover")},showJoinedView:function(){this.joinedView=new n,this.displayRegion.show(this.joinedView),selink.router.navigate("#group/joined")},showMineView:function(){this.mineView=new r,this.displayRegion.show(this.mineView),selink.router.navigate("#group/mine")},showNewView:function(){this.newView=new i({model:new s({type:"public",invited:[]})}),selink.modalArea.show(this.newView),selink.modalArea.$el.modal("show")}})}),define("text!common/template/group/detail.html",[],function(){return'<%\r\n    var isMine = (obj._owner._id == selink.user.id) ? true : false,\r\n        isJoined = (_.indexOf(obj.participants, selink.user.id) >= 0) ? true : false,\r\n        needApply = (obj.type == \'protected\') ? true : false;\r\n%>\r\n\r\n<div class="isotope">\r\n\r\n    <div class="stamp col-xs-12 col-md-4">\r\n\r\n        <div style="border: 1px solid #CCC;">\r\n\r\n            <div style="position: relative;">\r\n\r\n                <% if (isMine) { %>\r\n                    <div id="cover"></div>\r\n                <% } else { %>\r\n                    <img src="<%= obj.cover %>">\r\n                <% } %>\r\n\r\n                <a href="#profile/<%= obj._owner._id %>" style="position: absolute; bottom: -20px; right: 10px;">\r\n                    <img class="avatar-owner" src="<%= obj._owner.photo %>" style="max-width: 50px; border-radius: 100%; border: 2px solid white;">\r\n                </a>\r\n\r\n            </div>\r\n\r\n            <blockquote>\r\n                <% if (isMine) { %>\r\n                    <p id="name" class="sl-editable" style="margin-bottom: 0px;"></p>\r\n                    <div id="description" class="sl-editable"></div>\r\n                <% } else { %>\r\n                    <p><%= obj.name %></p>\r\n                    <small><%= obj.description %></small>\r\n                <% } %>\r\n            </blockquote>\r\n\r\n            <div id="events" class="clearfix" style="padding: 12px;"></div>\r\n\r\n            <div id="members" class="clearfix" style="padding: 12px;"></div>\r\n\r\n            <div class="clearfix group-info" style="padding: 12px;">\r\n\r\n                <% if (isJoined) { %>\r\n                    <span class="text-success"><i class="ace-icon fa fa-check"></i>&nbsp;</span>\r\n                <% } else { %>\r\n                    <button class="btn btn-sm btn-info btn-join"\r\n                            data-loading-text="<i class=\'ace-icon fa fa-spinner fa-spin white bigger-125\'></i>&nbsp;&nbsp;">\r\n                        <i class="ace-icon fa fa-plus"></i>&nbsp;\r\n                    </button>\r\n                <% } %>\r\n\r\n                <% if (isMine) { %>\r\n                    <div class="pull-right green btn-member">\r\n                        <i class="ace-icon fa fa-group tooltip-success"></i>\r\n                        <span class="participantsNum"><%= obj.participants.length %></span>\r\n                    </div>\r\n\r\n                    <div class="pull-right red btn-invited" style="padding-right: 10px;">\r\n                        <i class="ace-icon fa fa-paper-plane tooltip-error"></i>\r\n                        <span class="invitationNum"><%= obj.invited.length %></span>\r\n                    </div>\r\n                <% } else { %>\r\n                    <div class="pull-right green">\r\n                        <i class="ace-icon fa fa-group tooltip-success"></i>\r\n                        <%= obj.participants.length %>\r\n                    </div>\r\n                <% } %>\r\n\r\n                <div class="pull-right orange" style="padding-right: 10px;">\r\n                    <i class="ace-icon fa fa-tasks tooltip-warning"></i>\r\n                    <%= obj.events.length %>\r\n                </div>\r\n\r\n                <div class="pull-right blue" style="padding-right: 10px;">\r\n                    <i class="ace-icon fa fa-edit tooltip-info"></i>\r\n                    <%= obj.posts.length %>\r\n                </div>\r\n\r\n            </div>\r\n\r\n        </div>\r\n    </div>\r\n\r\n    <div id="new-post" class="stamp col-xs-12 col-md-8 post-area"\r\n        style="<% if (!isMine && !isJoined) print(\'display: none;\') %>">\r\n    </div>\r\n\r\n    <div class="stamp col-xs-12 col-md-8 alert-area" style="<% if (isMine || isJoined) print(\'display: none;\') %>">\r\n        <div class="alert alert-block alert-danger">\r\n            <p class="center">\r\n                <strong>\r\n                    <i class="ace-icon fa fa-comments bigger-150"></i>\r\n                    <%= obj.name %>\r\n                </strong>\r\n            </p>\r\n        </div>\r\n    </div>\r\n\r\n</div>\r\n\r\n<nav id="page_nav">\r\n  <a href="/groups/<%= obj._id %>/posts"></a>\r\n</nav>'}),define("text!common/template/group/detail/cover.html",[],function(){return'<img src="<%= obj.cover %>">\r\n<span class="fileinput-button hide">\r\n    <button class="btn btn-info"><i class="ace-icon fa fa-upload"></i>&nbsp;</button>\r\n    <input id="fileupload" type="file" name="cover" data-url="/groups/<%= obj._id %>/cover">\r\n</span>'}),define("text!common/template/group/detail/cover-crop.html",[],function(){return'<div class="modal-content">\r\n    <div class="modal-header">\r\n        <button type="button" class="close" data-dismiss="modal">&times;</button>\r\n        <h4 class="blue">\r\n            <i class="ace-icon fa fa-photo bigger-110"></i>&nbsp;&nbsp;\r\n            <strong></strong>\r\n        </h4>\r\n    </div>\r\n\r\n    <div class="modal-body overflow-visible align-center">\r\n        <img src="<%= obj.coverOriginal %>">\r\n    </div>\r\n\r\n    <div class="modal-footer">\r\n        <button class="btn btn-sm btn-success btn-save"><i class="ace-icon fa fa-check"></i> </button>\r\n        <button class="btn btn-sm" data-dismiss="modal"><i class="ace-icon fa fa-times"></i> </button>\r\n    </div>\r\n</div>'}),define("common/view/group/detail/cover-crop",["text!common/template/group/detail/cover-crop.html"],function(e){return Backbone.Marionette.ItemView.extend({template:e,className:"modal-dialog crop-modal",events:{"click .btn-save":"onSave"},onShow:function(){var e=this;this.$el.find("img").Jcrop({aspectRatio:4,minSize:[600,150],setSelect:[0,0,600,150],boxWidth:800,onSelect:function(t){e.select=t}})},onSave:function(){var e=this;$.ajax({url:"/groups/"+this.model.get("_id")+"/cover-scale",data:this.select,type:"PUT",dataType:"json",timeout:3e3,success:function(t){e.model.set("cover",t.cover),selink.modalArea.$el.modal("hide")}})}})}),define("common/view/group/detail/cover",["text!common/template/group/detail/cover.html","common/view/group/detail/cover-crop"],function(e,t){return Backbone.Marionette.ItemView.extend({template:e,ui:{cover:"img",inputFile:'input[type="file"]'},events:{mouseover:"showUploadBtn",mouseout:"hideUploadBtn"},modelEvents:{"change:cover":"updateCover"},onRender:function(){var e=this;this.ui.inputFile.fileupload({type:"PUT",dataType:"json",done:function(n,r){e.model.set("coverOriginal",r.result.fileName);var i=new t({model:e.model});selink.modalArea.show(i),selink.modalArea.$el.modal("show")},error:function(){$.gritter.add({title:"",text:"jpggifpng",class_name:"gritter-error"})}})},updateCover:function(){var e=this;this.ui.cover.slFadeOutUp("",function(){$(this).attr("src",e.model.get("cover")),$(this).removeClass("fadeOutUp").addClass("fadeInDown")})},showUploadBtn:function(){this.$el.find(".fileinput-button").removeClass("hide")},hideUploadBtn:function(){this.$el.find(".fileinput-button").addClass("hide")}})}),define("text!common/template/group/detail/name.html",[],function(){return'<div class="sl-value">\r\n    <% if (obj.name) { %>\r\n        <%= obj.name %>\r\n    <% } else { %>\r\n        <span class="text-muted"></span>\r\n    <% } %>\r\n</div>\r\n<div class="sl-editor row">\r\n    <div class="col-xs-12 form-group">\r\n        <input type="text" class="col-xs-12 text-center" placeholder="" name="name" value="<%= obj.name %>" maxlength="50">\r\n    </div>\r\n</div>'}),define("common/view/group/detail/name",["common/view/item-base","text!common/template/group/detail/name.html"],function(e,t){return e.extend({template:t,placeholder:"",initialize:function(){this.ui=_.extend({},this.ui,{name:'input[name="name"]'}),this.events=_.extend({},this.events,{'change input[name="name"]':"updateModel"}),this.modelEvents={"change:name":"save"}},onRender:function(){Backbone.Validation.bind(this)},updateModel:function(){this.clearError();var e=this.model.preValidate(this.getData());e?this.showError(e):this.model.set(this.getData())},getData:function(){return{name:this.ui.name.val()}},renderValue:function(e){if(!e.name){this.ui.value.html(this.placeholder);return}this.ui.value.text(e.name)}})}),define("text!common/template/group/detail/description.html",[],function(){return'<small class="sl-value">\r\n    <%\r\n        if (obj.description) print(obj.description)\r\n        else print(\'<div class="empty-view text-muted bigger-125 center"><br/></div>\');\r\n    %>\r\n</small>\r\n<div class="sl-editor">\r\n    <textarea style="width: 100%; height: 200px;"><%= obj.description ? obj.description.replace(/<br\\s*\\/?>/mg, "\\n") : "" %></textarea>\r\n</div>'}),define("common/view/group/detail/description",["common/view/item-base","text!common/template/group/detail/description.html"],function(e,t){return e.extend({template:t,placeholder:'<div class="empty-view text-muted bigger-125 center"><br/></div>',initialize:function(){this.ui=_.extend({},this.ui,{input:"input"}),this.events=_.extend({},this.events,{"focusout .sl-editor":"save"})},getData:function(){var e=this.$el.find("textarea").val(),t=e.replace(/(?:\r\n|\r|\n)/g,"<br />");return _.str.isBlank(t)?{description:""}:{description:t}},renderValue:function(e){if(!e.description){this.ui.value.html(this.placeholder);return}this.ui.value.empty().html(e.description)}})}),define("text!common/template/group/detail/events.html",[],function(){return'<%\n    var isMine = (obj._owner._id == selink.user.id) ? true : false;\n%>\n\n<div class="widget-header widget-header-small">\n    <h5 class="widget-title text-info">\n        <i class="ace-icon fa fa-tasks"></i>\n        \n    </h5>\n    <% if (isMine) { %>\n    <div class="widget-toolbar no-border action-buttons">\n        <a class="btn-event"><i class="ace-icon fa fa-calendar"></i></a>\n    </div>\n    <% } %>\n</div>\n\n<div class="widget-body">\n    <div class="widget-main no-padding" style="max-height: 500px;">\n    </div>\n</div>'}),define("text!common/template/group/detail/event.html",[],function(){return'<div class="row" style="max-width: 100%; overflow: hidden; margin: 0 10px;">\r\n    <div class="col-xs-5">  \r\n        <i class="ace-icon fa fa-calendar-o"></i>\r\n        <small><%= moment(obj.start).format(\'L\') %></small>\r\n    </div>\r\n    <div class="col-xs-7" style="text-align: left;">\r\n        <%= obj.title %>\r\n    </div>\r\n</div>'}),define("text!common/template/calendar/popover.html",[],function(){return'<%\r\n    var startDate = obj.start ? moment(obj.start).format(\'LL HH:mm\') : "",\r\n        endDate = obj.end ? moment(obj.end).format(\'LL HH:mm\') : "" ;\r\n%>\r\n\r\n<div class="no-margin">\r\n\r\n    <div style="margin-top: 40px; word-break: break-all;">\r\n        <strong><%= obj.group.name %></strong>\r\n        \r\n        <strong><%= obj.title %></strong>\r\n        <br/>\r\n        <small><%= obj.memo %></small>\r\n    </div>\r\n\r\n    <hr style="margin: 10px 4px;">\r\n\r\n    <% if (obj.start) { %>\r\n        <div><small><%= startDate %></small></div>\r\n    <% } %>\r\n\r\n    <% if (obj.end) { %>\r\n        <div><small><%= endDate %></small></div>\r\n    <% } %>\r\n\r\n</div>'}),define("text!common/template/calendar/event.html",[],function(){return'<%\n    var labelList = [\n        \'primary\',\n        \'info\',\n        \'success\',\n        \'purple\',\n        \'danger\',\n        \'pink\',\n        \'warning\',\n        \'yellow\'\n    ];\n\n    var startDate = obj.start ? moment(obj.start).format(\'YYYY/MM/DD\') : "",\n        startTime = obj.start ? moment(obj.start).format(\'HH:mm\') : "",\n        endDate = obj.end ? moment(obj.end).format(\'YYYY/MM/DD\') : "",\n        endTime = obj.end ? moment(obj.end).format(\'HH:mm\') : "";\n%>\n\n<div class="modal-content">\n    <div class="modal-header">\n        <button type="button" class="close" data-dismiss="modal">&times;</button>\n        <div class="row">\n            <h4 class="blue bigger col-sm-3"><span class="ace-icon fa fa-bell-o"></span>&nbsp;&nbsp;</h4>\n            <div data-toggle="buttons" class="btn-group col-sm-8">\n                <%\n                    _.each(labelList, function(labelClass) {\n\n                        var active = (\'label-\' + labelClass == obj.className) ? \'active\' : \'\';\n\n                        print(\'<label class="btn btn-sm btn-\' + labelClass + \' \' + active + \'">\');\n                        print(\'<input type="radio" name="label" value="label-\' + labelClass + \'" />\');\n                        print(\'&nbsp;&nbsp;</label>\');\n                    });\n                %>\n            </div>\n        </div>\n    </div>\n\n    <div class="modal-body overflow-visible">\n\n        <div class="row">\n            <div class="form-group col-xs-8">\n                <div class="input-group">\n                    <span class="input-group-addon"><i class="ace-icon fa fa-tag"></i></span>\n                    <input class="form-control" type="text" name="title" placeholder="" value="<%= obj.title %>" maxlength="50" />\n                </div>\n            </div>\n\n            <div class="checkbox col-xs-4">\n                <label>\n                    <input class="ace" type="checkbox" name="allDay" <% if (obj.allDay) print(\'checked\'); %>/>\n                    <span class="lbl"> </span>\n                </label>\n            </div>\n        </div>\n\n        <div class="row">\n            <div class="form-group col-xs-5">\n                <div class="input-group">\n                    <span class="input-group-addon"><i class="ace-icon fa fa-calendar"></i></span>\n                    <input class="form-control" type="text" name="startDate" placeholder="" value="<%= startDate %>"/>\n                </div>\n            </div>\n\n            <div class="form-group col-xs-5">\n                <div class="input-group">\n                    <span class="input-group-addon"><i class="ace-icon fa fa-clock-o"></i></span>\n                    <div class="bootstrap-timepicker">\n                        <input class="form-control" type="text" name="startTime" placeholder="" value="<%= startTime %>"/>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <div class="row">\n            <div class="form-group col-xs-5">\n                <div class="input-group">\n                    <span class="input-group-addon"><i class="ace-icon fa fa-calendar"></i></span>\n                    <input class="form-control" type="text" name="endDate" placeholder="" value="<%= endDate %>"/>\n                </div>\n            </div>\n\n            <div class="form-group col-xs-5">\n                <div class="input-group">\n                    <span class="input-group-addon"><i class="ace-icon fa fa-clock-o"></i></span>\n                    <div class="bootstrap-timepicker">\n                        <input class="form-control" type="text" name="endTime" placeholder="" value="<%= endTime %>"/>\n                    </div>\n                </div>\n            </div>\n        </div>\n\n        <div class="hr hr-double dotted"></div>\n\n        <div class="row">\n            <div class="wysiwyg-editor" style="margin-left: 15px; margin-right: 15px;"><%= obj.memo %></div>\n        </div>\n\n    </div>\n\n    <div class="modal-footer">\n        <button class="btn btn-sm" data-dismiss="modal"><i class="ace-icon fa fa-times"></i> </button>\n        <% if (obj._id) { %>\n            <button class="btn btn-sm btn-danger btn-remove"><i class="ace-icon fa fa-trash-o"></i> </button>\n        <% } %>\n        <button class="btn btn-sm btn-success btn-save"><i class="ace-icon fa fa-check"></i> </button>\n    </div>\n</div>'}),define("common/view/calendar/event",["common/view/item-base","text!common/template/calendar/event.html"],function(e,t){var n=e.extend({template:t,className:"modal-dialog",initialize:function(){this.ui=_.extend({},this.ui,{title:'input[name="title"]',allDay:'input[name="allDay"]',startDate:'input[name="startDate"]',startTime:'input[name="startTime"]',endDate:'input[name="endDate"]',endTime:'input[name="endTime"]',memo:".wysiwyg-editor",removeBtn:".btn-remove",saveBtn:".btn-save"}),this.events=_.extend({},this.events,{'change input[name="allDay"]':"setAllDay","click .btn-save":"saveEvent","click .btn-remove":"removeEvent"})},onRender:function(){this.ui.memo.ace_wysiwyg().prev().addClass("wysiwyg-style3"),this.$el.find('input[name="startDate"],input[name="endDate"]').datepicker({format:"yyyy/mm/dd",clearBtn:!0,todayBtn:"linked",language:"ja"}),this.$el.find('input[name="startTime"],input[name="endTime"]').timepicker({minuteStep:5,showMeridian:!1,defaultTime:!1}),this.$el.find('input[name="startDate"],input[name="endDate"]').mask("9999/99/99"),this.$el.find('input[name="startTime"],input[name="endTime"]').mask("99:99"),this.setAllDay(),Backbone.Validation.bind(this)},onBeforeDestroy:function(){this.$el.find('input[name="startDate"],input[name="endDate"]').datepicker("remove")},setAllDay:function(){$dateInput=this.$el.find('input[name="startTime"],input[name="endTime"]'),this.ui.allDay.is(":checked")?$dateInput.attr("disabled","disabled"):$dateInput.prop("disabled",!1)},saveEvent:function(){if(this.inputValid()){var e=this.ui.startDate.val()?new Date(this.ui.startDate.val()):null,t=this.ui.endDate.val()?new Date(this.ui.endDate.val()):null,n=this.ui.startTime.val()?this.ui.startTime.val().split(":"):["0","0"],r=this.ui.endTime.val()?this.ui.endTime.val().split(":"):["0","0"];e&&(e.setHours(Number(n[0])),e.setMinutes(Number(n[1]))),t&&(t.setHours(Number(r[0])),t.setMinutes(Number(r[1])));var i=this.ui.allDay.is(":checked")?!0:!1,s={title:this.ui.title.val(),className:this.$el.find('input[name="label"]:checked').val(),allDay:i,start:e,end:t,memo:this.ui.memo.cleanHtml()};this.model.set({title:this.ui.title.val(),className:this.$el.find('input[name="label"]:checked').val(),allDay:i,start:e,end:t,memo:this.ui.memo.cleanHtml()}),this.model.isNew()&&this.collection.add(this.model.toJSON()),selink.modalArea.$el.modal("hide")}},removeEvent:function(){this.collection.remove(this.model)},inputValid:function(){this.$el.find("input").removeClass("tooltip-error").tooltip("destroy").closest(".form-group").removeClass("has-error").find("i").removeClass("animated-input-error");var e=this.model.preValidate({title:this.ui.title.val(),startDate:this.ui.startDate.val(),endDate:this.ui.endDate.val()})||{};if(this.ui.startDate.val()&&this.ui.endDate.val()){var t=new Date(this.ui.startDate.val()),n=new Date(this.ui.endDate.val()),r=this.ui.startTime.val()?this.ui.startTime.val().split(":"):["0","0"],i=this.ui.endTime.val()?this.ui.endTime.val().split(":"):["0","0"];t.setHours(Number(r[0])),t.setMinutes(Number(r[1])),n.setHours(Number(i[0])),n.setMinutes(Number(i[1])),moment(t).isAfter(n)&&(e.endDate=e.endTime="")}if(!_.isEmpty(e)){for(var s in e)this.$el.find('input[name="'+s+'"]').addClass("tooltip-error").tooltip({placement:"bottom",title:e[s]}).closest(".form-group").addClass("has-error").find("i").addClass("animated-input-error");return!1}return!0}});return n}),define("common/view/group/detail/event",["text!common/template/group/detail/event.html","text!common/template/calendar/popover.html","common/view/calendar/event"],function(e,t,n){return Backbone.Marionette.ItemView.extend({template:e,className:"external-event label label-xlg arrowed arrowed-right",events:{click:"editEvent"},onRender:function(){this.model.get("className")?this.$el.addClass(this.model.get("className")):this.$el.addClass("label-primary")},onShow:function(){this.$el.popover({html:!0,trigger:"hover",container:"body",placement:"auto right",title:'<img src="'+this.model.collection.document.get("cover")+'" />',content:_.template(t,this.model.attributes)})},editEvent:function(){if(!this.model.get("isMine"))return;var e=new n({model:this.model,collection:this.model.collection});selink.modalArea.show(e),selink.modalArea.$el.modal("show")}})}),define("common/view/group/detail/events",["text!common/template/group/detail/events.html","common/collection/base","common/view/group/detail/event"],function(e,t,n){var r=t.extend({url:function(){return"/groups/"+this.document.id+"/events?after="+moment().unix()}});return Backbone.Marionette.CompositeView.extend({className:"widget-box transparent",template:e,childViewContainer:".widget-main",childView:n,collectionEvents:{add:"createEvent",change:"updateEvent",remove:"removeEvent"},initialize:function(){this.collection=new r(null,{document:this.model}),this.collection.fetch()},onRender:function(){this.$el.find(".btn-event").tooltip({placement:"top",title:"",container:"body",template:'<div class="tooltip tooltip-info"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'})},createEvent:function(e){var t=this;this.collection.create(e,{success:function(e,n,r){selink.modalArea.$el.modal("hide"),t.trigger("ensureLayout")},wait:!0})},updateEvent:function(e){if(e.isNew())return;var t=this;e.save(null,{success:function(e,t,n){selink.modalArea.$el.modal("hide")},patch:!0})},removeEvent:function(e){var t=this;e.destroy({success:function(){selink.modalArea.$el.modal("hide"),t.trigger("ensureLayout")},wait:!0})}})}),define("text!common/template/group/detail/members.html",[],function(){return'<%\r\n    var isMine = (obj._owner._id == selink.user.id) ? true : false;\r\n%>\r\n\r\n<div class="widget-header widget-header-small">\r\n    <h5 class="widget-title text-success">\r\n        <i class="ace-icon fa fa-group"></i>\r\n        \r\n    </h5>\r\n    <% if (isMine) { %>\r\n    <div class="widget-toolbar no-border action-buttons">\r\n        <a class="green btn-invite"><i class="ace-icon fa fa-plus"></i></a>\r\n    </div>\r\n    <% } %>\r\n</div>\r\n\r\n<div class="widget-body">\r\n    <div class="widget-main no-padding" style="max-height: 500px;">\r\n        <div class="thumbnail-item grid-sizer col-xs-2"></div>\r\n    </div>\r\n</div>'}),define("text!common/template/group/detail/member.html",[],function(){return'<a href="#">\n    <img src="<%= obj.photo %>" />\n</a>'}),define("common/view/group/detail/member",["text!common/template/group/detail/member.html","text!common/template/people/popover.html"],function(e,t){return Backbone.Marionette.ItemView.extend({template:e,className:"thumbnail-item col-xs-2",onShow:function(){this.$el.find("a").popover({html:!0,trigger:"hover",container:"body",placement:"auto top",title:'<img src="'+this.model.get("cover")+'" />',content:_.template(t,this.model.attributes)})}})}),define("text!common/template/group/detail/member/invite.html",[],function(){return'<div class="modal-content">\n\n    <!-- modal header -->\n    <div class="modal-header">\n\n        <button type="button" class="close" data-dismiss="modal">&times;</button>\n\n        <!-- group name -->\n        <h4 class="pink inline align-bottom">\n            <i class="ace-icon fa fa-group bigger-110"></i>\n            <strong><%= obj.name %></strong>\n        </h4>\n\n    </div>\n\n    <!-- modal body -->\n    <div class="modal-body" style="padding: 15px;">\n        <div class="ace-thumbnails" style="max-height: 400px; overflow-y: auto; overflow-x: hidden;">\n            \n        </div>\n        <div id="friends_page_nav">\n            <a href="/connections/friends"></a>\n        </div>\n    </div>\n\n    <!-- modal footer -->\n    <div class="modal-footer wizard-actions">\n\n        <button type="button" class="btn btn-primary btn-add-all">\n            <i class="ace-icon fa fa-plus"></i>\n            \n        </button>\n\n        <button type="button" class="btn btn-success btn-invite disabled">\n            \n            <i class="ace-icon fa fa-arrow-right icon-on-right"></i>\n        </button>\n\n    </div>\n\n</div>'}),define("text!common/template/group/detail/member/item.html",[],function(){return'<a href="#" style="margin: 2px 0px;">\r\n\r\n    <img src="<%= obj.photo %>" />\r\n\r\n    <div class="tags">\r\n        <span class="label-holder hidden check-mark">\r\n            <span class="badge badge-success"><i class="ace-icon fa fa-check"></i></span>\r\n        </span>\r\n        <span class="label-holder">\r\n            <span class="label label-info"><%= obj.firstName %>&nbsp;<%= obj.lastName %></span>\r\n        </span>\r\n    </div>\r\n\r\n    <div class="text">\r\n        <div class="inner"></div>\r\n        <div class="inner hidden"></div>\r\n    </div>\r\n\r\n</a>'}),define("common/view/group/detail/member/item",["text!common/template/group/detail/member/item.html","text!common/template/people/popover.html"],function(e,t){return Backbone.Marionette.ItemView.extend({template:e,tagName:"li",className:"thumbnail-item col-xs-2",ui:{checkMark:".check-mark",selectTxt:".text .inner"},events:{"click a":"onClick"},onShow:function(){this.$el.find("a").popover({html:!0,trigger:"hover",container:"body",placement:"auto top",title:'<img src="'+this.model.get("cover")+'" />',content:_.template(t,this.model.attributes)})},onClick:function(e){e&&e.preventDefault(),this.ui.checkMark.toggleClass("hidden"),this.ui.selectTxt.toggleClass("hidden"),this.trigger("clicked")}})}),define("common/view/group/detail/member/invite",["text!common/template/group/detail/member/invite.html","common/collection/base","common/view/group/detail/member/item"],function(e,t,n){var r=t.extend({url:"/connections/friends?size=40"});return Backbone.Marionette.CompositeView.extend({className:"modal-dialog",template:e,childViewContainer:".ace-thumbnails",childView:n,events:{"click .btn-add-all":"onAddAll","click .btn-invite":"onInvite"},childEvents:{clicked:"onItemClick"},initialize:function(){this.selectFriends=[],this.selectView=[],this.collection=new r},attachHtml:function(e,t,n){var r=this;if(_.indexOf(this.model.get("participants"),t.model.id)>=0||_.indexOf(this.model.get("invited"),t.model.id)>=0)return;t.$el.imagesLoaded(function(){r.$el.find(r.childViewContainer).isotope("insert",t.$el)})},onShow:function(){var e=this;setTimeout(function(){e.$el.find(e.childViewContainer).isotope({itemSelector:".thumbnail-item"}),e.$el.find(e.childViewContainer).infinitescroll({navSelector:"#friends_page_nav",nextSelector:"#friends_page_nav a",behavior:"local",binder:e.$el.find(e.childViewContainer),dataType:"json",appendCallback:!1,loading:{msgText:"<em></em>",finishedMsg:""},path:function(){return"/connections/friends?before="+moment(e.collection.last().get("createDate")).unix()}},function(t,n){t.length>0&&e.collection.add(t,{parse:!0})}),e.collection.fetch()},500)},onAddAll:function(e){e.preventDefault(),this.children.each(function(e){e.onClick()})},onItemClick:function(e){_.indexOf(this.selectFriends,e.model.id)<0?(this.selectFriends.push(e.model.id),this.selectView.push(e.$el)):(this.selectFriends=_.without(this.selectFriends,e.model.id),this.selectView=_.without(this.selectView,e.$el)),this.selectFriends.length?this.$el.find(".btn-invite").removeClass("disabled"):this.$el.find(".btn-invite").addClass("disabled")},onInvite:function(){var e=this;this.model.save({invited:this.selectFriends},{url:this.model.url()+"/invite",success:function(){e.$el.find(".btn-invite").addClass("disabled"),_.each(e.selectView,function(t){e.$el.find(e.childViewContainer).isotope("remove",t).isotope("layout")}),e.selectFriends=[],e.selectView=[]},patch:!0,wait:!0})}})}),define("common/view/group/detail/members",["text!common/template/group/detail/members.html","common/view/composite-isotope","common/collection/base","common/view/group/detail/member","common/view/group/detail/member/invite"],function(e,t,n,r,i){var s=n.extend({url:function(){return"/groups/"+this.document.id+"/connections/participants"}});return t.extend({className:"widget-box transparent",template:e,childViewContainer:".widget-main",childView:r,childSelector:".thumbnail-item",events:{"click .btn-invite":"showInviteView"},modelEvents:{"change:participants":"renderParticipants"},initialize:function(){this.collection=new s(null,{document:this.model})},onRender:function(){this.$el.find(".btn-invite").tooltip({placement:"top",title:"",container:"body",template:'<div class="tooltip tooltip-success"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'})},showInviteView:function(){var e=new i({model:this.model});selink.modalArea.show(e),selink.modalArea.$el.modal("show")},renderParticipants:function(){var e=this;this.collection.fetch({success:function(){e.ensureLayout()}})}})}),define("text!common/template/group/detail/member/participants.html",[],function(){return'<div class="modal-content">\n\n    <!-- modal header -->\n    <div class="modal-header">\n\n        <button type="button" class="close" data-dismiss="modal">&times;</button>\n\n        <!-- group name -->\n        <h4 class="pink inline align-bottom">\n            <i class="ace-icon fa fa-group bigger-110"></i>\n            <strong><%= obj.name %></strong>\n        </h4>\n\n    </div>\n\n    <!-- modal body -->\n    <div class="modal-body" style="padding: 15px;">\n        <div class="ace-thumbnails" style="max-height: 400px; overflow-y: auto; overflow-x: hidden;">\n            \n        </div>\n    </div>\n\n    <!-- modal footer -->\n    <div class="modal-footer wizard-actions">\n\n        <button type="button" class="btn btn-danger btn-expel disabled">\n            \n            <i class="ace-icon fa fa-arrow-right icon-on-right"></i>\n        </button>\n\n    </div>\n\n</div>'}),define("common/view/group/detail/member/participants",["text!common/template/group/detail/member/participants.html","common/collection/base","common/view/group/detail/member/item"],function(e,t,n){var r=t.extend({url:function(){return"/groups/"+this.document.id+"/connections/participants"}});return Backbone.Marionette.CompositeView.extend({className:"modal-dialog",template:e,childViewContainer:".ace-thumbnails",childView:n,events:{"click .btn-expel":"onExpel"},childEvents:{clicked:"onItemClick"},initialize:function(){this.selectMember=[],this.selectView=[],this.collection=new r(null,{document:this.model})},attachHtml:function(e,t,n){var r=this;if(t.model.id==selink.user.id)return;t.$el.imagesLoaded(function(){r.$el.find(r.childViewContainer).isotope("insert",t.$el)})},onShow:function(){var e=this;setTimeout(function(){e.$el.find(e.childViewContainer).isotope({itemSelector:".thumbnail-item"}),e.$el.find(".widget-main").niceScroll({horizrailenabled:!1}),e.collection.fetch()},500)},onItemClick:function(e){_.indexOf(this.selectMember,e.model.id)<0?(this.selectMember.push(e.model.id),this.selectView.push(e.$el)):(this.selectMember=_.without(this.selectMember,e.model.id),this.selectView=_.without(this.selectView,e.$el)),this.selectMember.length?this.$el.find(".btn-expel").removeClass("disabled"):this.$el.find(".btn-expel").addClass("disabled")},onExpel:function(){var e=this;this.model.save({expeled:this.selectMember},{url:this.model.url()+"/expel",success:function(){e.$el.find(".btn-expel").addClass("disabled"),_.each(e.selectView,function(t){e.$el.find(e.childViewContainer).isotope("remove",t).isotope("layout")}),e.selectMember=[],e.selectView=[]},patch:!0,wait:!0})}})}),define("text!common/template/group/detail/member/invited.html",[],function(){return'<div class="modal-content">\r\n\r\n    <!-- modal header -->\r\n    <div class="modal-header">\r\n\r\n        <button type="button" class="close" data-dismiss="modal">&times;</button>\r\n\r\n        <!-- group name -->\r\n        <h4 class="pink inline align-bottom">\r\n            <i class="ace-icon fa fa-group bigger-110"></i>\r\n            <strong><%= obj.name %></strong>\r\n        </h4>\r\n\r\n    </div>\r\n\r\n    <!-- modal body -->\r\n    <div class="modal-body" style="padding: 15px;">\r\n        <div class="ace-thumbnails" style="max-height: 400px; overflow-y: auto; overflow-x: hidden;">\r\n            \r\n        </div>\r\n    </div>\r\n\r\n</div>'}),define("common/view/group/detail/member/invited",["text!common/template/group/detail/member/invited.html","common/collection/base","common/view/group/detail/member/item"],function(e,t,n){var r=t.extend({url:function(){return"/groups/"+this.document.id+"/connections/invited"}});return Backbone.Marionette.CompositeView.extend({className:"modal-dialog",template:e,childViewContainer:".ace-thumbnails",childView:n,initialize:function(){this.collection=new r(null,{document:this.model})},attachHtml:function(e,t,n){var r=this;t.$el.imagesLoaded(function(){r.$el.find(r.childViewContainer).isotope("insert",t.$el)})},onShow:function(){var e=this;setTimeout(function(){e.$el.find(e.childViewContainer).isotope({itemSelector:".thumbnail-item"}),e.$el.find(".widget-main").niceScroll({horizrailenabled:!1}),e.collection.fetch()},500)}})}),define("common/view/group/detail",["text!common/template/group/detail.html","text!common/template/people/popover.html","common/view/composite-isotope","common/view/group/detail/cover","common/view/group/detail/name","common/view/group/detail/description","common/view/group/detail/events","common/view/group/detail/members","common/view/group/detail/member/participants","common/view/group/detail/member/invited","common/view/calendar/event","common/collection/base","common/model/event","common/model/post","common/view/post/item","common/view/post/new"],function(e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v){var m=c.extend({model:p,url:function(){return"/groups/"+this.document.id+"/posts"}});return n.extend({template:e,childView:d,events:{"click .btn-join":"onJoin","click .avatar-owner":"toProfile","click .btn-event":"showEventEditor","click .btn-member":"showMemberView","click .btn-invited":"showInvitedView"},modelEvents:{"change:invited":"renderInvited","change:participants":"renderParticipants"},initialize:function(){this.collection=new m(null,{document:this.model}),this.model.get("_owner")._id==selink.user.id&&(this.coverItem=new r({model:this.model}),this.nameItem=new i({model:this.model}),this.descriptionItem=new s({model:this.model})),this.eventsItem=new o({model:this.model}),this.listenTo(this.eventsItem,"ensureLayout",n.prototype.ensureLayout),this.membersItem=new u({model:this.model}),this.newPostView=new v({targetGroup:this.model,targetCollection:this.collection}),this.rm=new Backbone.Marionette.RegionManager,this.regions=this.rm.addRegions({coverRegion:"#cover",nameRegion:"#name",descriptionRegion:"#description",eventsRegion:"#events",membersRegion:"#members",newPostRegion:"#new-post"})},onRender:function(){this.$el.find(".avatar").popover({html:!0,trigger:"hover",container:"body",placement:"auto top",title:'<img src="'+this.model.get("_owner").cover+'" />',content:_.template(t,this.model.get("_owner"))}),this.$el.find(".fa-group").tooltip({placement:"top",title:this.model.get("participants").length+""}),this.$el.find(".fa-paper-plane").tooltip({placement:"top",title:this.model.get("invited").length+""}),this.$el.find(".fa-tasks").tooltip({placement:"top",title:""+this.model.get("events").length+""}),this.$el.find(".fa-edit").tooltip({placement:"top",title:""+this.model.get("posts").length+""}),Backbone.Validation.bind(this)},onShow:function(){var e=this;this.model.get("_owner")._id==selink.user.id&&(this.regions.coverRegion.show(this.coverItem),this.regions.nameRegion.show(this.nameItem),this.regions.descriptionRegion.show(this.descriptionItem)),this.regions.eventsRegion.show(this.eventsItem),this.regions.membersRegion.show(this.membersItem),this.regions.newPostRegion.show(this.newPostView),this.$el.find(this.childViewContainer).infinitescroll({navSelector:"#page_nav",nextSelector:"#page_nav a",dataType:"json",appendCallback:!1,loading:{msgText:"<em></em>",finishedMsg:""},path:function(){return"/groups/"+e.model.id+"/posts?before="+moment(e.collection.last().get("createDate")).unix()}},function(t,n){t.length>0&&e.collection.add(t,{parse:!0})}),n.prototype.onShow.apply(this)},onBeforeDestroy:function(){this.rm.destroy(),n.prototype.onBeforeDestroy.apply(this)},onJoin:function(){var e=this;this.$el.find(".btn-join").button("loading"),this.model.save({participants:selink.user.id},{url:this.model.url()+"/join",success:function(t,n,r){var i=$('<span class="text-success"><i class="ace-icon fa fa-check"></i>&nbsp;</span>');e.$el.find(".btn-join").fadeOut(function(){e.$el.find(".group-info").prepend(i)}),e.$el.find(".alert-area").slideUp(function(){e.$el.find(".post-area").slideDown(function(){e.ensureLayout()})}),selink.user.get("groups").push(e.model.id)},patch:!0,wait:!0})},toProfile:function(e){e.preventDefault(),this.$el.find(".avatar").popover("destroy"),window.location="#profile/"+this.model.get("_owner")._id},renderInvited:function(){this.$el.find(".invitationNum").empty().text(this.model.get("invited").length)},renderParticipants:function(){this.$el.find(".participantsNum").empty().text(this.model.get("participants").length)},showEventEditor:function(){var e=new l({model:new h({group:this.model.id,start:Date()}),collection:this.model.events});selink.modalArea.show(e),selink.modalArea.$el.modal("show")},showMemberView:function(){var e=new a({model:this.model});selink.modalArea.show(e),selink.modalArea.$el.modal("show")},showInvitedView:function(){var e=new f({model:this.model});selink.modalArea.show(e),selink.modalArea.$el.modal("show")}})}),define("text!common/template/people/main.html",[],function(){return'<div class="page-header">\r\n    <h1 class="inline align-bottom">\r\n        <i class="ace-icon fa fa-user"></i>\r\n        \r\n    </h1>\r\n    <button class="btn btn-sm btn-success btn-friends">\r\n        <i class="ace-icon fa fa-th"></i>\r\n        \r\n    </button>\r\n    <button class="btn btn-sm btn-info btn-invited">\r\n        <i class="ace-icon fa fa-paper-plane"></i>\r\n        \r\n    </button>\r\n    <button class="btn btn-sm btn-yellow btn-discover">\r\n        <i class="ace-icon fa fa-search-plus"></i>\r\n        \r\n    </button>\r\n</div>\r\n\r\n<div id="display"></div>'}),define("text!common/template/people/discover.html",[],function(){return'<div class="isotope">\r\n    <div class="isotope-item grid-sizer col-xs-12 col-sm-6 col-lg-4"></div>\r\n</div>\r\n\r\n<nav id="discover_page_nav">\r\n    <a href="/connections/discover"></a>\r\n</nav>'}),define("common/view/people/discover",["text!common/template/people/discover.html","common/view/composite-isotope","common/collection/base","common/view/people/item"],function(e,t,n,r){var i=n.extend({url:"/connections/discover"});return t.extend({template:e,childView:r,initialize:function(){this.collection=new i},onShow:function(){var e=this;this.$el.find(this.childViewContainer).infinitescroll({navSelector:"#discover_page_nav",nextSelector:"#discover_page_nav a",dataType:"json",appendCallback:!1,loading:{msgText:"<em></em>",finishedMsg:""},path:function(){return"/connections/discover?before="+moment(e.collection.last().get("createDate")).unix()}},function(t,n){t.length>0&&e.collection.add(t,{parse:!0})}),t.prototype.onShow.apply(this)}})}),define("text!common/template/people/friends.html",[],function(){return'<div class="isotope">\r\n    <div class="isotope-item grid-sizer col-xs-12 col-sm-6 col-lg-4"></div>\r\n</div>\r\n\r\n<nav id="friends_page_nav">\r\n    <a href="/connections/friends"></a>\r\n</nav>'}),define("common/view/people/friends",["text!common/template/people/friends.html","common/view/composite-isotope","common/collection/base","common/view/people/item"],function(e,t,n,r){var i=n.extend({url:"/connections/friends"});return t.extend({template:e,childView:r,initialize:function(){this.collection=new i},onShow:function(){var e=this;this.$el.find(this.childViewContainer).infinitescroll({navSelector:"#friends_page_nav",nextSelector:"#friends_page_nav a",dataType:"json",appendCallback:!1,loading:{msgText:"<em></em>",finishedMsg:""},path:function(){return"/connections/friends?before="+moment(e.collection.last().get("createDate")).unix()}},function(t,n){t.length>0&&e.collection.add(t,{parse:!0})}),t.prototype.onShow.apply(this)}})}),define("text!common/template/people/invited.html",[],function(){return'<div class="isotope">\r\n    <div class="isotope-item grid-sizer col-xs-12 col-sm-6 col-lg-4"></div>\r\n</div>\r\n\r\n<nav id="invited_page_nav">\r\n    <a href="/connections/invited"></a>\r\n</nav>'}),define("common/view/people/invited",["text!common/template/people/invited.html","common/view/composite-isotope","common/collection/base","common/view/people/item"],function(e,t,n,r){var i=n.extend({url:"/connections/invited"});return t.extend({template:e,childView:r,initialize:function(){this.collection=new i},onShow:function(){var e=this;this.$el.find(this.childViewContainer).infinitescroll({navSelector:"#invited_page_nav",nextSelector:"#invited_page_nav a",dataType:"json",appendCallback:!1,loading:{msgText:"<em></em>",finishedMsg:""},path:function(){return"/connections/invited?before="+moment(e.collection.last().get("createDate")).unix()}},function(t,n){t.length>0&&e.collection.add(t,{parse:!0})}),t.prototype.onShow.apply(this)}})}),define("common/view/people/main",["text!common/template/people/main.html","common/view/people/discover","common/view/people/friends","common/view/people/invited"],function(e,t,n,r){return Backbone.Marionette.LayoutView.extend({template:e,events:{"click .btn-friends":"showFriendsView","click .btn-invited":"showInvitedView","click .btn-discover":"showDiscoverView"},regions:{displayRegion:"#display"},onShow:function(){this.options.type=="friends"?this.showFriendsView():this.options.type=="invited"?this.showInvitedView():this.showDiscoverView()},showDiscoverView:function(){this.discoverView=new t,this.displayRegion.show(this.discoverView),selink.router.navigate("#people/discover")},showFriendsView:function(){this.friendsView=new n,this.displayRegion.show(this.friendsView),selink.router.navigate("#people/friends")},showInvitedView:function(){this.invitedView=new r,this.displayRegion.show(this.invitedView),selink.router.navigate("#people/invited")}})}),define("text!common/template/people/detail.html",[],function(){return'<%\r\n    var isFriend = (_.indexOf(selink.user.get(\'friends\'), obj._id) >= 0) ? true : false,\r\n        isInvited = (_.indexOf(selink.user.get(\'invited\'), obj._id) >= 0) ? true : false;\r\n%>\r\n\r\n<div class="row isotope">\r\n\r\n    <!-- user profile, it\'s an stamp which won\'t be isotope layout -->\r\n    <div class="stamp col-xs-12 col-md-6 col-lg-8">\r\n\r\n        <div class="person-info no-padding" style="border: 1px solid #CCC;">\r\n\r\n            <!-- cover -->\r\n            <div id="cover">\r\n\r\n                <img src="<%= obj.cover %>">\r\n\r\n                <!-- friend buttons -->\r\n                <% if (isFriend) { %>\r\n                    <button class="btn btn-sm btn-danger btn-break"\r\n                            data-loading-text="<i class=\'ace-icon fa fa-spinner fa-spin white bigger-125\'></i>&nbsp;&nbsp;" style="position: absolute; top: 10px; right: 190px;">\r\n                        <i class="ace-icon fa fa-unlink"></i>&nbsp;\r\n                    </button>\r\n                <% } else if (isInvited) { %>\r\n                    <button class="btn btn-sm btn-success disabled" style="position: absolute; top: 10px; right: 190px;">\r\n                        <i class="ace-icon fa fa-check"></i>&nbsp;\r\n                    </button>\r\n                <% } else { %>\r\n                    <button class="btn btn-sm btn-info btn-friend"\r\n                            data-loading-text="<i class=\'ace-icon fa fa-spinner fa-spin white bigger-125\'></i>&nbsp;&nbsp;" style="position: absolute; top: 10px; right: 190px;">\r\n                        <i class="ace-icon fa fa-plus"></i>&nbsp;\r\n                    </button>\r\n                <% } %>\r\n\r\n                <!-- message button -->\r\n                <button class="btn btn-sm btn-success btn-msg" style="position: absolute; top: 10px; right: 30px;">\r\n                    <i class="ace-icon fa fa-envelope"></i>&nbsp;\r\n                </button>\r\n\r\n            </div>\r\n\r\n            <!-- photo, overlap with cover -->\r\n            <div class="col-xs-4 col-sm-4 center" style="margin-top: -60px;">\r\n\r\n                <div class="profile-picture ace-thumbnails" style="position: relative;">\r\n                    <img class="img-responsive" src="<%= obj.photo %>">\r\n                </div>\r\n\r\n                <div class="space-10"></div>\r\n\r\n                <div class="infobox infobox-blue infobox-small infobox-dark">\r\n                    <div class="infobox-icon">\r\n                        <i class="ace-icon fa fa-edit"></i>\r\n                    </div>\r\n                    <div class="infobox-data">\r\n                        <div class="infobox-content"><%= obj.posts.length %></div>\r\n                        <div class="infobox-content"></div>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class="infobox infobox-green infobox-small infobox-dark">\r\n                    <div class="infobox-icon">\r\n                        <i class="ace-icon fa fa-group"></i>\r\n                    </div>\r\n                    <div class="infobox-data">\r\n                        <div class="infobox-content"><%= obj.friends.length %></div>\r\n                        <div class="infobox-content"></div>\r\n                    </div>\r\n                </div>\r\n\r\n            </div>\r\n\r\n            <div class="col-xs-8" style="margin-top: 10px;">\r\n                <!-- break confrim dialog -->\r\n                <div class="alert alert-danger clearfix" style="display: none;">\r\n                    <i class="ace-icon fa fa-warning"></i>&nbsp;\r\n                    <strong><%= obj.firstName %>&nbsp;<%= obj.lastName %></strong>\r\n                    <div class="space-10"></div>\r\n                    <p class="pull-right">\r\n                        <button class="btn btn-sm btn-warning btn-break-cancel"></button>\r\n                        <button class="btn btn-sm btn-danger btn-break-confirm"></button>\r\n                    </p>\r\n                </div>\r\n            </div>\r\n\r\n            <!-- user info -->\r\n            <div class="col-xs-8 col-sm-5" style="margin-top: 10px;">\r\n\r\n                <!-- name -->\r\n                <p class="bigger-180 no-margin">\r\n                    <%= obj.firstName %>&nbsp;<%= obj.lastName %>\r\n                </p>\r\n\r\n                <!-- title -->\r\n                <% if (obj.title) { %>\r\n                    <p class="bigger-110 text-muted"><%= obj.title %></p>\r\n                <% } %>\r\n\r\n                <div class="space-10"></div>\r\n\r\n                <!-- employment -->\r\n                <% if (obj.currentEmployment) { %>\r\n                    <p class="row">\r\n                        <span class="col-xs-1"><i class="ace-icon fa fa-building"></i></span>\r\n                        <span class="col-xs-10"><%= obj.currentEmployment.company %></span>\r\n                    </p>\r\n                <% } %>\r\n\r\n                <!-- education -->\r\n                <% if (obj.finalEducation) { %>\r\n                    <p class="row">\r\n                        <span class="col-xs-1"><i class="ace-icon fa fa-graduation-cap"></i></span>\r\n                        <span class="col-xs-10"><%= obj.finalEducation.school %></span>\r\n                    </p>\r\n                <% } %>\r\n\r\n                <!-- email -->\r\n                <% if (obj.email) { %>\r\n                    <p class="row">\r\n                        <span class="col-xs-1"><i class="ace-icon fa fa-envelope"></i></span>\r\n                        <span class="col-xs-10"><%= obj.email %></span>\r\n                    </p>\r\n                <% } %>\r\n\r\n                <!-- tel no. -->\r\n                <% if (obj.telNo) { %>\r\n                    <p class="row">\r\n                        <span class="col-xs-1"><i class="ace-icon fa fa-mobile-phone bigger-140"></i></span>\r\n                        <span class="col-xs-10"><%= obj.telNo %></span>\r\n                    </p>\r\n                <% } %>\r\n\r\n                <!-- web site -->\r\n                <% if (obj.webSite) { %>\r\n                    <p class="row">\r\n                        <span class="col-xs-1"><i class="ace-icon fa fa-globe"></i></span>\r\n                        <span class="col-xs-10"><%= obj.webSite %></span>\r\n                    </p>\r\n                <% } %>\r\n\r\n            </div>\r\n\r\n            <!-- friend list -->\r\n            <div class="col-xs-12 col-sm-3" style="margin-top: 10px;">\r\n                <p id="friends"></p>\r\n                <p id="groups"></p>\r\n            </div>\r\n\r\n            <div class="col-xs-12 space-12"></div>\r\n\r\n            <!-- self introduction -->\r\n            <% if (obj.bio) { %>\r\n            <div class="col-xs-12 more-info" style="display: none;">\r\n                <i class="fa fa-quote-left fa-3x pull-left"></i>\r\n                <%= obj.bio %>\r\n            </div>\r\n            <% } %>\r\n\r\n            <!-- user detail info -->\r\n            <div class="col-xs-12 col-sm-6 more-info" style="display: none;">\r\n\r\n                <% if (obj.address || obj.nearestSt || obj.birthDay || obj.nationality || obj.gender || obj.marriage) { %>\r\n                <div class="widget-box transparent">\r\n\r\n                    <div class="widget-header">\r\n                        <h4 class="lighter"><i class="ace-icon fa fa-list-alt"></i>&nbsp;&nbsp;</h4>\r\n                    </div>\r\n\r\n                    <div class="widget-body">\r\n\r\n                        <div class="widget-main" style="padding: 16px 20px 0px 20px;">\r\n\r\n                            <!-- address -->\r\n                            <% if (obj.address) { %>\r\n                                <p class="row">\r\n                                    <span class="col-xs-1"><i class="ace-icon fa fa-map-marker"></i></span>\r\n                                    <span class="col-xs-10"><%= obj.address %></span>\r\n                                </p>\r\n                            <% } %>\r\n\r\n                            <!-- nearest Station -->\r\n                            <% if (obj.nearestSt) { %>\r\n                                <p class="row">\r\n                                    <span class="col-xs-1"><i class="ace-icon fa fa-car"></i></span>\r\n                                    <span class="col-xs-10"><%= obj.nearestSt %></span>\r\n                                </p>\r\n                            <% } %>\r\n\r\n                            <!-- birth day -->\r\n                            <% if (obj.birthDay) { %>\r\n                                <p class="row">\r\n                                    <span class="col-xs-1"><i class="ace-icon fa fa-calendar"></i></span>\r\n                                    <span class="col-xs-10"><%= obj.birthDayDisplay %></span>\r\n                                </p>\r\n                            <% } %>\r\n\r\n                            <!-- nationality -->\r\n                            <% if (obj.nationality) { %>\r\n                                <p class="row">\r\n                                    <span class="col-xs-1"><i class="ace-icon fa fa-flag"></i></span>\r\n                                    <span class="col-xs-10"><%= obj.nationality %></span>\r\n                                </p>\r\n                            <% } %>\r\n\r\n                            <!-- gender -->\r\n                            <% if (obj.gender) { %>\r\n                                <p class="row">\r\n                                    <span class="col-xs-1"><i class="ace-icon fa fa-leaf"></i></span>\r\n                                    <span class="col-xs-10"><%= obj.gender %></span>\r\n                                </p>\r\n                            <% } %>\r\n\r\n                            <!-- marriage -->\r\n                            <% if (obj.marriage) { %>\r\n                                <p class="row">\r\n                                    <span class="col-xs-1"><i class="ace-icon fa fa-heart"></i></span>\r\n                                    <span class="col-xs-10"><%= obj.marriage %></span>\r\n                                </p>\r\n                            <% } %>\r\n\r\n                        </div>\r\n\r\n                    </div>\r\n\r\n                </div>\r\n                <% } %>\r\n\r\n                <div id="languages-display"></div>\r\n                <div id="skills"></div>\r\n            </div>\r\n\r\n            <div class="col-xs-12 col-sm-6 more-info" style="display: none;">\r\n                <div id="employments"></div>\r\n                <div id="educations"></div>\r\n                <div id="qualifications"></div>\r\n            </div>\r\n\r\n            <div class="clearfix"></div>\r\n\r\n            <button class="btn btn-sm btn-success btn-block btn-more">\r\n                <i class="ace-icon fa fa-user"></i>&nbsp;\r\n                <i class="ace-icon fa fa-chevron-down"></i>\r\n            </button>\r\n\r\n            <button class="btn btn-sm btn-warning btn-block btn-less hide">\r\n                <i class="ace-icon fa fa-user"></i>&nbsp;\r\n                <i class="ace-icon fa fa-chevron-up"></i>\r\n            </button>\r\n\r\n        </div>\r\n\r\n    </div>\r\n\r\n    <div class="isotope-item grid-sizer col-xs-12 col-sm-6 col-lg-4"></div>\r\n\r\n</div>\r\n\r\n<nav id="page_nav">\r\n  <a href="/users/<%= obj._id %>/posts"></a>\r\n</nav>\r\n'}),define("text!common/template/people/detail/friends.html",[],function(){return'<h5><i class="ace-icon fa fa-share-alt"></i>&nbsp;</h5>\n<ul id="friend-list" class="list-inline no-margin"></ul>\n<% if (obj.friends.length > 8) { %>\n<a href="#"><%= obj.friends.length - 8 %></a>\n<% } %>'}),define("text!common/template/people/detail/friend.html",[],function(){return'<a href="#">\r\n    <img src="<%= obj.photo %>" style="width: 35px; height: 35px;">\r\n</a>'}),define("common/view/people/detail/friend",["text!common/template/people/detail/friend.html","text!common/template/people/popover.html"],function(e,t){return Backbone.Marionette.ItemView.extend({template:e,tagName:"li",className:"timeline-item",events:{"click a":"onClick"},onShow:function(){this.$el.find("img").popover({html:!0,trigger:"hover",container:"body",placement:"auto",title:'<img src="'+this.model.get("cover")+'" />',content:_.template(t,this.model.attributes)})},onClick:function(e){e.preventDefault(),this.$el.find("img").popover("destroy"),window.location="#profile/"+this.model.get("_id")}})}),define("common/view/people/detail/friends",["text!common/template/people/detail/friends.html","common/collection/base","common/view/people/detail/friend"],function(e,t,n){var r=t.extend({url:function(){return"/users/"+this.document.id+"/connections?size=8"}});return Backbone.Marionette.CompositeView.extend({template:e,childViewContainer:"#friend-list",childView:n,initialize:function(){this.collection=new r(null,{document:this.model}),this.collection.fetch()}})}),define("text!common/template/people/detail/groups.html",[],function(){return'<h5><i class="ace-icon fa fa-group"></i>&nbsp;</h5>\r\n<ul id="group-list" class="list-inline no-margin"></ul>\r\n<% if (obj.friends.length > 3) { %>\r\n<a href="#"><%= obj.groups.length - 3 %></a>\r\n<% } %>'}),define("text!common/template/people/detail/group.html",[],function(){return'<a href="#">\r\n    <img src="<%= obj.cover %>" style="max-height: 35px;">\r\n</a>'}),define("common/view/people/detail/group",["text!common/template/people/detail/group.html","text!common/template/group/popover.html"],function(e,t){return Backbone.Marionette.ItemView.extend({template:e,tagName:"li",className:"timeline-item",events:{"click a":"onClick"},onShow:function(){this.$el.find("img").popover({html:!0,trigger:"hover",container:"body",placement:"auto right",title:'<img src="'+this.model.get("cover")+'" />',content:_.template(t,this.model.attributes)})},onClick:function(e){e.preventDefault(),this.$el.find("img").popover("destroy"),window.location="#group/"+this.model.get("_id")}})}),define("common/view/people/detail/groups",["text!common/template/people/detail/groups.html","common/collection/base","common/view/people/detail/group"],function(e,t,n){var r=t.extend({url:function(){return"/users/"+this.document.id+"/groups?size=3"}});return Backbone.Marionette.CompositeView.extend({template:e,childViewContainer:"#group-list",childView:n,initialize:function(){this.collection=new r(null,{document:this.model}),this.collection.fetch()}})}),define("text!common/template/people/detail/languages.html",[],function(){return'<div class="widget-header">\n    <h4 class="lighter"><i class="ace-icon fa fa-language"></i>&nbsp;&nbsp;</h4>\n</div>\n<div class="widget-body">\n    <div class="widget-main padding-6"></div>\n    <div class="clearfix"></div>\n</div>'}),define("text!common/template/people/detail/language.html",[],function(){return"<%\n    var color = '#9585bf';\n\n    if (obj.weight > 85) {\n        color = '#59a84b';\n    } else if (obj.weight > 70) {\n        color = '#2a91d8';\n    } else if (obj.weight > 50) {\n        color = '#f2bb46';\n    } else if (obj.weight > 30) {\n        color = '#ca5952';\n    }\n%>\n<div class=\"easy-pie-chart percentage\" data-percent=\"<%= obj.weight %>\" data-color=\"<%= color %>\">\n    <span class=\"percent\"><%= obj.weight %></span>%\n</div>\n<div class=\"space-2\"></div>\n<%= obj.language %>"}),define("common/view/people/detail/language",["text!common/template/people/detail/language.html"],function(e){return Backbone.Marionette.ItemView.extend({template:e,className:"center",ui:{pieChart:".easy-pie-chart.percentage"},initialize:function(){this.model.collection.length===2?this.$el.addClass("grid2"):this.model.collection.length>2&&this.$el.addClass("grid3")},onShow:function(){this.ui.pieChart.each(function(){var e=$(this).data("color")||"#555",t="#E2E2E2",n=parseInt($(this).data("size"))||72;$(this).easyPieChart({barColor:e,trackColor:t,scaleColor:!1,lineCap:"butt",lineWidth:parseInt(n/10),animate:1e3,size:n}).css("color",e)})}})}),define("common/view/people/detail/languages",["text!common/template/people/detail/languages.html","common/view/people/detail/language"],function(e,t){return Backbone.Marionette.CompositeView.extend({template:e,className:"widget-box transparent",childViewContainer:".widget-main",childView:t})}),define("text!common/template/people/detail/skills.html",[],function(){return'<div class="widget-header">\r\n    <h4 class="lighter"><i class="ace-icon fa fa-wrench"></i>&nbsp;</h4>\r\n</div>\r\n<div class="widget-body">\r\n    <div class="widget-main padding-6 profile-skills"></div>\r\n    <div class="clearfix"></div>\r\n</div>'}),define("text!common/template/people/detail/skill.html",[],function(){return'<%\r\n    var length = obj.weight ? obj.weight : 20,\r\n        progressClass = \'progress-bar-purple\';\r\n\r\n    if (obj.weight > 85) {\r\n        progressClass = \'progress-bar-success\';\r\n    } else if (obj.weight > 70) {\r\n        progressClass = \'progress-bar\';\r\n    } else if (obj.weight > 50) {\r\n        progressClass = \'progress-bar-warning\';\r\n    } else if (obj.weight > 30) {\r\n        progressClass = \'progress-bar-danger\';\r\n    }\r\n\r\n%>\r\n\r\n<div class="progress">\r\n    <div class="progress-bar <%= progressClass %>" style="width:<%= length %>%">\r\n        <span class="pull-left">\r\n            <i class="ace-icon fa fa-gear sl-icon"></i>&nbsp;<%= obj.skill %>\r\n        </span>\r\n        <span class="pull-right">\r\n            <%= length %>pt\r\n        </span>\r\n    </div>\r\n</div>'}),define("common/view/people/detail/skill",["text!common/template/people/detail/skill.html"],function(e){return Backbone.Marionette.ItemView.extend({template:e})}),define("common/view/people/detail/skills",["text!common/template/people/detail/skills.html","common/view/people/detail/skill"],function(e,t){return Backbone.Marionette.CompositeView.extend({template:e,className:"widget-box transparent",childViewContainer:".widget-main",childView:t})}),define("text!common/template/people/detail/qualifications.html",[],function(){return'<div class="widget-header">\r\n    <h4 class="lighter"><i class="ace-icon fa fa-trophy"></i>&nbsp;&nbsp;</h4>\r\n</div>\r\n<div class="widget-body">\r\n    <div class="widget-main padding-6"></div>\r\n    <div class="clearfix"></div>\r\n</div>'}),define("text!common/template/people/detail/qualification.html",[],function(){return'<blockquote>\r\n    <p>\r\n        <i class="ace-icon fa fa-certificate sl-icon bigger-110 orange2"></i>&nbsp;\r\n        <span class="name-value">\r\n            <%= obj.name %>\r\n        </span>\r\n    </p>\r\n    <% if (obj.acquireDate) { %>\r\n        <small>\r\n             <%= moment(obj.acquireDate).format(\'YYYYM\') %>\r\n        </small>\r\n    <% } %>\r\n</blockquote>'}),define("common/view/people/detail/qualification",["text!common/template/people/detail/qualification.html"],function(e){return Backbone.Marionette.ItemView.extend({template:e})}),define("common/view/people/detail/qualifications",["text!common/template/people/detail/qualifications.html","common/view/people/detail/qualification"],function(e,t){return Backbone.Marionette.CompositeView.extend({template:e,className:"widget-box transparent",childViewContainer:".widget-main",childView:t})}),define("text!common/template/people/detail/educations.html",[],function(){return'<div class="widget-header">\r\n    <h4 class="lighter"><i class="ace-icon fa fa-university"></i>&nbsp;&nbsp;</h4>\r\n</div>\r\n<div class="widget-body">\r\n    <div class="widget-main padding-6">\r\n    </div>\r\n    <div class="clearfix"></div>\r\n</div>'}),define("text!common/template/people/detail/education.html",[],function(){return'<blockquote>\r\n    <p>\r\n        <i class="ace-icon fa fa-graduation-cap sl-icon bigger-110 green"></i>&nbsp;\r\n        <span class="school-value">\r\n            <%= obj.school %>\r\n        </span>\r\n        <span class="major-value">\r\n        <%\r\n            if (obj.major) print(\'<span class="label label-sm label-success arrowed arrowed-right">\' + obj.major + \'</span>\');\r\n        %>\r\n        </span>\r\n    </p>\r\n    <% if (obj.startDate || obj.endDate) { %>\r\n        <small>\r\n            <%\r\n                if (obj.startDate && !obj.endDate)\r\n                    print(obj.startDateDisplay + "");\r\n                else if (!obj.startDate && obj.endDate)\r\n                    print("" + obj.endDateDisplay);\r\n                else if (obj.startDate && obj.endDate)\r\n                    print(obj.startDateDisplay + "" + obj.endDateDisplay);\r\n            %>\r\n        </small>\r\n    <% } %>\r\n</blockquote>'}),define("common/view/people/detail/education",["text!common/template/people/detail/education.html"],function(e){return Backbone.Marionette.ItemView.extend({template:e})}),define("common/view/people/detail/educations",["text!common/template/people/detail/educations.html","common/view/people/detail/education"],function(e,t){return Backbone.Marionette.CompositeView.extend({template:e,className:"widget-box transparent",childViewContainer:".widget-main",childView:t})}),define("text!common/template/people/detail/employments.html",[],function(){return'<div class="widget-header">\r\n    <h4 class="lighter"><i class="ace-icon fa fa-briefcase"></i>&nbsp;&nbsp;</h4>\r\n</div>\r\n<div class="widget-body">\r\n    <div class="widget-main padding-6">\r\n    </div>\r\n    <div class="clearfix"></div>\r\n</div>'}),define("text!common/template/people/detail/employment.html",[],function(){return'<blockquote>\r\n    <p>\r\n        <i class="ace-icon fa fa-building sl-icon bigger-110 blue"></i>&nbsp;\r\n        <span class="company-value">\r\n            <%= obj.company %>\r\n        </span>\r\n        <span class="position-value">\r\n        <%\r\n            if (obj.position) print(\'<span class="label label-sm label-primary arrowed arrowed-right">\' + obj.position + \'</span>\');\r\n        %>\r\n        </span>\r\n    </p>\r\n    <% if (obj.startDate || obj.endDate) { %>\r\n        <small class="duration-value">\r\n            <%\r\n                if (obj.startDate && !obj.endDate)\r\n                    print(obj.startDateDisplay + "");\r\n                else if (!obj.startDate && obj.endDate)\r\n                    print("" + obj.endDateDisplay);\r\n                else if (obj.startDate && obj.endDate)\r\n                    print(obj.startDateDisplay + "" + obj.endDateDisplay);\r\n            %>\r\n        </small>\r\n    <% } %>\r\n    <% if (obj.address) { %>\r\n        <small class="address-value"> <%= obj.address %></small>\r\n    <% } %>\r\n</blockquote>'}),define("common/view/people/detail/employment",["text!common/template/people/detail/employment.html"],function(e){return Backbone.Marionette.ItemView.extend({template:e})}),define("common/view/people/detail/employments",["text!common/template/people/detail/employments.html","common/view/people/detail/employment"],function(e,t){return Backbone.Marionette.CompositeView.extend({template:e,className:"widget-box transparent",childViewContainer:".widget-main",childView:t})}),define("text!common/template/mailbox/edit.html",[],function(){return'<div class="modal-content">\n    <div class="modal-header">\n        <button type="button" class="close" data-dismiss="modal">&times;</button>\n        <h4 class="green">\n            <i class="ace-icon fa fa-envelope bigger-110"></i>&nbsp;&nbsp;\n            <strong></strong>\n        </h4>\n    </div>\n\n    <div class="modal-body overflow-visible">\n\n        <div class="row">\n            <div class="form-group col-xs-12 col-md-10">\n                <div class="input-group">\n                    <span class="input-group-addon"><i class="ace-icon fa fa-user bigger-110"></i></span>\n                    <input class="form-control" type="text" name="recipient" placeholder=""/>\n                </div>\n            </div>\n        </div>\n\n        <div class="row">\n            <div class="form-group col-xs-12 col-md-10">\n                <div class="input-group">\n                    <span class="input-group-addon"><i class="ace-icon fa fa-comment bigger-110"></i></span>\n                    <input class="form-control" type="text" name="subject" placeholder="" value="<%= obj.subject %>"/>\n                </div>\n            </div>\n        </div>\n\n        <div class="hr hr-double dotted"></div>\n\n        <div class="wysiwyg-editor">\n            <%= obj.content %>\n        </div>\n\n    </div>\n\n    <div class="modal-footer">\n        <button class="btn btn-sm btn-success btn-send"><i class="ace-icon fa fa-send"></i> </button>\n        <button class="btn btn-sm" data-dismiss="modal"><i class="ace-icon fa fa-times"></i> </button>\n    </div>\n</div>'}),define("common/view/mailbox/edit",["text!common/template/mailbox/edit.html","common/model/message"],function(e,t){return Backbone.Marionette.ItemView.extend({template:e,className:"modal-dialog message-modal",ui:{recipient:'input[name="recipient"]',subject:'input[name="subject"]',message:".wysiwyg-editor"},events:{"click .btn-send":"onSend"},initialize:function(){this.model||(this.model=new t)},onShow:function(){this.ui.message.ace_wysiwyg().prev().addClass("wysiwyg-style3");var e=new Bloodhound({datumTokenizer:function(e){return e.has("firstName")?Bloodhound.tokenizers.whitespace(e.get("firstName")+" "+e.get("lastName")):""},queryTokenizer:Bloodhound.tokenizers.whitespace,local:selink.user.friends.models});e.initialize(),this.$el.find('input[name="recipient"]').tag({placeholder:"",recipient:this.options.recipient,ttOptions:{highlight:!0},ttSource:{name:"friends",displayKey:function(e){return e.get("firstName")+" "+e.get("lastName")},source:e.ttAdapter(),templates:{suggestion:function(e){return _.template(["<div>",'<p class="repo-language" style="margin-right: 8px;"><img src="<%= photo %>" style="max-width: 50px;"></p>','<p class="repo-name"><%= firstName %>&nbsp;<%= lastName %></p>','<div style="clear: both"></div>',"</div>"].join(""),e.toJSON())}}}}),Backbone.Validation.bind(this)},onSend:function(){var e={recipient:_.pluck(this.$el.find('input[name="recipient"]').data("models"),"id"),subject:this.ui.subject.val(),content:this.ui.message.cleanHtml()};_.isEmpty(this.checkInput(e))&&this.model.save(e,{success:function(){selink.modalArea.$el.modal("hide")},silent:!0,patch:!0,wait:!0})},checkInput:function(e){var t=this.model.preValidate(e)||{};return this._clearError(),this._showError(t),t},_showError:function(e){for(var t in e){if(t=="recipient"){this.ui.recipient.parent(".tags").addClass("tooltip-error").css({"border-color":"#f09784"}).tooltip({placement:"bottom",title:e[t]}).closest(".form-group").addClass("has-error").find("i").addClass("animated-input-error");continue}this.$el.find('input[name="'+t+'"]').addClass("tooltip-error").tooltip({placement:"bottom",title:e[t]}).closest(".form-group").addClass("has-error").find("i").addClass("animated-input-error")}},_clearError:function(){this.$el.find("input").removeClass("tooltip-error").tooltip("destroy").closest(".form-group").removeClass("has-error").find("i").removeClass("animated-input-error"),this.$el.find(".tags").removeClass("tooltip-error").css({"border-color":null}).tooltip("destroy")}})}),define("common/view/people/detail",["text!common/template/people/detail.html","common/collection/base","common/model/post","common/view/composite-isotope","common/view/post/item","common/view/people/detail/friends","common/view/people/detail/groups","common/view/people/detail/languages","common/view/people/detail/skills","common/view/people/detail/qualifications","common/view/people/detail/educations","common/view/people/detail/employments","common/view/mailbox/edit"],function(e,t,n,r,i,s,o,u,a,f,l,c,h){var p=t.extend({model:n,url:function(){return"/users/"+this.document.id+"/posts"}});return r.extend({template:e,childView:i,events:{"click .btn-msg":"showMessageEditor","click .btn-friend":"onAddFriend","click .btn-break":"showAlert","click .btn-break-cancel":"hideAlert","click .btn-break-confirm":"onBreakFriend","click .btn-more":"showMoreInfo","click .btn-less":"showLessInfo"},initialize:function(){var e=this;this.model.languages.length&&(this.languagesView=new u({collection:this.model.languages})),this.model.skills.length&&(this.skillsView=new a({collection:this.model.skills})),this.model.qualifications.length&&(this.qualificationsView=new f({collection:this.model.qualifications})),this.model.educations.length&&(this.educationsView=new l({collection:this.model.educations})),this.model.employments.length&&(this.employmentsView=new c({collection:this.model.employments})),this.model.get("friends").length&&(this.friendsView=new s({model:this.model})),this.model.get("groups").length&&(this.groupsView=new o({model:this.model})),this.collection=new p(null,{document:this.model})},onRender:function(){this.rm=new Backbone.Marionette.RegionManager,this.regions=this.rm.addRegions({friendsRegion:"#friends",groupsRegion:"#groups",languagesRegion:"#languages-display",skillsRegion:"#skills",qualificationsRegion:"#qualifications",educationsRegion:"#educations",employmentsRegion:"#employments"})},onShow:function(){var e=this;this.friendsView&&this.regions.friendsRegion.show(this.friendsView),this.groupsView&&this.regions.groupsRegion.show(this.groupsView),this.languagesView&&this.regions.languagesRegion.show(this.languagesView),this.skillsView&&this.regions.skillsRegion.show(this.skillsView),this.qualificationsView&&this.regions.qualificationsRegion.show(this.qualificationsView),this.educationsView&&this.regions.educationsRegion.show(this.educationsView),this.employmentsView&&this.regions.employmentsRegion.show(this.employmentsView),this.$el.find(this.childViewContainer).infinitescroll({navSelector:"#page_nav",nextSelector:"#page_nav a",dataType:"json",appendCallback:!1,loading:{msgText:"<em></em>",finishedMsg:""},path:function(){return"/users/"+e.model.id+"/posts?before="+moment(e.collection.last().get("createDate")).unix()}},function(t,n){t.length>0&&e.collection.add(t,{parse:!0})}),r.prototype.onShow.apply(this)},onBeforeDestroy:function(){this.rm.destroy(),r.prototype.onBeforeDestroy.apply(this)},showAlert:function(e){var t=this;e.preventDefault(),this.$el.find(".alert").slideDown("fast",function(){t.$el.find(t.childViewContainer).isotope("layout")}).find("i").addClass("icon-animated-vertical")},hideAlert:function(){var e=this;this.$el.find(".alert").slideUp("fast",function(){e.$el.find(e.childViewContainer).isotope("layout")})},showMessageEditor:function(){var e=new h({recipient:[this.model]});selink.modalArea.show(e),selink.modalArea.$el.modal("show")},showMoreInfo:function(){var e=this;this.$el.find(".more-info").slideDown("fast",function(){e.$el.find(".btn-more").addClass("hide"),e.$el.find(".btn-less").removeClass("hide"),e.ensureLayout()})},showLessInfo:function(){var e=this;this.$el.find(".more-info").slideUp("fast",function(){e.$el.find(".btn-more").removeClass("hide"),e.$el.find(".btn-less").addClass("hide"),e.ensureLayout()})},onAddFriend:function(){var e=this;this.$el.find(".btn-friend").button("loading"),selink.user.save({id:this.model.get("_id")},{url:"/connections/invite",success:function(){e.$el.find(".btn-friend").removeClass("btn-info btn-friend").addClass("btn-success").empty().html('<i class="ace-icon fa fa-check light-green"></i>&nbsp;')},patch:!0,wait:!0})},onBreakFriend:function(){var e=this;this.hideAlert(),this.$el.find(".btn-break").button("loading"),selink.user.save({id:this.model.get("_id")},{url:"/connections/break",success:function(){e.$el.find(".btn-break").removeClass("btn-info btn-break").addClass("btn-grey").empty().html('<i class="ace-icon fa fa-check light-green"></i>&nbsp;')},patch:!0,wait:!0})}})}),define("text!common/template/bookmark/main.html",[],function(){return'<div class="isotope">\r\n    <div class="isotope-item grid-sizer col-xs-12 col-sm-6 col-lg-4"></div>\r\n</div>\r\n\r\n<nav id="page_nav">\r\n  <a href="/bookmark?page=1"></a>\r\n</nav>'}),define("common/view/bookmark/main",["text!common/template/bookmark/main.html","common/view/composite-isotope","common/collection/base","common/model/base","common/model/job","common/model/post","common/view/post/item","common/view/job/item"],function(e,t,n,r,i,s,o,u){var a=n.extend({url:"/bookmark",model:function(e,t){return _.has(e,"name")?new i(e,t):new s(e,t)},comparator:function(e){var t=moment(e.get("createDate"));return 0-Number(t.valueOf())}});return t.extend({template:e,getChildView:function(e){return e.has("name")?u:o},initialize:function(){this.collection=new a,t.prototype.initialize.apply(this)}})}),define("text!common/template/calendar/main.html",[],function(){return'<div class="col-xs-12 col-sm-9">\r\n    <div id=\'calendar\'></div>\r\n</div>\r\n\r\n<div class="col-xs-12 col-sm-3">\r\n\r\n    <div class="widget-box transparent">\r\n        <div class="widget-header">\r\n            <h4><span class="ace-icon fa fa-bell-o"></span>&nbsp;</h4>\r\n        </div>\r\n        <div class="widget-body">\r\n            <div class="widget-main no-padding">\r\n                <div id=\'external-events\'>\r\n                    <div class=\'external-event label-success\' data-class="label-success" data-allday="false" data-start="9:30" data-end="17:45"><i class="ace-icon fa fa-arrows"></i> </div>\r\n                    <div class=\'external-event label-danger\' data-class="label-danger" data-allday="false"><i class="ace-icon fa fa-arrows"></i> </div>\r\n                    <div class=\'external-event label-purple\' data-class="label-purple" data-allday="false"><i class="ace-icon fa fa-arrows"></i> </div>\r\n                    <div class=\'external-event label-yellow\' data-class="label-yellow" data-allday="false"><i class="ace-icon fa fa-arrows"></i> </div>\r\n                    <div class=\'external-event label-pink\' data-class="label-pink" data-allday="false"><i class="ace-icon fa fa-arrows"></i> </div>\r\n                    <div class=\'external-event label-info\' data-class="label-info" data-allday="false"><i class="ace-icon fa fa-arrows"></i> My Event </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'}),define("common/view/calendar/main",["text!common/template/calendar/main.html","text!common/template/calendar/popover.html","common/collection/base","common/model/event","common/view/calendar/event"],function(e,t,n,r,i){var s=n.extend({model:r,url:function(){return"/events"}});return Backbone.Marionette.LayoutView.extend({template:e,ui:{defaultEvents:"#external-events div.external-event",calendar:"#calendar"},collectionEvents:{add:"createEvent",change:"updateEvent",remove:"removeEvent"},initialize:function(){this.collection=new s},onRender:function(){},onShow:function(){this.initialDefaultEvent(),this.initialCalendar()},initialDefaultEvent:function(){this.ui.defaultEvents.each(function(){var e=$(this),t={title:$.trim(e.text()),className:e.data("class"),allDay:e.data("allday"),start:e.data("start"),end:e.data("end")};e.data("eventObject",t),e.draggable({zIndex:999,revert:!0,revertDuration:0})})},initialCalendar:function(){var e=this,n=this.ui.calendar.fullCalendar({header:{left:"prev,next today",center:"title",right:"month,agendaWeek,agendaDay"},buttonText:{prev:'<i class="ace-icon fa fa-chevron-left"></i>',next:'<i class="ace-icon fa fa-chevron-right"></i>',today:"",month:"",week:"",day:""},titleFormat:{month:"yyyy MMMM",week:"yyyy MMM d{ '&#8212;'[ MMM] d}",day:"yyyy MMM d dddd"},monthNames:["","","","","","","","","","","",""],monthNamesShort:["1","2","3","4","5","6","7","8","9","10","11","12"],dayNames:["","","","","","",""],dayNamesShort:["","","","","","",""],allDayText:"",eventSources:[{url:"https://www.google.com/calendar/feeds/ja.japanese%23holiday%40group.v.calendar.google.com/public/basic",className:"gcal-event",currentTimezone:"America/Chicago"},{url:"/events",success:function(t){e.collection.reset(t,{parse:!0})}}],eventRender:function(e,n,r){if(r.name!="month"){var i=$('<div class="sl-event-memo">').html(e.memo);i.appendTo(n.find(".fc-event-inner"))}if(e.group){var s=$('<div class="sl-event-group">').html(e.group.name);s.prependTo(n.find(".fc-event-inner")),n.popover({html:!0,trigger:"hover",container:"body",placement:"auto right",title:'<img src="'+e.group.cover+'" />',content:_.template(t,e)})}e.isMine||(e.editable=!1)},editable:!0,droppable:!0,drop:function(t,n,r,i){var s=$(this).data("eventObject"),o=$.extend({},s),u=new Date(t),a=new Date(t),f=o.start?o.start.split(":"):["0","0"],l=o.end?o.end.split(":"):["0","0"];u.setHours(f[0]),u.setMinutes(f[1]),o.start=u,a.setHours(l[0]),a.setMinutes(l[1]),o.end=a,o.allDay=n,e.collection.add(o)},eventDragStart:function(e,t,n,r){$(".popover").remove()},eventDrop:function(t,n,r,i,s,o,u,a){e.updateEvent(e.collection.get(t._id))},eventResizeStart:function(e,t,n,r){$(".popover").remove()},eventResize:function(t,n,r,i,s,o,u){e.collection.get(t._id).set({start:t.start,end:t.end})},selectable:!0,selectHelper:!0,select:function(t,r,s,o,u){var a=new i({model:new e.collection.model({allDay:s,start:t,end:r}),collection:e.collection});selink.modalArea.show(a),selink.modalArea.$el.modal("show"),n.fullCalendar("unselect")},eventClick:function(t,n,r){if(!t.isMine)return;var s=new i({model:e.collection.get(t._id),collection:e.collection});selink.modalArea.show(s),selink.modalArea.$el.modal("show")}})},createEvent:function(e){var t=this;e.isNew()?this.collection.create(e,{success:function(e,n,r){t.ui.calendar.fullCalendar("renderEvent",n,!0),selink.modalArea.$el.modal("hide")}}):this.ui.calendar.fullCalendar("renderEvent",$.extend({},e.attributes),!0)},updateEvent:function(e){if(e.isNew())return;var t=this;e.save(null,{success:function(e,n,r){var i=t.ui.calendar.fullCalendar("clientEvents",function(t){if(t._id==e.get("_id"))return!0});_.extend(i[0],n),t.ui.calendar.fullCalendar("updateEvent",i[0]),selink.modalArea.$el.modal("hide")},patch:!0,wait:!0})},removeEvent:function(e){var t=this;e.destroy({success:function(){t.ui.calendar.fullCalendar("removeEvents",function(t){if(t._id==e.get("_id"))return!0}),selink.modalArea.$el.modal("hide")}})}})}),define("text!common/template/activity/main.html",[],function(){return'<div class="widget-header">\r\n    <h4 class="lighter"><i class="ace-icon fa fa-rss sl-icon"></i>&nbsp;</h4>\r\n</div>\r\n\r\n<div class="widget-body">\r\n    <div class="widget-main padding-6 timeline-block"></div>\r\n    <div class="clearfix"></div>\r\n</div>\r\n\r\n<nav id="page_nav">\r\n  <a href="/activities?page=1"></a>\r\n</nav>'}),define("text!common/template/activity/item-day.html",[],function(){return"<%\n    var labelColor = '',\n        labelText = '';\n\n    if (moment().isSame(moment(obj.date, 'YYYY/MM/DD'), 'day')) {\n        labelColor = 'label-success';\n        labelText = '';\n    } else if (moment().subtract('days', 1).isSame(moment(obj.date, 'YYYY/MM/DD'), 'day')) {\n        labelColor = 'label-primary';\n        labelText = '';\n    } else {\n        labelColor = 'label-grey';\n        labelText = moment(obj.date, 'YYYY/MM/DD').format('LL');\n    }\n\n%>\n\n<div class=\"timeline-label\">\n    <span class=\"label <%= labelColor %> arrowed-in-right label-lg\">\n        <b><%= labelText %></b>\n    </span>\n</div>\n<div class=\"timeline-items\"></div>"}),define("text!common/template/activity/item/user-activated.html",[],function(){return'<div class="timeline-info">\n    <a href="#profile/<%= obj._owner._id %>">\n        <img src="<%= obj._owner.photo %>" />\n    </a>\n</div>\n\n<div class="widget-box widget-color-green3">\n    <div class="widget-header widget-header-small">\n        <h5 class="widget-title smaller">\n            <i class="ace-icon fa fa-star bigger-110 light-orange"></i>&nbsp;SELink\n        </h5>\n        <span class="widget-toolbar no-border">\n            <i class="ace-icon fa fa-clock-o bigger-110"></i>&nbsp;<%= moment(obj.createDate).fromNow() %>\n        </span>\n    </div>\n    <div class="widget-body">\n        <div class="widget-main">\n            <a href="#profile/<%= obj._owner._id %>">\n                <strong><%= obj._owner.firstName %>&nbsp;<%= obj._owner.lastName %></strong>\n            </a>\n            SELink\n        </div>\n    </div>\n</div>'}),define("text!common/template/activity/item/user-login.html",[],function(){return'<%\r\n    var title = "";\r\n\r\n    if (obj.type == "user-login") {\r\n        title = "";\r\n    }\r\n    else if (obj.type == "user-logout") {\r\n        title = "";\r\n    }\r\n%>\r\n\r\n<div class="timeline-info">\r\n    <a href="#profile/<%= obj._owner._id %>">\r\n        <img alt="" src="<%= obj._owner.photo %>" />\r\n    </a>\r\n</div>\r\n\r\n<div class="widget-box widget-color-pink">\r\n    <div class="widget-header widget-header-small">\r\n        <h5 class="widget-title smaller">\r\n            <i class="ace-icon fa fa-sign-in bigger-110"></i>\r\n            <strong><%= obj._owner.firstName %>&nbsp;<%= obj._owner.lastName %></strong>\r\n            <%= title %>\r\n        </h5>\r\n        <span class="widget-toolbar no-border">\r\n            <i class="ace-icon fa fa-clock-o bigger-110"></i>&nbsp;<%= moment(obj.createDate).fromNow() %>\r\n        </span>\r\n    </div>\r\n</div>'}),define("text!common/template/activity/item/post.html",[],function(){return'<%\r\n    var title,\r\n        comment,\r\n        content = obj.targetPost.content,\r\n        content = _.str.stripTags(content);\r\n        content = _.str.truncate(content, 200);\r\n\r\n    if (obj.type == "post-new") {\r\n\r\n        if (obj.targetGroup)\r\n            title = \'<a class="group-link" href="#group/\' + obj.targetGroup._id + \'">\' + obj.targetGroup.name + \'</a>\';\r\n        else\r\n            title = "";\r\n    }\r\n    else if (obj.type == "post-liked") {\r\n        title = "";\r\n    }\r\n    else if (obj.type == "post-bookmarked") {\r\n        title = "";\r\n    }\r\n    else if (obj.type == "post-commented") {\r\n\r\n        if (obj.targetPost._owner == selink.user.id)\r\n            title = "";\r\n        else\r\n            title = "";\r\n\r\n        comment = _.findWhere(obj.targetPost.comments, {_id: obj.targetComment});\r\n    }\r\n    else if (obj.type == "comment-replied") {\r\n\r\n        comment = _.findWhere(obj.targetPost.comments, {_id: obj.targetComment});\r\n        content = _.findWhere(obj.targetPost.comments, {_id: obj.targetReplyTo}).content;\r\n\r\n        if (comment._owner == selink.user.id)\r\n            title = "";\r\n        else\r\n            title = "";\r\n    }\r\n    else if (obj.type == "comment-liked") {\r\n\r\n        comment = _.findWhere(obj.targetPost.comments, {_id: obj.targetComment});\r\n\r\n        if (comment._owner == selink.user.id)\r\n            title = "";\r\n        else\r\n            title = "";\r\n    }\r\n\r\n%>\r\n\r\n<div class="timeline-info">\r\n    <a href="#profile/<%= obj._owner._id %>">\r\n        <img src="<%= obj._owner.photo %>" />\r\n    </a>\r\n</div>\r\n\r\n<div class="widget-box widget-color-green">\r\n    <div class="widget-header widget-header-small">\r\n        <h5 class="widget-title smaller">\r\n            <i class="ace-icon fa fa-edit bigger-110"></i>&nbsp;\r\n            <strong><%= obj._owner.firstName %>&nbsp;<%= obj._owner.lastName %></strong>\r\n            <%= title %>\r\n        </h5>\r\n        <span class="widget-toolbar no-border">\r\n            <i class="ace-icon fa fa-clock-o bigger-110"></i>&nbsp;<%= moment(obj.createDate).fromNow() %>\r\n        </span>\r\n    </div>\r\n    <div class="widget-body">\r\n        <div class="widget-main">\r\n            <% if (comment) { %>\r\n                <%= comment.content%>\r\n                <hr>\r\n                <div style="text-indent: 10px;">\r\n                    <i class="ace-icon fa fa-chevron-right blue"></i>\r\n                    <%= content %>\r\n                </div>\r\n            <% } else { %>\r\n                <%= content %>\r\n            <% } %>\r\n            <div class="widget-toolbox clearfix">\r\n                <div class="pull-right action-buttons">\r\n                    <div class="space-4"></div>\r\n                    <div>\r\n                        <a href="#post/<%= obj.targetPost._id %>"><i class="ace-icon fa fa-desktop bigger-110"></i>&nbsp;</a>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>'}),define("text!common/template/activity/item/friend.html",[],function(){return'<%\r\n    var title = "",\r\n        content = "";\r\n\r\n    if (obj.type == "friend-invited") {\r\n        title = "";\r\n        content = "";\r\n    }\r\n    else if (obj.type == "friend-approved") {\r\n        title = "";\r\n        content = "";\r\n    }\r\n\r\n%>\r\n\r\n<div class="timeline-info">\r\n    <a href="#profile/<%= obj._owner._id %>">\r\n        <img src="<%= obj._owner.photo %>" />\r\n    </a>\r\n</div>\r\n\r\n<div class="widget-box widget-color-blue2">\r\n    <div class="widget-header widget-header-small">\r\n        <h5 class="widget-title smaller">\r\n            <i class="ace-icon fa fa-group bigger-110"></i>&nbsp;\r\n            <strong><%= obj._owner.firstName %>&nbsp;<%= obj._owner.lastName %></strong>\r\n            <%= title %>\r\n        </h5>\r\n        <span class="widget-toolbar no-border">\r\n            <i class="ace-icon fa fa-clock-o bigger-110"></i>&nbsp;<%= moment(obj.createDate).fromNow() %>\r\n        </span>\r\n    </div>\r\n    <div class="widget-body">\r\n        <div class="widget-main">\r\n            <a href="#profile/<%= obj._owner._id %>">\r\n                <strong><%= obj._owner.firstName %>&nbsp;<%= obj._owner.lastName %></strong>\r\n            </a>\r\n            \r\n            <a href="#profile/<%= obj.targetUser[0]._id %>">\r\n                <strong><%= obj.targetUser[0].firstName %>&nbsp;<%= obj.targetUser[0].lastName %></strong>\r\n            </a>\r\n            <%= content %>\r\n            <a class="pull-right" href="#profile/<%= obj.targetUser[0]._id %>">\r\n                <img src="<%= obj.targetUser[0].photo %>" style="max-width: 50px;" />\r\n            </a>\r\n            <div class="clearfix"></div>\r\n        </div>\r\n    </div>\r\n</div>'}),define("text!common/template/activity/item/job.html",[],function(){return'<%\n    var title = "";\n\n    if (obj.type == "job-new") {\n        title = "";\n    }\n    else if (obj.type == "job-bookmarked") {\n        title = "";\n    }\n%>\n\n<div class="timeline-info">\n    <a href="#<%= obj.link %>">\n        <img src="<%= obj._owner.photo %>" />\n    </a>\n</div>\n\n<div class="widget-box widget-color-red">\n    <div class="widget-header widget-header-small">\n        <h5 class="widget-title smaller">\n            <i class="ace-icon fa fa-briefcase bigger-110"></i>&nbsp;\n            <strong><%= obj._owner.firstName %>&nbsp;<%= obj._owner.lastName %></strong>\n            <%= title %>\n        </h5>\n        <span class="widget-toolbar no-border">\n            <i class="ace-icon fa fa-clock-o bigger-110"></i>&nbsp;<%= moment(obj.createDate).fromNow() %>\n        </span>\n    </div>\n    <div class="widget-body">\n        <div class="widget-main">\n            <strong><a href="#job/<%= obj.targetJob._id %>"><%= obj.targetJob.name %></a></strong>\n        </div>\n    </div>\n</div>'}),define("text!common/template/activity/item/group.html",[],function(){return'<%\r\n    var title = "",\r\n        start,\r\n        end;\r\n\r\n    if (obj.type == "group-new") {\r\n        title = "";\r\n    }\r\n    else if (obj.type == "group-invited") {\r\n        title = "";\r\n    }\r\n    else if (obj.type == "group-joined") {\r\n        title = "";\r\n    }\r\n    else if (obj.type == "group-event-new") {\r\n        title = obj.targetGroup.name + "";\r\n        start = obj.targetEvent.start ? moment(obj.targetEvent.start).format(\'L HH:mm\') : "";\r\n        end = obj.targetEvent.end ? moment(obj.targetEvent.end).format(\'L HH:mm\') : "";\r\n    }\r\n%>\r\n\r\n<div class="timeline-info">\r\n    <a href="#profile/<%= obj._owner._id %>">\r\n        <img src="<%= obj._owner.photo %>" />\r\n    </a>\r\n</div>\r\n\r\n<div class="widget-box widget-color-pink">\r\n    <div class="widget-header widget-header-small">\r\n        <h5 class="widget-title smaller">\r\n            <i class="ace-icon fa fa-group bigger-110"></i>&nbsp;\r\n            <strong><%= obj._owner.firstName %>&nbsp;<%= obj._owner.lastName %></strong>\r\n            <%= title %>\r\n        </h5>\r\n        <span class="widget-toolbar no-border">\r\n            <i class="ace-icon fa fa-clock-o bigger-110"></i>&nbsp;<%= moment(obj.createDate).fromNow() %>\r\n        </span>\r\n    </div>\r\n    <div class="widget-body">\r\n        <div class="widget-main">\r\n            <% if (obj.type == "group-event-new") { %>\r\n                <strong class="blue">\r\n                    <%= obj.targetEvent.title %>\r\n                </strong>\r\n                <small>\r\n                    <%= start %><%= end %>\r\n                </small>\r\n                <p><%= obj.targetEvent.memo %></p>\r\n                <div class="widget-toolbox clearfix">\r\n                    <div class="pull-right action-buttons">\r\n                        <div class="space-4"></div>\r\n                        <div>\r\n                            <a href="#group/<%= obj.targetGroup._id %>"><i class="ace-icon fa fa-group bigger-110"></i>&nbsp;</a>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            <% } else { %>\r\n                <strong><a class="group-link" href="#job/<%= obj.targetGroup._id %>"><%= obj.targetGroup.name %></a></strong>\r\n                <div class="widget-toolbox clearfix">\r\n                    <div class="pull-right action-buttons">\r\n                        <div class="space-4"></div>\r\n                        <div>\r\n                            <a href="#group/<%= obj.targetGroup._id %>"><i class="ace-icon fa fa-group bigger-110"></i>&nbsp;</a>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            <% } %>\r\n        </div>\r\n    </div>\r\n</div>'}),define("common/view/activity/item",["text!common/template/activity/item/user-activated.html","text!common/template/activity/item/user-login.html","text!common/template/activity/item/post.html","text!common/template/activity/item/friend.html","text!common/template/activity/item/job.html","text!common/template/activity/item/group.html","text!common/template/people/popover.html","text!common/template/group/popover.html","common/model/base"],function(e,t,n,r,i,s,o,u,a){return Backbone.Marionette.ItemView.extend({loginActivity:["user-login","user-logout"],userTargetActivity:["friend-invited","friend-approved","friend-declined","friend-break"],postTargetActivity:["post-new","post-liked","post-bookmarked","post-commented","comment-replied","comment-liked"],jobTargetActivity:["job-new","job-bookmarked"],groupTargetActivity:["group-new","group-invited","group-joined","group-refused","group-applied","group-approved","group-declined","group-event-new"],getTemplate:function(){var o=this.model.get("type");if(o=="user-activated")return e;if(_.indexOf(this.loginActivity,o)>=0)return t;if(_.indexOf(this.userTargetActivity,o)>=0)return r;if(_.indexOf(this.postTargetActivity,o)>=0)return n;if(_.indexOf(this.jobTargetActivity,o)>=0)return i;if(_.indexOf(this.groupTargetActivity,o)>=0)return s},className:"timeline-item clearfix",events:{"click .timeline-info img":"toProfile","click .group-link":"toGroup"},onRender:function(){this.model.get("targetGroup")&&this.$el.find(".group-link").popover({html:!0,trigger:"hover",container:"body",placement:"auto right",title:'<img src="'+this.model.get("targetGroup").cover+'" />',content:_.template(u,this.model.get("targetGroup"))}),this.$el.find(".timeline-info img").popover({html:!0,trigger:"hover",container:"body",placement:"auto right",title:'<img src="'+this.model.get("_owner").cover+'" />',content:_.template(o,this.model.get("_owner"))})},toProfile:function(e){e.preventDefault(),this.$el.find(".timeline-info img").popover("destroy"),window.location="#profile/"+this.model.get("_owner")._id},toGroup:function(e){e.preventDefault(),this.$el.find(".group-link").popover("destroy"),window.location="#group/"+this.model.get("targetGroup")._id}})}),define("common/view/activity/item-day",["text!common/template/activity/item-day.html","common/view/activity/item"],function(e,t){return Backbone.Marionette.CompositeView.extend({template:e,className:"timeline-container",childViewContainer:".timeline-items",childView:t,initialize:function(){this.collection=new Backbone.Collection(this.model.get("activities"))},onShow:function(){this.$el.slFadeInUp()}})}),define("common/view/activity/main",["text!common/template/activity/main.html","common/collection/base","common/view/activity/item-day"],function(e,t,n){var r=t.extend({url:"/activities"});return Backbone.Marionette.CompositeView.extend({template:e,className:"widget-box transparent",childViewContainer:this.$el,childView:n,initialize:function(){var e=this;this.collection=new Backbone.Collection;var t=new r;t.fetch({success:function(t,n,r){e.collection.add(e._processRawData(n))}})},onShow:function(){var e=this;this.$el.infinitescroll({navSelector:"#page_nav",nextSelector:"#page_nav a",dataType:"json",appendCallback:!1,loading:{msgText:"<em></em>",finishedMsg:"No more pages to load.",img:"http://i.imgur.com/qkKy8.gif",speed:"slow"},state:{currPage:0}},function(t,n){t.length===0?(e.$el.infinitescroll("destroy"),e.$el.data("infinitescroll",null)):e.collection.add(e._processRawData(t))})},onBeforeDestroy:function(){this.$el.infinitescroll("destroy"),this.$el.data("infinitescroll",null)},_processRawData:function(e){var t=_.groupBy(e,function(e){return moment(e.createDate).format("YYYY/MM/DD")}),n=[];for(var r in t)n.push({date:r,activities:t[r]});return n}})}),define("text!common/template/notification/main.html",[],function(){return'<nav id="page_nav">\r\n  <a href="/notifications"></a>\r\n</nav>'}),define("text!common/template/notification/item/friend.html",[],function(){return'<%\r\n    var iconClass = "",\r\n        title = ""\r\n        resultStr = "";\r\n\r\n    if (obj.type == "friend-invited") {\r\n        iconClass = "ace-icon fa fa-user";\r\n        title = "";\r\n\r\n        if (obj.result == "approved")\r\n            resultStr = "";\r\n        else if (obj.result == "declined")\r\n            resultStr = "";\r\n\r\n    }\r\n    else if (obj.type == "friend-approved") {\r\n        iconClass = "ace-icon fa fa-check-circle-o";\r\n        title = "";\r\n    }\r\n    else if (obj.type == "friend-declined") {\r\n        iconClass = "ace-icon fa fa-ban";\r\n        title = "";\r\n    }\r\n    else if (obj.type == "friend-break") {\r\n        iconClass = "ace-icon fa fa-times-circle";\r\n        title = "";\r\n    }\r\n%>\r\n\r\n<div class="profile-activity clearfix isotope-item">\r\n    <div>\r\n        <a href="#profile/<%= obj._from._id %>">\r\n            <img class="avatar pull-left" src="<%= obj._from.photo %>">\r\n        </a>\r\n\r\n        <a class="user" href="#profile/<%= obj._from._id %>">\r\n            <%= obj._from.firstName %>&nbsp;<%= obj._from.lastName %>\r\n        </a>\r\n        <%= title %>\r\n        <div class="time"><i class="ace-icon fa fa-clock-o bigger-110"></i>&nbsp;<%= moment(obj.createDate).fromNow() %></div>\r\n    </div>\r\n    <% if (obj.result) { %>\r\n        <div class="text-muted pull-right"><i class="ace-icon fa fa-check"></i>&nbsp;<%= resultStr %></div>\r\n    <% } else if (obj.type == "friend-invited") { %>\r\n        <div class="pull-right">\r\n            <button class="btn btn-sm btn-pink btn-decline"><i class="ace-icon fa fa-times"></i>&nbsp;</button>\r\n            <button class="btn btn-sm btn-success btn-approve"><i class="ace-icon fa fa-check"></i>&nbsp;</button>\r\n        </div>\r\n    <% } else { %>\r\n        <div class="pull-right">\r\n            <button class="btn btn-sm btn-info btn-acknowledge pull-right"><i class="ace-icon fa fa-check"></i>&nbsp;</button>\r\n        </div>\r\n    <% } %>\r\n</div>'}),define("text!common/template/notification/item/post.html",[],function(){return'<%\n    var title,\n        icon,\n        comment,\n        reference,\n        content = _.str.stripTags(obj.targetPost.content),\n        summary = _.str.truncate(content, 200);\n\n    if (obj.type == "post-new") {\n        if (obj.targetGroup)\n            title = \'<a class="group-link" href="#group/\' + obj.targetGroup._id + \'">\' + obj.targetGroup.name + \'</a>\';\n        else\n            title = "";\n\n        icon = "fa-edit green bigger-110";\n    }\n    else if (obj.type == "post-liked") {\n        title = "";\n        icon = "fa-heart red bigger-110";\n    }\n    else if (obj.type == "post-bookmarked") {\n        title = "";\n        icon = "fa-star orange2 bigger-110";\n    }\n    else if (obj.type == "post-commented") {\n        title = "";\n        icon = "fa-comment blue bigger-110";\n        comment = _.findWhere(obj.targetPost.comments, {_id: obj.targetComment});\n    }\n    else if (obj.type == "comment-replied") {\n        title = "";\n        icon = "fa-reply blue bigger-110";\n        comment = _.findWhere(obj.targetPost.comments, {_id: obj.targetComment});\n        summary = _.findWhere(obj.targetPost.comments, {_id: obj.targetReplyTo}).content;\n    }\n    else if (obj.type == "comment-liked") {\n        title = "";\n        icon = "fa-heart red bigger-110";\n        comment = _.findWhere(obj.targetPost.comments, {_id: obj.targetComment});\n    }\n%>\n\n<div class="profile-activity clearfix isotope-item">\n\n    <a href="#profile/<%= obj._from._id %>">\n        <img class="avatar" src="<%= obj._from.photo %>">\n    </a>\n\n    <a class="user" href="#profile/<%= obj._from._id %>">\n        <%= obj._from.firstName %>&nbsp;<%= obj._from.lastName %>\n    </a>\n    <%= title %>\n\n    <div style="margin-top: 10px;">\n        <i class="ace-icon fa <%= icon %>"></i>\n        <% if (comment) { %>\n            <%= comment.content%>\n            <div class="space-4"></div>\n            <div style="text-indent: 20px;">\n                <i class="ace-icon fa fa-chevron-right blue"></i>\n                <%= summary %>\n            </div>\n        <% } else { %>\n            <%= summary %>\n        <% } %>\n    </div>\n\n    <div class="time"><i class="ace-icon fa fa-clock-o bigger-110"></i>&nbsp;<%= moment(obj.createDate).fromNow() %></div>\n\n    <% if (obj.result) { %>\n        <div class="text-muted pull-right"><i class="ace-icon fa fa-check"></i>&nbsp;</div>\n    <% } else { %>\n        <div class="pull-right">\n            <button class="btn btn-sm btn-info btn-acknowledge pull-right"><i class="ace-icon fa fa-check"></i>&nbsp;</button>\n        </div>\n    <% } %>\n</div>'}),define("text!common/template/notification/item/job.html",[],function(){return'<%\n    var title,\n        icon,\n        content;\n\n    if (obj.type == "job-new") {\n        title = "";\n        icon = "fa-briefcase blue bigger-110";\n        content = obj.targetJob.name;\n    }\n    else if (obj.type == "job-bookmarked") {\n        title = "";\n        icon = "fa-star orange2 bigger-110";\n        content = obj.targetJob.name;\n    }\n%>\n\n<div class="profile-activity clearfix isotope-item">\n    <div>\n        <a href="#profile/<%= obj._from._id %>">\n            <img class="avatar pull-left" src="<%= obj._from.photo %>">\n        </a>\n\n        <a class="user" href="#profile/<%= obj._from._id %>">\n            <%= obj._from.firstName %>&nbsp;<%= obj._from.lastName %>\n        </a>\n\n        <%= title %>\n\n        <p>\n            <i class="ace-icon fa <%= icon %>"></i>\n            <%= content %>\n        </p>\n\n        <div class="time"><i class="ace-icon fa fa-clock-o bigger-110"></i>&nbsp;<%= moment(obj.createDate).fromNow() %></div>\n    </div>\n    <% if (obj.result) { %>\n        <div class="text-muted pull-right"><i class="ace-icon fa fa-check"></i>&nbsp;</div>\n    <% } else { %>\n        <div class="pull-right">\n            <button class="btn btn-sm btn-info btn-acknowledge pull-right"><i class="ace-icon fa fa-check"></i>&nbsp;</button>\n        </div>\n    <% } %>\n</div>'}),define("text!common/template/notification/item/group.html",[],function(){return'<%\r\n    var icon,\r\n        content,\r\n        groupName = obj.targetGroup.name,\r\n        resultStr = "";\r\n\r\n    if (obj.type == "group-new") {\r\n        icon = "fa-group blue bigger-110";\r\n        content = "<a class=\'group-link\' href=\'#group/" + obj.targetGroup._id + "\'><strong>" + groupName + "</strong></a>";\r\n    }\r\n    else if (obj.type == "group-invited") {\r\n        icon = "fa-ticket red bigger-110";\r\n        content = "<a class=\'group-link\' href=\'#group/" + obj.targetGroup._id + "\'><strong>" + groupName + "</strong></a>";\r\n\r\n        if (obj.result == "accepted")\r\n            resultStr = "";\r\n        else if (obj.result == "refused")\r\n            resultStr = "";\r\n    }\r\n    else if (obj.type == "group-joined") {\r\n        icon = "fa-sign-in green bigger-110";\r\n        content = "<a class=\'group-link\' href=\'#group/" + obj.targetGroup._id + "\'><strong>" + groupName + "</strong></a>";\r\n    }\r\n    else if (obj.type == "group-refused") {\r\n        icon = "fa-sign-out purple bigger-110";\r\n        content = "<a class=\'group-link\' href=\'#group/" + obj.targetGroup._id + "\'><strong>" + groupName + "</strong></a>";\r\n    }\r\n    else if (obj.type == "group-applied") {\r\n        icon = "fa-calendar-o blue bigger-110";\r\n        content = "<a class=\'group-link\' href=\'#group/" + obj.targetGroup._id + "\'><strong>" + groupName + "</strong></a>";\r\n    }\r\n    else if (obj.type == "group-approved") {\r\n        icon = "fa-smile-o green bigger-110";\r\n        content = "<a class=\'group-link\' href=\'#group/" + obj.targetGroup._id + "\'><strong>" + groupName + "</strong></a>";\r\n    }\r\n    else if (obj.type == "group-declined") {\r\n        icon = "fa-frown-o purple bigger-110";\r\n        content = "<a class=\'group-link\' href=\'#group/" + obj.targetGroup._id + "\'><strong>" + groupName + "</strong></a>";\r\n    }\r\n%>\r\n\r\n<div class="profile-activity clearfix isotope-item">\r\n    <div>\r\n        <a href="#profile/<%= obj._from._id %>">\r\n            <img class="avatar pull-left" src="<%= obj._from.photo %>">\r\n        </a>\r\n\r\n        <a class="user" href="#profile/<%= obj._from._id %>">\r\n            <%= obj._from.firstName %>&nbsp;<%= obj._from.lastName %>\r\n        </a>\r\n\r\n        <p>\r\n            <i class="ace-icon fa <%= icon %>"></i>\r\n            <%= content %>\r\n        </p>\r\n\r\n        <div class="time"><i class="ace-icon fa fa-clock-o bigger-110"></i>&nbsp;<%= moment(obj.createDate).fromNow() %></div>\r\n    </div>\r\n    <% if (obj.result) { %>\r\n        <div class="text-muted pull-right"><i class="ace-icon fa fa-check"></i>&nbsp;<%= resultStr %></div>\r\n    <% } else if (obj.type == "group-invited") { %>\r\n        <div class="pull-right">\r\n            <button class="btn btn-sm btn-pink btn-refuse"><i class="ace-icon fa fa-times"></i>&nbsp;</button>\r\n            <button class="btn btn-sm btn-success btn-join"><i class="ace-icon fa fa-check"></i>&nbsp;</button>\r\n        </div>\r\n    <% } else { %>\r\n        <div class="pull-right">\r\n            <button class="btn btn-sm btn-info btn-acknowledge pull-right"><i class="ace-icon fa fa-check"></i>&nbsp;</button>\r\n        </div>\r\n    <% } %>\r\n</div>'}),define("common/view/notification/item",["text!common/template/notification/item/friend.html","text!common/template/notification/item/post.html","text!common/template/notification/item/job.html","text!common/template/notification/item/group.html","text!common/template/people/popover.html","text!common/template/group/popover.html","common/view/topnav/notification/item"],function(e,t,n,r,i,s,o){return o.extend({tagName:"div",ui:{avatar:".avatar",groupLink:".group-link"},events:{"click @ui.avatar":"toProfile","click @ui.groupLink":"toGroup","click .btn-approve":"onApproveClick","click .btn-decline":"onDeclineClick","click .btn-join":"onJoinClick","click .btn-refuse":"onRefuseClick","click .btn-acknowledge":"onAcknowledgeClick"},getTemplate:function(){var i=this.model.get("type");if(_.indexOf(this.userTargetNotification,i)>=0)return e;if(_.indexOf(this.postTargetNotification,i)>=0)return t;if(_.indexOf(this.jobTargetNotification,i)>=0)return n;if(_.indexOf(this.groupTargetNotification,i)>=0)return r},onRender:function(){this.model.get("targetGroup")&&this.ui.groupLink.popover({html:!0,trigger:"hover",container:"body",placement:"auto top",title:'<img src="'+this.model.get("targetGroup").cover+'" />',content:_.template(s,this.model.get("targetGroup"))}),this.ui.avatar.popover({html:!0,trigger:"hover",container:"body",placement:"auto right",title:'<img src="'+this.model.get("_from").cover+'" />',content:_.template(i,this.model.get("_from"))})},toProfile:function(e){e.preventDefault(),this.ui.avatar.popover("destroy"),window.location="#profile/"+this.model.get("_from")._id},toGroup:function(e){e.preventDefault(),this.ui.groupLink.popover("destroy"),window.location="#group/"+this.model.get("targetGroup")._id},onApproveClick:function(){var e=this,t=this.model.get("_from");this.model.save({result:"approved"},{url:"/notifications/"+this.model.get("_id"),success:function(){selink.user.friends.add(t),e.$el.find(".pull-right").fadeOut(function(){$(this).empty().html('<div class="text-muted pull-right"><i class="ace-icon fa fa-check"></i>&nbsp;</div>').fadeIn()}),selink.user.notifications.remove(e.model.get("_id"))},patch:!0})},onDeclineClick:function(){var e=this;this.model.save({result:"declined"},{url:"/notifications/"+this.model.get("_id"),success:function(){e.$el.find(".pull-right").fadeOut(function(){$(this).empty().html('<div class="text-muted pull-right"><i class="ace-icon fa fa-check"></i>&nbsp;</div>').fadeIn()}),selink.user.notifications.remove(e.model.get("_id"))},patch:!0})},onJoinClick:function(){var e=this;this.model.save({result:"accepted"},{url:"/notifications/"+this.model.get("_id"),success:function(){e.$el.find(".pull-right").fadeOut(function(){$(this).empty().html('<div class="text-muted pull-right"><i class="ace-icon fa fa-check"></i>&nbsp;</div>').fadeIn()}),selink.user.notifications.remove(e.model.get("_id"))},patch:!0})},onRefuseClick:function(){var e=this;this.model.save({result:"refused"},{url:"/notifications/"+this.model.get("_id"),success:function(){e.$el.find(".pull-right").fadeOut(function(){$(this).empty().html('<div class="text-muted pull-right"><i class="ace-icon fa fa-check"></i>&nbsp;</div>').fadeIn()}),selink.user.notifications.remove(e.model.get("_id"))},patch:!0})},onAcknowledgeClick:function(){var e=this;this.model.save({result:"acknowledged"},{url:"/notifications/"+this.model.get("_id"),success:function(){e.$el.find(".pull-right").fadeOut(function(){$(this).empty().html('<div class="text-muted pull-right"><i class="ace-icon fa fa-check"></i>&nbsp;</div>').fadeIn()}),selink.user.notifications.remove(e.model.get("_id"))},patch:!0})}})}),define("common/view/notification/main",["text!common/template/notification/main.html","common/collection/base","common/view/notification/item"],function(e,t,n){var r=t.extend({url:"/notifications?embed=_from"});return Backbone.Marionette.CompositeView.extend({template:e,childViewContainer:this.$el,childView:n,initialize:function(){this.collection=new r,this.collection.fetch()},onShow:function(){var e=this;this.$el.infinitescroll({navSelector:"#page_nav",nextSelector:"#page_nav a",dataType:"json",appendCallback:!1,loading:{msgText:"<em></em>",finishedMsg:""},state:{currPage:0},path:function(t){return"/notifications?embed=_from&after="+moment(e.collection.last().get("createDate")).unix()}},function(t,n){t.length===0?(e.$el.infinitescroll("destroy"),e.$el.data("infinitescroll",null)):e.collection.add(t)})},onBeforeDestroy:function(){this.$el.infinitescroll("destroy"),this.$el.data("infinitescroll",null)}})}),define("text!common/template/mailbox/main.html",[],function(){return'<ul class="inbox-tabs nav nav-tabs padding-16 tab-size-bigger">\r\n\r\n    <li class="li-new-mail pull-right">\r\n        <button class="btn btn-success btn-msg">\r\n            <i class="ace-icon fa fa-envelope bigger-130"></i>\r\n            <span></span>\r\n        </button>\r\n    </li>\r\n\r\n    <li class="active">\r\n        <a data-toggle="tab" href="#inbox">\r\n            <i class="blue ace-icon fa fa-inbox bigger-130"></i>\r\n            <span></span>\r\n        </a>\r\n    </li>\r\n\r\n    <li>\r\n        <a data-toggle="tab" href="#sentbox">\r\n            <i class="orange ace-icon fa fa-paper-plane bigger-130"></i>\r\n            <span></span>\r\n        </a>\r\n    </li>\r\n\r\n</ul>\r\n\r\n<div class="tab-content no-border no-padding">\r\n    <div id="inbox" class="tab-pane active"></div>\r\n    <div id="sentbox" class="tab-pane"></div>\r\n</div>\r\n'}),define("text!common/template/mailbox/inbox.html",[],function(){return'<div id="id-message-list-navbar" class="message-navbar align-center clearfix">\r\n\r\n    <div class="message-bar">\r\n\r\n        <div class="message-infobar">\r\n            <span class="blue bigger-150"></span>\r\n        </div>\r\n\r\n        <div class="message-toolbar hide">\r\n            <div class="inline position-relative align-left">\r\n                <a href="#" class="btn-message btn btn-xs dropdown-toggle" data-toggle="dropdown">\r\n                    <span class="bigger-110"></span>\r\n                    <i class="ace-icon fa fa-caret-down icon-on-right"></i>\r\n                </a>\r\n                <ul class="dropdown-menu dropdown-lighter dropdown-caret dropdown-125">\r\n                    <li><a href="#" class="btn-unopen"><i class="ace-icon fa fa-eye-slash blue"></i>&nbsp;</a></li>\r\n                    <li><a href="#" class="btn-open"><i class="ace-icon fa fa-eye green"></i>&nbsp;</a></li>\r\n                    <li class="divider"></li>\r\n                    <li><a href="#" class="btn-remove"><i class="ace-icon fa fa-trash-o red bigger-110"></i>&nbsp;</a></li>\r\n                </ul>\r\n            </div>\r\n\r\n            <a href="#" class="btn btn-xs btn-message btn-remove">\r\n                <i class="ace-icon fa fa-trash-o bigger-125"></i>\r\n                <span class="bigger-110"></span>\r\n            </a>\r\n        </div>\r\n\r\n    </div>\r\n\r\n\r\n    <div>\r\n        <div class="messagebar-item-left">\r\n            <label class="inline middle">\r\n                <input type="checkbox" class="ace toggle-all" />\r\n                <span class="lbl"></span>\r\n            </label>\r\n\r\n            &nbsp;\r\n\r\n            <div class="inline position-relative">\r\n                <a href="#" data-toggle="dropdown" class="dropdown-toggle">\r\n                    <i class="ace-icon fa fa-caret-down bigger-125 middle"></i>\r\n                </a>\r\n\r\n                <ul class="dropdown-menu dropdown-lighter dropdown-100">\r\n                    <li><a class="select-all" href="#"></a></li>\r\n                    <li><a class="select-none" href="#"></a></li>\r\n                    <li class="divider"></li>\r\n                    <li><a class="select-unread" href="#"></a></li>\r\n                    <li><a class="select-read" href="#"></a></li>\r\n                </ul>\r\n            </div>\r\n        </div>\r\n\r\n        <div class="messagebar-item-right">\r\n            <div class="inline position-relative">\r\n                <a href="#" data-toggle="dropdown" class="dropdown-toggle">\r\n                     &nbsp;<i class="ace-icon fa fa-caret-down bigger-125"></i>\r\n                </a>\r\n\r\n                <ul class="dropdown-menu dropdown-lighter pull-right dropdown-100 sort-menu">\r\n                    <li><a href="#" class="sort-createDate"><i class="ace-icon fa fa-check green"></i>&nbsp;</a></li>\r\n                    <li><a href="#" class="sort-from"><i class="ace-icon fa fa-check green hide"></i>&nbsp;</a></li>\r\n                    <li><a href="#" class="sort-subject"><i class="ace-icon fa fa-check green hide"></i>&nbsp;</a></li>\r\n                </ul>\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n</div>\r\n\r\n<div class="message-container">\r\n    <nav id="inbox-page-nav">\r\n        <a href="/messages"></a>\r\n    </nav>\r\n</div>\r\n\r\n<div class="message-footer clearfix">\r\n</div>'}),define("text!common/template/mailbox/item/received.html",[],function(){return'<label class="inline">\r\n    <input type="checkbox" class="ace" />\r\n    <span class="lbl"></span>\r\n</label>\r\n\r\n<% if (obj.isMarked) { %>\r\n    <i class="message-star ace-icon fa fa-star orange"></i>\r\n<% } else { %>\r\n    <i class="message-star ace-icon fa fa-star-o light-grey"></i>\r\n<% } %>\r\n\r\n<span class="sender">\r\n    <a href="#profile/<%= obj._from._id %>"><%= obj._from.firstName %>&nbsp;<%= obj._from.lastName %></a>\r\n</span>\r\n\r\n<span class="time" data-create-date="<%= moment(obj.createDate).valueOf() %>">\r\n    <%= moment(obj.createDate).calendar() %>\r\n</span>\r\n\r\n<span class="clearfix"></span>\r\n\r\n<span class="summary">\r\n    <span class="badge badge-green mail-tag"></span>\r\n    <span class="text">\r\n        <%= obj.subject %>\r\n    </span>\r\n</span>\r\n\r\n<div class="message-content" style="display: none;">\r\n    <div class="message-header clearfix">\r\n        <div class="pull-left">\r\n\r\n            <a href="#profile/<%= obj._from._id %>">\r\n                <img class="pull-left" src="<%= obj._from.photo %>" style="max-width: 50px; max-height: 50px; margin-right: 10px;" />\r\n            </a>\r\n\r\n            <span class="blue bigger-125">\r\n                <%= obj.subject %>\r\n            </span>\r\n\r\n            <div class="space-4"></div>\r\n\r\n            <div>\r\n                <a href="#profile/<%= obj._from._id %>"><%= obj._from.firstName %>&nbsp;<%= obj._from.lastName %></a>\r\n            </div>\r\n\r\n        </div>\r\n\r\n        <div class="action-buttons pull-right">\r\n            <a href="#" class="btn-reply tooltip-success">\r\n                <i class="ace-icon fa fa-reply green icon-only bigger-130"></i>\r\n            </a>\r\n            <a href="#" class="btn-remove tooltip-error">\r\n                <i class="ace-icon fa fa-trash-o red icon-only bigger-130"></i>\r\n            </a>\r\n        </div>\r\n    </div>\r\n\r\n    <div class="hr hr-double"></div>\r\n\r\n    <div class="message-body">\r\n        <%= obj.content %>\r\n    </div>\r\n\r\n</div>'}),define("text!common/template/mailbox/item/sent.html",[],function(){return'<%\n    var linkList = _.map(obj._recipient, function(recipient) {\n        return \'<a href="#profile/\' + recipient._id + \'">\' + recipient.firstName + \' \' + recipient.lastName + \'</a>\';\n    }).join(\'\');\n%>\n\n<label class="inline">\n    <input type="checkbox" class="ace" />\n    <span class="lbl"></span>\n</label>\n\n<% if (obj.isMarked) { %>\n    <i class="message-star ace-icon fa fa-star orange"></i>\n<% } else { %>\n    <i class="message-star ace-icon fa fa-star-o light-grey"></i>\n<% } %>\n\n<span class="sender">\n    <%= linkList %>\n</span>\n\n<span class="time" data-create-date="<%= moment(obj.createDate).valueOf() %>">\n    <%= moment(obj.createDate).calendar() %>\n</span>\n\n<span class="clearfix"></span>\n\n<span class="summary">\n    <span class="badge badge-green mail-tag"></span>\n    <span class="text">\n        <%= obj.subject %>\n    </span>\n</span>\n\n<div class="message-content" style="display: none;">\n    <div class="message-header clearfix">\n        <div class="pull-left">\n\n            <span class="blue bigger-125">\n                <%= obj.subject %>\n            </span>\n\n            <div class="space-4"></div>\n\n            <div>\n                <%= linkList %>\n            </div>\n\n        </div>\n\n        <div class="action-buttons pull-right">\n            <a href="#" class="btn-remove tooltip-error">\n                <i class="ace-icon fa fa-trash-o red icon-only bigger-130"></i>\n            </a>\n        </div>\n    </div>\n\n    <div class="hr hr-double"></div>\n\n    <div class="message-body">\n        <%= obj.content %>\n    </div>\n\n</div>'}),define("common/view/mailbox/item",["text!common/template/mailbox/item/received.html","text!common/template/mailbox/item/sent.html","common/view/mailbox/edit","common/model/message","common/model/base"],function(e,t,n,r,i){return Backbone.Marionette.ItemView.extend({className:"message-item isotope-item col-xs-12",getTemplate:function(){return this.model.get("isMine")?t:e},ui:{selection:'input[type="checkbox"]',bookmarkBtn:".message-star",subject:".text",replyBtn:".btn-reply",removeBtn:".btn-remove"},events:{'click input[type="checkbox"]':"toggleSelect","click .message-star":"onBookmark","click .text":"showMessage","click .btn-reply":"replyMessage","click .btn-remove":"removeMessage"},modelEvents:{"change:isUnread":"markRead","change:bookmarked":"renderBookmark"},initialize:function(){this.model.get("isUnread")&&this.$el.addClass("message-unread")},onRender:function(){var e=this;this.ui.replyBtn.tooltip({placement:"top",title:""}),this.ui.removeBtn.tooltip({placement:"top",title:""})},toggleSelect:function(){var e=this.ui.selection.prop("checked");e?(this.$el.addClass("selected"),this.trigger("selected")):(this.$el.removeClass("selected"),this.trigger("unselected"))},selectMessage:function(){this.$el.addClass("selected"),this.$el.find('input[type="checkbox"]').prop("checked",!0)},unselectMessage:function(){this.$el.removeClass("selected"),this.$el.find('input[type="checkbox"]').prop("checked",!1)},onBookmark:function(){this.model.save({bookmarked:selink.user.id},{url:"/messages/"+this.model.get("_id")+"/bookmark",reIsotope:!1,patch:!0,wait:!0})},renderBookmark:function(){this.model.get("isMarked")?this.ui.bookmarkBtn.removeClass("fa-star-o light-grey").addClass("fa-star orange").slFlip():this.ui.bookmarkBtn.removeClass("fa-star orange").addClass("fa-star-o light-grey").slFlip()},showMessage:function(){var e=this;this.openMessage(),this.$el.toggleClass("message-inline-open").find(".message-content").slideToggle(0,function(){e.trigger("ensureLayout")})},replyMessage:function(e){e&&e.preventDefault();var t=new r({subject:"Re: "+this.model.get("subject"),content:this.model.get("content"),reference:this.model.get("_id")}),s=new i(this.model.get("_from")),o=new n({model:t,recipient:[s]});selink.modalArea.show(o),selink.modalArea.$el.modal("show")},removeMessage:function(e){e&&e.preventDefault(),this.trigger("remove"),this.model.get("isUnread")&&selink.user.messages.remove(this.model.id)},openMessage:function(){this.model.get("isUnread")&&this.model.save({opened:!0},{patch:!0,wait:!0})},unopenMessage:function(){this.model.get("isUnread")||this.model.save({opened:!1},{patch:!0,wait:!0})},markRead:function(){this.model.get("isUnread")?(this.$el.addClass("message-unread"),selink.user.messages.add(this.model)):(this.$el.removeClass("message-unread"),selink.user.messages.remove(this.model.id))}})}),define("text!common/template/mailbox/empty.html",[],function(){return'<div class="center">\n	\n</div>'}),define("common/view/mailbox/empty",["text!common/template/mailbox/empty.html"],function(e){return Backbone.Marionette.ItemView.extend({className:"message-item isotope-item col-xs-12",template:e})}),define("common/view/mailbox/inbox",["text!common/template/mailbox/inbox.html","common/view/composite-isotope","common/collection/base","common/model/message","common/view/mailbox/item","common/view/mailbox/empty"],function(e,t,n,r,i,s){var o=n.extend({model:r,url:"/messages"});return t.extend({className:"message-list",template:e,childViewContainer:".message-container",childView:i,selectedItem:new o,ui:{infoBar:".message-infobar",toolBar:".message-toolbar",openBtn:"btn-open",unopenBtn:"btn-unopen",removeBtn:"btn-remove"},events:{"click .toggle-all":"toggleAll","click .select-all":"selectAll","click .select-none":"selectNone","click .select-unread":"selectUnread","click .select-read":"selectRead","click .btn-unopen":"unopenMessage","click .btn-open":"openMessage","click .btn-remove":"removeMessage","click .sort-createDate":"sortCreateDate","click .sort-from":"sortFrom","click .sort-subject":"sortSubject"},initialize:function(){this.childEvents=_.extend({},this.childEvents,{selected:"itemSelected",unselected:"itemUnselected"}),this.collection=new o,this.listenTo(this.selectedItem,"all",this.toggleTools)},onShow:function(){var e=this;this.$el.find(this.childViewContainer).isotope({itemSelector:".isotope-item",stamp:".stamp",masonry:{columnWidth:".isotope-item"},getSortData:{createDate:function(e){return $(e).find("[data-create-date]").data("create-date")},from:function(e){return $(e).find(".sender").text()},subject:function(e){return $(e).find(".text").text()}},sortBy:"createDate",sortAscending:!1}),this.$el.find(this.childViewContainer).infinitescroll({navSelector:"#inbox-page-nav",nextSelector:"#inbox-page-nav a",dataType:"json",appendCallback:!1,loading:{msgText:"<em></em>",finishedMsg:""},path:function(t){return"/messages?before="+moment(e.collection.last().get("createDate")).unix()}},function(t,n){t.length>0&&e.collection.add(t,{parse:!0})}),this.collection.fetch()},toggleTools:function(){this.selectedItem.length?(this.ui.infoBar.addClass("hide"),this.ui.toolBar.removeClass("hide")):(this.ui.infoBar.removeClass("hide"),this.ui.toolBar.addClass("hide"))},toggleAll:function(){var e=this.$el.find(".toggle-all").prop("checked");e?this.selectAll():this.selectNone()},selectAll:function(e){var t=this;e&&e.preventDefault(),this.selectedItem.reset(),this.children.each(function(e){e.selectMessage(),t.selectedItem.add(e.model)})},selectNone:function(e){e&&e.preventDefault(),this.selectedItem.reset(),this.children.each(function(e){e.unselectMessage()})},selectUnread:function(e){var t=this;e.preventDefault(),this.selectNone(e),this.selectedItem.reset(),this.children.each(function(e){e.model.get("opened").length||(e.selectMessage(),t.selectedItem.add(e.model))})},selectRead:function(e){var t=this;e.preventDefault(),this.selectNone(e),this.selectedItem.reset(),this.children.each(function(e){e.model.get("opened").length&&(e.selectMessage(),t.selectedItem.add(e.model))})},itemSelected:function(e){this.selectedItem.add(e.model)},itemUnselected:function(e){this.selectedItem.remove(e.model)},openMessage:function(e){var t=this;e.preventDefault(),this.selectedItem.each(function(e){t.children.findByModel(e).openMessage()}),this.selectNone()},unopenMessage:function(e){var t=this;e.preventDefault(),this.selectedItem.each(function(e){t.children.findByModel(e).unopenMessage()}),this.selectNone()},removeMessage:function(e){var t=this;e.preventDefault(),this.selectedItem.each(function(e){t.children.findByModel(e).removeMessage()})},sortCreateDate:function(e){e.preventDefault(),this.$el.find(this.childViewContainer).isotope({sortBy:"createDate"}),this.$el.find(".sort-menu i").addClass("hide"),this.$el.find(".sort-createDate i").removeClass("hide")},sortFrom:function(e){e.preventDefault(),this.$el.find(this.childViewContainer).isotope({sortBy:"from"}),this.$el.find(".sort-menu i").addClass("hide"),this.$el.find(".sort-from i").removeClass("hide")},sortSubject:function(e){e.preventDefault(),this.$el.find(this.childViewContainer).isotope({sortBy:"subject"}),this.$el.find(".sort-menu i").addClass("hide"),this.$el.find(".sort-subject i").removeClass("hide")}})}),define("text!common/template/mailbox/sentbox.html",[],function(){return'<div id="id-message-list-navbar" class="message-navbar align-center clearfix">\r\n\r\n    <div class="message-bar">\r\n\r\n        <div class="message-infobar">\r\n            <span class="blue bigger-150"></span>\r\n        </div>\r\n\r\n        <div class="message-toolbar hide">\r\n            <a href="#" class="btn btn-xs btn-message btn-remove">\r\n                <i class="ace-icon fa fa-trash-o bigger-125"></i>\r\n                <span class="bigger-110"></span>\r\n            </a>\r\n        </div>\r\n\r\n    </div>\r\n\r\n\r\n    <div>\r\n        <div class="messagebar-item-left">\r\n            <label class="inline middle">\r\n                <input type="checkbox" class="ace toggle-all" />\r\n                <span class="lbl"></span>\r\n            </label>\r\n\r\n            &nbsp;\r\n\r\n            <div class="inline position-relative">\r\n                <a href="#" data-toggle="dropdown" class="dropdown-toggle">\r\n                    <i class="ace-icon fa fa-caret-down bigger-125 middle"></i>\r\n                </a>\r\n\r\n                <ul class="dropdown-menu dropdown-lighter dropdown-100">\r\n                    <li><a class="select-all" href="#"></a></li>\r\n                    <li><a class="select-none" href="#"></a></li>\r\n                </ul>\r\n            </div>\r\n        </div>\r\n\r\n        <div class="messagebar-item-right">\r\n            <div class="inline position-relative">\r\n                <a href="#" data-toggle="dropdown" class="dropdown-toggle">\r\n                     &nbsp;<i class="ace-icon fa fa-caret-down bigger-125"></i>\r\n                </a>\r\n\r\n                <ul class="dropdown-menu dropdown-lighter pull-right dropdown-100 sort-menu">\r\n                    <li><a href="#" class="sort-createDate"><i class="ace-icon fa fa-check green"></i>&nbsp;</a></li>\r\n                    <li><a href="#" class="sort-recipient"><i class="ace-icon fa fa-check green hide"></i>&nbsp;</a></li>\r\n                    <li><a href="#" class="sort-subject"><i class="ace-icon fa fa-check green hide"></i>&nbsp;</a></li>\r\n                </ul>\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n</div>\r\n\r\n<div class="message-container">\r\n    <nav id="sentbox-page-nav">\r\n        <a href="/messages/sent"></a>\r\n    </nav>\r\n</div>\r\n\r\n<div class="message-footer clearfix">\r\n</div>'}),define("common/view/mailbox/sentbox",["text!common/template/mailbox/sentbox.html","common/view/composite-isotope","common/collection/base","common/model/message","common/view/mailbox/item","common/view/mailbox/empty"],function(e,t,n,r,i,s){var o=n.extend({model:r,url:"/messages/sent"});return t.extend({className:"message-list",template:e,childViewContainer:".message-container",childView:i,selectedItem:new o,navSelector:"#sentbox-page-nav",nextSelector:"#sentbox-page-nav a",ui:{infoBar:".message-infobar",toolBar:".message-toolbar",removeBtn:"btn-remove"},events:{"click .toggle-all":"toggleAll","click .select-all":"selectAll","click .select-none":"selectNone","click .btn-remove":"removeMessage","click .sort-createDate":"sortCreateDate","click .sort-recipient":"sortRecipient","click .sort-subject":"sortSubject"},initialize:function(){this.childEvents=_.extend({},this.childEvents,{selected:"itemSelected",unselected:"itemUnselected"}),this.collection=new o,this.listenTo(this.selectedItem,"all",this.toggleTools)},onShow:function(){var e=this;this.$el.find(this.childViewContainer).isotope({itemSelector:".isotope-item",stamp:".stamp",masonry:{columnWidth:".isotope-item"},getSortData:{createDate:function(e){return $(e).find("[data-create-date]").data("create-date")},recipient:function(e){return $(e).find(".sender").text()},subject:function(e){return $(e).find(".text").text()}},sortBy:"createDate",sortAscending:!1}),this.$el.find(this.childViewContainer).infinitescroll({navSelector:"#sentbox-page-nav",nextSelector:"#sentbox-page-nav a",dataType:"json",appendCallback:!1,loading:{msgText:"<em></em>",finishedMsg:""},path:function(t){return"/messages/sent?before="+moment(e.collection.last().get("createDate")).unix()}},function(t,n){t.length>0&&e.collection.add(t,{parse:!0})}),this.collection.fetch()},toggleTools:function(){this.selectedItem.length?(this.ui.infoBar.addClass("hide"),this.ui.toolBar.removeClass("hide")):(this.ui.infoBar.removeClass("hide"),this.ui.toolBar.addClass("hide"))},toggleAll:function(){var e=this.$el.find(".toggle-all").prop("checked");e?this.selectAll():this.selectNone()},selectAll:function(e){var t=this;e&&e.preventDefault(),this.selectedItem.reset(),this.children.each(function(e){e.selectMessage(),t.selectedItem.add(e.model)})},selectNone:function(e){e&&e.preventDefault(),this.selectedItem.reset(),this.children.each(function(e){e.unselectMessage()})},itemSelected:function(e){this.selectedItem.add(e.model)},itemUnselected:function(e){this.selectedItem.remove(e.model)},removeMessage:function(e){var t=this;e.preventDefault(),this.selectedItem.each(function(e){t.children.findByModel(e).removeMessage()})},sortCreateDate:function(e){e.preventDefault(),this.$el.find(this.childViewContainer).isotope({sortBy:"createDate"}),this.$el.find(".sort-menu i").addClass("hide"),this.$el.find(".sort-createDate i").removeClass("hide")},sortRecipient:function(e){e.preventDefault(),this.$el.find(this.childViewContainer).isotope({sortBy:"recipient"}),this.$el.find(".sort-menu i").addClass("hide"),this.$el.find(".sort-recipient i").removeClass("hide")},sortSubject:function(e){e.preventDefault(),this.$el.find(this.childViewContainer).isotope({sortBy:"subject"}),this.$el.find(".sort-menu i").addClass("hide"),this.$el.find(".sort-subject i").removeClass("hide")}})}),define("common/view/mailbox/main",["text!common/template/mailbox/main.html","common/view/mailbox/inbox","common/view/mailbox/sentbox","common/view/mailbox/edit"],function(e,t,n,r){return Backbone.Marionette.LayoutView.extend({className:"tabbable",template:e,events:{"click .btn-msg":"showMessageEditor",'click a[href="#sentbox"]':"showSentBox"},regions:{inBoxRegion:"#inbox",sentBoxRegion:"#sentbox"},onShow:function(){this.inBox=new t,this.inBoxRegion.show(this.inBox),this.$el.addClass("animated fadeInUp")},showSentBox:function(){this.sentBox||(this.sentBox=new n,this.sentBoxRegion.show(this.sentBox))},showMessageEditor:function(){var e=new r;selink.modalArea.show(e),selink.modalArea.$el.modal("show")}})}),define("engineer/controller/controller",["common/view/topnav/topnav","engineer/view/common/sidenav","engineer/view/home/main","common/view/search/main","common/view/profile/main","common/view/post/main","common/view/post/detail","common/view/group/main","common/view/group/detail","common/view/people/main","common/view/people/detail","common/view/bookmark/main","common/view/calendar/main","common/view/activity/main","common/view/notification/main","common/view/mailbox/main","common/model/user","common/model/post","common/model/group"],function(e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y){return Backbone.Marionette.Controller.extend({initialize:function(e){var t=this;this.showNavigation(),window.location.hash===""&&(window.location="#home")},showNavigation:function(){selink.sideNavView=new t,selink.sidenavArea.show(selink.sideNavView),selink.topNavView=new e,selink.topnavArea.show(selink.topNavView)},showHomeView:function(){selink.homeView=new n({model:selink.user,sort:!1}),selink.pageContent.show(selink.homeView)},showSearchView:function(e){selink.searchView=new r({model:new Backbone.Model({term:e})}),selink.pageContent.show(selink.searchView)},showProfileView:function(e){if(!e||e===selink.user.get("_id"))selink.profileView=new i({model:selink.user}),selink.pageContent.show(selink.profileView);else{var t=new m({_id:e});t.fetch({success:function(){selink.peopleDetailView=new l({model:t}),selink.pageContent.show(selink.peopleDetailView)}})}},showPostView:function(e){if(e){var t=new g({_id:e});t.fetch({success:function(){var e=new o({model:t,modal:!0});selink.modalArea.show(e),selink.modalArea.$el.modal("show")}})}else selink.postView=new s,selink.pageContent.show(selink.postView)},showGroupView:function(e){if(!e||e=="joined"||e=="mine"||e=="discover")selink.groupView=new u({type:e}),selink.pageContent.show(selink.groupView);else{var t=new y({_id:e});t.fetch({success:function(){selink.groupDetailView=new a({model:t}),selink.pageContent.show(selink.groupDetailView)}})}},showPeopleView:function(e){selink.peopleView=new f({type:e}),selink.pageContent.show(selink.peopleView)},showBookmarkView:function(){selink.bookmarkView=new c({sort:!1}),selink.pageContent.show(selink.bookmarkView)},showCalendarView:function(){selink.calendarView=new h,selink.pageContent.show(selink.calendarView)},showActivityView:function(){selink.activityView=new p,selink.pageContent.show(selink.activityView)},showNotificationView:function(){selink.notificationView=new d,selink.pageContent.show(selink.notificationView)},showMailBoxView:function(){selink.mailboxView=new v,selink.pageContent.show(selink.mailboxView)}})}),define("app",["common/model/user","engineer/router/router","engineer/controller/controller"],function(e,t,n){window.selink=new Backbone.Marionette.Application,selink.addRegions({pageContent:".page-content",topnavArea:"#navbar-container",sidenavArea:"#sidebar",modalArea:"#modal-area"}),selink.on("before:start",function(e){Backbone.Marionette.TemplateCache.prototype.loadTemplate=function(e){var t=e;if(!t||t.length===0){var n="Could not find template: '"+e+"'",r=new Error(n);throw r.name="NoTemplateError",r}return t},moment.lang("ja",{calendar:{sameDay:"[] H:mm",nextDay:"[] H:mm",nextWeek:"[]dddd H:mm",lastDay:"[] H:mm",lastWeek:"[]dddd H:mm",sameElse:"L"}}),_.extend(Backbone.Validation.validators,{dateJa:function(e,t,n,r){if(e&&!moment(e,"YYYY/MM/DD").isValid())return""},datetimeJa:function(e,t,n,r){if(e&&!moment(e).isValid())return""}}),$.extend($.gritter.options,{position:"bottom-right",sticky:!1,time:3e3,before_open:function(){if($(".gritter-item-wrapper").length>=3)return!1}}),$("html").niceScroll({horizrailenabled:!1}),$("body").bind("click",r)}),selink.addInitializer(function(r){var i=this;this.user=new e({_id:$("#info-base").data("id")}),this.user.fetch({success:function(){i.controller=new n,i.router=new t({controller:i.controller}),Backbone.history.start()},error:function(){}}),this.socket=io.connect("/"),this.socket.on("message",function(e){$.gritter.add({title:e.title,text:e.msg,class_name:"gritter-success"})}),this.socket.on("user-login",function(e){$.gritter.add({title:e.firstName+" "+e.lastName,text:"",image:e.photo,class_name:"gritter-success"})}),this.socket.on("no-session",function(e){$.gritter.add({title:"",text:"",class_name:"gritter-error"})})});var r=function(e){var t=$(e.target),n,r=[".editable-container",".ui-datepicker-header",".datepicker",".modal-backdrop",".bootstrap-wysihtml5-insert-image-modal",".bootstrap-wysihtml5-insert-link-modal"];if(!$.contains(document.documentElement,e.target))return;if(t.is(document))return;for(n=0;n<r.length;n++)if(t.is(r[n])||t.parents(r[n]).length)return;i(e.target)},i=function(e){$(".sl-editor-open").each(function(t,n){var r=$(n);if(n===e||r.find(e).length)return;if(r.hasClass("has-error")||r.find(".form-group").hasClass("has-error"))return;r.find(".sl-editor").slideUp("fast",function(){r.find(".sl-value").fadeIn("fast")}),r.removeClass("sl-editor-open")})};return selink}),require.config({baseUrl:"/js",paths:{jquery:"lib/jquery","jquery-ui":"lib/jquery-ui.custom",bootstrap:"lib/bootstrap",underscore:"lib/underscore","underscore.string":"lib/underscore.string",backbone:"lib/backbone",marionette:"lib/backbone.marionette","backbone.wreqr":"lib/backbone.wreqr","backbone.babysitter":"lib/backbone.babysitter","backbone.validation":"lib/backbone.validation","deep-model":"lib/deep-model",text:"lib/text",ace:"lib/ace","ace-extra":"lib/ace-extra","ace-element":"lib/ace-elements","pie-chart":"lib/jquery.easypiechart","full-calendar":"lib/fullcalendar","google-calendar":"lib/gcal","datepicker-locale":"lib/date-time/locales/bootstrap-datepicker.ja",datepicker:"lib/date-time/bootstrap-datepicker",timepicker:"lib/date-time/bootstrap-timepicker",moment:"lib/date-time/moment-with-langs",wizard:"lib/fuelux/fuelux.wizard","jquery.ui.widget":"lib/jquery.ui.widget",iframetransport:"lib/jquery.iframe-transport",fileupload:"lib/jquery.fileupload",jcrop:"lib/jquery.Jcrop",maskedinput:"lib/jquery.maskedinput",autosize:"lib/jquery.autosize",chosen:"lib/chosen.jquery",gritter:"lib/jquery.gritter",colorbox:"lib/jquery.colorbox",knob:"lib/jquery.knob",wysiwyg:"lib/bootstrap-wysiwyg",hotkeys:"lib/jquery.hotkeys",bridget:"lib/jquery.bridget",imagesloaded:"lib/imagesloaded.pkgd",isotope:"lib/isotope.pkgd",nicescroll:"lib/jquery.nicescroll","infinite-scroll":"lib/jquery.infinitescroll",tag:"lib/bootstrap-tag",typeahead:"lib/typeahead.bundle",selink:"lib/selink","socket.io":"lib/socket.io",app:"engineer/engineer"},shim:{"jquery-ui":{deps:["jquery"]},bootstrap:{deps:["jquery"]},underscore:{exports:"_"},"underscore.string":{deps:["underscore"]},backbone:{deps:["jquery","underscore"],exports:"Backbone"},"deep-model":{deps:["backbone"]},"ace-extra":{deps:["jquery"]},ace:{deps:["ace-extra"]},"ace-element":{deps:["ace"]},"pie-chart":{deps:["jquery"]},"full-calendar":{deps:["jquery"]},"google-calendar":{deps:["full-calendar"]},datepicker:{deps:["jquery"]},"datepicker-locale":{deps:["bootstrap","datepicker"]},timepicker:{deps:["jquery"]},wizard:{deps:["bootstrap"]},fileupload:{deps:["jquery","jquery.ui.widget","iframetransport"]},jcrop:{deps:["jquery"]},maskedinput:{deps:["jquery"]},autosize:{deps:["jquery"]},chosen:{deps:["jquery"]},gritter:{deps:["ace"]},colorbox:{deps:["jquery"]},knob:{deps:["jquery"]},hotkeys:{deps:["jquery"]},wysiwyg:{deps:["bootstrap","hotkeys"]},bridget:{deps:["jquery"]},imagesloaded:{deps:["jquery"]},isotope:{deps:["jquery","bridget","imagesloaded"]},nicescroll:{deps:["jquery"]},"infinite-scroll":{deps:["jquery"]},tag:{deps:["bootstrap"]},typeahead:{deps:["bootstrap"]},selink:{deps:["jquery"]},app:{deps:["jquery-ui","bootstrap","marionette","underscore.string","deep-model","backbone.validation","ace-element","pie-chart","full-calendar","google-calendar","datepicker-locale","timepicker","moment","wizard","fileupload","jcrop","maskedinput","autosize","chosen","colorbox","gritter","knob","wysiwyg","bridget","imagesloaded","isotope","nicescroll","infinite-scroll","tag","typeahead","selink","socket.io"]}}}),require(["deep-model","marionette","moment","backbone.validation","pie-chart","fileupload","autosize","bridget","imagesloaded","isotope","nicescroll","app"],function(e,t,n,r,i,s,o,u,a,f,l,c){$.bridget("isotope",f),c.start()}),define("engineer/boot",function(){});